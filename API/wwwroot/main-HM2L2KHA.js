import{a as AE}from"./chunk-3FUPWI55.js";import{a as zn,b as WO}from"./chunk-IGMUZ5GM.js";import{a as Ue,b as Xt,c as t1,d as li,e as $O,f as zO,g as n1,h as IE,i as Si}from"./chunk-P2VZOJAX.js";function Bv(t,n){n||(n={});var e=bN();e.p(t);var i=P$(t,n,n.dictionary?6:2,4);return O$(i,n),wN(i,i.length-4,e.d()),i}var Ns,ko,AC,TC,NC,uN,pN,mN,M$,DC,gN,zae,dN,MC,qa,Pn,ap,nu,Pn,Pn,Pn,Pn,Vv,Pn,I$,A$,vN,T$,Ga,op,xC,IC,fN,sp,yN,hN,N$,_N,k$,bN,P$,wN,O$,R$,j$,CN=li(()=>{"use strict";Ns=Uint8Array,ko=Uint16Array,AC=Int32Array,TC=new Ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),NC=new Ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uN=new Ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pN=function(t,n){for(var e=new ko(31),i=0;i<31;++i)e[i]=n+=1<<t[i-1];for(var r=new AC(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return{b:e,r}},mN=pN(TC,2),M$=mN.b,DC=mN.r;M$[28]=258,DC[258]=28;gN=pN(NC,0),zae=gN.b,dN=gN.r,MC=new ko(32768);for(Pn=0;Pn<32768;++Pn)qa=(Pn&43690)>>1|(Pn&21845)<<1,qa=(qa&52428)>>2|(qa&13107)<<2,qa=(qa&61680)>>4|(qa&3855)<<4,MC[Pn]=((qa&65280)>>8|(qa&255)<<8)>>1;ap=function(t,n,e){for(var i=t.length,r=0,o=new ko(n);r<i;++r)t[r]&&++o[t[r]-1];var s=new ko(n);for(r=1;r<n;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(e){a=new ko(1<<n);var l=15-n;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],d=n-t[r],p=s[t[r]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)a[MC[p]>>l]=c}else for(a=new ko(i),r=0;r<i;++r)t[r]&&(a[r]=MC[s[t[r]-1]++]>>15-t[r]);return a},nu=new Ns(288);for(Pn=0;Pn<144;++Pn)nu[Pn]=8;for(Pn=144;Pn<256;++Pn)nu[Pn]=9;for(Pn=256;Pn<280;++Pn)nu[Pn]=7;for(Pn=280;Pn<288;++Pn)nu[Pn]=8;Vv=new Ns(32);for(Pn=0;Pn<32;++Pn)Vv[Pn]=5;I$=ap(nu,9,0),A$=ap(Vv,5,0),vN=function(t){return(t+7)/8|0},T$=function(t,n,e){return(n==null||n<0)&&(n=0),(e==null||e>t.length)&&(e=t.length),new Ns(t.subarray(n,e))},Ga=function(t,n,e){e<<=n&7;var i=n/8|0;t[i]|=e,t[i+1]|=e>>8},op=function(t,n,e){e<<=n&7;var i=n/8|0;t[i]|=e,t[i+1]|=e>>8,t[i+2]|=e>>16},xC=function(t,n){for(var e=[],i=0;i<t.length;++i)t[i]&&e.push({s:i,f:t[i]});var r=e.length,o=e.slice();if(!r)return{t:_N,l:0};if(r==1){var s=new Ns(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(oe,ve){return oe.f-ve.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,d=1,p=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=r-1;)a=e[e[c].f<e[p].f?c++:p++],l=e[c!=d&&e[c].f<e[p].f?c++:p++],e[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=o[0].s,i=1;i<r;++i)o[i].s>g&&(g=o[i].s);var h=new ko(g+1),b=IC(e[d-1],h,0);if(b>n){var i=0,w=0,E=b-n,S=1<<E;for(o.sort(function(ve,he){return h[he.s]-h[ve.s]||ve.f-he.f});i<r;++i){var O=o[i].s;if(h[O]>n)w+=S-(1<<b-h[O]),h[O]=n;else break}for(w>>=E;w>0;){var R=o[i].s;h[R]<n?w-=1<<n-h[R]++-1:++i}for(;i>=0&&w;--i){var j=o[i].s;h[j]==n&&(--h[j],++w)}b=n}return{t:new Ns(h),l:b}},IC=function(t,n,e){return t.s==-1?Math.max(IC(t.l,n,e+1),IC(t.r,n,e+1)):n[t.s]=e},fN=function(t){for(var n=t.length;n&&!t[--n];);for(var e=new ko(++n),i=0,r=t[0],o=1,s=function(l){e[i++]=l},a=1;a<=n;++a)if(t[a]==r&&a!=n)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=t[a]}return{c:e.subarray(0,i),n}},sp=function(t,n){for(var e=0,i=0;i<n.length;++i)e+=t[i]*n[i];return e},yN=function(t,n,e){var i=e.length,r=vN(n+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var o=0;o<i;++o)t[r+o+4]=e[o];return(r+4+i)*8},hN=function(t,n,e,i,r,o,s,a,l,c,d){Ga(n,d++,e),++r[256];for(var p=xC(r,15),g=p.t,h=p.l,b=xC(o,15),w=b.t,E=b.l,S=fN(g),O=S.c,R=S.n,j=fN(w),oe=j.c,ve=j.n,he=new ko(19),X=0;X<O.length;++X)++he[O[X]&31];for(var X=0;X<oe.length;++X)++he[oe[X]&31];for(var F=xC(he,7),ie=F.t,T=F.l,k=19;k>4&&!ie[uN[k-1]];--k);var U=c+5<<3,G=sp(r,nu)+sp(o,Vv)+s,pe=sp(r,g)+sp(o,w)+s+14+3*k+sp(he,ie)+2*he[16]+3*he[17]+7*he[18];if(l>=0&&U<=G&&U<=pe)return yN(n,d,t.subarray(l,l+c));var W,$,V,B;if(Ga(n,d,1+(pe<G)),d+=2,pe<G){W=ap(g,h,0),$=g,V=ap(w,E,0),B=w;var de=ap(ie,T,0);Ga(n,d,R-257),Ga(n,d+5,ve-1),Ga(n,d+10,k-4),d+=14;for(var X=0;X<k;++X)Ga(n,d+3*X,ie[uN[X]]);d+=3*k;for(var ce=[O,oe],M=0;M<2;++M)for(var z=ce[M],X=0;X<z.length;++X){var q=z[X]&31;Ga(n,d,de[q]),d+=ie[q],q>15&&(Ga(n,d,z[X]>>5&127),d+=z[X]>>12)}}else W=I$,$=nu,V=A$,B=Vv;for(var X=0;X<a;++X){var re=i[X];if(re>255){var q=re>>18&31;op(n,d,W[q+257]),d+=$[q+257],q>7&&(Ga(n,d,re>>23&31),d+=TC[q]);var ue=re&31;op(n,d,V[ue]),d+=B[ue],ue>3&&(op(n,d,re>>5&8191),d+=NC[ue])}else op(n,d,W[re]),d+=$[re]}return op(n,d,W[256]),d+$[256]},N$=new AC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_N=new Ns(0),k$=function(t,n,e,i,r,o){var s=o.z||t.length,a=new Ns(i+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(i,a.length-r),c=o.l,d=(o.r||0)&7;if(n){d&&(l[0]=o.r>>3);for(var p=N$[n-1],g=p>>13,h=p&8191,b=(1<<e)-1,w=o.p||new ko(32768),E=o.h||new ko(b+1),S=Math.ceil(e/3),O=2*S,R=function(Ae){return(t[Ae]^t[Ae+1]<<S^t[Ae+2]<<O)&b},j=new AC(25e3),oe=new ko(288),ve=new ko(32),he=0,X=0,F=o.i||0,ie=0,T=o.w||0,k=0;F+2<s;++F){var U=R(F),G=F&32767,pe=E[U];if(w[G]=pe,E[U]=G,T<=F){var W=s-F;if((he>7e3||ie>24576)&&(W>423||!c)){d=hN(t,l,0,j,oe,ve,X,ie,k,F-k,d),ie=he=X=0,k=F;for(var $=0;$<286;++$)oe[$]=0;for(var $=0;$<30;++$)ve[$]=0}var V=2,B=0,de=h,ce=G-pe&32767;if(W>2&&U==R(F-ce))for(var M=Math.min(g,W)-1,z=Math.min(32767,F),q=Math.min(258,W);ce<=z&&--de&&G!=pe;){if(t[F+V]==t[F+V-ce]){for(var re=0;re<q&&t[F+re]==t[F+re-ce];++re);if(re>V){if(V=re,B=ce,re>M)break;for(var ue=Math.min(ce,re-2),me=0,$=0;$<ue;++$){var Ce=F-ce+$&32767,we=w[Ce],xe=Ce-we&32767;xe>me&&(me=xe,pe=Ce)}}}G=pe,pe=w[G],ce+=G-pe&32767}if(B){j[ie++]=268435456|DC[V]<<18|dN[B];var Pe=DC[V]&31,Ge=dN[B]&31;X+=TC[Pe]+NC[Ge],++oe[257+Pe],++ve[Ge],T=F+V,++he}else j[ie++]=t[F],++oe[t[F]]}}for(F=Math.max(F,T);F<s;++F)j[ie++]=t[F],++oe[t[F]];d=hN(t,l,c,j,oe,ve,X,ie,k,F-k,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=E,o.p=w,o.i=F,o.w=T)}else{for(var F=o.w||0;F<s+c;F+=65535){var Je=F+65535;Je>=s&&(l[d/8|0]=c,Je=s),d=yN(l,d+1,t.subarray(F,Je))}o.i=s}return T$(a,0,i+vN(d)+r)},bN=function(){var t=1,n=0;return{p:function(e){for(var i=t,r=n,o=e.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)r+=i+=e[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,n=r},d:function(){return t%=65521,n%=65521,(t&255)<<24|(t&65280)<<8|(n&255)<<8|n>>8}}},P$=function(t,n,e,i,r){if(!r&&(r={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),s=new Ns(o.length+t.length);s.set(o),s.set(t,o.length),t=s,r.w=o.length}return k$(t,n.level==null?6:n.level,n.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+n.mem,e,i,r)},wN=function(t,n,e){for(;e;++n)t[n]=e,e>>>=8},O$=function(t,n){var e=n.level,i=e==0?0:e<6?1:e==9?3:2;if(t[0]=120,t[1]=i<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var r=bN();r.p(n.dictionary),wN(t,2,r.d())}};R$=typeof TextDecoder<"u"&&new TextDecoder,j$=0;try{R$.decode(_N,{stream:!0}),j$=1}catch{}});function SN(t){if(Array.isArray(t))return t}var EN=li(()=>{"use strict"});function xN(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(e=e.call(t)).next,n===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=o.call(e)).done)&&(a.push(i.value),a.length!==n);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}var DN=li(()=>{"use strict"});function kC(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}var MN=li(()=>{"use strict"});function IN(t,n){if(t){if(typeof t=="string")return kC(t,n);var e={}.toString.call(t).slice(8,-1);return e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set"?Array.from(t):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?kC(t,n):void 0}}var AN=li(()=>{"use strict";MN()});function TN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var NN=li(()=>{"use strict"});function PC(t,n){return SN(t)||xN(t,n)||IN(t,n)||TN()}var kN=li(()=>{"use strict";EN();DN();AN();NN()});function OC(t,n="utf8"){return new TextDecoder(n).decode(t)}function PN(t){return F$.encode(t)}var F$,ON=li(()=>{"use strict";F$=new TextEncoder});var L$,V$,RC,lp,jC=li(()=>{"use strict";ON();L$=1024*8,V$=(()=>{let t=new Uint8Array(4),n=new Uint32Array(t.buffer);return!((n[0]=1)&t[0])})(),RC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},lp=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=L$,e={}){let i=!1;typeof n=="number"?n=new ArrayBuffer(n):(i=!0,this.lastWrittenByte=n.byteLength);let r=e.offset?e.offset>>>0:0,o=n.byteLength-r,s=r;(ArrayBuffer.isView(n)||n instanceof t)&&(n.byteLength!==n.buffer.byteLength&&(s=n.byteOffset+r),n=n.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=n,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){let i=(this.offset+n)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,e){let i=RC[e].BYTES_PER_ELEMENT*n,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+i);if(this.littleEndian===V$&&e!=="uint8"&&e!=="int8"){let a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();let l=new RC[e](a.buffer);return this.offset+=i,l.reverse(),l}let s=new RC[e](o);return this.offset+=i,s}readInt16(){let n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){let n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){let n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){let n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){let n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){let n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){let n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){let n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let e="";for(let i=0;i<n;i++)e+=this.readChar();return e}readUtf8(n=1){return OC(this.readBytes(n))}decodeText(n=1,e="utf8"){return OC(this.readBytes(n),e)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let e=0;e<n.length;e++)this._data.setUint8(this.offset++,n[e]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let e=0;e<n.length;e++)this.writeUint8(n.charCodeAt(e));return this}writeUtf8(n){return this.writeBytes(PN(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}});function Yd(t){let n=t.length;for(;--n>=0;)t[n]=0}function LC(t,n,e,i,r){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function VC(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}function ra(t,n,e,i,r){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=i,this.func=r}function Uz(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Zv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(kz*2),this.dyn_dtree=new Uint16Array((2*Tz+1)*2),this.bl_tree=new Uint16Array((2*Nz+1)*2),$l(this.dyn_ltree),$l(this.dyn_dtree),$l(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Pz+1),this.heap=new Uint16Array(2*eS+1),$l(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*eS+1),$l(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function cW(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function xp(t){this.options=Qv.assign({level:mW,method:vW,chunkSize:16384,windowBits:15,memLevel:8,strategy:gW},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B3,this.strm.avail_out=0;let e=hp.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==Kv)throw new Error(su[e]);if(n.header&&hp.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=wp.string2buf(n.dictionary):U3.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,e=hp.deflateSetDictionary(this.strm,i),e!==Kv)throw new Error(su[e]);this._dict_set=!0}}function dS(t,n){let e=new xp(n);if(e.push(t,!0),e.err)throw e.msg||su[e.err];return e.result}function yW(t,n){return n=n||{},n.raw=!0,dS(t,n)}function _W(t,n){return n=n||{},n.gzip=!0,dS(t,n)}function HW(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function Dp(t){this.options=Qv.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new B3,this.strm.avail_out=0;let e=Za.inflateInit2(this.strm,n.windowBits);if(e!==Cp)throw new Error(su[e]);if(this.header=new sq,Za.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=wp.string2buf(n.dictionary):J3.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=Za.inflateSetDictionary(this.strm,n.dictionary),e!==Cp)))throw new Error(su[e])}function fS(t,n){let e=new Dp(n);if(e.push(t),e.err)throw e.msg||su[e.err];return e.result}function dq(t,n){return n=n||{},n.raw=!0,fS(t,n)}var B$,_3,U$,H$,$$,sS,Sp,mp,qd,aS,b3,iu,FC,z$,lS,w3,C3,S3,QC,qv,W$,E3,q$,Ya,fp,gp,vp,cS,Gv,x3,D3,M3,I3,yp,ao,oa,A3,G$,K$,T3,Y$,N3,k3,RN,BC,jN,XC,FN,LN,Z$,Q$,X$,VN,J$,P3,ez,tz,nz,iz,rz,oz,sz,az,lz,cz,_p,uz,dz,fz,mr,su,Zd,hz,JC,pz,Wl,mz,ql,gz,vz,is,BN,Sr,UN,sa,yz,UC,_z,bz,Uv,wz,Cz,Sz,Ez,Zv,xz,Dz,Mz,Iz,Az,eS,Tz,Nz,kz,Pz,Cn,zl,aa,Oz,Gd,uS,tS,nS,iS,rS,ru,up,Gr,Qd,au,Xd,Rz,ou,HN,$l,jz,Fz,Gl,Po,Oo,On,cp,oS,O3,Kd,R3,HC,zd,Lz,Vz,dp,Bz,Ep,j3,F3,Hz,L3,$z,zz,Wz,qz,Gz,Kz,Yz,Zz,Qz,Xz,Jz,eW,tW,hp,nW,iW,rW,Qv,V3,bp,oW,sW,aW,lW,wp,B3,U3,uW,dW,fW,hW,Kv,pW,mW,gW,vW,bW,wW,CW,SW,EW,xW,Hv,DW,MW,Wd,$N,zN,WN,$C,qN,IW,AW,TW,NW,kW,pp,PW,H3,$3,GN,OW,$v,lu,RW,jW,rs,z3,W3,FW,KN,Xv,YN,ZN,QN,XN,JN,e3,t3,n3,i3,Yv,Ka,zC,r3,WC,o3,s3,a3,l3,zv,Wv,c3,u3,d3,f3,h3,qC,p3,m3,pi,q3,G3,LW,VW,BW,UW,g3,cu,K3,Y3,Z3,Q3,$W,v3,GC,KC,zW,X3,WW,qW,GW,KW,YW,ZW,QW,XW,JW,eq,tq,nq,iq,rq,Za,sq,J3,aq,lq,Cp,YC,ZC,cq,y3,uq,fq,hq,pq,mq,gq,vq,sle,ale,lle,cle,yq,_q,ule,dle,hS,ek,pS=li(()=>{"use strict";B$=0,_3=1,U$=2,H$=3,$$=258,sS=29,Sp=256,mp=Sp+1+sS,qd=30,aS=19,b3=2*mp+1,iu=15,FC=16,z$=7,lS=256,w3=16,C3=17,S3=18,QC=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),W$=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),E3=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q$=512,Ya=new Array((mp+2)*2);Yd(Ya);fp=new Array(qd*2);Yd(fp);gp=new Array(q$);Yd(gp);vp=new Array($$-H$+1);Yd(vp);cS=new Array(sS);Yd(cS);Gv=new Array(qd);Yd(Gv);I3=t=>t<256?gp[t]:gp[256+(t>>>7)],yp=(t,n)=>{t.pending_buf[t.pending++]=n&255,t.pending_buf[t.pending++]=n>>>8&255},ao=(t,n,e)=>{t.bi_valid>FC-e?(t.bi_buf|=n<<t.bi_valid&65535,yp(t,t.bi_buf),t.bi_buf=n>>FC-t.bi_valid,t.bi_valid+=e-FC):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)},oa=(t,n,e)=>{ao(t,e[n*2],e[n*2+1])},A3=(t,n)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--n>0);return e>>>1},G$=t=>{t.bi_valid===16?(yp(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},K$=(t,n)=>{let e=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,o=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,a=n.stat_desc.extra_base,l=n.stat_desc.max_length,c,d,p,g,h,b,w=0;for(g=0;g<=iu;g++)t.bl_count[g]=0;for(e[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<b3;c++)d=t.heap[c],g=e[e[d*2+1]*2+1]+1,g>l&&(g=l,w++),e[d*2+1]=g,!(d>i)&&(t.bl_count[g]++,h=0,d>=a&&(h=s[d-a]),b=e[d*2],t.opt_len+=b*(g+h),o&&(t.static_len+=b*(r[d*2+1]+h)));if(w!==0){do{for(g=l-1;t.bl_count[g]===0;)g--;t.bl_count[g]--,t.bl_count[g+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(g=l;g!==0;g--)for(d=t.bl_count[g];d!==0;)p=t.heap[--c],!(p>i)&&(e[p*2+1]!==g&&(t.opt_len+=(g-e[p*2+1])*e[p*2],e[p*2+1]=g),d--)}},T3=(t,n,e)=>{let i=new Array(iu+1),r=0,o,s;for(o=1;o<=iu;o++)r=r+e[o-1]<<1,i[o]=r;for(s=0;s<=n;s++){let a=t[s*2+1];a!==0&&(t[s*2]=A3(i[a]++,a))}},Y$=()=>{let t,n,e,i,r,o=new Array(iu+1);for(e=0,i=0;i<sS-1;i++)for(cS[i]=e,t=0;t<1<<QC[i];t++)vp[e++]=i;for(vp[e-1]=i,r=0,i=0;i<16;i++)for(Gv[i]=r,t=0;t<1<<qv[i];t++)gp[r++]=i;for(r>>=7;i<qd;i++)for(Gv[i]=r<<7,t=0;t<1<<qv[i]-7;t++)gp[256+r++]=i;for(n=0;n<=iu;n++)o[n]=0;for(t=0;t<=143;)Ya[t*2+1]=8,t++,o[8]++;for(;t<=255;)Ya[t*2+1]=9,t++,o[9]++;for(;t<=279;)Ya[t*2+1]=7,t++,o[7]++;for(;t<=287;)Ya[t*2+1]=8,t++,o[8]++;for(T3(Ya,mp+1,o),t=0;t<qd;t++)fp[t*2+1]=5,fp[t*2]=A3(t,5);x3=new LC(Ya,QC,Sp+1,mp,iu),D3=new LC(fp,qv,0,qd,iu),M3=new LC(new Array(0),W$,0,aS,z$)},N3=t=>{let n;for(n=0;n<mp;n++)t.dyn_ltree[n*2]=0;for(n=0;n<qd;n++)t.dyn_dtree[n*2]=0;for(n=0;n<aS;n++)t.bl_tree[n*2]=0;t.dyn_ltree[lS*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},k3=t=>{t.bi_valid>8?yp(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},RN=(t,n,e,i)=>{let r=n*2,o=e*2;return t[r]<t[o]||t[r]===t[o]&&i[n]<=i[e]},BC=(t,n,e)=>{let i=t.heap[e],r=e<<1;for(;r<=t.heap_len&&(r<t.heap_len&&RN(n,t.heap[r+1],t.heap[r],t.depth)&&r++,!RN(n,i,t.heap[r],t.depth));)t.heap[e]=t.heap[r],e=r,r<<=1;t.heap[e]=i},jN=(t,n,e)=>{let i,r,o=0,s,a;if(t.sym_next!==0)do i=t.pending_buf[t.sym_buf+o++]&255,i+=(t.pending_buf[t.sym_buf+o++]&255)<<8,r=t.pending_buf[t.sym_buf+o++],i===0?oa(t,r,n):(s=vp[r],oa(t,s+Sp+1,n),a=QC[s],a!==0&&(r-=cS[s],ao(t,r,a)),i--,s=I3(i),oa(t,s,e),a=qv[s],a!==0&&(i-=Gv[s],ao(t,i,a)));while(o<t.sym_next);oa(t,lS,n)},XC=(t,n)=>{let e=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,o=n.stat_desc.elems,s,a,l=-1,c;for(t.heap_len=0,t.heap_max=b3,s=0;s<o;s++)e[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):e[s*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,e[c*2]=1,t.depth[c]=0,t.opt_len--,r&&(t.static_len-=i[c*2+1]);for(n.max_code=l,s=t.heap_len>>1;s>=1;s--)BC(t,e,s);c=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],BC(t,e,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,e[c*2]=e[s*2]+e[a*2],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,e[s*2+1]=e[a*2+1]=c,t.heap[1]=c++,BC(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],K$(t,n),T3(e,l,t.bl_count)},FN=(t,n,e)=>{let i,r=-1,o,s=n[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),n[(e+1)*2+1]=65535,i=0;i<=e;i++)o=s,s=n[(i+1)*2+1],!(++a<l&&o===s)&&(a<c?t.bl_tree[o*2]+=a:o!==0?(o!==r&&t.bl_tree[o*2]++,t.bl_tree[w3*2]++):a<=10?t.bl_tree[C3*2]++:t.bl_tree[S3*2]++,a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},LN=(t,n,e)=>{let i,r=-1,o,s=n[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),i=0;i<=e;i++)if(o=s,s=n[(i+1)*2+1],!(++a<l&&o===s)){if(a<c)do oa(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==r&&(oa(t,o,t.bl_tree),a--),oa(t,w3,t.bl_tree),ao(t,a-3,2)):a<=10?(oa(t,C3,t.bl_tree),ao(t,a-3,3)):(oa(t,S3,t.bl_tree),ao(t,a-11,7));a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},Z$=t=>{let n;for(FN(t,t.dyn_ltree,t.l_desc.max_code),FN(t,t.dyn_dtree,t.d_desc.max_code),XC(t,t.bl_desc),n=aS-1;n>=3&&t.bl_tree[E3[n]*2+1]===0;n--);return t.opt_len+=3*(n+1)+5+5+4,n},Q$=(t,n,e,i)=>{let r;for(ao(t,n-257,5),ao(t,e-1,5),ao(t,i-4,4),r=0;r<i;r++)ao(t,t.bl_tree[E3[r]*2+1],3);LN(t,t.dyn_ltree,n-1),LN(t,t.dyn_dtree,e-1)},X$=t=>{let n=4093624447,e;for(e=0;e<=31;e++,n>>>=1)if(n&1&&t.dyn_ltree[e*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(e=32;e<Sp;e++)if(t.dyn_ltree[e*2]!==0)return 1;return 0},VN=!1,J$=t=>{VN||(Y$(),VN=!0),t.l_desc=new VC(t.dyn_ltree,x3),t.d_desc=new VC(t.dyn_dtree,D3),t.bl_desc=new VC(t.bl_tree,M3),t.bi_buf=0,t.bi_valid=0,N3(t)},P3=(t,n,e,i)=>{ao(t,(B$<<1)+(i?1:0),3),k3(t),yp(t,e),yp(t,~e),e&&t.pending_buf.set(t.window.subarray(n,n+e),t.pending),t.pending+=e},ez=t=>{ao(t,_3<<1,3),oa(t,lS,Ya),G$(t)},tz=(t,n,e,i)=>{let r,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=X$(t)),XC(t,t.l_desc),XC(t,t.d_desc),s=Z$(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=e+5,e+4<=r&&n!==-1?P3(t,n,e,i):t.strategy===4||o===r?(ao(t,(_3<<1)+(i?1:0),3),jN(t,Ya,fp)):(ao(t,(U$<<1)+(i?1:0),3),Q$(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),jN(t,t.dyn_ltree,t.dyn_dtree)),N3(t),i&&k3(t)},nz=(t,n,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=n,t.pending_buf[t.sym_buf+t.sym_next++]=n>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,n===0?t.dyn_ltree[e*2]++:(t.matches++,n--,t.dyn_ltree[(vp[e]+Sp+1)*2]++,t.dyn_dtree[I3(n)*2]++),t.sym_next===t.sym_end),iz=J$,rz=P3,oz=tz,sz=nz,az=ez,lz={_tr_init:iz,_tr_stored_block:rz,_tr_flush_block:oz,_tr_tally:sz,_tr_align:az},cz=(t,n,e,i)=>{let r=t&65535|0,o=t>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do r=r+n[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0},_p=cz,uz=()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n},dz=new Uint32Array(uz()),fz=(t,n,e,i)=>{let r=dz,o=i+e;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[(t^n[s])&255];return t^-1},mr=fz,su={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:hz,_tr_stored_block:JC,_tr_flush_block:pz,_tr_tally:Wl,_tr_align:mz}=lz,{Z_NO_FLUSH:ql,Z_PARTIAL_FLUSH:gz,Z_FULL_FLUSH:vz,Z_FINISH:is,Z_BLOCK:BN,Z_OK:Sr,Z_STREAM_END:UN,Z_STREAM_ERROR:sa,Z_DATA_ERROR:yz,Z_BUF_ERROR:UC,Z_DEFAULT_COMPRESSION:_z,Z_FILTERED:bz,Z_HUFFMAN_ONLY:Uv,Z_RLE:wz,Z_FIXED:Cz,Z_DEFAULT_STRATEGY:Sz,Z_UNKNOWN:Ez,Z_DEFLATED:Zv}=Zd,xz=9,Dz=15,Mz=8,Iz=29,Az=256,eS=Az+1+Iz,Tz=30,Nz=19,kz=2*eS+1,Pz=15,Cn=3,zl=258,aa=zl+Cn+1,Oz=32,Gd=42,uS=57,tS=69,nS=73,iS=91,rS=103,ru=113,up=666,Gr=1,Qd=2,au=3,Xd=4,Rz=3,ou=(t,n)=>(t.msg=su[n],n),HN=t=>t*2-(t>4?9:0),$l=t=>{let n=t.length;for(;--n>=0;)t[n]=0},jz=t=>{let n,e,i,r=t.w_size;n=t.hash_size,i=n;do e=t.head[--i],t.head[i]=e>=r?e-r:0;while(--n);n=r,i=n;do e=t.prev[--i],t.prev[i]=e>=r?e-r:0;while(--n)},Fz=(t,n,e)=>(n<<t.hash_shift^e)&t.hash_mask,Gl=Fz,Po=t=>{let n=t.state,e=n.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+e),t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,n.pending===0&&(n.pending_out=0))},Oo=(t,n)=>{pz(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,Po(t.strm)},On=(t,n)=>{t.pending_buf[t.pending++]=n},cp=(t,n)=>{t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=n&255},oS=(t,n,e,i)=>{let r=t.avail_in;return r>i&&(r=i),r===0?0:(t.avail_in-=r,n.set(t.input.subarray(t.next_in,t.next_in+r),e),t.state.wrap===1?t.adler=_p(t.adler,n,r,e):t.state.wrap===2&&(t.adler=mr(t.adler,n,r,e)),t.next_in+=r,t.total_in+=r,r)},O3=(t,n)=>{let e=t.max_chain_length,i=t.strstart,r,o,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-aa?t.strstart-(t.w_size-aa):0,c=t.window,d=t.w_mask,p=t.prev,g=t.strstart+zl,h=c[i+s-1],b=c[i+s];t.prev_length>=t.good_match&&(e>>=2),a>t.lookahead&&(a=t.lookahead);do if(r=n,!(c[r+s]!==b||c[r+s-1]!==h||c[r]!==c[i]||c[++r]!==c[i+1])){i+=2,r++;do;while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<g);if(o=zl-(g-i),i=g-zl,o>s){if(t.match_start=n,s=o,o>=a)break;h=c[i+s-1],b=c[i+s]}}while((n=p[n&d])>l&&--e!==0);return s<=t.lookahead?s:t.lookahead},Kd=t=>{let n=t.w_size,e,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-aa)&&(t.window.set(t.window.subarray(n,n+n-i),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,t.insert>t.strstart&&(t.insert=t.strstart),jz(t),i+=n),t.strm.avail_in===0)break;if(e=oS(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=e,t.lookahead+t.insert>=Cn)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=Gl(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=Gl(t,t.ins_h,t.window[r+Cn-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<Cn)););}while(t.lookahead<aa&&t.strm.avail_in!==0)},R3=(t,n)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,r,o,s=0,a=t.strm.avail_in;do{if(i=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,r=t.strstart-t.block_start,i>r+t.strm.avail_in&&(i=r+t.strm.avail_in),i>o&&(i=o),i<e&&(i===0&&n!==is||n===ql||i!==r+t.strm.avail_in)))break;s=n===is&&i===r+t.strm.avail_in?1:0,JC(t,0,0,s),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,Po(t.strm),r&&(r>i&&(r=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,i-=r),i&&(oS(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Xd:n!==ql&&n!==is&&t.strm.avail_in===0&&t.strstart===t.block_start?Qd:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(oS(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,e=o>t.w_size?t.w_size:o,r=t.strstart-t.block_start,(r>=e||(r||n===is)&&n!==ql&&t.strm.avail_in===0&&r<=o)&&(i=r>o?o:r,s=n===is&&t.strm.avail_in===0&&i===r?1:0,JC(t,t.block_start,i,s),t.block_start+=i,Po(t.strm)),s?au:Gr)},HC=(t,n)=>{let e,i;for(;;){if(t.lookahead<aa){if(Kd(t),t.lookahead<aa&&n===ql)return Gr;if(t.lookahead===0)break}if(e=0,t.lookahead>=Cn&&(t.ins_h=Gl(t,t.ins_h,t.window[t.strstart+Cn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-aa&&(t.match_length=O3(t,e)),t.match_length>=Cn)if(i=Wl(t,t.strstart-t.match_start,t.match_length-Cn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Cn){t.match_length--;do t.strstart++,t.ins_h=Gl(t,t.ins_h,t.window[t.strstart+Cn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Gl(t,t.ins_h,t.window[t.strstart+1]);else i=Wl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(Oo(t,!1),t.strm.avail_out===0))return Gr}return t.insert=t.strstart<Cn-1?t.strstart:Cn-1,n===is?(Oo(t,!0),t.strm.avail_out===0?au:Xd):t.sym_next&&(Oo(t,!1),t.strm.avail_out===0)?Gr:Qd},zd=(t,n)=>{let e,i,r;for(;;){if(t.lookahead<aa){if(Kd(t),t.lookahead<aa&&n===ql)return Gr;if(t.lookahead===0)break}if(e=0,t.lookahead>=Cn&&(t.ins_h=Gl(t,t.ins_h,t.window[t.strstart+Cn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Cn-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-aa&&(t.match_length=O3(t,e),t.match_length<=5&&(t.strategy===bz||t.match_length===Cn&&t.strstart-t.match_start>4096)&&(t.match_length=Cn-1)),t.prev_length>=Cn&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-Cn,i=Wl(t,t.strstart-1-t.prev_match,t.prev_length-Cn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=Gl(t,t.ins_h,t.window[t.strstart+Cn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Cn-1,t.strstart++,i&&(Oo(t,!1),t.strm.avail_out===0))return Gr}else if(t.match_available){if(i=Wl(t,0,t.window[t.strstart-1]),i&&Oo(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Gr}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Wl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Cn-1?t.strstart:Cn-1,n===is?(Oo(t,!0),t.strm.avail_out===0?au:Xd):t.sym_next&&(Oo(t,!1),t.strm.avail_out===0)?Gr:Qd},Lz=(t,n)=>{let e,i,r,o,s=t.window;for(;;){if(t.lookahead<=zl){if(Kd(t),t.lookahead<=zl&&n===ql)return Gr;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Cn&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+zl;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=zl-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Cn?(e=Wl(t,1,t.match_length-Cn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Wl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(Oo(t,!1),t.strm.avail_out===0))return Gr}return t.insert=0,n===is?(Oo(t,!0),t.strm.avail_out===0?au:Xd):t.sym_next&&(Oo(t,!1),t.strm.avail_out===0)?Gr:Qd},Vz=(t,n)=>{let e;for(;;){if(t.lookahead===0&&(Kd(t),t.lookahead===0)){if(n===ql)return Gr;break}if(t.match_length=0,e=Wl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(Oo(t,!1),t.strm.avail_out===0))return Gr}return t.insert=0,n===is?(Oo(t,!0),t.strm.avail_out===0?au:Xd):t.sym_next&&(Oo(t,!1),t.strm.avail_out===0)?Gr:Qd};dp=[new ra(0,0,0,0,R3),new ra(4,4,8,4,HC),new ra(4,5,16,8,HC),new ra(4,6,32,32,HC),new ra(4,4,16,16,zd),new ra(8,16,32,32,zd),new ra(8,16,128,128,zd),new ra(8,32,128,256,zd),new ra(32,128,258,1024,zd),new ra(32,258,258,4096,zd)],Bz=t=>{t.window_size=2*t.w_size,$l(t.head),t.max_lazy_match=dp[t.level].max_lazy,t.good_match=dp[t.level].good_length,t.nice_match=dp[t.level].nice_length,t.max_chain_length=dp[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Cn-1,t.match_available=0,t.ins_h=0};Ep=t=>{if(!t)return 1;let n=t.state;return!n||n.strm!==t||n.status!==Gd&&n.status!==uS&&n.status!==tS&&n.status!==nS&&n.status!==iS&&n.status!==rS&&n.status!==ru&&n.status!==up?1:0},j3=t=>{if(Ep(t))return ou(t,sa);t.total_in=t.total_out=0,t.data_type=Ez;let n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?uS:n.wrap?Gd:ru,t.adler=n.wrap===2?0:1,n.last_flush=-2,hz(n),Sr},F3=t=>{let n=j3(t);return n===Sr&&Bz(t.state),n},Hz=(t,n)=>Ep(t)||t.state.wrap!==2?sa:(t.state.gzhead=n,Sr),L3=(t,n,e,i,r,o)=>{if(!t)return sa;let s=1;if(n===_z&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>xz||e!==Zv||i<8||i>15||n<0||n>9||o<0||o>Cz||i===8&&s!==1)return ou(t,sa);i===8&&(i=9);let a=new Uz;return t.state=a,a.strm=t,a.status=Gd,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Cn-1)/Cn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=n,a.strategy=o,a.method=e,F3(t)},$z=(t,n)=>L3(t,n,Zv,Dz,Mz,Sz),zz=(t,n)=>{if(Ep(t)||n>BN||n<0)return t?ou(t,sa):sa;let e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===up&&n!==is)return ou(t,t.avail_out===0?UC:sa);let i=e.last_flush;if(e.last_flush=n,e.pending!==0){if(Po(t),t.avail_out===0)return e.last_flush=-1,Sr}else if(t.avail_in===0&&HN(n)<=HN(i)&&n!==is)return ou(t,UC);if(e.status===up&&t.avail_in!==0)return ou(t,UC);if(e.status===Gd&&e.wrap===0&&(e.status=ru),e.status===Gd){let r=Zv+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Uv||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,r|=o<<6,e.strstart!==0&&(r|=Oz),r+=31-r%31,cp(e,r),e.strstart!==0&&(cp(e,t.adler>>>16),cp(e,t.adler&65535)),t.adler=1,e.status=ru,Po(t),e.pending!==0)return e.last_flush=-1,Sr}if(e.status===uS){if(t.adler=0,On(e,31),On(e,139),On(e,8),e.gzhead)On(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),On(e,e.gzhead.time&255),On(e,e.gzhead.time>>8&255),On(e,e.gzhead.time>>16&255),On(e,e.gzhead.time>>24&255),On(e,e.level===9?2:e.strategy>=Uv||e.level<2?4:0),On(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(On(e,e.gzhead.extra.length&255),On(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=mr(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=tS;else if(On(e,0),On(e,0),On(e,0),On(e,0),On(e,0),On(e,e.level===9?2:e.strategy>=Uv||e.level<2?4:0),On(e,Rz),e.status=ru,Po(t),e.pending!==0)return e.last_flush=-1,Sr}if(e.status===tS){if(e.gzhead.extra){let r=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let a=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(t.adler=mr(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=a,Po(t),e.pending!==0)return e.last_flush=-1,Sr;r=0,o-=a}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>r&&(t.adler=mr(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=nS}if(e.status===nS){if(e.gzhead.name){let r=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(t.adler=mr(t.adler,e.pending_buf,e.pending-r,r)),Po(t),e.pending!==0)return e.last_flush=-1,Sr;r=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,On(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>r&&(t.adler=mr(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=iS}if(e.status===iS){if(e.gzhead.comment){let r=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(t.adler=mr(t.adler,e.pending_buf,e.pending-r,r)),Po(t),e.pending!==0)return e.last_flush=-1,Sr;r=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,On(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>r&&(t.adler=mr(t.adler,e.pending_buf,e.pending-r,r))}e.status=rS}if(e.status===rS){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Po(t),e.pending!==0))return e.last_flush=-1,Sr;On(e,t.adler&255),On(e,t.adler>>8&255),t.adler=0}if(e.status=ru,Po(t),e.pending!==0)return e.last_flush=-1,Sr}if(t.avail_in!==0||e.lookahead!==0||n!==ql&&e.status!==up){let r=e.level===0?R3(e,n):e.strategy===Uv?Vz(e,n):e.strategy===wz?Lz(e,n):dp[e.level].func(e,n);if((r===au||r===Xd)&&(e.status=up),r===Gr||r===au)return t.avail_out===0&&(e.last_flush=-1),Sr;if(r===Qd&&(n===gz?mz(e):n!==BN&&(JC(e,0,0,!1),n===vz&&($l(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Po(t),t.avail_out===0))return e.last_flush=-1,Sr}return n!==is?Sr:e.wrap<=0?UN:(e.wrap===2?(On(e,t.adler&255),On(e,t.adler>>8&255),On(e,t.adler>>16&255),On(e,t.adler>>24&255),On(e,t.total_in&255),On(e,t.total_in>>8&255),On(e,t.total_in>>16&255),On(e,t.total_in>>24&255)):(cp(e,t.adler>>>16),cp(e,t.adler&65535)),Po(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Sr:UN)},Wz=t=>{if(Ep(t))return sa;let n=t.state.status;return t.state=null,n===ru?ou(t,yz):Sr},qz=(t,n)=>{let e=n.length;if(Ep(t))return sa;let i=t.state,r=i.wrap;if(r===2||r===1&&i.status!==Gd||i.lookahead)return sa;if(r===1&&(t.adler=_p(t.adler,n,e,0)),i.wrap=0,e>=i.w_size){r===0&&($l(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(n.subarray(e-i.w_size,e),0),n=l,e=i.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=e,t.next_in=0,t.input=n,Kd(i);i.lookahead>=Cn;){let l=i.strstart,c=i.lookahead-(Cn-1);do i.ins_h=Gl(i,i.ins_h,i.window[l+Cn-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=Cn-1,Kd(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Cn-1,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,Sr},Gz=$z,Kz=L3,Yz=F3,Zz=j3,Qz=Hz,Xz=zz,Jz=Wz,eW=qz,tW="pako deflate (from Nodeca project)",hp={deflateInit:Gz,deflateInit2:Kz,deflateReset:Yz,deflateResetKeep:Zz,deflateSetHeader:Qz,deflate:Xz,deflateEnd:Jz,deflateSetDictionary:eW,deflateInfo:tW},nW=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),iW=function(t){let n=Array.prototype.slice.call(arguments,1);for(;n.length;){let e=n.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let i in e)nW(e,i)&&(t[i]=e[i])}}return t},rW=t=>{let n=0;for(let i=0,r=t.length;i<r;i++)n+=t[i].length;let e=new Uint8Array(n);for(let i=0,r=0,o=t.length;i<o;i++){let s=t[i];e.set(s,r),r+=s.length}return e},Qv={assign:iW,flattenChunks:rW},V3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{V3=!1}bp=new Uint8Array(256);for(let t=0;t<256;t++)bp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;bp[254]=bp[254]=1;oW=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let n,e,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)e=t.charCodeAt(r),(e&64512)===55296&&r+1<s&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(a),o=0,r=0;o<a;r++)e=t.charCodeAt(r),(e&64512)===55296&&r+1<s&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?n[o++]=e:e<2048?(n[o++]=192|e>>>6,n[o++]=128|e&63):e<65536?(n[o++]=224|e>>>12,n[o++]=128|e>>>6&63,n[o++]=128|e&63):(n[o++]=240|e>>>18,n[o++]=128|e>>>12&63,n[o++]=128|e>>>6&63,n[o++]=128|e&63);return n},sW=(t,n)=>{if(n<65534&&t.subarray&&V3)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let e="";for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return e},aW=(t,n)=>{let e=n||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,n));let i,r,o=new Array(e*2);for(r=0,i=0;i<e;){let s=t[i++];if(s<128){o[r++]=s;continue}let a=bp[s];if(a>4){o[r++]=65533,i+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&i<e;)s=s<<6|t[i++]&63,a--;if(a>1){o[r++]=65533;continue}s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|s&1023)}return sW(o,r)},lW=(t,n)=>{n=n||t.length,n>t.length&&(n=t.length);let e=n-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?n:e+bp[t[e]]>n?e:n},wp={string2buf:oW,buf2string:aW,utf8border:lW};B3=cW,U3=Object.prototype.toString,{Z_NO_FLUSH:uW,Z_SYNC_FLUSH:dW,Z_FULL_FLUSH:fW,Z_FINISH:hW,Z_OK:Kv,Z_STREAM_END:pW,Z_DEFAULT_COMPRESSION:mW,Z_DEFAULT_STRATEGY:gW,Z_DEFLATED:vW}=Zd;xp.prototype.push=function(t,n){let e=this.strm,i=this.options.chunkSize,r,o;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?hW:uW,typeof t=="string"?e.input=wp.string2buf(t):U3.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(o===dW||o===fW)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=hp.deflate(e,o),r===pW)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=hp.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Kv;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};xp.prototype.onData=function(t){this.chunks.push(t)};xp.prototype.onEnd=function(t){t===Kv&&(this.result=Qv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};bW=xp,wW=dS,CW=yW,SW=_W,EW=Zd,xW={Deflate:bW,deflate:wW,deflateRaw:CW,gzip:SW,constants:EW},Hv=16209,DW=16191,MW=function(n,e){let i,r,o,s,a,l,c,d,p,g,h,b,w,E,S,O,R,j,oe,ve,he,X,F,ie,T=n.state;i=n.next_in,F=n.input,r=i+(n.avail_in-5),o=n.next_out,ie=n.output,s=o-(e-n.avail_out),a=o+(n.avail_out-257),l=T.dmax,c=T.wsize,d=T.whave,p=T.wnext,g=T.window,h=T.hold,b=T.bits,w=T.lencode,E=T.distcode,S=(1<<T.lenbits)-1,O=(1<<T.distbits)-1;e:do{b<15&&(h+=F[i++]<<b,b+=8,h+=F[i++]<<b,b+=8),R=w[h&S];t:for(;;){if(j=R>>>24,h>>>=j,b-=j,j=R>>>16&255,j===0)ie[o++]=R&65535;else if(j&16){oe=R&65535,j&=15,j&&(b<j&&(h+=F[i++]<<b,b+=8),oe+=h&(1<<j)-1,h>>>=j,b-=j),b<15&&(h+=F[i++]<<b,b+=8,h+=F[i++]<<b,b+=8),R=E[h&O];n:for(;;){if(j=R>>>24,h>>>=j,b-=j,j=R>>>16&255,j&16){if(ve=R&65535,j&=15,b<j&&(h+=F[i++]<<b,b+=8,b<j&&(h+=F[i++]<<b,b+=8)),ve+=h&(1<<j)-1,ve>l){n.msg="invalid distance too far back",T.mode=Hv;break e}if(h>>>=j,b-=j,j=o-s,ve>j){if(j=ve-j,j>d&&T.sane){n.msg="invalid distance too far back",T.mode=Hv;break e}if(he=0,X=g,p===0){if(he+=c-j,j<oe){oe-=j;do ie[o++]=g[he++];while(--j);he=o-ve,X=ie}}else if(p<j){if(he+=c+p-j,j-=p,j<oe){oe-=j;do ie[o++]=g[he++];while(--j);if(he=0,p<oe){j=p,oe-=j;do ie[o++]=g[he++];while(--j);he=o-ve,X=ie}}}else if(he+=p-j,j<oe){oe-=j;do ie[o++]=g[he++];while(--j);he=o-ve,X=ie}for(;oe>2;)ie[o++]=X[he++],ie[o++]=X[he++],ie[o++]=X[he++],oe-=3;oe&&(ie[o++]=X[he++],oe>1&&(ie[o++]=X[he++]))}else{he=o-ve;do ie[o++]=ie[he++],ie[o++]=ie[he++],ie[o++]=ie[he++],oe-=3;while(oe>2);oe&&(ie[o++]=ie[he++],oe>1&&(ie[o++]=ie[he++]))}}else if(j&64){n.msg="invalid distance code",T.mode=Hv;break e}else{R=E[(R&65535)+(h&(1<<j)-1)];continue n}break}}else if(j&64)if(j&32){T.mode=DW;break e}else{n.msg="invalid literal/length code",T.mode=Hv;break e}else{R=w[(R&65535)+(h&(1<<j)-1)];continue t}break}}while(i<r&&o<a);oe=b>>3,i-=oe,b-=oe<<3,h&=(1<<b)-1,n.next_in=i,n.next_out=o,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=o<a?257+(a-o):257-(o-a),T.hold=h,T.bits=b},Wd=15,$N=852,zN=592,WN=0,$C=1,qN=2,IW=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),TW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NW=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kW=(t,n,e,i,r,o,s,a)=>{let l=a.bits,c=0,d=0,p=0,g=0,h=0,b=0,w=0,E=0,S=0,O=0,R,j,oe,ve,he,X=null,F,ie=new Uint16Array(Wd+1),T=new Uint16Array(Wd+1),k=null,U,G,pe;for(c=0;c<=Wd;c++)ie[c]=0;for(d=0;d<i;d++)ie[n[e+d]]++;for(h=l,g=Wd;g>=1&&ie[g]===0;g--);if(h>g&&(h=g),g===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<g&&ie[p]===0;p++);for(h<p&&(h=p),E=1,c=1;c<=Wd;c++)if(E<<=1,E-=ie[c],E<0)return-1;if(E>0&&(t===WN||g!==1))return-1;for(T[1]=0,c=1;c<Wd;c++)T[c+1]=T[c]+ie[c];for(d=0;d<i;d++)n[e+d]!==0&&(s[T[n[e+d]]++]=d);if(t===WN?(X=k=s,F=20):t===$C?(X=IW,k=AW,F=257):(X=TW,k=NW,F=0),O=0,d=0,c=p,he=o,b=h,w=0,oe=-1,S=1<<h,ve=S-1,t===$C&&S>$N||t===qN&&S>zN)return 1;for(;;){U=c-w,s[d]+1<F?(G=0,pe=s[d]):s[d]>=F?(G=k[s[d]-F],pe=X[s[d]-F]):(G=96,pe=0),R=1<<c-w,j=1<<b,p=j;do j-=R,r[he+(O>>w)+j]=U<<24|G<<16|pe|0;while(j!==0);for(R=1<<c-1;O&R;)R>>=1;if(R!==0?(O&=R-1,O+=R):O=0,d++,--ie[c]===0){if(c===g)break;c=n[e+s[d]]}if(c>h&&(O&ve)!==oe){for(w===0&&(w=h),he+=p,b=c-w,E=1<<b;b+w<g&&(E-=ie[b+w],!(E<=0));)b++,E<<=1;if(S+=1<<b,t===$C&&S>$N||t===qN&&S>zN)return 1;oe=O&ve,r[oe]=h<<24|b<<16|he-o|0}}return O!==0&&(r[he+O]=c-w<<24|64<<16|0),a.bits=h,0},pp=kW,PW=0,H3=1,$3=2,{Z_FINISH:GN,Z_BLOCK:OW,Z_TREES:$v,Z_OK:lu,Z_STREAM_END:RW,Z_NEED_DICT:jW,Z_STREAM_ERROR:rs,Z_DATA_ERROR:z3,Z_MEM_ERROR:W3,Z_BUF_ERROR:FW,Z_DEFLATED:KN}=Zd,Xv=16180,YN=16181,ZN=16182,QN=16183,XN=16184,JN=16185,e3=16186,t3=16187,n3=16188,i3=16189,Yv=16190,Ka=16191,zC=16192,r3=16193,WC=16194,o3=16195,s3=16196,a3=16197,l3=16198,zv=16199,Wv=16200,c3=16201,u3=16202,d3=16203,f3=16204,h3=16205,qC=16206,p3=16207,m3=16208,pi=16209,q3=16210,G3=16211,LW=852,VW=592,BW=15,UW=BW,g3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);cu=t=>{if(!t)return 1;let n=t.state;return!n||n.strm!==t||n.mode<Xv||n.mode>G3?1:0},K3=t=>{if(cu(t))return rs;let n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=Xv,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(LW),n.distcode=n.distdyn=new Int32Array(VW),n.sane=1,n.back=-1,lu},Y3=t=>{if(cu(t))return rs;let n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,K3(t)},Z3=(t,n)=>{let e;if(cu(t))return rs;let i=t.state;return n<0?(e=0,n=-n):(e=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?rs:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=e,i.wbits=n,Y3(t))},Q3=(t,n)=>{if(!t)return rs;let e=new HW;t.state=e,e.strm=t,e.window=null,e.mode=Xv;let i=Z3(t,n);return i!==lu&&(t.state=null),i},$W=t=>Q3(t,UW),v3=!0,zW=t=>{if(v3){GC=new Int32Array(512),KC=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(pp(H3,t.lens,0,288,GC,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;pp($3,t.lens,0,32,KC,0,t.work,{bits:5}),v3=!1}t.lencode=GC,t.lenbits=9,t.distcode=KC,t.distbits=5},X3=(t,n,e,i)=>{let r,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(n.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(n.subarray(e-i,e-i+r),o.wnext),i-=r,i?(o.window.set(n.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},WW=(t,n)=>{let e,i,r,o,s,a,l,c,d,p,g,h,b,w,E=0,S,O,R,j,oe,ve,he,X,F=new Uint8Array(4),ie,T,k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cu(t)||!t.output||!t.input&&t.avail_in!==0)return rs;e=t.state,e.mode===Ka&&(e.mode=zC),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,c=e.hold,d=e.bits,p=a,g=l,X=lu;e:for(;;)switch(e.mode){case Xv:if(e.wrap===0){e.mode=zC;break}for(;d<16;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,F[0]=c&255,F[1]=c>>>8&255,e.check=mr(e.check,F,2,0),c=0,d=0,e.mode=YN;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",e.mode=pi;break}if((c&15)!==KN){t.msg="unknown compression method",e.mode=pi;break}if(c>>>=4,d-=4,he=(c&15)+8,e.wbits===0&&(e.wbits=he),he>15||he>e.wbits){t.msg="invalid window size",e.mode=pi;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=c&512?i3:Ka,c=0,d=0;break;case YN:for(;d<16;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(e.flags=c,(e.flags&255)!==KN){t.msg="unknown compression method",e.mode=pi;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=pi;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,e.check=mr(e.check,F,2,0)),c=0,d=0,e.mode=ZN;case ZN:for(;d<32;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,e.check=mr(e.check,F,4,0)),c=0,d=0,e.mode=QN;case QN:for(;d<16;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,e.check=mr(e.check,F,2,0)),c=0,d=0,e.mode=XN;case XN:if(e.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,e.check=mr(e.check,F,2,0)),c=0,d=0}else e.head&&(e.head.extra=null);e.mode=JN;case JN:if(e.flags&1024&&(h=e.length,h>a&&(h=a),h&&(e.head&&(he=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+h),he)),e.flags&512&&e.wrap&4&&(e.check=mr(e.check,i,h,o)),a-=h,o+=h,e.length-=h),e.length))break e;e.length=0,e.mode=e3;case e3:if(e.flags&2048){if(a===0)break e;h=0;do he=i[o+h++],e.head&&he&&e.length<65536&&(e.head.name+=String.fromCharCode(he));while(he&&h<a);if(e.flags&512&&e.wrap&4&&(e.check=mr(e.check,i,h,o)),a-=h,o+=h,he)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=t3;case t3:if(e.flags&4096){if(a===0)break e;h=0;do he=i[o+h++],e.head&&he&&e.length<65536&&(e.head.comment+=String.fromCharCode(he));while(he&&h<a);if(e.flags&512&&e.wrap&4&&(e.check=mr(e.check,i,h,o)),a-=h,o+=h,he)break e}else e.head&&(e.head.comment=null);e.mode=n3;case n3:if(e.flags&512){for(;d<16;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(e.wrap&4&&c!==(e.check&65535)){t.msg="header crc mismatch",e.mode=pi;break}c=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Ka;break;case i3:for(;d<32;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}t.adler=e.check=g3(c),c=0,d=0,e.mode=Yv;case Yv:if(e.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=c,e.bits=d,jW;t.adler=e.check=1,e.mode=Ka;case Ka:if(n===OW||n===$v)break e;case zC:if(e.last){c>>>=d&7,d-=d&7,e.mode=qC;break}for(;d<3;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}switch(e.last=c&1,c>>>=1,d-=1,c&3){case 0:e.mode=r3;break;case 1:if(zW(e),e.mode=zv,n===$v){c>>>=2,d-=2;break e}break;case 2:e.mode=s3;break;case 3:t.msg="invalid block type",e.mode=pi}c>>>=2,d-=2;break;case r3:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",e.mode=pi;break}if(e.length=c&65535,c=0,d=0,e.mode=WC,n===$v)break e;case WC:e.mode=o3;case o3:if(h=e.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;r.set(i.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,e.length-=h;break}e.mode=Ka;break;case s3:for(;d<14;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(e.nlen=(c&31)+257,c>>>=5,d-=5,e.ndist=(c&31)+1,c>>>=5,d-=5,e.ncode=(c&15)+4,c>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=pi;break}e.have=0,e.mode=a3;case a3:for(;e.have<e.ncode;){for(;d<3;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}e.lens[k[e.have++]]=c&7,c>>>=3,d-=3}for(;e.have<19;)e.lens[k[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,ie={bits:e.lenbits},X=pp(PW,e.lens,0,19,e.lencode,0,e.work,ie),e.lenbits=ie.bits,X){t.msg="invalid code lengths set",e.mode=pi;break}e.have=0,e.mode=l3;case l3:for(;e.have<e.nlen+e.ndist;){for(;E=e.lencode[c&(1<<e.lenbits)-1],S=E>>>24,O=E>>>16&255,R=E&65535,!(S<=d);){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(R<16)c>>>=S,d-=S,e.lens[e.have++]=R;else{if(R===16){for(T=S+2;d<T;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(c>>>=S,d-=S,e.have===0){t.msg="invalid bit length repeat",e.mode=pi;break}he=e.lens[e.have-1],h=3+(c&3),c>>>=2,d-=2}else if(R===17){for(T=S+3;d<T;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}c>>>=S,d-=S,he=0,h=3+(c&7),c>>>=3,d-=3}else{for(T=S+7;d<T;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}c>>>=S,d-=S,he=0,h=11+(c&127),c>>>=7,d-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=pi;break}for(;h--;)e.lens[e.have++]=he}}if(e.mode===pi)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=pi;break}if(e.lenbits=9,ie={bits:e.lenbits},X=pp(H3,e.lens,0,e.nlen,e.lencode,0,e.work,ie),e.lenbits=ie.bits,X){t.msg="invalid literal/lengths set",e.mode=pi;break}if(e.distbits=6,e.distcode=e.distdyn,ie={bits:e.distbits},X=pp($3,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,ie),e.distbits=ie.bits,X){t.msg="invalid distances set",e.mode=pi;break}if(e.mode=zv,n===$v)break e;case zv:e.mode=Wv;case Wv:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=c,e.bits=d,MW(t,g),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,c=e.hold,d=e.bits,e.mode===Ka&&(e.back=-1);break}for(e.back=0;E=e.lencode[c&(1<<e.lenbits)-1],S=E>>>24,O=E>>>16&255,R=E&65535,!(S<=d);){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(O&&!(O&240)){for(j=S,oe=O,ve=R;E=e.lencode[ve+((c&(1<<j+oe)-1)>>j)],S=E>>>24,O=E>>>16&255,R=E&65535,!(j+S<=d);){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}c>>>=j,d-=j,e.back+=j}if(c>>>=S,d-=S,e.back+=S,e.length=R,O===0){e.mode=h3;break}if(O&32){e.back=-1,e.mode=Ka;break}if(O&64){t.msg="invalid literal/length code",e.mode=pi;break}e.extra=O&15,e.mode=c3;case c3:if(e.extra){for(T=e.extra;d<T;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=u3;case u3:for(;E=e.distcode[c&(1<<e.distbits)-1],S=E>>>24,O=E>>>16&255,R=E&65535,!(S<=d);){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(!(O&240)){for(j=S,oe=O,ve=R;E=e.distcode[ve+((c&(1<<j+oe)-1)>>j)],S=E>>>24,O=E>>>16&255,R=E&65535,!(j+S<=d);){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}c>>>=j,d-=j,e.back+=j}if(c>>>=S,d-=S,e.back+=S,O&64){t.msg="invalid distance code",e.mode=pi;break}e.offset=R,e.extra=O&15,e.mode=d3;case d3:if(e.extra){for(T=e.extra;d<T;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=pi;break}e.mode=f3;case f3:if(l===0)break e;if(h=g-l,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=pi;break}h>e.wnext?(h-=e.wnext,b=e.wsize-h):b=e.wnext-h,h>e.length&&(h=e.length),w=e.window}else w=r,b=s-e.offset,h=e.length;h>l&&(h=l),l-=h,e.length-=h;do r[s++]=w[b++];while(--h);e.length===0&&(e.mode=Wv);break;case h3:if(l===0)break e;r[s++]=e.length,l--,e.mode=Wv;break;case qC:if(e.wrap){for(;d<32;){if(a===0)break e;a--,c|=i[o++]<<d,d+=8}if(g-=l,t.total_out+=g,e.total+=g,e.wrap&4&&g&&(t.adler=e.check=e.flags?mr(e.check,r,g,s-g):_p(e.check,r,g,s-g)),g=l,e.wrap&4&&(e.flags?c:g3(c))!==e.check){t.msg="incorrect data check",e.mode=pi;break}c=0,d=0}e.mode=p3;case p3:if(e.wrap&&e.flags){for(;d<32;){if(a===0)break e;a--,c+=i[o++]<<d,d+=8}if(e.wrap&4&&c!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=pi;break}c=0,d=0}e.mode=m3;case m3:X=RW;break e;case pi:X=z3;break e;case q3:return W3;case G3:default:return rs}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=c,e.bits=d,(e.wsize||g!==t.avail_out&&e.mode<pi&&(e.mode<qC||n!==GN))&&X3(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,e.total+=g,e.wrap&4&&g&&(t.adler=e.check=e.flags?mr(e.check,r,g,t.next_out-g):_p(e.check,r,g,t.next_out-g)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Ka?128:0)+(e.mode===zv||e.mode===WC?256:0),(p===0&&g===0||n===GN)&&X===lu&&(X=FW),X},qW=t=>{if(cu(t))return rs;let n=t.state;return n.window&&(n.window=null),t.state=null,lu},GW=(t,n)=>{if(cu(t))return rs;let e=t.state;return e.wrap&2?(e.head=n,n.done=!1,lu):rs},KW=(t,n)=>{let e=n.length,i,r,o;return cu(t)||(i=t.state,i.wrap!==0&&i.mode!==Yv)?rs:i.mode===Yv&&(r=1,r=_p(r,n,e,0),r!==i.check)?z3:(o=X3(t,n,e,e),o?(i.mode=q3,W3):(i.havedict=1,lu))},YW=Y3,ZW=Z3,QW=K3,XW=$W,JW=Q3,eq=WW,tq=qW,nq=GW,iq=KW,rq="pako inflate (from Nodeca project)",Za={inflateReset:YW,inflateReset2:ZW,inflateResetKeep:QW,inflateInit:XW,inflateInit2:JW,inflate:eq,inflateEnd:tq,inflateGetHeader:nq,inflateSetDictionary:iq,inflateInfo:rq};sq=oq,J3=Object.prototype.toString,{Z_NO_FLUSH:aq,Z_FINISH:lq,Z_OK:Cp,Z_STREAM_END:YC,Z_NEED_DICT:ZC,Z_STREAM_ERROR:cq,Z_DATA_ERROR:y3,Z_MEM_ERROR:uq}=Zd;Dp.prototype.push=function(t,n){let e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,o,s,a;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?lq:aq,J3.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=Za.inflate(e,s),o===ZC&&r&&(o=Za.inflateSetDictionary(e,r),o===Cp?o=Za.inflate(e,s):o===y3&&(o=ZC));e.avail_in>0&&o===YC&&e.state.wrap>0&&t[e.next_in]!==0;)Za.inflateReset(e),o=Za.inflate(e,s);switch(o){case cq:case y3:case ZC:case uq:return this.onEnd(o),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||o===YC))if(this.options.to==="string"){let l=wp.utf8border(e.output,e.next_out),c=e.next_out-l,d=wp.buf2string(e.output,l);e.next_out=c,e.avail_out=i-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Cp&&a===0)){if(o===YC)return o=Za.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Dp.prototype.onData=function(t){this.chunks.push(t)};Dp.prototype.onEnd=function(t){t===Cp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};fq=Dp,hq=fS,pq=dq,mq=fS,gq=Zd,vq={Inflate:fq,inflate:hq,inflateRaw:pq,ungzip:mq,constants:gq},{Deflate:sle,deflate:ale,deflateRaw:lle,gzip:cle}=xW,{Inflate:yq,inflate:_q,inflateRaw:ule,ungzip:dle}=vq,hS=yq,ek=_q});function bq(t,n,e){let i=t;for(let r=0;r<e;r++)i=nk[(i^n[r])&255]^i>>>8;return i}function wq(t,n){return(bq(tk,t,n)^tk)>>>0}function mS(t,n,e){let i=t.readUint32(),r=wq(new Uint8Array(t.buffer,t.byteOffset+t.offset-n-4,n),n);if(r!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${r}`)}var nk,tk,Jv=li(()=>{"use strict";nk=[];for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)n&1?n=3988292384^n>>>1:n=n>>>1;nk[t]=n}tk=4294967295});function ey(t,n,e){for(let i=0;i<e;i++)n[i]=t[i]}function ty(t,n,e,i){let r=0;for(;r<i;r++)n[r]=t[r];for(;r<e;r++)n[r]=t[r]+n[r-i]&255}function ny(t,n,e,i){let r=0;if(e.length===0)for(;r<i;r++)n[r]=t[r];else for(;r<i;r++)n[r]=t[r]+e[r]&255}function iy(t,n,e,i,r){let o=0;if(e.length===0){for(;o<r;o++)n[o]=t[o];for(;o<i;o++)n[o]=t[o]+(n[o-r]>>1)&255}else{for(;o<r;o++)n[o]=t[o]+(e[o]>>1)&255;for(;o<i;o++)n[o]=t[o]+(n[o-r]+e[o]>>1)&255}}function ry(t,n,e,i,r){let o=0;if(e.length===0){for(;o<r;o++)n[o]=t[o];for(;o<i;o++)n[o]=t[o]+n[o-r]&255}else{for(;o<r;o++)n[o]=t[o]+e[o]&255;for(;o<i;o++)n[o]=t[o]+Cq(n[o-r],e[o],e[o-r])&255}}function Cq(t,n,e){let i=t+n-e,r=Math.abs(i-t),o=Math.abs(i-n),s=Math.abs(i-e);return r<=o&&r<=s?t:o<=s?n:e}var gS=li(()=>{"use strict"});function ik(t,n,e,i,r,o){switch(t){case 0:ey(n,e,r);break;case 1:ty(n,e,r,o);break;case 2:ny(n,e,i,r);break;case 3:iy(n,e,i,r,o);break;case 4:ry(n,e,i,r,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}var rk=li(()=>{"use strict";gS()});function ok(t){let{data:n,width:e,height:i,channels:r,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*r,l=new Uint8Array(i*e*a),c=0;for(let d=0;d<7;d++){let p=s[d],g=Math.ceil((e-p.x)/p.xStep),h=Math.ceil((i-p.y)/p.yStep);if(g<=0||h<=0)continue;let b=g*a,w=new Uint8Array(b);for(let E=0;E<h;E++){let S=n[c++],O=n.subarray(c,c+b);c+=b;let R=new Uint8Array(b);ik(S,O,R,w,b,a),w.set(R);for(let j=0;j<g;j++){let oe=p.x+j*p.xStep,ve=p.y+E*p.yStep;if(!(oe>=e||ve>=i))for(let he=0;he<a;he++)l[(ve*e+oe)*a+he]=R[j*a+he]}}}if(o===16){let d=new Uint16Array(l.buffer);if(xq)for(let p=0;p<d.length;p++)d[p]=Dq(d[p]);return d}else return l}function Dq(t){return(t&255)<<8|t>>8&255}var Sq,Eq,xq,sk=li(()=>{"use strict";rk();Sq=new Uint16Array([255]),Eq=new Uint8Array(Sq.buffer),xq=Eq[0]===255});function vS(t){let{data:n,width:e,height:i,channels:r,depth:o}=t,s=Math.ceil(o/8)*r,a=Math.ceil(o/8*r*e),l=new Uint8Array(i*a),c=Tq,d=0,p,g;for(let h=0;h<i;h++){switch(p=n.subarray(d+1,d+1+a),g=l.subarray(h*a,(h+1)*a),n[d]){case 0:ey(p,g,a);break;case 1:ty(p,g,a,s);break;case 2:ny(p,g,c,a);break;case 3:iy(p,g,c,a,s);break;case 4:ry(p,g,c,a,s);break;default:throw new Error(`Unsupported filter: ${n[d]}`)}c=g,d+=a+1}if(o===16){let h=new Uint16Array(l.buffer);if(Aq)for(let b=0;b<h.length;b++)h[b]=Nq(h[b]);return h}else return l}function Nq(t){return(t&255)<<8|t>>8&255}var Mq,Iq,Aq,Tq,ak=li(()=>{"use strict";gS();Mq=new Uint16Array([255]),Iq=new Uint8Array(Mq.buffer),Aq=Iq[0]===255,Tq=new Uint8Array(0)});function yS(t){if(!lk(t.readBytes(oy.length)))throw new Error("wrong PNG signature")}function lk(t){if(t.length<oy.length)return!1;for(let n=0;n<oy.length;n++)if(t[n]!==oy[n])return!1;return!0}var oy,sy=li(()=>{"use strict";oy=Uint8Array.of(137,80,78,71,13,10,26,10)});function Oq(t){if(jq(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}function jq(t){if(!Rq.test(t))throw new Error("invalid latin1 text")}function dk(t,n,e){let i=_S(n);t[i]=Fq(n,e-i.length-1)}function _S(t){for(t.mark();t.readByte()!==Pq;);let n=t.offset;t.reset();let e=uk.decode(t.readBytes(n-t.offset-1));return t.skip(1),Oq(e),e}function Fq(t,n){return uk.decode(t.readBytes(n))}var ck,Pq,uk,Rq,bS=li(()=>{"use strict";Jv();ck="tEXt",Pq=0,uk=new TextDecoder("latin1");Rq=/^[\u0000-\u00FF]*$/});var Kr,Mp,ay,Ip,Ap,ly,wS=li(()=>{"use strict";Kr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Mp={UNKNOWN:-1,DEFLATE:0},ay={UNKNOWN:-1,ADAPTIVE:0},Ip={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ap={NONE:0,BACKGROUND:1,PREVIOUS:2},ly={SOURCE:0,OVER:1}});function Lq(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var cy,fk=li(()=>{"use strict";jC();pS();Jv();sk();ak();sy();bS();wS();cy=class extends lp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,e={}){super(n);let{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new hS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Mp.UNKNOWN,this._filterMethod=ay.UNKNOWN,this._interlaceMethod=Ip.UNKNOWN,this._colorType=Kr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yS(this);!this._end;){let n=this.readUint32(),e=this.readChars(4);this.decodeChunk(n,e)}return this.decodeImage(),this._png}decodeApng(){for(yS(this);!this._end;){let n=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(n,e)}return this.decodeApngImage(),this._apng}decodeChunk(n,e){let i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case ck:dk(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?mS(this,n+4,e):this.skip(4)}decodeApngChunk(n,e){let i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,e),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?mS(this,n+4,e):this.skip(4)}decodeIHDR(){let n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Lq(this.readUint8());let e=this.readUint8();this._colorType=e;let i;switch(e){case Kr.GREYSCALE:i=1;break;case Kr.TRUECOLOUR:i=3;break;case Kr.INDEXED_COLOUR:i=1;break;case Kr.GREYSCALE_ALPHA:i=2;break;case Kr.TRUECOLOUR_ALPHA:i=4;break;case Kr.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Mp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);let e=n/3;this._hasPalette=!0;let i=[];this._palette=i;for(let r=0;r<e;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;let e=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let e=n,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Kr.GREYSCALE:case Kr.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let e=0;e<n/2;e++)this._transparency[e]=this.readUint16();break}case Kr.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let e=0;for(;e<n;e++){let i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case Kr.UNKNOWN:case Kr.GREYSCALE_ALPHA:case Kr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){let e=_S(this),i=this.readUint8();if(i!==Mp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);let r=this.readBytes(n-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:ek(r)}}decodepHYs(){let n=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){let e={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=vS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{let r=this._apng.frames.at(n-1);this.disposeFrame(i,r,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(n,e,i){switch(n.disposeOp){case Ap.NONE:break;case Ap.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){let s=(r*n.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[s+a]=0}break;case Ap.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,e){let i=1<<this._png.depth,r=(o,s)=>{let a=((o+e.yOffset)*this._png.width+e.xOffset+s)*this._png.channels,l=(o*e.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(e.blendOp){case ly.SOURCE:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++)n.data[a+c]=e.data[l+c]}break;case ly.OVER:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++){let d=e.data[l+this._png.channels-1]/i,p=c%(this._png.channels-1)===0?1:e.data[l+c],g=Math.floor(d*p+(1-d)*n.data[a+c]);n.data[a+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ay.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ip.NO_INTERLACE)this._png.data=vS({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ip.ADAM7)this._png.data=ok({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let n=this._inflator.result,e=this._frames.at(-1);e?e.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ap.NONE,blendOp:ly.SOURCE,data:n}),this._inflator=new hS,this._writingDataChunks=!1}}});var hk=li(()=>{"use strict";jC();pS();Jv();sy();bS();wS()});var pk=li(()=>{"use strict"});var mk=li(()=>{"use strict"});function gk(t,n){return new cy(t,n).decode()}var vk=li(()=>{"use strict";fk();hk();sy();pk();mk()});var RS={};zO(RS,{AcroForm:()=>Xq,AcroFormAppearance:()=>ht,AcroFormButton:()=>lr,AcroFormCheckBox:()=>kp,AcroFormChoiceField:()=>fu,AcroFormComboBox:()=>pu,AcroFormEditBox:()=>Tp,AcroFormListBox:()=>hu,AcroFormPasswordField:()=>Pp,AcroFormPushButton:()=>Np,AcroFormRadioButton:()=>mu,AcroFormTextField:()=>Ql,GState:()=>Op,ShadingPattern:()=>Yl,TilingPattern:()=>du,default:()=>Mt,jsPDF:()=>Mt});function CS(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}function SS(t,n,e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){uu(i.response,n,e)},i.onerror=function(){ei.error("could not download file")},i.send()}function yk(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function uy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}function Hk(t){var n;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,o=e[i].process,s=r.exec(t);s&&(n=o(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function ES(t,n){var e=t[0],i=t[1],r=t[2],o=t[3];e=Pr(e,i,r,o,n[0],7,-680876936),o=Pr(o,e,i,r,n[1],12,-389564586),r=Pr(r,o,e,i,n[2],17,606105819),i=Pr(i,r,o,e,n[3],22,-1044525330),e=Pr(e,i,r,o,n[4],7,-176418897),o=Pr(o,e,i,r,n[5],12,1200080426),r=Pr(r,o,e,i,n[6],17,-1473231341),i=Pr(i,r,o,e,n[7],22,-45705983),e=Pr(e,i,r,o,n[8],7,1770035416),o=Pr(o,e,i,r,n[9],12,-1958414417),r=Pr(r,o,e,i,n[10],17,-42063),i=Pr(i,r,o,e,n[11],22,-1990404162),e=Pr(e,i,r,o,n[12],7,1804603682),o=Pr(o,e,i,r,n[13],12,-40341101),r=Pr(r,o,e,i,n[14],17,-1502002290),e=Or(e,i=Pr(i,r,o,e,n[15],22,1236535329),r,o,n[1],5,-165796510),o=Or(o,e,i,r,n[6],9,-1069501632),r=Or(r,o,e,i,n[11],14,643717713),i=Or(i,r,o,e,n[0],20,-373897302),e=Or(e,i,r,o,n[5],5,-701558691),o=Or(o,e,i,r,n[10],9,38016083),r=Or(r,o,e,i,n[15],14,-660478335),i=Or(i,r,o,e,n[4],20,-405537848),e=Or(e,i,r,o,n[9],5,568446438),o=Or(o,e,i,r,n[14],9,-1019803690),r=Or(r,o,e,i,n[3],14,-187363961),i=Or(i,r,o,e,n[8],20,1163531501),e=Or(e,i,r,o,n[13],5,-1444681467),o=Or(o,e,i,r,n[2],9,-51403784),r=Or(r,o,e,i,n[7],14,1735328473),e=Rr(e,i=Or(i,r,o,e,n[12],20,-1926607734),r,o,n[5],4,-378558),o=Rr(o,e,i,r,n[8],11,-2022574463),r=Rr(r,o,e,i,n[11],16,1839030562),i=Rr(i,r,o,e,n[14],23,-35309556),e=Rr(e,i,r,o,n[1],4,-1530992060),o=Rr(o,e,i,r,n[4],11,1272893353),r=Rr(r,o,e,i,n[7],16,-155497632),i=Rr(i,r,o,e,n[10],23,-1094730640),e=Rr(e,i,r,o,n[13],4,681279174),o=Rr(o,e,i,r,n[0],11,-358537222),r=Rr(r,o,e,i,n[3],16,-722521979),i=Rr(i,r,o,e,n[6],23,76029189),e=Rr(e,i,r,o,n[9],4,-640364487),o=Rr(o,e,i,r,n[12],11,-421815835),r=Rr(r,o,e,i,n[15],16,530742520),e=jr(e,i=Rr(i,r,o,e,n[2],23,-995338651),r,o,n[0],6,-198630844),o=jr(o,e,i,r,n[7],10,1126891415),r=jr(r,o,e,i,n[14],15,-1416354905),i=jr(i,r,o,e,n[5],21,-57434055),e=jr(e,i,r,o,n[12],6,1700485571),o=jr(o,e,i,r,n[3],10,-1894986606),r=jr(r,o,e,i,n[10],15,-1051523),i=jr(i,r,o,e,n[1],21,-2054922799),e=jr(e,i,r,o,n[8],6,1873313359),o=jr(o,e,i,r,n[15],10,-30611744),r=jr(r,o,e,i,n[6],15,-1560198380),i=jr(i,r,o,e,n[13],21,1309151649),e=jr(e,i,r,o,n[4],6,-145523070),o=jr(o,e,i,r,n[11],10,-1120210379),r=jr(r,o,e,i,n[2],15,718787259),i=jr(i,r,o,e,n[9],21,-343485551),t[0]=Zl(e,t[0]),t[1]=Zl(i,t[1]),t[2]=Zl(r,t[2]),t[3]=Zl(o,t[3])}function gy(t,n,e,i,r,o){return n=Zl(Zl(n,t),Zl(i,o)),Zl(n<<r|n>>>32-r,e)}function Pr(t,n,e,i,r,o,s){return gy(n&e|~n&i,t,n,r,o,s)}function Or(t,n,e,i,r,o,s){return gy(n&i|e&~i,t,n,r,o,s)}function Rr(t,n,e,i,r,o,s){return gy(n^e^i,t,n,r,o,s)}function jr(t,n,e,i,r,o,s){return gy(e^(n|~i),t,n,r,o,s)}function $k(t){var n,e=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)ES(i,Vq(t.substring(n-64,n)));t=t.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)r[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(ES(i,r),n=0;n<16;n++)r[n]=0;return r[14]=8*e,ES(i,r),i}function Vq(t){var n,e=[];for(n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}function Bq(t){for(var n="",e=0;e<4;e++)n+=bk[t>>8*e+4&15]+bk[t>>8*e&15];return n}function Uq(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function TS(t){return $k(t).map(Uq).join("")}function Zl(t,n){if(Hq){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}return t+n&4294967295}function NS(t,n){var e,i,r,o;if(t!==e){for(var s=(r=t,o=1+(256/t.length|0),new Array(o+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}e=t,i=a}else a=i;var p=n.length,g=0,h=0,b="";for(l=0;l<p;l++)h=(h+(d=a[g=(g+1)%256]))%256,a[g]=a[h],a[h]=d,s=a[(a[g]+a[h])%256],b+=String.fromCharCode(n.charCodeAt(l)^s);return b}function tf(t,n,e,i){this.v=1,this.r=2;var r=192;t.forEach(function(a){if(wk.perm!==void 0)throw new Error("Invalid permission: "+a);r+=wk[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(n+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=TS(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=NS(this.encryptionKey,this.padding)}function nf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var n="",e=t.length,i=0;i<e;i++){var r=t.charCodeAt(i);n+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return n}function Ck(t){if(zn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(e)||(n[e]={});var o=Math.random().toString(35);return n[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in n)if(n[i][e])return delete n[i][e],Object.keys(n[i]).length===0&&delete n[i],!0;return!1},this.publish=function(e){if(n.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in n[e]){var s=n[e][o];try{s[0].apply(t,i)}catch(a){Ft.console&&ei.error("jsPDF PubSub Error",a.message,a)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Op(t){if(!(this instanceof Op))return new Op(t);var n="opacity,stroke-opacity".split(",");for(var e in t)t.hasOwnProperty(e)&&n.indexOf(e)>=0&&(this[e]=t[e]);this.id="",this.objectNumber=-1}function zk(t,n){this.gState=t,this.matrix=n,this.id="",this.objectNumber=-1}function Yl(t,n,e,i,r){if(!(this instanceof Yl))return new Yl(t,n,e,i,r);this.type=t==="axial"?2:3,this.coords=n,this.colors=e,zk.call(this,i,r)}function du(t,n,e,i,r){if(!(this instanceof du))return new du(t,n,e,i,r);this.boundingBox=t,this.xStep=n,this.yStep=e,this.stream="",this.cloneIndex=0,zk.call(this,i,r)}function Mt(t){var n,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;zn(t=t||{})==="object"&&(e=t.orientation,i=t.unit||i,r=t.format||r,o=t.compress||t.compressPdf||o,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(n=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",e=(""+(e||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=Ck;var b="1.3",w=h.__private__.getPdfVersion=function(){return b};h.__private__.setPdfVersion=function(m){b=m};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return E};var S=h.__private__.getPageFormat=function(m){return E[m]};r=r||"a4";var O="compat",R="advanced",j=O;function oe(){this.saveGraphicsState(),J(new Ot(Te,0,0,-Te,0,uc()*Te).toString()+" cm"),this.setFontSize(this.getFontSize()/Te),c="n",j=R}function ve(){this.restoreGraphicsState(),c="S",j=O}var he=h.__private__.combineFontStyleAndFontWeight=function(m,I){if(m=="bold"&&I=="normal"||m=="bold"&&I==400||m=="normal"&&I=="italic"||m=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(m=I==400||I==="normal"?m==="italic"?"italic":"normal":I!=700&&I!=="bold"||m!=="normal"?(I==700?"bold":I)+""+m:"bold"),m};h.advancedAPI=function(m){var I=j===O;return I&&oe.call(this),typeof m!="function"||(m(this),I&&ve.call(this)),this},h.compatAPI=function(m){var I=j===R;return I&&ve.call(this),typeof m!="function"||(m(this),I&&oe.call(this)),this},h.isAdvancedAPI=function(){return j===R};var X,F=function(m){if(j!==R)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=h.roundToPrecision=h.__private__.roundToPrecision=function(m,I){var Q=n||I;if(isNaN(m)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(Q).replace(/0+$/,"")};X=h.hpf=h.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(m,16)};var T=h.f2=h.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return ie(m,2)},k=h.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return ie(m,3)},U=h.scale=h.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return j===O?m*Te:j===R?m:void 0},G=function(m){return U(function(I){return j===O?uc()-I:j===R?I:void 0}(m))};h.__private__.setPrecision=h.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(n=parseInt(m,10))};var pe,W="00000000000000000000000000000000",$=h.__private__.getFileId=function(){return W},V=h.__private__.setFileId=function(m){return W=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ti=new tf(d.userPermissions,d.userPassword,d.ownerPassword,W)),W};h.setFileId=function(m){return V(m),this},h.getFileId=function(){return $()};var B=h.__private__.convertDateToPDFDate=function(m){var I=m.getTimezoneOffset(),Q=I<0?"+":"-",se=Math.floor(Math.abs(I/60)),ye=Math.abs(I%60),Oe=[Q,q(se),"'",q(ye),"'"].join("");return["D:",m.getFullYear(),q(m.getMonth()+1),q(m.getDate()),q(m.getHours()),q(m.getMinutes()),q(m.getSeconds()),Oe].join("")},de=h.__private__.convertPDFDateToDate=function(m){var I=parseInt(m.substr(2,4),10),Q=parseInt(m.substr(6,2),10)-1,se=parseInt(m.substr(8,2),10),ye=parseInt(m.substr(10,2),10),Oe=parseInt(m.substr(12,2),10),Ve=parseInt(m.substr(14,2),10);return new Date(I,Q,se,ye,Oe,Ve,0)},ce=h.__private__.setCreationDate=function(m){var I;if(m===void 0&&(m=new Date),m instanceof Date)I=B(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=m}return pe=I},M=h.__private__.getCreationDate=function(m){var I=pe;return m==="jsDate"&&(I=de(pe)),I};h.setCreationDate=function(m){return ce(m),this},h.getCreationDate=function(m){return M(m)};var z,q=h.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},re=h.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ue=0,me=[],Ce=[],we=0,xe=[],Pe=[],Ge=!1,Je=Ce;h.__private__.setCustomOutputDestination=function(m){Ge=!0,Je=m};var Ae=function(m){Ge||(Je=m)};h.__private__.resetCustomOutputDestination=function(){Ge=!1,Je=Ce};var J=h.__private__.out=function(m){return m=m.toString(),we+=m.length+1,Je.push(m),Je},kt=h.__private__.write=function(m){return J(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},St=h.__private__.getArrayBuffer=function(m){for(var I=m.length,Q=new ArrayBuffer(I),se=new Uint8Array(Q);I--;)se[I]=m.charCodeAt(I);return Q},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return vt};var He=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(m){return He=j===R?m/Te:m,this};var ct,et=h.__private__.getFontSize=h.getFontSize=function(){return j===O?He:He*Te},Lt=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(m){return Lt=m,this},h.__private__.getR2L=h.getR2L=function(){return Lt};var ut,ln=h.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))ct=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');ct=m}else ct=parseInt(m,10)};h.__private__.getZoomMode=function(){return ct};var Rt,mt=h.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');ut=m};h.__private__.getPageMode=function(){return ut};var In=h.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Rt=m};h.__private__.getLayoutMode=function(){return Rt},h.__private__.setDisplayMode=h.setDisplayMode=function(m,I,Q){return ln(m),In(I),mt(Q),this};var be={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(m){if(Object.keys(be).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return be[m]},h.__private__.getDocumentProperties=function(){return be},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(m){for(var I in be)be.hasOwnProperty(I)&&m[I]&&(be[I]=m[I]);return this},h.__private__.setDocumentProperty=function(m,I){if(Object.keys(be).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return be[m]=I};var De,Te,je,rt,it,Ze={},Tt={},vn=[],It={},Zt={},Ut={},Nt={},nt=null,at=0,Qe=[],wt=new Ck(h),yi=t.hotfixes||[],zi={},ss={},Fr=[],Ot=function m(I,Q,se,ye,Oe,Ve){if(!(this instanceof m))return new m(I,Q,se,ye,Oe,Ve);isNaN(I)&&(I=1),isNaN(Q)&&(Q=0),isNaN(se)&&(se=0),isNaN(ye)&&(ye=1),isNaN(Oe)&&(Oe=0),isNaN(Ve)&&(Ve=0),this._matrix=[I,Q,se,ye,Oe,Ve]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(m)},Ot.prototype.multiply=function(m){var I=m.sx*this.sx+m.shy*this.shx,Q=m.sx*this.shy+m.shy*this.sy,se=m.shx*this.sx+m.sy*this.shx,ye=m.shx*this.shy+m.sy*this.sy,Oe=m.tx*this.sx+m.ty*this.shx+this.tx,Ve=m.tx*this.shy+m.ty*this.sy+this.ty;return new Ot(I,Q,se,ye,Oe,Ve)},Ot.prototype.decompose=function(){var m=this.sx,I=this.shy,Q=this.shx,se=this.sy,ye=this.tx,Oe=this.ty,Ve=Math.sqrt(m*m+I*I),pt=(m/=Ve)*Q+(I/=Ve)*se;Q-=m*pt,se-=I*pt;var Ct=Math.sqrt(Q*Q+se*se);return pt/=Ct,m*(se/=Ct)<I*(Q/=Ct)&&(m=-m,I=-I,pt=-pt,Ve=-Ve),{scale:new Ot(Ve,0,0,Ct,0,0),translate:new Ot(1,0,0,1,ye,Oe),rotate:new Ot(m,I,-I,m,0,0),skew:new Ot(1,0,pt,1,0,0)}},Ot.prototype.toString=function(m){return this.join(" ")},Ot.prototype.inversed=function(){var m=this.sx,I=this.shy,Q=this.shx,se=this.sy,ye=this.tx,Oe=this.ty,Ve=1/(m*se-I*Q),pt=se*Ve,Ct=-I*Ve,Vt=-Q*Ve,zt=m*Ve;return new Ot(pt,Ct,Vt,zt,-pt*ye-Vt*Oe,-Ct*ye-zt*Oe)},Ot.prototype.applyToPoint=function(m){var I=m.x*this.sx+m.y*this.shx+this.tx,Q=m.x*this.shy+m.y*this.sy+this.ty;return new lc(I,Q)},Ot.prototype.applyToRectangle=function(m){var I=this.applyToPoint(m),Q=this.applyToPoint(new lc(m.x+m.w,m.y+m.h));return new gf(I.x,I.y,Q.x-I.x,Q.y-I.y)},Ot.prototype.clone=function(){var m=this.sx,I=this.shy,Q=this.shx,se=this.sy,ye=this.tx,Oe=this.ty;return new Ot(m,I,Q,se,ye,Oe)},h.Matrix=Ot;var da=h.matrixMult=function(m,I){return I.multiply(m)},fa=new Ot(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=fa;var Ro=function(m,I){if(!Zt[m]){var Q=(I instanceof Yl?"Sh":"P")+(Object.keys(It).length+1).toString(10);I.id=Q,Zt[m]=Q,It[Q]=I,wt.publish("addPattern",I)}};h.ShadingPattern=Yl,h.TilingPattern=du,h.addShadingPattern=function(m,I){return F("addShadingPattern()"),Ro(m,I),this},h.beginTilingPattern=function(m){F("beginTilingPattern()"),vf(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},h.endTilingPattern=function(m,I){F("endTilingPattern()"),I.stream=Pe[z].join(`
`),Ro(m,I),wt.publish("endTilingPattern",I),Fr.pop().restore()};var jo,_i=h.__private__.newObject=function(){var m=cr();return gr(m,!0),m},cr=h.__private__.newObjectDeferred=function(){return ue++,me[ue]=function(){return we},ue},gr=function(m,I){return I=typeof I=="boolean"&&I,me[m]=we,I&&J(m+" 0 obj"),m},Jl=h.__private__.newAdditionalObject=function(){var m={objId:cr(),content:""};return xe.push(m),m},Qa=cr(),as=cr(),Rs=h.__private__.decodeColorString=function(m){var I=m.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length!==5||I[4]!=="k"&&I[4]!=="K"||(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var Q=parseFloat(I[0]);I=[Q,Q,Q,"r"]}for(var se="#",ye=0;ye<3;ye++)se+=("0"+Math.floor(255*parseFloat(I[ye])).toString(16)).slice(-2);return se},ls=h.__private__.encodeColorString=function(m){var I;typeof m=="string"&&(m={ch1:m});var Q=m.ch1,se=m.ch2,ye=m.ch3,Oe=m.ch4,Ve=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var pt=new Hk(Q);if(pt.ok)Q=pt.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var Ct=parseInt(Q.substr(1),16);Q=Ct>>16&255,se=Ct>>8&255,ye=255&Ct}if(se===void 0||Oe===void 0&&Q===se&&se===ye)I=typeof Q=="string"?Q+" "+Ve[0]:m.precision===2?T(Q/255)+" "+Ve[0]:k(Q/255)+" "+Ve[0];else if(Oe===void 0||zn(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",Ve[1]].join(" ");I=typeof Q=="string"?[Q,se,ye,Ve[1]].join(" "):m.precision===2?[T(Q/255),T(se/255),T(ye/255),Ve[1]].join(" "):[k(Q/255),k(se/255),k(ye/255),Ve[1]].join(" ")}else I=typeof Q=="string"?[Q,se,ye,Oe,Ve[2]].join(" "):m.precision===2?[T(Q),T(se),T(ye),T(Oe),Ve[2]].join(" "):[k(Q),k(se),k(ye),k(Oe),Ve[2]].join(" ");return I},cs=h.__private__.getFilters=function(){return s},Fo=h.__private__.putStream=function(m){var I=(m=m||{}).data||"",Q=m.filters||cs(),se=m.alreadyAppliedFilters||[],ye=m.addLength1||!1,Oe=I.length,Ve=m.objectId,pt=function(Xi){return Xi};if(d!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(pt=Ti.encryptor(Ve,0));var Ct={};Q===!0&&(Q=["FlateEncode"]);var Vt=m.additionalKeyValues||[],zt=(Ct=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(I,Q):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Ct.data.length!==0&&(Vt.push({key:"Length",value:Ct.data.length}),ye===!0&&Vt.push({key:"Length1",value:Oe})),zt.length!=0)if(zt.split("/").length-1==1)Vt.push({key:"Filter",value:zt});else{Vt.push({key:"Filter",value:"["+zt+"]"});for(var Tn=0;Tn<Vt.length;Tn+=1)if(Vt[Tn].key==="DecodeParms"){for(var mi=[],qi=0;qi<Ct.reverseChain.split("/").length-1;qi+=1)mi.push("null");mi.push(Vt[Tn].value),Vt[Tn].value="["+mi.join(" ")+"]"}}J("<<");for(var ti=0;ti<Vt.length;ti++)J("/"+Vt[ti].key+" "+Vt[ti].value);J(">>"),Ct.data.length!==0&&(J("stream"),J(pt(Ct.data)),J("endstream"))},ec=h.__private__.putPage=function(m){var I=m.number,Q=m.data,se=m.objId,ye=m.contentsObjId;gr(se,!0),J("<</Type /Page"),J("/Parent "+m.rootDictionaryObjId+" 0 R"),J("/Resources "+m.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(X(m.mediaBox.bottomLeftX))+" "+parseFloat(X(m.mediaBox.bottomLeftY))+" "+X(m.mediaBox.topRightX)+" "+X(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&J("/CropBox ["+X(m.cropBox.bottomLeftX)+" "+X(m.cropBox.bottomLeftY)+" "+X(m.cropBox.topRightX)+" "+X(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&J("/BleedBox ["+X(m.bleedBox.bottomLeftX)+" "+X(m.bleedBox.bottomLeftY)+" "+X(m.bleedBox.topRightX)+" "+X(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&J("/TrimBox ["+X(m.trimBox.bottomLeftX)+" "+X(m.trimBox.bottomLeftY)+" "+X(m.trimBox.topRightX)+" "+X(m.trimBox.topRightY)+"]"),m.artBox!==null&&J("/ArtBox ["+X(m.artBox.bottomLeftX)+" "+X(m.artBox.bottomLeftY)+" "+X(m.artBox.topRightX)+" "+X(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&J("/UserUnit "+m.userUnit),wt.publish("putPage",{objId:se,pageContext:Qe[I],pageNumber:I,page:Q}),J("/Contents "+ye+" 0 R"),J(">>"),J("endobj");var Oe=Q.join(`
`);return j===R&&(Oe+=`
Q`),gr(ye,!0),Fo({data:Oe,filters:cs(),objectId:ye}),J("endobj"),se},js=h.__private__.putPages=function(){var m,I,Q=[];for(m=1;m<=at;m++)Qe[m].objId=cr(),Qe[m].contentsObjId=cr();for(m=1;m<=at;m++)Q.push(ec({number:m,data:Pe[m],objId:Qe[m].objId,contentsObjId:Qe[m].contentsObjId,mediaBox:Qe[m].mediaBox,cropBox:Qe[m].cropBox,bleedBox:Qe[m].bleedBox,trimBox:Qe[m].trimBox,artBox:Qe[m].artBox,userUnit:Qe[m].userUnit,rootDictionaryObjId:Qa,resourceDictionaryObjId:as}));gr(Qa,!0),J("<</Type /Pages");var se="/Kids [";for(I=0;I<at;I++)se+=Q[I]+" 0 R ";J(se+"]"),J("/Count "+at),J(">>"),J("endobj"),wt.publish("postPutPages")},tc=function(m){wt.publish("putFont",{font:m,out:J,newObject:_i,putStream:Fo}),m.isAlreadyPutted!==!0&&(m.objectNumber=_i(),J("<<"),J("/Type /Font"),J("/BaseFont /"+nf(m.postScriptName)),J("/Subtype /Type1"),typeof m.encoding=="string"&&J("/Encoding /"+m.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},_u=function(m){m.objectNumber=_i();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[X(m.x),X(m.y),X(m.x+m.width),X(m.y+m.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var Q=m.pages[1].join(`
`);Fo({data:Q,additionalKeyValues:I,objectId:m.objectNumber}),J("endobj")},bu=function(m,I){I||(I=21);var Q=_i(),se=function(Ve,pt){var Ct,Vt=[],zt=1/(pt-1);for(Ct=0;Ct<1;Ct+=zt)Vt.push(Ct);if(Vt.push(1),Ve[0].offset!=0){var Tn={offset:0,color:Ve[0].color};Ve.unshift(Tn)}if(Ve[Ve.length-1].offset!=1){var mi={offset:1,color:Ve[Ve.length-1].color};Ve.push(mi)}for(var qi="",ti=0,Xi=0;Xi<Vt.length;Xi++){for(Ct=Vt[Xi];Ct>Ve[ti+1].offset;)ti++;var Gi=Ve[ti].offset,vr=(Ct-Gi)/(Ve[ti+1].offset-Gi),Vo=Ve[ti].color,Yr=Ve[ti+1].color;qi+=re(Math.round((1-vr)*Vo[0]+vr*Yr[0]).toString(16))+re(Math.round((1-vr)*Vo[1]+vr*Yr[1]).toString(16))+re(Math.round((1-vr)*Vo[2]+vr*Yr[2]).toString(16))}return qi.trim()}(m.colors,I),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+I+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fo({data:se,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),J("endobj"),m.objectNumber=_i(),J("<< /ShadingType "+m.type),J("/ColorSpace /DeviceRGB");var Oe="/Coords ["+X(parseFloat(m.coords[0]))+" "+X(parseFloat(m.coords[1]))+" ";m.type===2?Oe+=X(parseFloat(m.coords[2]))+" "+X(parseFloat(m.coords[3])):Oe+=X(parseFloat(m.coords[2]))+" "+X(parseFloat(m.coords[3]))+" "+X(parseFloat(m.coords[4]))+" "+X(parseFloat(m.coords[5])),J(Oe+="]"),m.matrix&&J("/Matrix ["+m.matrix.toString()+"]"),J("/Function "+Q+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},wu=function(m,I){var Q=cr(),se=_i();I.push({resourcesOid:Q,objectOid:se}),m.objectNumber=se;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+m.boundingBox.map(X).join(" ")+"]"}),ye.push({key:"XStep",value:X(m.xStep)}),ye.push({key:"YStep",value:X(m.yStep)}),ye.push({key:"Resources",value:Q+" 0 R"}),m.matrix&&ye.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Fo({data:m.stream,additionalKeyValues:ye,objectId:m.objectNumber}),J("endobj")},Sy=function(m){for(var I in m.objectNumber=_i(),J("<<"),m)switch(I){case"opacity":J("/ca "+T(m[I]));break;case"stroke-opacity":J("/CA "+T(m[I]))}J(">>"),J("endobj")},sf=function(m){gr(m.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var I in J("/Font <<"),Ze)Ze.hasOwnProperty(I)&&(p===!1||p===!0&&g.hasOwnProperty(I))&&J("/"+I+" "+Ze[I].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(It).length>0){for(var I in J("/Shading <<"),It)It.hasOwnProperty(I)&&It[I]instanceof Yl&&It[I].objectNumber>=0&&J("/"+I+" "+It[I].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),J(">>")}}(),function(I){if(Object.keys(It).length>0){for(var Q in J("/Pattern <<"),It)It.hasOwnProperty(Q)&&It[Q]instanceof h.TilingPattern&&It[Q].objectNumber>=0&&It[Q].objectNumber<I&&J("/"+Q+" "+It[Q].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),J(">>")}}(m.objectOid),function(){if(Object.keys(Ut).length>0){var I;for(I in J("/ExtGState <<"),Ut)Ut.hasOwnProperty(I)&&Ut[I].objectNumber>=0&&J("/"+I+" "+Ut[I].objectNumber+" 0 R");wt.publish("putGStateDict"),J(">>")}}(),function(){for(var I in J("/XObject <<"),zi)zi.hasOwnProperty(I)&&zi[I].objectNumber>=0&&J("/"+I+" "+zi[I].objectNumber+" 0 R");wt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Vp=function(m){Tt[m.fontName]=Tt[m.fontName]||{},Tt[m.fontName][m.fontStyle]=m.id},Bp=function(m,I,Q,se,ye){var Oe={id:"F"+(Object.keys(Ze).length+1).toString(10),postScriptName:m,fontName:I,fontStyle:Q,encoding:se,isStandardFont:ye||!1,metadata:{}};return wt.publish("addFont",{font:Oe,instance:this}),Ze[Oe.id]=Oe,Vp(Oe),Oe.id},Lo=h.__private__.pdfEscape=h.pdfEscape=function(m,I){return function(Q,se){var ye,Oe,Ve,pt,Ct,Vt,zt,Tn,mi;if(Ve=(se=se||{}).sourceEncoding||"Unicode",Ct=se.outputEncoding,(se.autoencode||Ct)&&Ze[De].metadata&&Ze[De].metadata[Ve]&&Ze[De].metadata[Ve].encoding&&(pt=Ze[De].metadata[Ve].encoding,!Ct&&Ze[De].encoding&&(Ct=Ze[De].encoding),!Ct&&pt.codePages&&(Ct=pt.codePages[0]),typeof Ct=="string"&&(Ct=pt[Ct]),Ct)){for(zt=!1,Vt=[],ye=0,Oe=Q.length;ye<Oe;ye++)(Tn=Ct[Q.charCodeAt(ye)])?Vt.push(String.fromCharCode(Tn)):Vt.push(Q[ye]),Vt[ye].charCodeAt(0)>>8&&(zt=!0);Q=Vt.join("")}for(ye=Q.length;zt===void 0&&ye!==0;)Q.charCodeAt(ye-1)>>8&&(zt=!0),ye--;if(!zt)return Q;for(Vt=se.noBOM?[]:[254,255],ye=0,Oe=Q.length;ye<Oe;ye++){if((mi=(Tn=Q.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(mi),Vt.push(Tn-(mi<<8))}return String.fromCharCode.apply(void 0,Vt)}(m,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},af=h.__private__.beginPage=function(m){Pe[++at]=[],Qe[at]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},Hp(at),Ae(Pe[z])},Up=function(m,I){var Q,se,ye;switch(e=I||e,typeof m=="string"&&(Q=S(m.toLowerCase()),Array.isArray(Q)&&(se=Q[0],ye=Q[1])),Array.isArray(m)&&(se=m[0]*Te,ye=m[1]*Te),isNaN(se)&&(se=r[0],ye=r[1]),(se>14400||ye>14400)&&(ei.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),ye=Math.min(14400,ye)),r=[se,ye],e.substr(0,1)){case"l":ye>se&&(r=[ye,se]);break;case"p":se>ye&&(r=[ye,se])}af(r),ky(ff),J(Su),pf!==0&&J(pf+" J"),mf!==0&&J(mf+" j"),wt.publish("addPage",{pageNumber:at})},lf=function(m){m>0&&m<=at&&(Pe.splice(m,1),Qe.splice(m,1),at--,z>at&&(z=at),this.setPage(z))},Hp=function(m){m>0&&m<=at&&(z=m)},$p=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},zp=function(m,I,Q){var se,ye=void 0;return Q=Q||{},m=m!==void 0?m:Ze[De].fontName,I=I!==void 0?I:Ze[De].fontStyle,se=m.toLowerCase(),Tt[se]!==void 0&&Tt[se][I]!==void 0?ye=Tt[se][I]:Tt[m]!==void 0&&Tt[m][I]!==void 0?ye=Tt[m][I]:Q.disableWarning===!1&&ei.warn("Unable to look up font label for font '"+m+"', '"+I+"'. Refer to getFontList() for available fonts."),ye||Q.noFallback||(ye=Tt.times[I])==null&&(ye=Tt.times.normal),ye},Cu=h.__private__.putInfo=function(){var m=_i(),I=function(se){return se};for(var Q in d!==null&&(I=Ti.encryptor(m,0)),J("<<"),J("/Producer ("+Lo(I("jsPDF "+Mt.version))+")"),be)be.hasOwnProperty(Q)&&be[Q]&&J("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Lo(I(be[Q]))+")");J("/CreationDate ("+Lo(I(pe))+")"),J(">>"),J("endobj")},Ey=h.__private__.putCatalog=function(m){var I=(m=m||{}).rootDictionaryObjId||Qa;switch(_i(),J("<<"),J("/Type /Catalog"),J("/Pages "+I+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+ct;Q.substr(Q.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&J("/OpenAction [3 0 R /XYZ null null "+T(ct)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ut&&J("/PageMode /"+ut),wt.publish("putCatalog"),J(">>"),J("endobj")},Wi=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ue+1)),J("/Root "+ue+" 0 R"),J("/Info "+(ue-1)+" 0 R"),d!==null&&J("/Encrypt "+Ti.oid+" 0 R"),J("/ID [ <"+W+"> <"+W+"> ]"),J(">>")},Wp=h.__private__.putHeader=function(){J("%PDF-"+b),J("%\xBA\xDF\xAC\xE0")},qp=h.__private__.putXRef=function(){var m="0000000000";J("xref"),J("0 "+(ue+1)),J("0000000000 65535 f ");for(var I=1;I<=ue;I++)typeof me[I]=="function"?J((m+me[I]()).slice(-10)+" 00000 n "):me[I]!==void 0?J((m+me[I]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},ha=h.__private__.buildDocument=function(){var m;ue=0,we=0,Ce=[],me=[],xe=[],Qa=cr(),as=cr(),Ae(Ce),wt.publish("buildDocument"),Wp(),js(),function(){wt.publish("putAdditionalObjects");for(var Q=0;Q<xe.length;Q++){var se=xe[Q];gr(se.objId,!0),J(se.content),J("endobj")}wt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var Q in Ze)Ze.hasOwnProperty(Q)&&(p===!1||p===!0&&g.hasOwnProperty(Q))&&tc(Ze[Q])}(),function(){var Q;for(Q in Ut)Ut.hasOwnProperty(Q)&&Sy(Ut[Q])}(),function(){for(var Q in zi)zi.hasOwnProperty(Q)&&_u(zi[Q])}(),function(Q){var se;for(se in It)It.hasOwnProperty(se)&&(It[se]instanceof Yl?bu(It[se]):It[se]instanceof du&&wu(It[se],Q))}(m),wt.publish("putResources"),m.forEach(sf),sf({resourcesOid:as,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources"),d!==null&&(Ti.oid=_i(),J("<<"),J("/Filter /Standard"),J("/V "+Ti.v),J("/R "+Ti.r),J("/U <"+Ti.toHexString(Ti.U)+">"),J("/O <"+Ti.toHexString(Ti.O)+">"),J("/P "+Ti.P),J(">>"),J("endobj")),Cu(),Ey();var I=we;return qp(),Wi(),J("startxref"),J(""+I),J("%%EOF"),Ae(Pe[z]),Ce.join(`
`)},nc=h.__private__.getBlob=function(m){return new Blob([St(m)],{type:"application/pdf"})},us=h.output=h.__private__.output=(jo=function(m,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",m){case void 0:return ha();case"save":h.save(I.filename);break;case"arraybuffer":return St(ha());case"blob":return nc(ha());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(nc(ha()))||void 0;ei.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",se=ha();try{Q=_k(se)}catch{Q=_k(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+I.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(ye=I.pdfObjectUrl,Oe="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",pt=Ft.open();return pt!==null&&pt.document.write(Ve),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',Vt=Ft.open();if(Vt!==null){Vt.document.write(Ct);var zt=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=I.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',mi=Ft.open();if(mi!==null&&(mi.document.write(Tn),mi.document.title=I.filename),mi||typeof safari>"u")return mi;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",I);default:return null}},jo.foo=function(){try{return jo.apply(this,arguments)}catch(Q){var m=Q.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var I="Error in function "+m.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Ft.console)throw new Error(I);Ft.console.error(I,Q),Ft.alert&&alert(I)}},jo.foo.bar=jo,jo.foo),ic=function(m){return Array.isArray(yi)===!0&&yi.indexOf(m)>-1};switch(i){case"pt":Te=1;break;case"mm":Te=72/25.4;break;case"cm":Te=72/2.54;break;case"in":Te=72;break;case"px":Te=ic("px_scaling")==1?.75:96/72;break;case"pc":case"em":Te=12;break;case"ex":Te=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Te=i}var Ti=null;ce(),V();var cf=h.__private__.getPageInfo=h.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qe[m].objId,pageNumber:m,pageContext:Qe[m]}},xy=h.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Qe)if(Qe[I].objId===m)break;return cf(I)},Dy=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Qe[z].objId,pageNumber:z,pageContext:Qe[z]}};h.addPage=function(){return Up.apply(this,arguments),this},h.setPage=function(){return Hp.apply(this,arguments),Ae.call(this,Pe[z]),this},h.insertPage=function(m){return this.addPage(),this.movePage(z,m),this},h.movePage=function(m,I){var Q,se;if(m>I){Q=Pe[m],se=Qe[m];for(var ye=m;ye>I;ye--)Pe[ye]=Pe[ye-1],Qe[ye]=Qe[ye-1];Pe[I]=Q,Qe[I]=se,this.setPage(I)}else if(m<I){Q=Pe[m],se=Qe[m];for(var Oe=m;Oe<I;Oe++)Pe[Oe]=Pe[Oe+1],Qe[Oe]=Qe[Oe+1];Pe[I]=Q,Qe[I]=se,this.setPage(I)}return this},h.deletePage=function(){return lf.apply(this,arguments),this},h.__private__.text=h.text=function(m,I,Q,se,ye){var Oe,Ve,pt,Ct,Vt,zt,Tn,mi,qi,ti=(se=se||{}).scope||this;if(typeof m=="number"&&typeof I=="number"&&(typeof Q=="string"||Array.isArray(Q))){var Xi=Q;Q=I,I=m,m=Xi}if(arguments[3]instanceof Ot==0?(pt=arguments[4],Ct=arguments[5],zn(Tn=arguments[3])==="object"&&Tn!==null||(typeof pt=="string"&&(Ct=pt,pt=null),typeof Tn=="string"&&(Ct=Tn,Tn=null),typeof Tn=="number"&&(pt=Tn,Tn=null),se={flags:Tn,angle:pt,align:Ct})):(F("The transform parameter of text() with a Matrix value"),qi=ye),isNaN(I)||isNaN(Q)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return ti;var Gi,vr="",Vo=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:oc,Yr=ti.internal.scaleFactor;function em(Rn){return Rn=Rn.split("	").join(Array(se.TabLen||9).join(" ")),Lo(Rn,Tn)}function Mu(Rn){for(var Gn,ki=Rn.concat(),Ji=[],ba=ki.length;ba--;)typeof(Gn=ki.shift())=="string"?Ji.push(Gn):Array.isArray(Rn)&&(Gn.length===1||Gn[1]===void 0&&Gn[2]===void 0)?Ji.push(Gn[0]):Ji.push([Gn[0],Gn[1],Gn[2]]);return Ji}function dc(Rn,Gn){var ki;if(typeof Rn=="string")ki=Gn(Rn)[0];else if(Array.isArray(Rn)){for(var Ji,ba,Mf=Rn.concat(),Tu=[],im=Mf.length;im--;)typeof(Ji=Mf.shift())=="string"?Tu.push(Gn(Ji)[0]):Array.isArray(Ji)&&typeof Ji[0]=="string"&&(ba=Gn(Ji[0],Ji[1],Ji[2]),Tu.push([ba[0],ba[1],ba[2]]));ki=Tu}return ki}var el=!1,fc=!0;if(typeof m=="string")el=!0;else if(Array.isArray(m)){var hc=m.concat();Ve=[];for(var pc,Er=hc.length;Er--;)(typeof(pc=hc.shift())!="string"||Array.isArray(pc)&&typeof pc[0]!="string")&&(fc=!1);el=fc}if(el===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var mc=He/ti.internal.scaleFactor,gc=mc*(Vo-1);switch(se.baseline){case"bottom":Q-=gc;break;case"top":Q+=mc-gc;break;case"hanging":Q+=mc-2*gc;break;case"middle":Q+=mc/2-gc}if((zt=se.maxWidth||0)>0&&(typeof m=="string"?m=ti.splitTextToSize(m,zt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Rn,Gn){return Rn.concat(ti.splitTextToSize(Gn,zt))},[]))),Oe={text:m,x:I,y:Q,options:se,mutex:{pdfEscape:Lo,activeFontKey:De,fonts:Ze,activeFontSize:He}},wt.publish("preProcessText",Oe),m=Oe.text,pt=(se=Oe.options).angle,qi instanceof Ot==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,se.rotationDirection===0&&(pt=-pt),j===R&&(pt=-pt);var yf=Math.cos(pt),_f=Math.sin(pt);qi=new Ot(yf,_f,-_f,yf,0,0)}else pt&&pt instanceof Ot&&(qi=pt);j!==R||qi||(qi=fa),(Vt=se.charSpace||xu)!==void 0&&(vr+=X(U(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mi=se.horizontalScale)!==void 0&&(vr+=X(100*mi)+` Tz
`),se.lang;var bi=-1,ya=se.renderingMode!==void 0?se.renderingMode:se.stroke,Iu=ti.internal.getCurrentPageInfo().pageContext;switch(ya){case 0:case!1:case"fill":bi=0;break;case 1:case!0:case"stroke":bi=1;break;case 2:case"fillThenStroke":bi=2;break;case 3:case"invisible":bi=3;break;case 4:case"fillAndAddForClipping":bi=4;break;case 5:case"strokeAndAddPathForClipping":bi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bi=6;break;case 7:case"addToPathForClipping":bi=7}var tm=Iu.usedRenderingMode!==void 0?Iu.usedRenderingMode:-1;bi!==-1?vr+=bi+` Tr
`:tm!==-1&&(vr+=`0 Tr
`),bi!==-1&&(Iu.usedRenderingMode=bi),Ct=se.align||"left";var Bo,vc=He*Vo,bf=ti.internal.pageSize.getWidth(),wf=Ze[De];Vt=se.charSpace||xu,zt=se.maxWidth||0,Tn=Object.assign({autoencode:!0,noBOM:!0},se.flags);var tl=[],yc=function(Rn){return ti.getStringUnitWidth(Rn,{font:wf,charSpace:Vt,fontSize:He,doKerning:!1})*He/Yr};if(Object.prototype.toString.call(m)==="[object Array]"){var co;Ve=Mu(m),Ct!=="left"&&(Bo=Ve.map(yc));var uo,nl=0;if(Ct==="right"){I-=Bo[0],m=[],Er=Ve.length;for(var _a=0;_a<Er;_a++)_a===0?(uo=pa(I),co=ma(Q)):(uo=U(nl-Bo[_a]),co=-vc),m.push([Ve[_a],uo,co]),nl=Bo[_a]}else if(Ct==="center"){I-=Bo[0]/2,m=[],Er=Ve.length;for(var il=0;il<Er;il++)il===0?(uo=pa(I),co=ma(Q)):(uo=U((nl-Bo[il])/2),co=-vc),m.push([Ve[il],uo,co]),nl=Bo[il]}else if(Ct==="left"){m=[],Er=Ve.length;for(var Cf=0;Cf<Er;Cf++)m.push(Ve[Cf])}else if(Ct==="justify"&&wf.encoding==="Identity-H"){m=[],Er=Ve.length,zt=zt!==0?zt:bf;for(var Au=0,Ni=0;Ni<Er;Ni++)if(co=Ni===0?ma(Q):-vc,uo=Ni===0?pa(I):Au,Ni<Er-1){var nm=U((zt-Bo[Ni])/(Ve[Ni].split(" ").length-1)),Ls=Ve[Ni].split(" ");m.push([Ls[0]+" ",uo,co]),Au=0;for(var Vs=1;Vs<Ls.length;Vs++){var Sf=(yc(Ls[Vs-1]+" "+Ls[Vs])-yc(Ls[Vs]))*Yr+nm;Vs==Ls.length-1?m.push([Ls[Vs],Sf,0]):m.push([Ls[Vs]+" ",Sf,0]),Au-=Sf}}else m.push([Ve[Ni],uo,co]);m.push(["",Au,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Er=Ve.length,zt=zt!==0?zt:bf,Ni=0;Ni<Er;Ni++){co=Ni===0?ma(Q):-vc,uo=Ni===0?pa(I):0;var Ef=Ve[Ni].split(" ").length-1,xf=Ef>0?(zt-Bo[Ni])/Ef:0;Ni<Er-1?tl.push(X(U(xf))):tl.push(0),m.push([Ve[Ni],uo,co])}}}(typeof se.R2L=="boolean"?se.R2L:Lt)===!0&&(m=dc(m,function(Rn,Gn,ki){return[Rn.split("").reverse().join(""),Gn,ki]})),Oe={text:m,x:I,y:Q,options:se,mutex:{pdfEscape:Lo,activeFontKey:De,fonts:Ze,activeFontSize:He}},wt.publish("postProcessText",Oe),m=Oe.text,Gi=Oe.mutex.isHex||!1;var Df=Ze[De].encoding;Df!=="WinAnsiEncoding"&&Df!=="StandardEncoding"||(m=dc(m,function(Rn,Gn,ki){return[em(Rn),Gn,ki]})),Ve=Mu(m),m=[];for(var rl,ol,sl,_c=Array.isArray(Ve[0])?1:0,al="",bc=function(Rn,Gn,ki){var Ji="";return ki instanceof Ot?(ki=typeof se.angle=="number"?da(ki,new Ot(1,0,0,1,Rn,Gn)):da(new Ot(1,0,0,1,Rn,Gn),ki),j===R&&(ki=da(new Ot(1,0,0,-1,0,0),ki)),Ji=ki.join(" ")+` Tm
`):Ji=X(Rn)+" "+X(Gn)+` Td
`,Ji},Uo=0;Uo<Ve.length;Uo++){switch(al="",_c){case 1:sl=(Gi?"<":"(")+Ve[Uo][0]+(Gi?">":")"),rl=parseFloat(Ve[Uo][1]),ol=parseFloat(Ve[Uo][2]);break;case 0:sl=(Gi?"<":"(")+Ve[Uo]+(Gi?">":")"),rl=pa(I),ol=ma(Q)}tl!==void 0&&tl[Uo]!==void 0&&(al=tl[Uo]+` Tw
`),Uo===0?m.push(al+bc(rl,ol,qi)+sl):_c===0?m.push(al+sl):_c===1&&m.push(al+bc(rl,ol,qi)+sl)}m=_c===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Bs=`BT
/`;return Bs+=De+" "+He+` Tf
`,Bs+=X(He*Vo)+` TL
`,Bs+=sc+`
`,Bs+=vr,Bs+=m,J(Bs+="ET"),g[De]=!0,ti};var My=h.__private__.clip=h.clip=function(m){return J(m==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return My("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var Fs=h.__private__.isValidStyle=function(m){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(I=!0),I};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(m){return Fs(m)&&(c=m),this};var Gp=h.__private__.getStyle=h.getStyle=function(m){var I=c;switch(m){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=m}return I},Kp=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(m){return Xa("f",m),this},h.fillEvenOdd=function(m){return Xa("f*",m),this},h.fillStroke=function(m){return Xa("B",m),this},h.fillStrokeEvenOdd=function(m){return Xa("B*",m),this};var Xa=function(m,I){zn(I)==="object"?Ay(I,m):J(m)},uf=function(m){m===null||j===R&&m===void 0||(m=Gp(m),J(m))};function Iy(m,I,Q,se,ye){var Oe=new du(I||this.boundingBox,Q||this.xStep,se||this.yStep,this.gState,ye||this.matrix);Oe.stream=this.stream;var Ve=m+"$$"+this.cloneIndex+++"$$";return Ro(Ve,Oe),Oe}var Ay=function(m,I){var Q=Zt[m.key],se=It[Q];if(se instanceof Yl)J("q"),J(Ty(I)),se.gState&&h.setGState(se.gState),J(m.matrix.toString()+" cm"),J("/"+Q+" sh"),J("Q");else if(se instanceof du){var ye=new Ot(1,0,0,-1,0,uc());m.matrix&&(ye=ye.multiply(m.matrix||fa),Q=Iy.call(se,m.key,m.boundingBox,m.xStep,m.yStep,ye).id),J("q"),J("/Pattern cs"),J("/"+Q+" scn"),se.gState&&h.setGState(se.gState),J(I),J("Q")}},Ty=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},df=h.moveTo=function(m,I){return J(X(U(m))+" "+X(G(I))+" m"),this},rc=h.lineTo=function(m,I){return J(X(U(m))+" "+X(G(I))+" l"),this},Ja=h.curveTo=function(m,I,Q,se,ye,Oe){return J([X(U(m)),X(G(I)),X(U(Q)),X(G(se)),X(U(ye)),X(G(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(m,I,Q,se,ye){if(isNaN(m)||isNaN(I)||isNaN(Q)||isNaN(se)||!Fs(ye))throw new Error("Invalid arguments passed to jsPDF.line");return j===O?this.lines([[Q-m,se-I]],m,I,[1,1],ye||"S"):this.lines([[Q-m,se-I]],m,I,[1,1]).stroke()},h.__private__.lines=h.lines=function(m,I,Q,se,ye,Oe){var Ve,pt,Ct,Vt,zt,Tn,mi,qi,ti,Xi,Gi,vr;if(typeof m=="number"&&(vr=Q,Q=I,I=m,m=vr),se=se||[1,1],Oe=Oe||!1,isNaN(I)||isNaN(Q)||!Array.isArray(m)||!Array.isArray(se)||!Fs(ye)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(df(I,Q),Ve=se[0],pt=se[1],Vt=m.length,Xi=I,Gi=Q,Ct=0;Ct<Vt;Ct++)(zt=m[Ct]).length===2?(Xi=zt[0]*Ve+Xi,Gi=zt[1]*pt+Gi,rc(Xi,Gi)):(Tn=zt[0]*Ve+Xi,mi=zt[1]*pt+Gi,qi=zt[2]*Ve+Xi,ti=zt[3]*pt+Gi,Xi=zt[4]*Ve+Xi,Gi=zt[5]*pt+Gi,Ja(Tn,mi,qi,ti,Xi,Gi));return Oe&&Kp(),uf(ye),this},h.path=function(m){for(var I=0;I<m.length;I++){var Q=m[I],se=Q.c;switch(Q.op){case"m":df(se[0],se[1]);break;case"l":rc(se[0],se[1]);break;case"c":Ja.apply(this,se);break;case"h":Kp()}}return this},h.__private__.rect=h.rect=function(m,I,Q,se,ye){if(isNaN(m)||isNaN(I)||isNaN(Q)||isNaN(se)||!Fs(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return j===O&&(se=-se),J([X(U(m)),X(G(I)),X(U(Q)),X(U(se)),"re"].join(" ")),uf(ye),this},h.__private__.triangle=h.triangle=function(m,I,Q,se,ye,Oe,Ve){if(isNaN(m)||isNaN(I)||isNaN(Q)||isNaN(se)||isNaN(ye)||isNaN(Oe)||!Fs(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-m,se-I],[ye-Q,Oe-se],[m-ye,I-Oe]],m,I,[1,1],Ve,!0),this},h.__private__.roundedRect=h.roundedRect=function(m,I,Q,se,ye,Oe,Ve){if(isNaN(m)||isNaN(I)||isNaN(Q)||isNaN(se)||isNaN(ye)||isNaN(Oe)||!Fs(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*Q),Oe=Math.min(Oe,.5*se),this.lines([[Q-2*ye,0],[ye*pt,0,ye,Oe-Oe*pt,ye,Oe],[0,se-2*Oe],[0,Oe*pt,-ye*pt,Oe,-ye,Oe],[2*ye-Q,0],[-ye*pt,0,-ye,-Oe*pt,-ye,-Oe],[0,2*Oe-se],[0,-Oe*pt,ye*pt,-Oe,ye,-Oe]],m+ye,I,[1,1],Ve,!0),this},h.__private__.ellipse=h.ellipse=function(m,I,Q,se,ye){if(isNaN(m)||isNaN(I)||isNaN(Q)||isNaN(se)||!Fs(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*Q,Ve=4/3*(Math.SQRT2-1)*se;return df(m+Q,I),Ja(m+Q,I-Ve,m+Oe,I-se,m,I-se),Ja(m-Oe,I-se,m-Q,I-Ve,m-Q,I),Ja(m-Q,I+Ve,m-Oe,I+se,m,I+se),Ja(m+Oe,I+se,m+Q,I+Ve,m+Q,I),uf(ye),this},h.__private__.circle=h.circle=function(m,I,Q,se){if(isNaN(m)||isNaN(I)||isNaN(Q)||!Fs(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,I,Q,Q,se)},h.setFont=function(m,I,Q){return Q&&(I=he(I,Q)),De=zp(m,I,{disableWarning:!1}),this};var Ny=h.__private__.getFont=h.getFont=function(){return Ze[zp.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var m,I,Q={};for(m in Tt)if(Tt.hasOwnProperty(m))for(I in Q[m]=[],Tt[m])Tt[m].hasOwnProperty(I)&&Q[m].push(I);return Q},h.addFont=function(m,I,Q,se,ye){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(Q=he(Q,se)),Bp.call(this,m,I,Q,ye=ye||"Identity-H")};var oc,ff=t.lineWidth||.200025,Ht=h.__private__.getLineWidth=h.getLineWidth=function(){return ff},ky=h.__private__.setLineWidth=h.setLineWidth=function(m){return ff=m,J(X(U(m))+" w"),this};h.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(m,I){if(m=m||[],I=I||0,isNaN(I)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(Q){return X(U(Q))}).join(" "),I=X(U(I)),J("["+m+"] "+I+" d"),this};var Py=h.__private__.getLineHeight=h.getLineHeight=function(){return He*oc};h.__private__.getLineHeight=h.getLineHeight=function(){return He*oc};var Oy=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(oc=m),this},Ry=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return oc};Oy(t.lineHeight);var pa=h.__private__.getHorizontalCoordinate=function(m){return U(m)},ma=h.__private__.getVerticalCoordinate=function(m){return j===R?m:Qe[z].mediaBox.topRightY-Qe[z].mediaBox.bottomLeftY-U(m)},jy=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(m){return X(pa(m))},Fy=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(m){return X(ma(m))},Su=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Rs(Su)},h.__private__.setStrokeColor=h.setDrawColor=function(m,I,Q,se){return Su=ls({ch1:m,ch2:I,ch3:Q,ch4:se,pdfColorType:"draw",precision:2}),J(Su),this};var hf=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Rs(hf)},h.__private__.setFillColor=h.setFillColor=function(m,I,Q,se){return hf=ls({ch1:m,ch2:I,ch3:Q,ch4:se,pdfColorType:"fill",precision:2}),J(hf),this};var sc=t.textColor||"0 g",Eu=h.__private__.getTextColor=h.getTextColor=function(){return Rs(sc)};h.__private__.setTextColor=h.setTextColor=function(m,I,Q,se){return sc=ls({ch1:m,ch2:I,ch3:Q,ch4:se,pdfColorType:"text",precision:3}),this};var xu=t.charSpace,Ly=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(xu||0)};h.__private__.setCharSpace=h.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xu=m,this};var pf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(m){var I=h.CapJoinStyles[m];if(I===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pf=I,J(I+" J"),this};var mf=0;h.__private__.setLineJoin=h.setLineJoin=function(m){var I=h.CapJoinStyles[m];if(I===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mf=I,J(I+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(X(U(m))+" M"),this},h.GState=Op,h.setGState=function(m){(m=typeof m=="string"?Ut[Nt[m]]:ac(null,m)).equals(nt)||(J("/"+m.id+" gs"),nt=m)};var ac=function(m,I){if(!m||!Nt[m]){var Q=!1;for(var se in Ut)if(Ut.hasOwnProperty(se)&&Ut[se].equals(I)){Q=!0;break}if(Q)I=Ut[se];else{var ye="GS"+(Object.keys(Ut).length+1).toString(10);Ut[ye]=I,I.id=ye}return m&&(Nt[m]=I.id),wt.publish("addGState",I),I}};h.addGState=function(m,I){return ac(m,I),this},h.saveGraphicsState=function(){return J("q"),vn.push({key:De,size:He,color:sc}),this},h.restoreGraphicsState=function(){J("Q");var m=vn.pop();return De=m.key,He=m.size,sc=m.color,nt=null,this},h.setCurrentTransformationMatrix=function(m){return J(m.toString()+" cm"),this},h.comment=function(m){return J("#"+m),this};var lc=function(m,I){var Q=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Oe){isNaN(Oe)||(Q=parseFloat(Oe))}});var se=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(Oe){isNaN(Oe)||(se=parseFloat(Oe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Oe){ye=Oe.toString()}}),this},gf=function(m,I,Q,se){lc.call(this,m,I),this.type="rect";var ye=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ve){isNaN(Ve)||(ye=parseFloat(Ve))}});var Oe=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Ve){isNaN(Ve)||(Oe=parseFloat(Ve))}}),this},Du=function(){this.page=at,this.currentPage=z,this.pages=Pe.slice(0),this.pagesContext=Qe.slice(0),this.x=je,this.y=rt,this.matrix=it,this.width=Yp(z),this.height=ga(z),this.outputDestination=Je,this.id="",this.objectNumber=-1};Du.prototype.restore=function(){at=this.page,z=this.currentPage,Qe=this.pagesContext,Pe=this.pages,je=this.x,rt=this.y,it=this.matrix,Zp(z,this.width),va(z,this.height),Je=this.outputDestination};var vf=function(m,I,Q,se,ye){Fr.push(new Du),at=z=0,Pe=[],je=m,rt=I,it=ye,af([Q,se])};for(var cc in h.beginFormObject=function(m,I,Q,se,ye){return vf(m,I,Q,se,ye),this},h.endFormObject=function(m){return function(I){if(ss[I])Fr.pop().restore();else{var Q=new Du,se="Xo"+(Object.keys(zi).length+1).toString(10);Q.id=se,ss[I]=se,zi[se]=Q,wt.publish("addFormObject",Q),Fr.pop().restore()}}(m),this},h.doFormObject=function(m,I){var Q=zi[ss[m]];return J("q"),J(I.toString()+" cm"),J("/"+Q.id+" Do"),J("Q"),this},h.getFormObject=function(m){var I=zi[ss[m]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},h.save=function(m,I){return m=m||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(uu(nc(ha()),m),typeof uu.unload=="function"&&Ft.setTimeout&&setTimeout(uu.unload,911),this):new Promise(function(Q,se){try{var ye=uu(nc(ha()),m);typeof uu.unload=="function"&&Ft.setTimeout&&setTimeout(uu.unload,911),Q(ye)}catch(Oe){se(Oe.message)}})},Mt.API)Mt.API.hasOwnProperty(cc)&&(cc==="events"&&Mt.API.events.length?function(m,I){var Q,se,ye;for(ye=I.length-1;ye!==-1;ye--)Q=I[ye][0],se=I[ye][1],m.subscribe.apply(m,[Q].concat(typeof se=="function"?[se]:se))}(wt,Mt.API.events):h[cc]=Mt.API[cc]);function Yp(m){return Qe[m].mediaBox.topRightX-Qe[m].mediaBox.bottomLeftX}function Zp(m,I){Qe[m].mediaBox.topRightX=I+Qe[m].mediaBox.bottomLeftX}function ga(m){return Qe[m].mediaBox.topRightY-Qe[m].mediaBox.bottomLeftY}function va(m,I){Qe[m].mediaBox.topRightY=I+Qe[m].mediaBox.bottomLeftY}var Qp=h.getPageWidth=function(m){return Yp(m=m||z)/Te},Xp=h.setPageWidth=function(m,I){Zp(m,I*Te)},uc=h.getPageHeight=function(m){return ga(m=m||z)/Te},Jp=h.setPageHeight=function(m,I){va(m,I*Te)};return h.internal={pdfEscape:Lo,getStyle:Gp,getFont:Ny,getFontSize:et,getCharSpace:Ly,getTextColor:Eu,getLineHeight:Py,getLineHeightFactor:Ry,getLineWidth:Ht,write:kt,getHorizontalCoordinate:pa,getVerticalCoordinate:ma,getCoordinateString:jy,getVerticalCoordinateString:Fy,collections:{},newObject:_i,newAdditionalObject:Jl,newObjectDeferred:cr,newObjectDeferredBegin:gr,getFilters:cs,putStream:Fo,events:wt,scaleFactor:Te,pageSize:{getWidth:function(){return Qp(z)},setWidth:function(m){Xp(z,m)},getHeight:function(){return uc(z)},setHeight:function(m){Jp(z,m)}},encryptionOptions:d,encryption:Ti,getEncryptor:function(m){return d!==null?Ti.encryptor(m,0):function(I){return I}},output:us,getNumberOfPages:$p,pages:Pe,out:J,f2:T,f3:k,getPageInfo:cf,getPageInfoByObjId:xy,getCurrentPageInfo:Dy,getPDFVersion:w,Point:lc,Rectangle:gf,Matrix:Ot,hasHotfix:ic},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Qp(z)},set:function(m){Xp(z,m)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return uc(z)},set:function(m){Jp(z,m)},enumerable:!0,configurable:!0}),function(m){for(var I=0,Q=vt.length;I<Q;I++){var se=Bp.call(this,m[I][0],m[I][1],m[I][2],vt[I][3],!0);p===!1&&(g[se]=!0);var ye=m[I][0].split("-");Vp({id:se,fontName:ye[0],fontStyle:ye[1]||""})}wt.publish("addFonts",{fonts:Ze,dictionary:Tt})}.call(h,vt),De="F1",Up(r,e),wt.publish("initialized"),h}function Kk(t){return t.reduce(function(n,e,i){return n[e]=i,n},{})}function DS(t){var n=t.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return Yk[o=o||"normal"]?o:"normal"}(t.style),i=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),r=function(o){return typeof PS[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:n,style:e,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:n,style:[r,e,i].join(" ")}}}function Ek(t,n,e,i){var r;for(r=e;r>=0&&r<n.length;r+=i)if(t[n[r]])return t[n[r]];for(r=e;r>=0&&r<n.length;r-=i)if(t[n[r]])return t[n[r]]}function Dk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Mk(t){return t.trimLeft()}function tG(t,n){for(var e=0;e<t.length;){if(t.charAt(e)===n)return[t.substring(0,e),t.substring(e+1)];e+=1}return null}function nG(t){var n=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],t.substring(n[0].length)]}function Pk(t,n,e,i,r){var o=4,s=Rk;switch(r){case Mt.API.image_compression.FAST:o=1,s=Ok;break;case Mt.API.image_compression.MEDIUM:o=6,s=jk;break;case Mt.API.image_compression.SLOW:o=9,s=Fk}t=function(l,c,d,p){for(var g,h=l.length/c,b=new Uint8Array(l.length+h),w=[iG,Ok,Rk,jk,Fk],E=0;E<h;E+=1){var S=E*c,O=l.subarray(S,S+c);if(p)b.set(p(O,d,g),S+E);else{for(var R=w.length,j=[],oe=0;oe<R;oe+=1)j[oe]=w[oe](O,d,g);var ve=oG(j.concat());b.set(j[ve],S+E)}g=O}return b}(t,n,Math.ceil(e*i/8),s);var a=Bv(t,{level:o});return Mt.API.__addimage__.arrayBufferToBinaryString(a)}function iG(t){var n=Array.apply([],t);return n.unshift(0),n}function Ok(t,n){var e=t.length,i=[];i[0]=1;for(var r=0;r<e;r+=1){var o=t[r-n]||0;i[r+1]=t[r]-o+256&255}return i}function Rk(t,n,e){var i=t.length,r=[];r[0]=2;for(var o=0;o<i;o+=1){var s=e&&e[o]||0;r[o+1]=t[o]-s+256&255}return r}function jk(t,n,e){var i=t.length,r=[];r[0]=3;for(var o=0;o<i;o+=1){var s=t[o-n]||0,a=e&&e[o]||0;r[o+1]=t[o]+256-(s+a>>>1)&255}return r}function Fk(t,n,e){var i=t.length,r=[];r[0]=4;for(var o=0;o<i;o+=1){var s=rG(t[o-n]||0,e&&e[o]||0,e&&e[o-n]||0);r[o+1]=t[o]-s+256&255}return r}function rG(t,n,e){if(t===n&&n===e)return t;var i=Math.abs(n-e),r=Math.abs(t-e),o=Math.abs(t+n-e-e);return i<=r&&i<=o?t:r<=o?n:e}function oG(t){var n=t.map(function(e){return e.reduce(function(i,r){return i+Math.abs(r)},0)});return n.indexOf(Math.min.apply(null,n))}function IS(t,n,e){var i=n*e,r=Math.floor(i/8),o=16-(i-8*r+e),s=(1<<e)-1;return Xk(t,r)>>o&s}function Lk(t,n,e,i){var r=e*i,o=Math.floor(r/8),s=16-(r-8*o+i),a=(1<<i)-1,l=(n&a)<<s;(function(c,d,p){if(d+1<c.byteLength)c.setUint16(d,p,!1);else{var g=p>>8&255;c.setUint8(d,g)}})(t,o,Xk(t,o)&~(a<<s)&65535|l)}function Xk(t,n){return n+1<t.byteLength?t.getUint16(n,!1):t.getUint8(n)<<8}function sG(t){var n=0;if(t[n++]!==71||t[n++]!==73||t[n++]!==70||t[n++]!==56||(t[n++]+1&253)!=56||t[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=t[n++]|t[n++]<<8,i=t[n++]|t[n++]<<8,r=t[n++],o=r>>7,s=1<<1+(7&r);t[n++],t[n++];var a=null,l=null;o&&(a=n,l=s,n+=3*s);var c=!0,d=[],p=0,g=null,h=0,b=null;for(this.width=e,this.height=i;c&&n<t.length;)switch(t[n++]){case 33:switch(t[n++]){case 255:if(t[n]!==11||t[n+1]==78&&t[n+2]==69&&t[n+3]==84&&t[n+4]==83&&t[n+5]==67&&t[n+6]==65&&t[n+7]==80&&t[n+8]==69&&t[n+9]==50&&t[n+10]==46&&t[n+11]==48&&t[n+12]==3&&t[n+13]==1&&t[n+16]==0)n+=14,b=t[n++]|t[n++]<<8,n++;else for(n+=12;;){if(!((T=t[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;case 249:if(t[n++]!==4||t[n+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[n++];p=t[n++]|t[n++]<<8,g=t[n++],1&w||(g=null),h=w>>2&7,n++;break;case 254:for(;;){if(!((T=t[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[n-1].toString(16))}break;case 44:var E=t[n++]|t[n++]<<8,S=t[n++]|t[n++]<<8,O=t[n++]|t[n++]<<8,R=t[n++]|t[n++]<<8,j=t[n++],oe=j>>6&1,ve=1<<1+(7&j),he=a,X=l,F=!1;j>>7&&(F=!0,he=n,X=ve,n+=3*ve);var ie=n;for(n++;;){var T;if(!((T=t[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}d.push({x:E,y:S,width:O,height:R,has_local_palette:F,palette_offset:he,palette_size:X,data_offset:ie,data_length:n-ie,transparent_index:g,interlaced:!!oe,delay:p,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[n-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,U){var G=this.frameInfo(k),pe=G.width*G.height,W=new Uint8Array(pe);Vk(t,G.data_offset,W,pe);var $=G.palette_offset,V=G.transparent_index;V===null&&(V=256);var B=G.width,de=e-B,ce=B,M=4*(G.y*e+G.x),z=4*((G.y+G.height)*e+G.x),q=M,re=4*de;G.interlaced===!0&&(re+=4*e*7);for(var ue=8,me=0,Ce=W.length;me<Ce;++me){var we=W[me];if(ce===0&&(ce=B,(q+=re)>=z&&(re=4*de+4*e*(ue-1),q=M+(B+de)*(ue<<1),ue>>=1)),we===V)q+=4;else{var xe=t[$+3*we],Pe=t[$+3*we+1],Ge=t[$+3*we+2];U[q++]=Ge,U[q++]=Pe,U[q++]=xe,U[q++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(k,U){var G=this.frameInfo(k),pe=G.width*G.height,W=new Uint8Array(pe);Vk(t,G.data_offset,W,pe);var $=G.palette_offset,V=G.transparent_index;V===null&&(V=256);var B=G.width,de=e-B,ce=B,M=4*(G.y*e+G.x),z=4*((G.y+G.height)*e+G.x),q=M,re=4*de;G.interlaced===!0&&(re+=4*e*7);for(var ue=8,me=0,Ce=W.length;me<Ce;++me){var we=W[me];if(ce===0&&(ce=B,(q+=re)>=z&&(re=4*de+4*e*(ue-1),q=M+(B+de)*(ue<<1),ue>>=1)),we===V)q+=4;else{var xe=t[$+3*we],Pe=t[$+3*we+1],Ge=t[$+3*we+2];U[q++]=xe,U[q++]=Pe,U[q++]=Ge,U[q++]=255}--ce}}}function Vk(t,n,e,i){for(var r=t[n++],o=1<<r,s=o+1,a=s+1,l=r+1,c=(1<<l)-1,d=0,p=0,g=0,h=t[n++],b=new Int32Array(4096),w=null;;){for(;d<16&&h!==0;)p|=t[n++]<<d,d+=8,h===1?h=t[n++]:--h;if(d<l)break;var E=p&c;if(p>>=l,d-=l,E!==o){if(E===s)break;for(var S=E<a?E:w,O=0,R=S;R>o;)R=b[R]>>8,++O;var j=R;if(g+O+(S!==E?1:0)>i)return void ei.log("Warning, gif stream longer than expected.");e[g++]=j;var oe=g+=O;for(S!==E&&(e[g++]=j),R=S;O--;)R=b[R],e[--oe]=255&R,R>>=8;w!==null&&a<4096&&(b[a++]=w<<8|j,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=E}else a=s+1,c=(1<<(l=r+1))-1,w=null}return g!==i&&ei.log("Warning, gif stream shorter than expected."),e}function AS(t){var n,e,i,r,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),h=new Array(64),b=new Array(64),w=[],E=0,S=7,O=new Array(64),R=new Array(64),j=new Array(64),oe=new Array(256),ve=new Array(2048),he=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(M,z){for(var q=0,re=0,ue=new Array,me=1;me<=16;me++){for(var Ce=1;Ce<=M[me];Ce++)ue[z[re]]=[],ue[z[re]][0]=q,ue[z[re]][1]=me,re++,q++;q*=2}return ue}function $(M){for(var z=M[0],q=M[1]-1;q>=0;)z&1<<q&&(E|=1<<S),q--,--S<0&&(E==255?(V(255),V(0)):V(E),S=7,E=0)}function V(M){w.push(M)}function B(M){V(M>>8&255),V(255&M)}function de(M,z,q,re,ue){for(var me,Ce=ue[0],we=ue[240],xe=function(He,ct){var et,Lt,ut,ln,Rt,mt,In,be,De,Te,je=0;for(De=0;De<8;++De){et=He[je],Lt=He[je+1],ut=He[je+2],ln=He[je+3],Rt=He[je+4],mt=He[je+5],In=He[je+6];var rt=et+(be=He[je+7]),it=et-be,Ze=Lt+In,Tt=Lt-In,vn=ut+mt,It=ut-mt,Zt=ln+Rt,Ut=ln-Rt,Nt=rt+Zt,nt=rt-Zt,at=Ze+vn,Qe=Ze-vn;He[je]=Nt+at,He[je+4]=Nt-at;var wt=.707106781*(Qe+nt);He[je+2]=nt+wt,He[je+6]=nt-wt;var yi=.382683433*((Nt=Ut+It)-(Qe=Tt+it)),zi=.5411961*Nt+yi,ss=1.306562965*Qe+yi,Fr=.707106781*(at=It+Tt),Ot=it+Fr,da=it-Fr;He[je+5]=da+zi,He[je+3]=da-zi,He[je+1]=Ot+ss,He[je+7]=Ot-ss,je+=8}for(je=0,De=0;De<8;++De){et=He[je],Lt=He[je+8],ut=He[je+16],ln=He[je+24],Rt=He[je+32],mt=He[je+40],In=He[je+48];var fa=et+(be=He[je+56]),Ro=et-be,jo=Lt+In,_i=Lt-In,cr=ut+mt,gr=ut-mt,Jl=ln+Rt,Qa=ln-Rt,as=fa+Jl,Rs=fa-Jl,ls=jo+cr,cs=jo-cr;He[je]=as+ls,He[je+32]=as-ls;var Fo=.707106781*(cs+Rs);He[je+16]=Rs+Fo,He[je+48]=Rs-Fo;var ec=.382683433*((as=Qa+gr)-(cs=_i+Ro)),js=.5411961*as+ec,tc=1.306562965*cs+ec,_u=.707106781*(ls=gr+_i),bu=Ro+_u,wu=Ro-_u;He[je+40]=wu+js,He[je+24]=wu-js,He[je+8]=bu+tc,He[je+56]=bu-tc,je++}for(De=0;De<64;++De)Te=He[De]*ct[De],h[De]=Te>0?Te+.5|0:Te-.5|0;return h}(M,z),Pe=0;Pe<64;++Pe)b[he[Pe]]=xe[Pe];var Ge=b[0]-q;q=b[0],Ge==0?$(re[0]):($(re[g[me=32767+Ge]]),$(p[me]));for(var Je=63;Je>0&&b[Je]==0;)Je--;if(Je==0)return $(Ce),q;for(var Ae,J=1;J<=Je;){for(var kt=J;b[J]==0&&J<=Je;)++J;var St=J-kt;if(St>=16){Ae=St>>4;for(var vt=1;vt<=Ae;++vt)$(we);St&=15}me=32767+b[J],$(ue[(St<<4)+g[me]]),$(p[me]),J++}return Je!=63&&$(Ce),q}function ce(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ue=s((q[re]*z+50)/100);ue=Math.min(Math.max(ue,1),255),a[he[re]]=ue}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var we=s((me[Ce]*z+50)/100);we=Math.min(Math.max(we,1),255),l[he[Ce]]=we}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Ge=0;Ge<8;Ge++)for(var Je=0;Je<8;Je++)c[Pe]=1/(a[he[Pe]]*xe[Ge]*xe[Je]*8),d[Pe]=1/(l[he[Pe]]*xe[Ge]*xe[Je]*8),Pe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,z){z&&ce(z),w=new Array,E=0,S=7,B(65496),B(65504),B(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),B(1),B(1),V(0),V(0),function(){B(65499),B(132),V(0);for(var Lt=0;Lt<64;Lt++)V(a[Lt]);V(1);for(var ut=0;ut<64;ut++)V(l[ut])}(),function(Lt,ut){B(65472),B(17),V(8),B(ut),B(Lt),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(M.width,M.height),function(){B(65476),B(418),V(0);for(var Lt=0;Lt<16;Lt++)V(X[Lt+1]);for(var ut=0;ut<=11;ut++)V(F[ut]);V(16);for(var ln=0;ln<16;ln++)V(ie[ln+1]);for(var Rt=0;Rt<=161;Rt++)V(T[Rt]);V(1);for(var mt=0;mt<16;mt++)V(k[mt+1]);for(var In=0;In<=11;In++)V(U[In]);V(17);for(var be=0;be<16;be++)V(G[be+1]);for(var De=0;De<=161;De++)V(pe[De])}(),B(65498),B(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var q=0,re=0,ue=0;E=0,S=7,this.encode.displayName="_encode_";for(var me,Ce,we,xe,Pe,Ge,Je,Ae,J,kt=M.data,St=M.width,vt=M.height,He=4*St,ct=0;ct<vt;){for(me=0;me<He;){for(Pe=He*ct+me,Je=-1,Ae=0,J=0;J<64;J++)Ge=Pe+(Ae=J>>3)*He+(Je=4*(7&J)),ct+Ae>=vt&&(Ge-=He*(ct+1+Ae-vt)),me+Je>=He&&(Ge-=me+Je-He+4),Ce=kt[Ge++],we=kt[Ge++],xe=kt[Ge++],O[J]=(ve[Ce]+ve[we+256|0]+ve[xe+512|0]>>16)-128,R[J]=(ve[Ce+768|0]+ve[we+1024|0]+ve[xe+1280|0]>>16)-128,j[J]=(ve[Ce+1280|0]+ve[we+1536|0]+ve[xe+1792|0]>>16)-128;q=de(O,c,q,n,i),re=de(R,d,re,e,r),ue=de(j,d,ue,e,r),me+=32}ct+=8}if(S>=0){var et=[];et[1]=S+1,et[0]=(1<<S+1)-1,$(et)}return B(65497),new Uint8Array(w)},t=t||50,function(){for(var M=String.fromCharCode,z=0;z<256;z++)oe[z]=M(z)}(),n=W(X,F),e=W(k,U),i=W(ie,T),r=W(G,pe),function(){for(var M=1,z=2,q=1;q<=15;q++){for(var re=M;re<z;re++)g[32767+re]=q,p[32767+re]=[],p[32767+re][1]=q,p[32767+re][0]=re;for(var ue=-(z-1);ue<=-M;ue++)g[32767+ue]=q,p[32767+ue]=[],p[32767+ue][1]=q,p[32767+ue][0]=z-1+ue;M<<=1,z<<=1}}(),function(){for(var M=0;M<256;M++)ve[M]=19595*M,ve[M+256|0]=38470*M,ve[M+512|0]=7471*M+32768,ve[M+768|0]=-11059*M,ve[M+1024|0]=-21709*M,ve[M+1280|0]=32768*M+8421375,ve[M+1536|0]=-27439*M,ve[M+1792|0]=-5329*M}(),ce(t)}function ks(t,n){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Bk(t){function n(F){if(!F)throw Error("assert :P")}function e(F,ie,T){for(var k=0;4>k;k++)if(F[ie+k]!=T.charCodeAt(k))return!0;return!1}function i(F,ie,T,k,U){for(var G=0;G<U;G++)F[ie+G]=T[k+G]}function r(F,ie,T,k){for(var U=0;U<k;U++)F[ie+U]=T}function o(F){return new Int32Array(F)}function s(F,ie){for(var T=[],k=0;k<F;k++)T.push(new ie);return T}function a(F,ie){var T=[];return function k(U,G,pe){for(var W=pe[G],$=0;$<W&&(U.push(pe.length>G+1?[]:new ie),!(pe.length<G+1));$++)k(U[$],G+1,pe)}(T,0,F),T}var l=function(){var F=this;function ie(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function T(u,f,v,C,A){n(!(C%v));do u[f+(C-=v)]=A;while(0<C)}function k(u,f,v,C,A){if(n(2328>=A),512>=A)var N=o(512);else if((N=o(A))==null)return 0;return function(P,L,H,Y,fe,Ee){var Z,ge,_e=L,Ne=1<<H,Se=o(16),ke=o(16);for(n(fe!=0),n(Y!=null),n(P!=null),n(0<H),ge=0;ge<fe;++ge){if(15<Y[ge])return 0;++Se[Y[ge]]}if(Se[0]==fe)return 0;for(ke[1]=0,Z=1;15>Z;++Z){if(Se[Z]>1<<Z)return 0;ke[Z+1]=ke[Z]+Se[Z]}for(ge=0;ge<fe;++ge)Z=Y[ge],0<Y[ge]&&(Ee[ke[Z]++]=ge);if(ke[15]==1)return(Y=new U).g=0,Y.value=Ee[0],T(P,_e,1,Ne,Y),Ne;var Re,ze=-1,Le=Ne-1,Et=0,ft=1,nn=1,yt=1<<H;for(ge=0,Z=1,fe=2;Z<=H;++Z,fe<<=1){if(ft+=nn<<=1,0>(nn-=Se[Z]))return 0;for(;0<Se[Z];--Se[Z])(Y=new U).g=Z,Y.value=Ee[ge++],T(P,_e+Et,fe,yt,Y),Et=ie(Et,Z)}for(Z=H+1,fe=2;15>=Z;++Z,fe<<=1){if(ft+=nn<<=1,0>(nn-=Se[Z]))return 0;for(;0<Se[Z];--Se[Z]){if(Y=new U,(Et&Le)!=ze){for(_e+=yt,Re=1<<(ze=Z)-H;15>ze&&!(0>=(Re-=Se[ze]));)++ze,Re<<=1;Ne+=yt=1<<(Re=ze-H),P[L+(ze=Et&Le)].g=Re+H,P[L+ze].value=_e-L-ze}Y.g=Z-H,Y.value=Ee[ge++],T(P,_e+(Et>>H),fe,yt,Y),Et=ie(Et,Z)}}return ft!=2*ke[15]-1?0:Ne}(u,f,v,C,A,N)}function U(){this.value=this.g=0}function G(){this.value=this.g=0}function pe(){this.G=s(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(yc,G)}function W(u,f,v,C){n(u!=null),n(f!=null),n(2147483648>C),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+C,u.Zc=4<=C?v+C-4+1:v,Ce(u)}function $(u,f){for(var v=0;0<f--;)v|=xe(u,128)<<f;return v}function V(u,f){var v=$(u,f);return we(u)?-v:v}function B(u,f,v,C){var A,N=0;for(n(u!=null),n(f!=null),n(4294967288>C),u.Sb=C,u.Ra=0,u.u=0,u.h=0,4<C&&(C=4),A=0;A<C;++A)N+=f[v+A]<<8*A;u.Ra=N,u.bb=C,u.oa=f,u.pa=v}function de(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<nl-8>>>0,++u.bb,u.u-=8;re(u)&&(u.h=1,u.u=0)}function ce(u,f){if(n(0<=f),!u.h&&f<=uo){var v=q(u)&co[f];return u.u+=f,de(u),v}return u.h=1,u.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&nl-1)>>>0}function re(u){return n(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>nl}function ue(u,f){u.u=f,u.h=re(u)}function me(u){u.u>=_a&&(n(u.u>=_a),de(u))}function Ce(u){n(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(n(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function we(u){return $(u,1)}function xe(u,f){var v=u.Ca;0>u.b&&Ce(u);var C=u.b,A=v*f>>>8,N=(u.I>>>C>A)+0;for(N?(v-=A,u.I-=A+1<<C>>>0):v=A+1,C=v,A=0;256<=C;)A+=8,C>>=8;return C=7^A+il[C],u.b-=C,u.Ca=(v<<C)-1,N}function Pe(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=255&v}function Ge(u,f){return u[f+0]|u[f+1]<<8}function Je(u,f){return Ge(u,f)|u[f+2]<<16}function Ae(u,f){return Ge(u,f)|Ge(u,f+2)<<16}function J(u,f){var v=1<<f;return n(u!=null),n(0<f),u.X=o(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function kt(u,f){n(u!=null),n(f!=null),n(u.Xa==f.Xa),i(f.X,0,u.X,0,1<<f.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function vt(u,f,v,C){n(v!=null),n(C!=null);var A=v[0],N=C[0];return A==0&&(A=(u*N+f/2)/f),N==0&&(N=(f*A+u/2)/u),0>=A||0>=N?0:(v[0]=A,C[0]=N,1)}function He(u,f){return u+(1<<f)-1>>>f}function ct(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function et(u,f){F[f]=function(v,C,A,N,P,L,H){var Y;for(Y=0;Y<P;++Y){var fe=F[u](L[H+Y-1],A,N+Y);L[H+Y]=ct(v[C+Y],fe)}}}function Lt(){this.ud=this.hd=this.jd=0}function ut(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function ln(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Rt(u,f){return ln(u+(u-f+.5>>1))}function mt(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function In(u,f,v,C,A,N,P){for(C=N[P-1],v=0;v<A;++v)N[P+v]=C=ct(u[f+v],C)}function be(u,f,v,C,A){var N;for(N=0;N<v;++N){var P=u[f+N],L=P>>8&255,H=16711935&(H=(H=16711935&P)+((L<<16)+L));C[A+N]=(4278255360&P)+H>>>0}}function De(u,f){f.jd=255&u,f.hd=u>>8&255,f.ud=u>>16&255}function Te(u,f,v,C,A,N){var P;for(P=0;P<C;++P){var L=f[v+P],H=L>>>8,Y=L,fe=255&(fe=(fe=L>>>16)+((u.jd<<24>>24)*(H<<24>>24)>>>5));Y=255&(Y=(Y+=(u.hd<<24>>24)*(H<<24>>24)>>>5)+((u.ud<<24>>24)*(fe<<24>>24)>>>5)),A[N+P]=(4278255360&L)+(fe<<16)+Y}}function je(u,f,v,C,A){F[f]=function(N,P,L,H,Y,fe,Ee,Z,ge){for(H=Ee;H<Z;++H)for(Ee=0;Ee<ge;++Ee)Y[fe++]=A(L[C(N[P++])])},F[u]=function(N,P,L,H,Y,fe,Ee){var Z=8>>N.b,ge=N.Ea,_e=N.K[0],Ne=N.w;if(8>Z)for(N=(1<<N.b)-1,Ne=(1<<Z)-1;P<L;++P){var Se,ke=0;for(Se=0;Se<ge;++Se)Se&N||(ke=C(H[Y++])),fe[Ee++]=A(_e[ke&Ne]),ke>>=Z}else F["VP8LMapColor"+v](H,Y,_e,Ne,fe,Ee,P,L,ge)}}function rt(u,f,v,C,A){for(v=f+v;f<v;){var N=u[f++];C[A++]=N>>16&255,C[A++]=N>>8&255,C[A++]=255&N}}function it(u,f,v,C,A){for(v=f+v;f<v;){var N=u[f++];C[A++]=N>>16&255,C[A++]=N>>8&255,C[A++]=255&N,C[A++]=N>>24&255}}function Ze(u,f,v,C,A){for(v=f+v;f<v;){var N=(P=u[f++])>>16&240|P>>12&15,P=240&P|P>>28&15;C[A++]=N,C[A++]=P}}function Tt(u,f,v,C,A){for(v=f+v;f<v;){var N=(P=u[f++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;C[A++]=N,C[A++]=P}}function vn(u,f,v,C,A){for(v=f+v;f<v;){var N=u[f++];C[A++]=255&N,C[A++]=N>>8&255,C[A++]=N>>16&255}}function It(u,f,v,C,A,N){if(N==0)for(v=f+v;f<v;)Pe(C,((N=u[f++])[0]>>24|N[1]>>8&65280|N[2]<<8&16711680|N[3]<<24)>>>0),A+=32;else i(C,A,u,f,v)}function Zt(u,f){F[f][0]=F[u+"0"],F[f][1]=F[u+"1"],F[f][2]=F[u+"2"],F[f][3]=F[u+"3"],F[f][4]=F[u+"4"],F[f][5]=F[u+"5"],F[f][6]=F[u+"6"],F[f][7]=F[u+"7"],F[f][8]=F[u+"8"],F[f][9]=F[u+"9"],F[f][10]=F[u+"10"],F[f][11]=F[u+"11"],F[f][12]=F[u+"12"],F[f][13]=F[u+"13"],F[f][14]=F[u+"0"],F[f][15]=F[u+"0"]}function Ut(u){return u==Uy||u==Hy||u==cm||u==$y}function Nt(){this.eb=[],this.size=this.A=this.fb=0}function nt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nt,this.f.kb=new nt,this.sd=null}function Qe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yi(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function zi(u,f){var v=u.T,C=f.ba.f.RGBA,A=C.eb,N=C.fb+u.ka*C.A,P=$o[f.ba.S],L=u.y,H=u.O,Y=u.f,fe=u.N,Ee=u.ea,Z=u.W,ge=f.cc,_e=f.dc,Ne=f.Mc,Se=f.Nc,ke=u.ka,Re=u.ka+u.T,ze=u.U,Le=ze+1>>1;for(ke==0?P(L,H,null,null,Y,fe,Ee,Z,Y,fe,Ee,Z,A,N,null,null,ze):(P(f.ec,f.fc,L,H,ge,_e,Ne,Se,Y,fe,Ee,Z,A,N-C.A,A,N,ze),++v);ke+2<Re;ke+=2)ge=Y,_e=fe,Ne=Ee,Se=Z,fe+=u.Rc,Z+=u.Rc,N+=2*C.A,P(L,(H+=2*u.fa)-u.fa,L,H,ge,_e,Ne,Se,Y,fe,Ee,Z,A,N-C.A,A,N,ze);return H+=u.fa,u.j+Re<u.o?(i(f.ec,f.fc,L,H,ze),i(f.cc,f.dc,Y,fe,Le),i(f.Mc,f.Nc,Ee,Z,Le),v--):1&Re||P(L,H,null,null,Y,fe,Ee,Z,Y,fe,Ee,Z,A,N+C.A,null,null,ze),v}function ss(u,f,v){var C=u.F,A=[u.J];if(C!=null){var N=u.U,P=f.ba.S,L=P==lm||P==cm;f=f.ba.f.RGBA;var H=[0],Y=u.ka;H[0]=u.T,u.Kb&&(Y==0?--H[0]:(--Y,A[0]-=u.width),u.j+u.ka+u.T==u.o&&(H[0]=u.o-u.j-Y));var fe=f.eb;Y=f.fb+Y*f.A,u=QS(C,A[0],u.width,N,H,fe,Y+(L?0:3),f.A),n(v==H),u&&Ut(P)&&If(fe,Y,L,N,H,f.A)}return 0}function Fr(u){var f=u.ma,v=f.ba.S,C=11>v,A=v==sm||v==am||v==lm||v==By||v==12||Ut(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!bf(f.Oa,u,A?11:12))return 0;if(A&&Ut(v)&&em(),u.da)alert("todo:use_scaling");else{if(C){if(f.Ib=yi,u.Kb){if(v=u.U+1>>1,f.memory=o(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=zi,em()}}else alert("todo:EmitYUV");A&&(f.Jb=ss,C&&Vo())}if(C&&!pE){for(u=0;256>u;++u)EO[u]=89858*(u-128)+dm>>um,MO[u]=-22014*(u-128)+dm,DO[u]=-45773*(u-128),xO[u]=113618*(u-128)+dm>>um;for(u=Tf;u<qy;++u)f=76283*(u-16)+dm>>um,IO[u-Tf]=bi(f,255),AO[u-Tf]=bi(f+8>>4,15);pE=1}return 1}function Ot(u){var f=u.ma,v=u.U,C=u.T;return n(!(1&u.ka)),0>=v||0>=C?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function da(u){u.ma.memory=null}function fa(u,f,v,C){return ce(u,8)!=47?0:(f[0]=ce(u,14)+1,v[0]=ce(u,14)+1,C[0]=ce(u,1),ce(u,3)!=0?0:!u.h)}function Ro(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+ce(f,v)+1}function jo(u,f){return 120<f?f-120:1<=(v=((v=uO[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function _i(u,f,v){var C=q(v),A=u[f+=255&C].g-8;return 0<A&&(ue(v,v.u+8),C=q(v),f+=u[f].value,f+=C&(1<<A)-1),ue(v,v.u+u[f].g),u[f].value}function cr(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,n(8>=v.g),u.g}function gr(u,f,v){var C=u.xc;return n((f=C==0?0:u.vc[u.md*(v>>C)+(f>>C)])<u.Wb),u.Ya[f]}function Jl(u,f,v,C){var A=u.ab,N=u.c*f,P=u.C;f=P+f;var L=v,H=C;for(C=u.Ta,v=u.Ua;0<A--;){var Y=u.gc[A],fe=P,Ee=f,Z=L,ge=H,_e=(H=C,L=v,Y.Ea);switch(n(fe<Ee),n(Ee<=Y.nc),Y.hc){case 2:Ni(Z,ge,(Ee-fe)*_e,H,L);break;case 0:var Ne=fe,Se=Ee,ke=H,Re=L,ze=(yt=Y).Ea;Ne==0&&(Cf(Z,ge,null,null,1,ke,Re),In(Z,ge+1,0,0,ze-1,ke,Re+1),ge+=ze,Re+=ze,++Ne);for(var Le=1<<yt.b,Et=Le-1,ft=He(ze,yt.b),nn=yt.K,yt=yt.w+(Ne>>yt.b)*ft;Ne<Se;){var yn=nn,er=yt,rn=1;for(Au(Z,ge,ke,Re-ze,1,ke,Re);rn<ze;){var _t=(rn&~Et)+Le;_t>ze&&(_t=ze),(0,Ef[yn[er++]>>8&15])(Z,ge+ +rn,ke,Re+rn-ze,_t-rn,ke,Re+rn),rn=_t}ge+=ze,Re+=ze,++Ne&Et||(yt+=ft)}Ee!=Y.nc&&i(H,L-_e,H,L+(Ee-fe-1)*_e,_e);break;case 1:for(_e=Z,Se=ge,ze=(Z=Y.Ea)-(Re=Z&~(ke=(ge=1<<Y.b)-1)),Ne=He(Z,Y.b),Le=Y.K,Y=Y.w+(fe>>Y.b)*Ne;fe<Ee;){for(Et=Le,ft=Y,nn=new Lt,yt=Se+Re,yn=Se+Z;Se<yt;)De(Et[ft++],nn),xf(nn,_e,Se,ge,H,L),Se+=ge,L+=ge;Se<yn&&(De(Et[ft++],nn),xf(nn,_e,Se,ze,H,L),Se+=ze,L+=ze),++fe&ke||(Y+=Ne)}break;case 3:if(Z==H&&ge==L&&0<Y.b){for(Se=H,Z=_e=L+(Ee-fe)*_e-(Re=(Ee-fe)*He(Y.Ea,Y.b)),ge=H,ke=L,Ne=[],Re=(ze=Re)-1;0<=Re;--Re)Ne[Re]=ge[ke+Re];for(Re=ze-1;0<=Re;--Re)Se[Z+Re]=Ne[Re];nm(Y,fe,Ee,H,_e,H,L)}else nm(Y,fe,Ee,Z,ge,H,L)}L=C,H=v}H!=v&&i(C,v,L,H,N)}function Qa(u,f){var v=u.V,C=u.Ba+u.c*u.C,A=f-u.C;if(n(f<=u.l.o),n(16>=A),0<A){var N=u.l,P=u.Ta,L=u.Ua,H=N.width;if(Jl(u,A,v,C),A=L=[L],n((v=u.C)<(C=f)),n(N.v<N.va),C>N.o&&(C=N.o),v<N.j){var Y=N.j-v;v=N.j,A[0]+=Y*H}if(v>=C?v=0:(A[0]+=4*N.v,N.ka=v-N.j,N.U=N.va-N.v,N.T=C-v,v=1),v){if(L=L[0],11>(v=u.ca).S){var fe=v.f.RGBA,Ee=(C=v.S,A=N.U,N=N.T,Y=fe.eb,fe.A),Z=N;for(fe=fe.fb+u.Ma*fe.A;0<Z--;){var ge=P,_e=L,Ne=A,Se=Y,ke=fe;switch(C){case om:Df(ge,_e,Ne,Se,ke);break;case sm:rl(ge,_e,Ne,Se,ke);break;case Uy:rl(ge,_e,Ne,Se,ke),If(Se,ke,0,Ne,1,0);break;case rE:_c(ge,_e,Ne,Se,ke);break;case am:It(ge,_e,Ne,Se,ke,1);break;case Hy:It(ge,_e,Ne,Se,ke,1),If(Se,ke,0,Ne,1,0);break;case lm:It(ge,_e,Ne,Se,ke,0);break;case cm:It(ge,_e,Ne,Se,ke,0),If(Se,ke,1,Ne,1,0);break;case By:ol(ge,_e,Ne,Se,ke);break;case $y:ol(ge,_e,Ne,Se,ke),ZS(Se,ke,Ne,1,0);break;case oE:sl(ge,_e,Ne,Se,ke);break;default:n(0)}L+=H,fe+=Ee}u.Ma+=N}else alert("todo:EmitRescaledRowsYUVA");n(u.Ma<=v.height)}}u.C=f,n(u.C<=u.i)}function as(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,C=u.Ya[f].H;if(0<v[1][C[1]+0].g||0<v[2][C[2]+0].g||0<v[3][C[3]+0].g)return 0}return 1}function Rs(u,f,v,C,A,N){if(u.Z!=0){var P=u.qd,L=u.rd;for(n(cl[u.Z]!=null);f<v;++f)cl[u.Z](P,L,C,A,C,A,N),P=C,L=A,A+=N;u.qd=P,u.rd=L}}function ls(u,f){var v=u.l.ma,C=v.Z==0||v.Z==1?u.l.j:u.C;if(C=u.C<C?C:u.C,n(f<=u.l.o),f>C){var A=u.l.width,N=v.ca,P=v.tb+A*C,L=u.V,H=u.Ba+u.c*C,Y=u.gc;n(u.ab==1),n(Y[0].hc==3),Vs(Y[0],C,f,L,H,N,P),Rs(v,C,f,N,P,A)}u.C=u.Ma=f}function cs(u,f,v,C,A,N,P){var L=u.$/C,H=u.$%C,Y=u.m,fe=u.s,Ee=v+u.$,Z=Ee;A=v+C*A;var ge=v+C*N,_e=280+fe.ua,Ne=u.Pb?L:16777216,Se=0<fe.ua?fe.Wa:null,ke=fe.wc,Re=Ee<ge?gr(fe,H,L):null;n(u.C<N),n(ge<=A);var ze=!1;e:for(;;){for(;ze||Ee<ge;){var Le=0;if(L>=Ne){var Et=Ee-v;n((Ne=u).Pb),Ne.wd=Ne.m,Ne.xd=Et,0<Ne.s.ua&&kt(Ne.s.Wa,Ne.s.vb),Ne=L+fO}if(H&ke||(Re=gr(fe,H,L)),n(Re!=null),Re.Qb&&(f[Ee]=Re.qb,ze=!0),!ze)if(me(Y),Re.jc){Le=Y,Et=f;var ft=Ee,nn=Re.pd[q(Le)&yc-1];n(Re.jc),256>nn.g?(ue(Le,Le.u+nn.g),Et[ft]=nn.value,Le=0):(ue(Le,Le.u+nn.g-256),n(256<=nn.value),Le=nn.value),Le==0&&(ze=!0)}else Le=_i(Re.G[0],Re.H[0],Y);if(Y.h)break;if(ze||256>Le){if(!ze)if(Re.nd)f[Ee]=(Re.qb|Le<<8)>>>0;else{if(me(Y),ze=_i(Re.G[1],Re.H[1],Y),me(Y),Et=_i(Re.G[2],Re.H[2],Y),ft=_i(Re.G[3],Re.H[3],Y),Y.h)break;f[Ee]=(ft<<24|ze<<16|Le<<8|Et)>>>0}if(ze=!1,++Ee,++H>=C&&(H=0,++L,P!=null&&L<=N&&!(L%16)&&P(u,L),Se!=null))for(;Z<Ee;)Le=f[Z++],Se.X[(506832829*Le&4294967295)>>>Se.Mb]=Le}else if(280>Le){if(Le=Ro(Le-256,Y),Et=_i(Re.G[4],Re.H[4],Y),me(Y),Et=jo(C,Et=Ro(Et,Y)),Y.h)break;if(Ee-v<Et||A-Ee<Le)break e;for(ft=0;ft<Le;++ft)f[Ee+ft]=f[Ee+ft-Et];for(Ee+=Le,H+=Le;H>=C;)H-=C,++L,P!=null&&L<=N&&!(L%16)&&P(u,L);if(n(Ee<=A),H&ke&&(Re=gr(fe,H,L)),Se!=null)for(;Z<Ee;)Le=f[Z++],Se.X[(506832829*Le&4294967295)>>>Se.Mb]=Le}else{if(!(Le<_e))break e;for(ze=Le-280,n(Se!=null);Z<Ee;)Le=f[Z++],Se.X[(506832829*Le&4294967295)>>>Se.Mb]=Le;Le=Ee,n(!(ze>>>(Et=Se).Xa)),f[Le]=Et.X[ze],ze=!0}ze||n(Y.h==re(Y))}if(u.Pb&&Y.h&&Ee<A)n(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&kt(u.s.vb,u.s.Wa);else{if(Y.h)break e;P?.(u,L>N?N:L),u.a=0,u.$=Ee-v}return 1}return u.a=3,0}function Fo(u){n(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,n(u!=null)}function ec(){var u=new Ct;return u==null?null:(u.a=0,u.xb=lE,Zt("Predictor","VP8LPredictors"),Zt("Predictor","VP8LPredictors_C"),Zt("PredictorAdd","VP8LPredictorsAdd"),Zt("PredictorAdd","VP8LPredictorsAdd_C"),Ni=be,xf=Te,Df=rt,rl=it,ol=Ze,sl=Tt,_c=vn,F.VP8LMapColor32b=Ls,F.VP8LMapColor8b=Sf,u)}function js(u,f,v,C,A){var N=1,P=[u],L=[f],H=C.m,Y=C.s,fe=null,Ee=0;e:for(;;){if(v)for(;N&&ce(H,1);){var Z=P,ge=L,_e=C,Ne=1,Se=_e.m,ke=_e.gc[_e.ab],Re=ce(Se,2);if(_e.Oc&1<<Re)N=0;else{switch(_e.Oc|=1<<Re,ke.hc=Re,ke.Ea=Z[0],ke.nc=ge[0],ke.K=[null],++_e.ab,n(4>=_e.ab),Re){case 0:case 1:ke.b=ce(Se,3)+2,Ne=js(He(ke.Ea,ke.b),He(ke.nc,ke.b),0,_e,ke.K),ke.K=ke.K[0];break;case 3:var ze,Le=ce(Se,8)+1,Et=16<Le?0:4<Le?1:2<Le?2:3;if(Z[0]=He(ke.Ea,Et),ke.b=Et,ze=Ne=js(Le,1,0,_e,ke.K)){var ft,nn=Le,yt=ke,yn=1<<(8>>yt.b),er=o(yn);if(er==null)ze=0;else{var rn=yt.K[0],_t=yt.w;for(er[0]=yt.K[0][0],ft=1;ft<1*nn;++ft)er[ft]=ct(rn[_t+ft],er[ft-1]);for(;ft<4*yn;++ft)er[ft]=0;yt.K[0]=null,yt.K[0]=er,ze=1}}Ne=ze;break;case 2:break;default:n(0)}N=Ne}}if(P=P[0],L=L[0],N&&ce(H,1)&&!(N=1<=(Ee=ce(H,4))&&11>=Ee)){C.a=3;break e}var Xe;if(Xe=N)t:{var Pi,Qt,Sn,ai=C,yr=P,Lr=L,wi=Ee,xr=v,Vr=ai.m,tr=ai.s,xn=[null],Vn=1,Ci=0,Bn=dO[wi];n:for(;;){if(xr&&ce(Vr,1)){var _r=ce(Vr,3)+2,fs=He(yr,_r),Oi=He(Lr,_r),Zr=fs*Oi;if(!js(fs,Oi,0,ai,xn))break n;for(xn=xn[0],tr.xc=_r,Pi=0;Pi<Zr;++Pi){var Kn=xn[Pi]>>8&65535;xn[Pi]=Kn,Kn>=Vn&&(Vn=Kn+1)}}if(Vr.h)break n;for(Qt=0;5>Qt;++Qt){var nr=sE[Qt];!Qt&&0<wi&&(nr+=1<<wi),Ci<nr&&(Ci=nr)}var ho=s(Vn*Bn,U),Br=Vn,po=s(Br,pe);if(po==null)var mo=null;else n(65536>=Br),mo=po;var Qr=o(Ci);if(mo==null||Qr==null||ho==null){ai.a=1;break n}var go=ho;for(Pi=Sn=0;Pi<Vn;++Pi){var ni=mo[Pi],vo=ni.G,hs=ni.H,wc=0,Ca=1,br=0;for(Qt=0;5>Qt;++Qt){nr=sE[Qt],vo[Qt]=go,hs[Qt]=Sn,!Qt&&0<wi&&(nr+=1<<wi);r:{var hm,Gy=nr,pm=ai,Nf=Qr,kO=go,PO=Sn,Ky=0,ul=pm.m,OO=ce(ul,1);if(r(Nf,0,0,Gy),OO){var RO=ce(ul,1)+1,jO=ce(ul,1),vE=ce(ul,jO==0?1:8);Nf[vE]=1,RO==2&&(Nf[vE=ce(ul,8)]=1);var mm=1}else{var yE=o(19),_E=ce(ul,4)+4;if(19<_E){pm.a=3;var gm=0;break r}for(hm=0;hm<_E;++hm)yE[cO[hm]]=ce(ul,3);var Yy=void 0,kf=void 0,bE=pm,FO=yE,vm=Gy,wE=Nf,Zy=0,dl=bE.m,CE=8,SE=s(128,U);i:for(;k(SE,0,7,FO,19);){if(ce(dl,1)){var LO=2+2*ce(dl,3);if((Yy=2+ce(dl,LO))>vm)break i}else Yy=vm;for(kf=0;kf<vm&&Yy--;){me(dl);var EE=SE[0+(127&q(dl))];ue(dl,dl.u+EE.g);var Nu=EE.value;if(16>Nu)wE[kf++]=Nu,Nu!=0&&(CE=Nu);else{var VO=Nu==16,xE=Nu-16,BO=aO[xE],DE=ce(dl,sO[xE])+BO;if(kf+DE>vm)break i;for(var UO=VO?CE:0;0<DE--;)wE[kf++]=UO}}Zy=1;break i}Zy||(bE.a=3),mm=Zy}(mm=mm&&!ul.h)&&(Ky=k(kO,PO,8,Nf,Gy)),mm&&Ky!=0?gm=Ky:(pm.a=3,gm=0)}if(gm==0)break n;if(Ca&&lO[Qt]==1&&(Ca=go[Sn].g==0),wc+=go[Sn].g,Sn+=gm,3>=Qt){var Pf,Qy=Qr[0];for(Pf=1;Pf<nr;++Pf)Qr[Pf]>Qy&&(Qy=Qr[Pf]);br+=Qy}}if(ni.nd=Ca,ni.Qb=0,Ca&&(ni.qb=(vo[3][hs[3]+0].value<<24|vo[1][hs[1]+0].value<<16|vo[2][hs[2]+0].value)>>>0,wc==0&&256>vo[0][hs[0]+0].value&&(ni.Qb=1,ni.qb+=vo[0][hs[0]+0].value<<8)),ni.jc=!ni.Qb&&6>br,ni.jc){var ym,Sa=ni;for(ym=0;ym<yc;++ym){var fl=ym,hl=Sa.pd[fl],_m=Sa.G[0][Sa.H[0]+fl];256<=_m.value?(hl.g=_m.g+256,hl.value=_m.value):(hl.g=0,hl.value=0,fl>>=cr(_m,8,hl),fl>>=cr(Sa.G[1][Sa.H[1]+fl],16,hl),fl>>=cr(Sa.G[2][Sa.H[2]+fl],0,hl),cr(Sa.G[3][Sa.H[3]+fl],24,hl))}}}tr.vc=xn,tr.Wb=Vn,tr.Ya=mo,tr.yc=ho,Xe=1;break t}Xe=0}if(!(N=Xe)){C.a=3;break e}if(0<Ee){if(Y.ua=1<<Ee,!J(Y.Wa,Ee)){C.a=1,N=0;break e}}else Y.ua=0;var Xy=C,ME=P,HO=L,Jy=Xy.s,e1=Jy.xc;if(Xy.c=ME,Xy.i=HO,Jy.md=He(ME,e1),Jy.wc=e1==0?-1:(1<<e1)-1,v){C.xb=_O;break e}if((fe=o(P*L))==null){C.a=1,N=0;break e}N=(N=cs(C,fe,0,P,L,L,null))&&!H.h;break e}return N?(A!=null?A[0]=fe:(n(fe==null),n(v)),C.$=0,v||Fo(Y)):Fo(Y),N}function tc(u,f){var v=u.c*u.i,C=v+f+16*f;return n(u.c<=f),u.V=o(C),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function _u(u,f){var v=u.C,C=f-v,A=u.V,N=u.Ba+u.c*v;for(n(f<=u.l.o);0<C;){var P=16<C?16:C,L=u.l.ma,H=u.l.width,Y=H*P,fe=L.ca,Ee=L.tb+H*v,Z=u.Ta,ge=u.Ua;Jl(u,P,A,N),XS(Z,ge,fe,Ee,Y),Rs(L,v,v+P,fe,Ee,H),C-=P,A+=P*u.c,v+=P}n(v==f),u.C=u.Ma=f}function bu(){this.ub=this.yd=this.td=this.Rb=0}function wu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sy(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function sf(){this.Yb=function(){var u=[];return function f(v,C,A){for(var N=A[C],P=0;P<N&&(v.push(A.length>C+1?[]:0),!(A.length<C+1));P++)f(v[P],C+1,A)}(u,0,[3,11]),u}()}function Vp(){this.jb=o(3),this.Wc=a([4,8],sf),this.Xc=a([4,17],sf)}function Bp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Lo(){this.ld=this.La=this.dd=this.tc=0}function af(){this.Na=this.la=0}function Up(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function lf(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hp(){this.uc=this.M=this.Nb=0,this.wa=Array(new Lo),this.Y=0,this.ya=Array(new lf),this.aa=0,this.l=new Cu}function $p(){this.y=o(16),this.f=o(8),this.ea=o(8)}function zp(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new bu,this.Kc=new wu,this.ed=new Bp,this.Qa=new Sy,this.Ic=this.$c=this.Aa=0,this.D=new Hp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,Up),this.Pa=new Vp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $p),this.Hd=0,this.rb=Array(new af),this.sb=0,this.wa=Array(new Lo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new lf),this.L=this.aa=0,this.gd=a([4,2],Lo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ey(){var u=new zp;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Af||(Af=ha)),u}function Wi(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function Wp(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function qp(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return Wi(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,C=f.w,A=f.ha;if(4>A)return Wi(u,7,"Truncated header.");var N=v[C+0]|v[C+1]<<8|v[C+2]<<16,P=u.Od;if(P.Rb=!(1&N),P.td=N>>1&7,P.yd=N>>4&1,P.ub=N>>5,3<P.td)return Wi(u,3,"Incorrect keyframe parameters.");if(!P.yd)return Wi(u,4,"Frame not displayable.");C+=3,A-=3;var L=u.Kc;if(P.Rb){if(7>A)return Wi(u,7,"cannot parse picture header");if(!Wp(v,C,A))return Wi(u,3,"Bad code word");L.c=16383&(v[C+4]<<8|v[C+3]),L.Td=v[C+4]>>6,L.i=16383&(v[C+6]<<8|v[C+5]),L.Ud=v[C+6]>>6,C+=7,A-=7,u.za=L.c+15>>4,u.Ub=L.i+15>>4,f.width=L.c,f.height=L.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,r((N=u.Pa).jb,0,255,N.jb.length),n((N=u.Qa)!=null),N.Cb=0,N.Bb=0,N.Fb=1,r(N.Zb,0,0,N.Zb.length),r(N.Lb,0,0,N.Lb)}if(P.ub>A)return Wi(u,7,"bad partition length");W(N=u.m,v,C,P.ub),C+=P.ub,A-=P.ub,P.Rb&&(L.Ld=we(N),L.Kd=we(N)),L=u.Qa;var H,Y=u.Pa;if(n(N!=null),n(L!=null),L.Cb=we(N),L.Cb){if(L.Bb=we(N),we(N)){for(L.Fb=we(N),H=0;4>H;++H)L.Zb[H]=we(N)?V(N,7):0;for(H=0;4>H;++H)L.Lb[H]=we(N)?V(N,6):0}if(L.Bb)for(H=0;3>H;++H)Y.jb[H]=we(N)?$(N,8):255}else L.Bb=0;if(N.Ka)return Wi(u,3,"cannot parse segment header");if((L=u.ed).zd=we(N),L.Tb=$(N,6),L.wb=$(N,3),L.Pc=we(N),L.Pc&&we(N)){for(Y=0;4>Y;++Y)we(N)&&(L.vd[Y]=V(N,6));for(Y=0;4>Y;++Y)we(N)&&(L.od[Y]=V(N,6))}if(u.L=L.Tb==0?0:L.zd?1:2,N.Ka)return Wi(u,3,"cannot parse filter header");var fe=A;if(A=H=C,C=H+fe,L=fe,u.Xb=(1<<$(u.m,2))-1,fe<3*(Y=u.Xb))v=7;else{for(H+=3*Y,L-=3*Y,fe=0;fe<Y;++fe){var Ee=v[A+0]|v[A+1]<<8|v[A+2]<<16;Ee>L&&(Ee=L),W(u.Jc[+fe],v,H,Ee),H+=Ee,L-=Ee,A+=3}W(u.Jc[+Y],v,H,L),v=H<C?0:5}if(v!=0)return Wi(u,v,"cannot parse partitions");for(v=$(H=u.m,7),A=we(H)?V(H,4):0,C=we(H)?V(H,4):0,L=we(H)?V(H,4):0,Y=we(H)?V(H,4):0,H=we(H)?V(H,4):0,fe=u.Qa,Ee=0;4>Ee;++Ee){if(fe.Cb){var Z=fe.Zb[Ee];fe.Fb||(Z+=v)}else{if(0<Ee){u.pb[Ee]=u.pb[0];continue}Z=v}var ge=u.pb[Ee];ge.Sc[0]=zy[bi(Z+A,127)],ge.Sc[1]=Wy[bi(Z+0,127)],ge.Eb[0]=2*zy[bi(Z+C,127)],ge.Eb[1]=101581*Wy[bi(Z+L,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=zy[bi(Z+Y,117)],ge.Qc[1]=Wy[bi(Z+H,127)],ge.lc=Z+H}if(!P.Rb)return Wi(u,4,"Not a key frame.");for(we(N),P=u.Pa,v=0;4>v;++v){for(A=0;8>A;++A)for(C=0;3>C;++C)for(L=0;11>L;++L)Y=xe(N,vO[v][A][C][L])?$(N,8):mO[v][A][C][L],P.Wc[v][A].Yb[C][L]=Y;for(A=0;17>A;++A)P.Xc[v][A]=P.Wc[v][yO[A]]}return u.kc=we(N),u.kc&&(u.Bd=$(N,8)),u.cb=1}function ha(u,f,v,C,A,N,P){var L=f[A].Yb[v];for(v=0;16>A;++A){if(!xe(u,L[v+0]))return A;for(;!xe(u,L[v+1]);)if(L=f[++A].Yb[0],v=0,A==16)return 16;var H=f[A+1].Yb;if(xe(u,L[v+2])){var Y=u,fe=0;if(xe(Y,(Z=L)[(Ee=v)+3]))if(xe(Y,Z[Ee+6])){for(L=0,Ee=2*(fe=xe(Y,Z[Ee+8]))+(Z=xe(Y,Z[Ee+9+fe])),fe=0,Z=hO[Ee];Z[L];++L)fe+=fe+xe(Y,Z[L]);fe+=3+(8<<Ee)}else xe(Y,Z[Ee+7])?(fe=7+2*xe(Y,165),fe+=xe(Y,145)):fe=5+xe(Y,159);else fe=xe(Y,Z[Ee+4])?3+xe(Y,Z[Ee+5]):2;L=H[2]}else fe=1,L=H[1];H=P+pO[A],0>(Y=u).b&&Ce(Y);var Ee,Z=Y.b,ge=(Ee=Y.Ca>>1)-(Y.I>>Z)>>31;--Y.b,Y.Ca+=ge,Y.Ca|=1,Y.I-=(Ee+1&ge)<<Z,N[H]=((fe^ge)-ge)*C[(0<A)+0]}return 16}function nc(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,r(u.zc,0,0,u.zc.length),u.ja=0}function us(u,f,v,C,A){A=u[f+v+32*C]+(A>>3),u[f+v+32*C]=-256&A?0>A?0:255:A}function ic(u,f,v,C,A,N){us(u,f,0,v,C+A),us(u,f,1,v,C+N),us(u,f,2,v,C-N),us(u,f,3,v,C-A)}function Ti(u){return(20091*u>>16)+u}function cf(u,f,v,C){var A,N=0,P=o(16);for(A=0;4>A;++A){var L=u[f+0]+u[f+8],H=u[f+0]-u[f+8],Y=(35468*u[f+4]>>16)-Ti(u[f+12]),fe=Ti(u[f+4])+(35468*u[f+12]>>16);P[N+0]=L+fe,P[N+1]=H+Y,P[N+2]=H-Y,P[N+3]=L-fe,N+=4,f++}for(A=N=0;4>A;++A)L=(u=P[N+0]+4)+P[N+8],H=u-P[N+8],Y=(35468*P[N+4]>>16)-Ti(P[N+12]),us(v,C,0,0,L+(fe=Ti(P[N+4])+(35468*P[N+12]>>16))),us(v,C,1,0,H+Y),us(v,C,2,0,H-Y),us(v,C,3,0,L-fe),N++,C+=32}function xy(u,f,v,C){var A=u[f+0]+4,N=35468*u[f+4]>>16,P=Ti(u[f+4]),L=35468*u[f+1]>>16;ic(v,C,0,A+P,u=Ti(u[f+1]),L),ic(v,C,1,A+N,u,L),ic(v,C,2,A-N,u,L),ic(v,C,3,A-P,u,L)}function Dy(u,f,v,C,A){cf(u,f,v,C),A&&cf(u,f+16,v,C+4)}function My(u,f,v,C){bc(u,f+0,v,C,1),bc(u,f+32,v,C+128,1)}function Fs(u,f,v,C){var A;for(u=u[f+0]+4,A=0;4>A;++A)for(f=0;4>f;++f)us(v,C,f,A,u)}function Gp(u,f,v,C){u[f+0]&&Rn(u,f+0,v,C),u[f+16]&&Rn(u,f+16,v,C+4),u[f+32]&&Rn(u,f+32,v,C+128),u[f+48]&&Rn(u,f+48,v,C+128+4)}function Kp(u,f,v,C){var A,N=o(16);for(A=0;4>A;++A){var P=u[f+0+A]+u[f+12+A],L=u[f+4+A]+u[f+8+A],H=u[f+4+A]-u[f+8+A],Y=u[f+0+A]-u[f+12+A];N[0+A]=P+L,N[8+A]=P-L,N[4+A]=Y+H,N[12+A]=Y-H}for(A=0;4>A;++A)P=(u=N[0+4*A]+3)+N[3+4*A],L=N[1+4*A]+N[2+4*A],H=N[1+4*A]-N[2+4*A],Y=u-N[3+4*A],v[C+0]=P+L>>3,v[C+16]=Y+H>>3,v[C+32]=P-L>>3,v[C+48]=Y-H>>3,C+=64}function Xa(u,f,v){var C,A=f-32,N=fo,P=255-u[A-1];for(C=0;C<v;++C){var L,H=N,Y=P+u[f-1];for(L=0;L<v;++L)u[f+L]=H[Y+u[A+L]];f+=32}}function uf(u,f){Xa(u,f,4)}function Iy(u,f){Xa(u,f,8)}function Ay(u,f){Xa(u,f,16)}function Ty(u,f){var v;for(v=0;16>v;++v)i(u,f+32*v,u,f-32,16)}function df(u,f){var v;for(v=16;0<v;--v)r(u,f,u[f-1],16),f+=32}function rc(u,f,v){var C;for(C=0;16>C;++C)r(f,v+32*C,u,16)}function Ja(u,f){var v,C=16;for(v=0;16>v;++v)C+=u[f-1+32*v]+u[f+v-32];rc(C>>5,u,f)}function Ny(u,f){var v,C=8;for(v=0;16>v;++v)C+=u[f-1+32*v];rc(C>>4,u,f)}function oc(u,f){var v,C=8;for(v=0;16>v;++v)C+=u[f+v-32];rc(C>>4,u,f)}function ff(u,f){rc(128,u,f)}function Ht(u,f,v){return u+2*f+v+2>>2}function ky(u,f){var v,C=f-32;for(C=new Uint8Array([Ht(u[C-1],u[C+0],u[C+1]),Ht(u[C+0],u[C+1],u[C+2]),Ht(u[C+1],u[C+2],u[C+3]),Ht(u[C+2],u[C+3],u[C+4])]),v=0;4>v;++v)i(u,f+32*v,C,0,C.length)}function Py(u,f){var v=u[f-1],C=u[f-1+32],A=u[f-1+64],N=u[f-1+96];Pe(u,f+0,16843009*Ht(u[f-1-32],v,C)),Pe(u,f+32,16843009*Ht(v,C,A)),Pe(u,f+64,16843009*Ht(C,A,N)),Pe(u,f+96,16843009*Ht(A,N,N))}function Oy(u,f){var v,C=4;for(v=0;4>v;++v)C+=u[f+v-32]+u[f-1+32*v];for(C>>=3,v=0;4>v;++v)r(u,f+32*v,C,4)}function Ry(u,f){var v=u[f-1+0],C=u[f-1+32],A=u[f-1+64],N=u[f-1-32],P=u[f+0-32],L=u[f+1-32],H=u[f+2-32],Y=u[f+3-32];u[f+0+96]=Ht(C,A,u[f-1+96]),u[f+1+96]=u[f+0+64]=Ht(v,C,A),u[f+2+96]=u[f+1+64]=u[f+0+32]=Ht(N,v,C),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=Ht(P,N,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=Ht(L,P,N),u[f+3+32]=u[f+2+0]=Ht(H,L,P),u[f+3+0]=Ht(Y,H,L)}function pa(u,f){var v=u[f+1-32],C=u[f+2-32],A=u[f+3-32],N=u[f+4-32],P=u[f+5-32],L=u[f+6-32],H=u[f+7-32];u[f+0+0]=Ht(u[f+0-32],v,C),u[f+1+0]=u[f+0+32]=Ht(v,C,A),u[f+2+0]=u[f+1+32]=u[f+0+64]=Ht(C,A,N),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=Ht(A,N,P),u[f+3+32]=u[f+2+64]=u[f+1+96]=Ht(N,P,L),u[f+3+64]=u[f+2+96]=Ht(P,L,H),u[f+3+96]=Ht(L,H,H)}function ma(u,f){var v=u[f-1+0],C=u[f-1+32],A=u[f-1+64],N=u[f-1-32],P=u[f+0-32],L=u[f+1-32],H=u[f+2-32],Y=u[f+3-32];u[f+0+0]=u[f+1+64]=N+P+1>>1,u[f+1+0]=u[f+2+64]=P+L+1>>1,u[f+2+0]=u[f+3+64]=L+H+1>>1,u[f+3+0]=H+Y+1>>1,u[f+0+96]=Ht(A,C,v),u[f+0+64]=Ht(C,v,N),u[f+0+32]=u[f+1+96]=Ht(v,N,P),u[f+1+32]=u[f+2+96]=Ht(N,P,L),u[f+2+32]=u[f+3+96]=Ht(P,L,H),u[f+3+32]=Ht(L,H,Y)}function jy(u,f){var v=u[f+0-32],C=u[f+1-32],A=u[f+2-32],N=u[f+3-32],P=u[f+4-32],L=u[f+5-32],H=u[f+6-32],Y=u[f+7-32];u[f+0+0]=v+C+1>>1,u[f+1+0]=u[f+0+64]=C+A+1>>1,u[f+2+0]=u[f+1+64]=A+N+1>>1,u[f+3+0]=u[f+2+64]=N+P+1>>1,u[f+0+32]=Ht(v,C,A),u[f+1+32]=u[f+0+96]=Ht(C,A,N),u[f+2+32]=u[f+1+96]=Ht(A,N,P),u[f+3+32]=u[f+2+96]=Ht(N,P,L),u[f+3+64]=Ht(P,L,H),u[f+3+96]=Ht(L,H,Y)}function Fy(u,f){var v=u[f-1+0],C=u[f-1+32],A=u[f-1+64],N=u[f-1+96];u[f+0+0]=v+C+1>>1,u[f+2+0]=u[f+0+32]=C+A+1>>1,u[f+2+32]=u[f+0+64]=A+N+1>>1,u[f+1+0]=Ht(v,C,A),u[f+3+0]=u[f+1+32]=Ht(C,A,N),u[f+3+32]=u[f+1+64]=Ht(A,N,N),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=N}function Su(u,f){var v=u[f-1+0],C=u[f-1+32],A=u[f-1+64],N=u[f-1+96],P=u[f-1-32],L=u[f+0-32],H=u[f+1-32],Y=u[f+2-32];u[f+0+0]=u[f+2+32]=v+P+1>>1,u[f+0+32]=u[f+2+64]=C+v+1>>1,u[f+0+64]=u[f+2+96]=A+C+1>>1,u[f+0+96]=N+A+1>>1,u[f+3+0]=Ht(L,H,Y),u[f+2+0]=Ht(P,L,H),u[f+1+0]=u[f+3+32]=Ht(v,P,L),u[f+1+32]=u[f+3+64]=Ht(C,v,P),u[f+1+64]=u[f+3+96]=Ht(A,C,v),u[f+1+96]=Ht(N,A,C)}function hf(u,f){var v;for(v=0;8>v;++v)i(u,f+32*v,u,f-32,8)}function sc(u,f){var v;for(v=0;8>v;++v)r(u,f,u[f-1],8),f+=32}function Eu(u,f,v){var C;for(C=0;8>C;++C)r(f,v+32*C,u,8)}function xu(u,f){var v,C=8;for(v=0;8>v;++v)C+=u[f+v-32]+u[f-1+32*v];Eu(C>>4,u,f)}function Ly(u,f){var v,C=4;for(v=0;8>v;++v)C+=u[f+v-32];Eu(C>>3,u,f)}function pf(u,f){var v,C=4;for(v=0;8>v;++v)C+=u[f-1+32*v];Eu(C>>3,u,f)}function mf(u,f){Eu(128,u,f)}function ac(u,f,v){var C=u[f-v],A=u[f+0],N=3*(A-C)+Vy[1020+u[f-2*v]-u[f+v]],P=rm[112+(N+4>>3)];u[f-v]=fo[255+C+rm[112+(N+3>>3)]],u[f+0]=fo[255+A-P]}function lc(u,f,v,C){var A=u[f+0],N=u[f+v];return Ho[255+u[f-2*v]-u[f-v]]>C||Ho[255+N-A]>C}function gf(u,f,v,C){return 4*Ho[255+u[f-v]-u[f+0]]+Ho[255+u[f-2*v]-u[f+v]]<=C}function Du(u,f,v,C,A){var N=u[f-3*v],P=u[f-2*v],L=u[f-v],H=u[f+0],Y=u[f+v],fe=u[f+2*v],Ee=u[f+3*v];return 4*Ho[255+L-H]+Ho[255+P-Y]>C?0:Ho[255+u[f-4*v]-N]<=A&&Ho[255+N-P]<=A&&Ho[255+P-L]<=A&&Ho[255+Ee-fe]<=A&&Ho[255+fe-Y]<=A&&Ho[255+Y-H]<=A}function vf(u,f,v,C){var A=2*C+1;for(C=0;16>C;++C)gf(u,f+C,v,A)&&ac(u,f+C,v)}function cc(u,f,v,C){var A=2*C+1;for(C=0;16>C;++C)gf(u,f+C*v,1,A)&&ac(u,f+C*v,1)}function Yp(u,f,v,C){var A;for(A=3;0<A;--A)vf(u,f+=4*v,v,C)}function Zp(u,f,v,C){var A;for(A=3;0<A;--A)cc(u,f+=4,v,C)}function ga(u,f,v,C,A,N,P,L){for(N=2*N+1;0<A--;){if(Du(u,f,v,N,P))if(lc(u,f,v,L))ac(u,f,v);else{var H=u,Y=f,fe=v,Ee=H[Y-2*fe],Z=H[Y-fe],ge=H[Y+0],_e=H[Y+fe],Ne=H[Y+2*fe],Se=27*(Re=Vy[1020+3*(ge-Z)+Vy[1020+Ee-_e]])+63>>7,ke=18*Re+63>>7,Re=9*Re+63>>7;H[Y-3*fe]=fo[255+H[Y-3*fe]+Re],H[Y-2*fe]=fo[255+Ee+ke],H[Y-fe]=fo[255+Z+Se],H[Y+0]=fo[255+ge-Se],H[Y+fe]=fo[255+_e-ke],H[Y+2*fe]=fo[255+Ne-Re]}f+=C}}function va(u,f,v,C,A,N,P,L){for(N=2*N+1;0<A--;){if(Du(u,f,v,N,P))if(lc(u,f,v,L))ac(u,f,v);else{var H=u,Y=f,fe=v,Ee=H[Y-fe],Z=H[Y+0],ge=H[Y+fe],_e=rm[112+(4+(Ne=3*(Z-Ee))>>3)],Ne=rm[112+(Ne+3>>3)],Se=_e+1>>1;H[Y-2*fe]=fo[255+H[Y-2*fe]+Se],H[Y-fe]=fo[255+Ee+Ne],H[Y+0]=fo[255+Z-_e],H[Y+fe]=fo[255+ge-Se]}f+=C}}function Qp(u,f,v,C,A,N){ga(u,f,v,1,16,C,A,N)}function Xp(u,f,v,C,A,N){ga(u,f,1,v,16,C,A,N)}function uc(u,f,v,C,A,N){var P;for(P=3;0<P;--P)va(u,f+=4*v,v,1,16,C,A,N)}function Jp(u,f,v,C,A,N){var P;for(P=3;0<P;--P)va(u,f+=4,1,v,16,C,A,N)}function m(u,f,v,C,A,N,P,L){ga(u,f,A,1,8,N,P,L),ga(v,C,A,1,8,N,P,L)}function I(u,f,v,C,A,N,P,L){ga(u,f,1,A,8,N,P,L),ga(v,C,1,A,8,N,P,L)}function Q(u,f,v,C,A,N,P,L){va(u,f+4*A,A,1,8,N,P,L),va(v,C+4*A,A,1,8,N,P,L)}function se(u,f,v,C,A,N,P,L){va(u,f+4,1,A,8,N,P,L),va(v,C+4,1,A,8,N,P,L)}function ye(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ve(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new U}function Ct(){this.xb=this.a=0,this.l=new Cu,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=s(4,Ve),this.Oc=0}function Vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(u,f,v,C,A,N,P){for(u=u==null?0:u[f+0],f=0;f<P;++f)A[N+f]=u+v[C+f]&255,u=A[N+f]}function Tn(u,f,v,C,A,N,P){var L;if(u==null)zt(null,null,v,C,A,N,P);else for(L=0;L<P;++L)A[N+L]=u[f+L]+v[C+L]&255}function mi(u,f,v,C,A,N,P){if(u==null)zt(null,null,v,C,A,N,P);else{var L,H=u[f+0],Y=H,fe=H;for(L=0;L<P;++L)Y=fe+(H=u[f+L])-Y,fe=v[C+L]+(-256&Y?0>Y?0:255:Y)&255,Y=H,A[N+L]=fe}}function qi(u,f,v,C){var A=f.width,N=f.o;if(n(u!=null&&f!=null),0>v||0>=C||v+C>N)return null;if(!u.Cc){if(u.ga==null){var P;if(u.ga=new Vt,(P=u.ga==null)||(P=f.width*f.o,n(u.Gb.length==0),u.Gb=o(P),u.Uc=0,u.Gb==null?P=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,P=1),P=!P),!P){P=u.ga;var L=u.Fa,H=u.P,Y=u.qc,fe=u.mb,Ee=u.nb,Z=H+1,ge=Y-1,_e=P.l;if(n(L!=null&&fe!=null&&f!=null),cl[0]=null,cl[1]=zt,cl[2]=Tn,cl[3]=mi,P.ca=fe,P.tb=Ee,P.c=f.width,P.i=f.height,n(0<P.c&&0<P.i),1>=Y)f=0;else if(P.$a=3&L[H+0],P.Z=L[H+0]>>2&3,P.Lc=L[H+0]>>4&3,H=L[H+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||H)f=0;else if(_e.put=Ot,_e.ac=Fr,_e.bc=da,_e.ma=P,_e.width=f.width,_e.height=f.height,_e.Da=f.Da,_e.v=f.v,_e.va=f.va,_e.j=f.j,_e.o=f.o,P.$a)e:{n(P.$a==1),f=ec();t:for(;;){if(f==null){f=0;break e}if(n(P!=null),P.mc=f,f.c=P.c,f.i=P.i,f.l=P.l,f.l.ma=P,f.l.width=P.c,f.l.height=P.i,f.a=0,B(f.m,L,Z,ge),!js(P.c,P.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&as(f.s)?(P.ic=1,L=f.c*f.i,f.Ta=null,f.Ua=0,f.V=o(L),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(P.ic=0,f=tc(f,P.c)),!f))break t;f=1;break e}P.mc=null,f=0}else f=ge>=P.c*P.i;P=!f}if(P)return null;u.ga.Lc!=1?u.Ga=0:C=N-v}n(u.ga!=null),n(v+C<=N);e:{if(f=(L=u.ga).c,N=L.l.o,L.$a==0){if(Z=u.rc,ge=u.Vc,_e=u.Fa,H=u.P+1+v*f,Y=u.mb,fe=u.nb+v*f,n(H<=u.P+u.qc),L.Z!=0)for(n(cl[L.Z]!=null),P=0;P<C;++P)cl[L.Z](Z,ge,_e,H,Y,fe,f),Z=Y,ge=fe,fe+=f,H+=f;else for(P=0;P<C;++P)i(Y,fe,_e,H,f),Z=Y,ge=fe,fe+=f,H+=f;u.rc=Z,u.Vc=ge}else{if(n(L.mc!=null),f=v+C,n((P=L.mc)!=null),n(f<=P.i),P.C>=f)f=1;else if(L.ic||Vo(),L.ic){L=P.V,Z=P.Ba,ge=P.c;var Ne=P.i,Se=(_e=1,H=P.$/ge,Y=P.$%ge,fe=P.m,Ee=P.s,P.$),ke=ge*Ne,Re=ge*f,ze=Ee.wc,Le=Se<Re?gr(Ee,Y,H):null;n(Se<=ke),n(f<=Ne),n(as(Ee));t:for(;;){for(;!fe.h&&Se<Re;){if(Y&ze||(Le=gr(Ee,Y,H)),n(Le!=null),me(fe),256>(Ne=_i(Le.G[0],Le.H[0],fe)))L[Z+Se]=Ne,++Se,++Y>=ge&&(Y=0,++H<=f&&!(H%16)&&ls(P,H));else{if(!(280>Ne)){_e=0;break t}Ne=Ro(Ne-256,fe);var Et,ft=_i(Le.G[4],Le.H[4],fe);if(me(fe),!(Se>=(ft=jo(ge,ft=Ro(ft,fe)))&&ke-Se>=Ne)){_e=0;break t}for(Et=0;Et<Ne;++Et)L[Z+Se+Et]=L[Z+Se+Et-ft];for(Se+=Ne,Y+=Ne;Y>=ge;)Y-=ge,++H<=f&&!(H%16)&&ls(P,H);Se<Re&&Y&ze&&(Le=gr(Ee,Y,H))}n(fe.h==re(fe))}ls(P,H>f?f:H);break t}!_e||fe.h&&Se<ke?(_e=0,P.a=fe.h?5:3):P.$=Se,f=_e}else f=cs(P,P.V,P.Ba,P.c,P.i,f,_u);if(!f){C=0;break e}}v+C>=N&&(u.Cc=1),C=1}if(!C)return null;if(u.Cc&&((C=u.ga)!=null&&(C.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*A}function ti(u,f,v,C,A,N){for(;0<A--;){var P,L=u,H=f+(v?1:0),Y=u,fe=f+(v?0:3);for(P=0;P<C;++P){var Ee=Y[fe+4*P];Ee!=255&&(Ee*=32897,L[H+4*P+0]=L[H+4*P+0]*Ee>>23,L[H+4*P+1]=L[H+4*P+1]*Ee>>23,L[H+4*P+2]=L[H+4*P+2]*Ee>>23)}f+=N}}function Xi(u,f,v,C,A){for(;0<C--;){var N;for(N=0;N<v;++N){var P=u[f+2*N+0],L=15&(Y=u[f+2*N+1]),H=4369*L,Y=(240&Y|Y>>4)*H>>16;u[f+2*N+0]=(240&P|P>>4)*H>>16&240|(15&P|P<<4)*H>>16>>4&15,u[f+2*N+1]=240&Y|L}f+=A}}function Gi(u,f,v,C,A,N,P,L){var H,Y,fe=255;for(Y=0;Y<A;++Y){for(H=0;H<C;++H){var Ee=u[f+H];N[P+4*H]=Ee,fe&=Ee}f+=v,P+=L}return fe!=255}function vr(u,f,v,C,A){var N;for(N=0;N<A;++N)v[C+N]=u[f+N]>>8}function Vo(){If=ti,ZS=Xi,QS=Gi,XS=vr}function Yr(u,f,v){F[u]=function(C,A,N,P,L,H,Y,fe,Ee,Z,ge,_e,Ne,Se,ke,Re,ze){var Le,Et=ze-1>>1,ft=L[H+0]|Y[fe+0]<<16,nn=Ee[Z+0]|ge[_e+0]<<16;n(C!=null);var yt=3*ft+nn+131074>>2;for(f(C[A+0],255&yt,yt>>16,Ne,Se),N!=null&&(yt=3*nn+ft+131074>>2,f(N[P+0],255&yt,yt>>16,ke,Re)),Le=1;Le<=Et;++Le){var yn=L[H+Le]|Y[fe+Le]<<16,er=Ee[Z+Le]|ge[_e+Le]<<16,rn=ft+yn+nn+er+524296,_t=rn+2*(yn+nn)>>3;yt=_t+ft>>1,ft=(rn=rn+2*(ft+er)>>3)+yn>>1,f(C[A+2*Le-1],255&yt,yt>>16,Ne,Se+(2*Le-1)*v),f(C[A+2*Le-0],255&ft,ft>>16,Ne,Se+(2*Le-0)*v),N!=null&&(yt=rn+nn>>1,ft=_t+er>>1,f(N[P+2*Le-1],255&yt,yt>>16,ke,Re+(2*Le-1)*v),f(N[P+2*Le+0],255&ft,ft>>16,ke,Re+(2*Le+0)*v)),ft=yn,nn=er}1&ze||(yt=3*ft+nn+131074>>2,f(C[A+ze-1],255&yt,yt>>16,Ne,Se+(ze-1)*v),N!=null&&(yt=3*nn+ft+131074>>2,f(N[P+ze-1],255&yt,yt>>16,ke,Re+(ze-1)*v)))}}function em(){$o[om]=bO,$o[sm]=cE,$o[rE]=wO,$o[am]=uE,$o[lm]=dE,$o[By]=fE,$o[oE]=CO,$o[Uy]=cE,$o[Hy]=uE,$o[cm]=dE,$o[$y]=fE}function Mu(u){return u&~SO?0>u?0:255:u>>hE}function dc(u,f){return Mu((19077*u>>8)+(26149*f>>8)-14234)}function el(u,f,v){return Mu((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function fc(u,f){return Mu((19077*u>>8)+(33050*f>>8)-17685)}function hc(u,f,v,C,A){C[A+0]=dc(u,v),C[A+1]=el(u,f,v),C[A+2]=fc(u,f)}function pc(u,f,v,C,A){C[A+0]=fc(u,f),C[A+1]=el(u,f,v),C[A+2]=dc(u,v)}function Er(u,f,v,C,A){var N=el(u,f,v);f=N<<3&224|fc(u,f)>>3,C[A+0]=248&dc(u,v)|N>>5,C[A+1]=f}function mc(u,f,v,C,A){var N=240&fc(u,f)|15;C[A+0]=240&dc(u,v)|el(u,f,v)>>4,C[A+1]=N}function gc(u,f,v,C,A){C[A+0]=255,hc(u,f,v,C,A+1)}function yf(u,f,v,C,A){pc(u,f,v,C,A),C[A+3]=255}function _f(u,f,v,C,A){hc(u,f,v,C,A),C[A+3]=255}function bi(u,f){return 0>u?0:u>f?f:u}function ya(u,f,v){F[u]=function(C,A,N,P,L,H,Y,fe,Ee){for(var Z=fe+(-2&Ee)*v;fe!=Z;)f(C[A+0],N[P+0],L[H+0],Y,fe),f(C[A+1],N[P+0],L[H+0],Y,fe+v),A+=2,++P,++H,fe+=2*v;1&Ee&&f(C[A+0],N[P+0],L[H+0],Y,fe)}}function Iu(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function tm(u,f,v,C,A){switch(u>>>30){case 3:bc(f,v,C,A,0);break;case 2:Uo(f,v,C,A);break;case 1:Rn(f,v,C,A)}}function Bo(u,f){var v,C,A=f.M,N=f.Nb,P=u.oc,L=u.pc+40,H=u.oc,Y=u.pc+584,fe=u.oc,Ee=u.pc+600;for(v=0;16>v;++v)P[L+32*v-1]=129;for(v=0;8>v;++v)H[Y+32*v-1]=129,fe[Ee+32*v-1]=129;for(0<A?P[L-1-32]=H[Y-1-32]=fe[Ee-1-32]=129:(r(P,L-32-1,127,21),r(H,Y-32-1,127,9),r(fe,Ee-32-1,127,9)),C=0;C<u.za;++C){var Z=f.ya[f.aa+C];if(0<C){for(v=-1;16>v;++v)i(P,L+32*v-4,P,L+32*v+12,4);for(v=-1;8>v;++v)i(H,Y+32*v-4,H,Y+32*v+4,4),i(fe,Ee+32*v-4,fe,Ee+32*v+4,4)}var ge=u.Gd,_e=u.Hd+C,Ne=Z.ad,Se=Z.Hc;if(0<A&&(i(P,L-32,ge[_e].y,0,16),i(H,Y-32,ge[_e].f,0,8),i(fe,Ee-32,ge[_e].ea,0,8)),Z.Za){var ke=P,Re=L-32+16;for(0<A&&(C>=u.za-1?r(ke,Re,ge[_e].y[15],4):i(ke,Re,ge[_e+1].y,0,4)),v=0;4>v;v++)ke[Re+128+v]=ke[Re+256+v]=ke[Re+384+v]=ke[Re+0+v];for(v=0;16>v;++v,Se<<=2)ke=P,Re=L+mE[v],ds[Z.Ob[v]](ke,Re),tm(Se,Ne,16*+v,ke,Re)}else if(ke=Iu(C,A,Z.Ob[0]),ll[ke](P,L),Se!=0)for(v=0;16>v;++v,Se<<=2)tm(Se,Ne,16*+v,P,L+mE[v]);for(v=Z.Gc,ke=Iu(C,A,Z.Dd),wa[ke](H,Y),wa[ke](fe,Ee),Se=Ne,ke=H,Re=Y,255&(Z=0|v)&&(170&Z?Bs(Se,256,ke,Re):Gn(Se,256,ke,Re)),Z=fe,Se=Ee,255&(v>>=8)&&(170&v?Bs(Ne,320,Z,Se):Gn(Ne,320,Z,Se)),A<u.Ub-1&&(i(ge[_e].y,0,P,L+480,16),i(ge[_e].f,0,H,Y+224,8),i(ge[_e].ea,0,fe,Ee+224,8)),v=8*N*u.B,ge=u.sa,_e=u.ta+16*C+16*N*u.R,Ne=u.qa,Z=u.ra+8*C+v,Se=u.Ha,ke=u.Ia+8*C+v,v=0;16>v;++v)i(ge,_e+v*u.R,P,L+32*v,16);for(v=0;8>v;++v)i(Ne,Z+v*u.B,H,Y+32*v,8),i(Se,ke+v*u.B,fe,Ee+32*v,8)}}function vc(u,f,v,C,A,N,P,L,H){var Y=[0],fe=[0],Ee=0,Z=H!=null?H.kd:0,ge=H??new Oe;if(u==null||12>v)return 7;ge.data=u,ge.w=f,ge.ha=v,f=[f],v=[v],ge.gb=[ge.gb];e:{var _e=f,Ne=v,Se=ge.gb;if(n(u!=null),n(Ne!=null),n(Se!=null),Se[0]=0,12<=Ne[0]&&!e(u,_e[0],"RIFF")){if(e(u,_e[0]+8,"WEBP")){Se=3;break e}var ke=Ae(u,_e[0]+4);if(12>ke||4294967286<ke){Se=3;break e}if(Z&&ke>Ne[0]-8){Se=7;break e}Se[0]=ke,_e[0]+=12,Ne[0]-=12}Se=0}if(Se!=0)return Se;for(ke=0<ge.gb[0],v=v[0];;){e:{var Re=u;Ne=f,Se=v;var ze=Y,Le=fe,Et=_e=[0];if((yt=Ee=[Ee])[0]=0,8>Se[0])Se=7;else{if(!e(Re,Ne[0],"VP8X")){if(Ae(Re,Ne[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ft=Ae(Re,Ne[0]+8),nn=1+Je(Re,Ne[0]+12);if(2147483648<=nn*(Re=1+Je(Re,Ne[0]+15))){Se=3;break e}Et!=null&&(Et[0]=ft),ze!=null&&(ze[0]=nn),Le!=null&&(Le[0]=Re),Ne[0]+=18,Se[0]-=18,yt[0]=1}Se=0}}if(Ee=Ee[0],_e=_e[0],Se!=0)return Se;if(Ne=!!(2&_e),!ke&&Ee)return 3;if(N!=null&&(N[0]=!!(16&_e)),P!=null&&(P[0]=Ne),L!=null&&(L[0]=0),P=Y[0],_e=fe[0],Ee&&Ne&&H==null){Se=0;break}if(4>v){Se=7;break}if(ke&&Ee||!ke&&!Ee&&!e(u,f[0],"ALPH")){v=[v],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{ft=u,Se=f,ke=v;var yt=ge.gb;ze=ge.na,Le=ge.P,Et=ge.Sa,nn=22,n(ft!=null),n(ke!=null),Re=Se[0];var yn=ke[0];for(n(ze!=null),n(Et!=null),ze[0]=null,Le[0]=null,Et[0]=0;;){if(Se[0]=Re,ke[0]=yn,8>yn){Se=7;break e}var er=Ae(ft,Re+4);if(4294967286<er){Se=3;break e}var rn=8+er+1&-2;if(nn+=rn,0<yt&&nn>yt){Se=3;break e}if(!e(ft,Re,"VP8 ")||!e(ft,Re,"VP8L")){Se=0;break e}if(yn[0]<rn){Se=7;break e}e(ft,Re,"ALPH")||(ze[0]=ft,Le[0]=Re+8,Et[0]=er),Re+=rn,yn-=rn}}if(v=v[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],Se!=0)break}v=[v],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(yt=u,Se=f,ke=v,ze=ge.gb[0],Le=ge.Ja,Et=ge.xa,ft=Se[0],Re=!e(yt,ft,"VP8 "),nn=!e(yt,ft,"VP8L"),n(yt!=null),n(ke!=null),n(Le!=null),n(Et!=null),8>ke[0])Se=7;else{if(Re||nn){if(yt=Ae(yt,ft+4),12<=ze&&yt>ze-12){Se=3;break e}if(Z&&yt>ke[0]-8){Se=7;break e}Le[0]=yt,Se[0]+=8,ke[0]-=8,Et[0]=nn}else Et[0]=5<=ke[0]&&yt[ft+0]==47&&!(yt[ft+4]>>5),Le[0]=ke[0];Se=0}if(v=v[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],f=f[0],Se!=0)break;if(4294967286<ge.Ja)return 3;if(L==null||Ne||(L[0]=ge.xa?2:1),P=[P],_e=[_e],ge.xa){if(5>v){Se=7;break}L=P,Z=_e,Ne=N,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(ke=[0],yt=[0],ze=[0],B(Le=new z,u,f,v),fa(Le,ke,yt,ze)?(L!=null&&(L[0]=ke[0]),Z!=null&&(Z[0]=yt[0]),Ne!=null&&(Ne[0]=ze[0]),u=1):u=0):u=0}else{if(10>v){Se=7;break}L=_e,u==null||10>v||!Wp(u,f+3,v-3)?u=0:(Z=u[f+0]|u[f+1]<<8|u[f+2]<<16,Ne=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ge.Ja||!Ne||!u?u=0:(P&&(P[0]=Ne),L&&(L[0]=u),u=1))}if(!u||(P=P[0],_e=_e[0],Ee&&(Y[0]!=P||fe[0]!=_e)))return 3;H!=null&&(H[0]=ge,H.offset=f-H.w,n(4294967286>f-H.w),n(H.offset==H.ha-v));break}return Se==0||Se==7&&Ee&&H==null?(N!=null&&(N[0]|=ge.na!=null&&0<ge.na.length),C!=null&&(C[0]=P),A!=null&&(A[0]=_e),0):Se}function bf(u,f,v){var C=f.width,A=f.height,N=0,P=0,L=C,H=A;if(f.Da=u!=null&&0<u.Da,f.Da&&(L=u.cd,H=u.bd,N=u.v,P=u.j,11>v||(N&=-2,P&=-2),0>N||0>P||0>=L||0>=H||N+L>C||P+H>A))return 0;if(f.v=N,f.j=P,f.va=N+L,f.o=P+H,f.U=L,f.T=H,f.da=u!=null&&0<u.da,f.da){if(!vt(L,H,v=[u.ib],N=[u.hb]))return 0;f.ib=v[0],f.hb=N[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*C/4&&f.hb<3*A/4,f.Kb=0),1}function wf(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function tl(u,f,v,C){if(C==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var A=v.cd,N=v.bd,P=-2&v.v,L=-2&v.j;if(0>P||0>L||0>=A||0>=N||P+A>u||L+N>f)return 2;u=A,f=N}if(v.da){if(!vt(u,f,A=[v.ib],N=[v.hb]))return 2;u=A[0],f=N[0]}}C.width=u,C.height=f;e:{var H=C.width,Y=C.height;if(u=C.S,0>=H||0>=Y||!(u>=om&&13>u))u=2;else{if(0>=C.Rd&&C.sd==null){P=N=A=f=0;var fe=(L=H*gE[u])*Y;if(11>u||(N=(Y+1)/2*(f=(H+1)/2),u==12&&(P=(A=H)*Y)),(Y=o(fe+2*N+P))==null){u=1;break e}C.sd=Y,11>u?((H=C.f.RGBA).eb=Y,H.fb=0,H.A=L,H.size=fe):((H=C.f.kb).y=Y,H.O=0,H.fa=L,H.Fd=fe,H.f=Y,H.N=0+fe,H.Ab=f,H.Cd=N,H.ea=Y,H.W=0+fe+N,H.Db=f,H.Ed=N,u==12&&(H.F=Y,H.J=0+fe+2*N),H.Tc=P,H.lb=A)}if(f=1,A=C.S,N=C.width,P=C.height,A>=om&&13>A)if(11>A)u=C.f.RGBA,f&=(L=Math.abs(u.A))*(P-1)+N<=u.size,f&=L>=N*gE[A],f&=u.eb!=null;else{u=C.f.kb,L=(N+1)/2,fe=(P+1)/2,H=Math.abs(u.fa),Y=Math.abs(u.Ab);var Ee=Math.abs(u.Db),Z=Math.abs(u.lb),ge=Z*(P-1)+N;f&=H*(P-1)+N<=u.Fd,f&=Y*(fe-1)+L<=u.Cd,f=(f&=Ee*(fe-1)+L<=u.Ed)&H>=N&Y>=L&Ee>=L,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,A==12&&(f&=Z>=N,f&=ge<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=wf(C)),u}var yc=64,co=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uo=24,nl=32,_a=8,il=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(u){return u},F.Predictor2=function(u,f,v){return f[v+0]},F.Predictor3=function(u,f,v){return f[v+1]},F.Predictor4=function(u,f,v){return f[v-1]},F.Predictor5=function(u,f,v){return ut(ut(u,f[v+1]),f[v+0])},F.Predictor6=function(u,f,v){return ut(u,f[v-1])},F.Predictor7=function(u,f,v){return ut(u,f[v+0])},F.Predictor8=function(u,f,v){return ut(f[v-1],f[v+0])},F.Predictor9=function(u,f,v){return ut(f[v+0],f[v+1])},F.Predictor10=function(u,f,v){return ut(ut(u,f[v-1]),ut(f[v+0],f[v+1]))},F.Predictor11=function(u,f,v){var C=f[v+0];return 0>=mt(C>>24&255,u>>24&255,(f=f[v-1])>>24&255)+mt(C>>16&255,u>>16&255,f>>16&255)+mt(C>>8&255,u>>8&255,f>>8&255)+mt(255&C,255&u,255&f)?C:u},F.Predictor12=function(u,f,v){var C=f[v+0];return(ln((u>>24&255)+(C>>24&255)-((f=f[v-1])>>24&255))<<24|ln((u>>16&255)+(C>>16&255)-(f>>16&255))<<16|ln((u>>8&255)+(C>>8&255)-(f>>8&255))<<8|ln((255&u)+(255&C)-(255&f)))>>>0},F.Predictor13=function(u,f,v){var C=f[v-1];return(Rt((u=ut(u,f[v+0]))>>24&255,C>>24&255)<<24|Rt(u>>16&255,C>>16&255)<<16|Rt(u>>8&255,C>>8&255)<<8|Rt(255&u,255&C))>>>0};var Cf=F.PredictorAdd0;F.PredictorAdd1=In,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Au=F.PredictorAdd2;je("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ni,nm=F.ColorIndexInverseTransform,Ls=F.MapARGB,Vs=F.VP8LColorIndexInverseTransformAlpha,Sf=F.MapAlpha,Ef=F.VP8LPredictorsAdd=[];Ef.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var xf,Df,rl,ol,sl,_c,al,bc,Uo,Bs,Rn,Gn,ki,Ji,ba,Mf,Tu,im,zS,WS,qS,GS,KS,YS,If,ZS,QS,XS,JS=o(511),eE=o(2041),tE=o(225),nE=o(767),iE=0,Vy=eE,rm=tE,fo=nE,Ho=JS,om=0,sm=1,rE=2,am=3,lm=4,By=5,oE=6,Uy=7,Hy=8,cm=9,$y=10,sO=[2,3,7],aO=[3,3,11],sE=[280,256,256,256,40],lO=[0,1,1,1,0],cO=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uO=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dO=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fO=8,zy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Af=null,hO=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pO=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],aE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mO=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vO=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yO=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ll=[],ds=[],wa=[],_O=1,lE=2,cl=[],$o=[];Yr("UpsampleRgbLinePair",hc,3),Yr("UpsampleBgrLinePair",pc,3),Yr("UpsampleRgbaLinePair",_f,4),Yr("UpsampleBgraLinePair",yf,4),Yr("UpsampleArgbLinePair",gc,4),Yr("UpsampleRgba4444LinePair",mc,2),Yr("UpsampleRgb565LinePair",Er,2);var bO=F.UpsampleRgbLinePair,wO=F.UpsampleBgrLinePair,cE=F.UpsampleRgbaLinePair,uE=F.UpsampleBgraLinePair,dE=F.UpsampleArgbLinePair,fE=F.UpsampleRgba4444LinePair,CO=F.UpsampleRgb565LinePair,um=16,dm=1<<um-1,Tf=-227,qy=482,hE=6,SO=(256<<hE)-1,pE=0,EO=o(256),xO=o(256),DO=o(256),MO=o(256),IO=o(qy-Tf),AO=o(qy-Tf);ya("YuvToRgbRow",hc,3),ya("YuvToBgrRow",pc,3),ya("YuvToRgbaRow",_f,4),ya("YuvToBgraRow",yf,4),ya("YuvToArgbRow",gc,4),ya("YuvToRgba4444Row",mc,2),ya("YuvToRgb565Row",Er,2);var mE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fm=[0,2,8],TO=[8,7,6,4,4,2,2,2,1,1,1,1],NO=1;this.WebPDecodeRGBA=function(u,f,v,C,A){var N=sm,P=new ye,L=new at;P.ba=L,L.S=N,L.width=[L.width],L.height=[L.height];var H=L.width,Y=L.height,fe=new Qe;if(fe==null||u==null)var Ee=2;else n(fe!=null),Ee=vc(u,f,v,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ee!=0?H=0:(H!=null&&(H[0]=fe.width[0]),Y!=null&&(Y[0]=fe.height[0]),H=1),H){L.width=L.width[0],L.height=L.height[0],C!=null&&(C[0]=L.width),A!=null&&(A[0]=L.height);e:{if(C=new Cu,(A=new Oe).data=u,A.w=f,A.ha=v,A.kd=1,f=[0],n(A!=null),((u=vc(A.data,A.w,A.ha,null,null,null,f,null,A))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(n(P!=null),C.data=A.data,C.w=A.w+A.offset,C.ha=A.ha-A.offset,C.put=Ot,C.ac=Fr,C.bc=da,C.ma=P,A.xa){if((u=ec())==null){P=1;break e}if(function(Z,ge){var _e=[0],Ne=[0],Se=[0];t:for(;;){if(Z==null)return 0;if(ge==null)return Z.a=2,0;if(Z.l=ge,Z.a=0,B(Z.m,ge.data,ge.w,ge.ha),!fa(Z.m,_e,Ne,Se)){Z.a=3;break t}if(Z.xb=lE,ge.width=_e[0],ge.height=Ne[0],!js(_e[0],Ne[0],1,Z,null))break t;return 1}return n(Z.a!=0),0}(u,C)){if(C=(f=tl(C.width,C.height,P.Oa,P.ba))==0){t:{C=u;n:for(;;){if(C==null){C=0;break t}if(n(C.s.yc!=null),n(C.s.Ya!=null),n(0<C.s.Wb),n((v=C.l)!=null),n((A=v.ma)!=null),C.xb!=0){if(C.ca=A.ba,C.tb=A.tb,n(C.ca!=null),!bf(A.Oa,v,am)){C.a=2;break n}if(!tc(C,v.width)||v.da)break n;if((v.da||Ut(C.ca.S))&&Vo(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Vo()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!J(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!cs(C,C.V,C.Ba,C.c,C.i,v.o,Qa))break n;A.Dc=C.Ma,C=1;break t}n(C.a!=0),C=0}C=!C}C&&(f=u.a)}else f=u.a}else{if((u=new Ey)==null){P=1;break e}if(u.Fa=A.na,u.P=A.P,u.qc=A.Sa,qp(u,C)){if((f=tl(C.width,C.height,P.Oa,P.ba))==0){if(u.Aa=0,v=P.Oa,n((A=u)!=null),v!=null){if(0<(H=0>(H=v.Md)?0:100<H?255:255*H/100)){for(Y=fe=0;4>Y;++Y)12>(Ee=A.pb[Y]).lc&&(Ee.ia=H*TO[0>Ee.lc?0:Ee.lc]>>3),fe|=Ee.ia;fe&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=v.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function(Z,ge){if(Z==null)return 0;if(ge==null)return Wi(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!qp(Z,ge))return 0;if(n(Z.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(Z.L=0);var _e=fm[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ge.v-_e>>4,Z.zb=ge.j-_e>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ge.o+15+_e>>4,Z.Hb=ge.va+15+_e>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Ne=Z.ed;for(_e=0;4>_e;++_e){var Se;if(Z.Qa.Cb){var ke=Z.Qa.Lb[_e];Z.Qa.Fb||(ke+=Ne.Tb)}else ke=Ne.Tb;for(Se=0;1>=Se;++Se){var Re=Z.gd[_e][Se],ze=ke;if(Ne.Pc&&(ze+=Ne.vd[0],Se&&(ze+=Ne.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Le=ze;0<Ne.wb&&(Le=4<Ne.wb?Le>>2:Le>>1)>9-Ne.wb&&(Le=9-Ne.wb),1>Le&&(Le=1),Re.dd=Le,Re.tc=2*ze+Le,Re.ld=40<=ze?2:15<=ze?1:0}else Re.tc=0;Re.La=Se}}}_e=0}else Wi(Z,6,"Frame setup failed"),_e=Z.a;if(_e=_e==0){if(_e){Z.$c=0,0<Z.Aa||(Z.Ic=NO);t:{_e=Z.Ic,Ne=4*(Le=Z.za);var Et=32*Le,ft=Le+1,nn=0<Z.L?Le*(0<Z.Aa?2:1):0,yt=(Z.Aa==2?2:1)*Le;if((Re=Ne+832+(Se=3*(16*_e+fm[Z.L])/2*Et)+(ke=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Re)_e=0;else{if(Re>Z.Vb){if(Z.Vb=0,Z.Ec=o(Re),Z.Fc=0,Z.Ec==null){_e=Wi(Z,1,"no memory during frame initialization.");break t}Z.Vb=Re}Re=Z.Ec,ze=Z.Fc,Z.Ac=Re,Z.Bc=ze,ze+=Ne,Z.Gd=s(Et,$p),Z.Hd=0,Z.rb=s(ft+1,af),Z.sb=1,Z.wa=nn?s(nn,Lo):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Le),n(!0),Z.oc=Re,Z.pc=ze,ze+=832,Z.ya=s(yt,lf),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Le),Z.R=16*Le,Z.B=8*Le,Le=(Et=fm[Z.L])*Z.R,Et=Et/2*Z.B,Z.sa=Re,Z.ta=ze+Le,Z.qa=Z.sa,Z.ra=Z.ta+16*_e*Z.R+Et,Z.Ha=Z.qa,Z.Ia=Z.ra+8*_e*Z.B+Et,Z.$c=0,ze+=Se,Z.mb=ke?Re:null,Z.nb=ke?ze:null,n(ze+ke<=Z.Fc+Z.Vb),nc(Z),r(Z.Ac,Z.Bc,0,Ne),_e=1}}if(_e){if(ge.ka=0,ge.y=Z.sa,ge.O=Z.ta,ge.f=Z.qa,ge.N=Z.ra,ge.ea=Z.Ha,ge.Vd=Z.Ia,ge.fa=Z.R,ge.Rc=Z.B,ge.F=null,ge.J=0,!iE){for(_e=-255;255>=_e;++_e)JS[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)eE[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)tE[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)nE[255+_e]=0>_e?0:255<_e?255:_e;iE=1}al=Kp,bc=Dy,Bs=My,Rn=Fs,Gn=Gp,Uo=xy,ki=Qp,Ji=Xp,ba=m,Mf=I,Tu=uc,im=Jp,zS=Q,WS=se,qS=vf,GS=cc,KS=Yp,YS=Zp,ds[0]=Oy,ds[1]=uf,ds[2]=ky,ds[3]=Py,ds[4]=Ry,ds[5]=ma,ds[6]=pa,ds[7]=jy,ds[8]=Su,ds[9]=Fy,ll[0]=Ja,ll[1]=Ay,ll[2]=Ty,ll[3]=df,ll[4]=Ny,ll[5]=oc,ll[6]=ff,wa[0]=xu,wa[1]=Iy,wa[2]=hf,wa[3]=sc,wa[4]=pf,wa[5]=Ly,wa[6]=mf,_e=1}else _e=0}_e&&(_e=function(yn,er){for(yn.M=0;yn.M<yn.Va;++yn.M){var rn,_t=yn.Jc[yn.M&yn.Xb],Xe=yn.m,Pi=yn;for(rn=0;rn<Pi.za;++rn){var Qt=Xe,Sn=Pi,ai=Sn.Ac,yr=Sn.Bc+4*rn,Lr=Sn.zc,wi=Sn.ya[Sn.aa+rn];if(Sn.Qa.Bb?wi.$b=xe(Qt,Sn.Pa.jb[0])?2+xe(Qt,Sn.Pa.jb[2]):xe(Qt,Sn.Pa.jb[1]):wi.$b=0,Sn.kc&&(wi.Ad=xe(Qt,Sn.Bd)),wi.Za=!xe(Qt,145)+0,wi.Za){var xr=wi.Ob,Vr=0;for(Sn=0;4>Sn;++Sn){var tr,xn=Lr[0+Sn];for(tr=0;4>tr;++tr){xn=gO[ai[yr+tr]][xn];for(var Vn=aE[xe(Qt,xn[0])];0<Vn;)Vn=aE[2*Vn+xe(Qt,xn[Vn])];xn=-Vn,ai[yr+tr]=xn}i(xr,Vr,ai,yr,4),Vr+=4,Lr[0+Sn]=xn}}else xn=xe(Qt,156)?xe(Qt,128)?1:3:xe(Qt,163)?2:0,wi.Ob[0]=xn,r(ai,yr,xn,4),r(Lr,0,xn,4);wi.Dd=xe(Qt,142)?xe(Qt,114)?xe(Qt,183)?1:3:2:0}if(Pi.m.Ka)return Wi(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(Pi=_t,Qt=(Xe=yn).rb[Xe.sb-1],ai=Xe.rb[Xe.sb+Xe.ja],rn=Xe.ya[Xe.aa+Xe.ja],yr=Xe.kc?rn.Ad:0)Qt.la=ai.la=0,rn.Za||(Qt.Na=ai.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var Ci,Bn;if(Qt=ai,ai=Pi,yr=Xe.Pa.Xc,Lr=Xe.ya[Xe.aa+Xe.ja],wi=Xe.pb[Lr.$b],Sn=Lr.ad,xr=0,Vr=Xe.rb[Xe.sb-1],xn=tr=0,r(Sn,xr,0,384),Lr.Za)var _r=0,fs=yr[3];else{Vn=o(16);var Oi=Qt.Na+Vr.Na;if(Oi=Af(ai,yr[1],Oi,wi.Eb,0,Vn,0),Qt.Na=Vr.Na=(0<Oi)+0,1<Oi)al(Vn,0,Sn,xr);else{var Zr=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)Sn[xr+Vn]=Zr}_r=1,fs=yr[0]}var Kn=15&Qt.la,nr=15&Vr.la;for(Vn=0;4>Vn;++Vn){var ho=1&nr;for(Zr=Bn=0;4>Zr;++Zr)Kn=Kn>>1|(ho=(Oi=Af(ai,fs,Oi=ho+(1&Kn),wi.Sc,_r,Sn,xr))>_r)<<7,Bn=Bn<<2|(3<Oi?3:1<Oi?2:Sn[xr+0]!=0),xr+=16;Kn>>=4,nr=nr>>1|ho<<7,tr=(tr<<8|Bn)>>>0}for(fs=Kn,_r=nr>>4,Ci=0;4>Ci;Ci+=2){for(Bn=0,Kn=Qt.la>>4+Ci,nr=Vr.la>>4+Ci,Vn=0;2>Vn;++Vn){for(ho=1&nr,Zr=0;2>Zr;++Zr)Oi=ho+(1&Kn),Kn=Kn>>1|(ho=0<(Oi=Af(ai,yr[2],Oi,wi.Qc,0,Sn,xr)))<<3,Bn=Bn<<2|(3<Oi?3:1<Oi?2:Sn[xr+0]!=0),xr+=16;Kn>>=2,nr=nr>>1|ho<<5}xn|=Bn<<4*Ci,fs|=Kn<<4<<Ci,_r|=(240&nr)<<Ci}Qt.la=fs,Vr.la=_r,Lr.Hc=tr,Lr.Gc=xn,Lr.ia=43690&xn?0:wi.ia,yr=!(tr|xn)}if(0<Xe.L&&(Xe.wa[Xe.Y+Xe.ja]=Xe.gd[rn.$b][rn.Za],Xe.wa[Xe.Y+Xe.ja].La|=!yr),Pi.Ka)return Wi(yn,7,"Premature end-of-file encountered.")}if(nc(yn),Xe=er,Pi=1,rn=(_t=yn).D,Qt=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(rn.M=_t.M,rn.uc=Qt,Bo(_t,rn),Pi=1,rn=(Bn=_t.D).Nb,Qt=(xn=fm[_t.L])*_t.R,ai=xn/2*_t.B,Vn=16*rn*_t.R,Zr=8*rn*_t.B,yr=_t.sa,Lr=_t.ta-Qt+Vn,wi=_t.qa,Sn=_t.ra-ai+Zr,xr=_t.Ha,Vr=_t.Ia-ai+Zr,nr=(Kn=Bn.M)==0,tr=Kn>=_t.Va-1,_t.Aa==2&&Bo(_t,Bn),Bn.uc)for(ho=(Oi=_t).D.M,n(Oi.D.uc),Bn=Oi.yb;Bn<Oi.Hb;++Bn){_r=Bn,fs=ho;var Br=(po=(br=Oi).D).Nb;Ci=br.R;var po=po.wa[po.Y+_r],mo=br.sa,Qr=br.ta+16*Br*Ci+16*_r,go=po.dd,ni=po.tc;if(ni!=0)if(n(3<=ni),br.L==1)0<_r&&GS(mo,Qr,Ci,ni+4),po.La&&YS(mo,Qr,Ci,ni),0<fs&&qS(mo,Qr,Ci,ni+4),po.La&&KS(mo,Qr,Ci,ni);else{var vo=br.B,hs=br.qa,wc=br.ra+8*Br*vo+8*_r,Ca=br.Ha,br=br.Ia+8*Br*vo+8*_r;Br=po.ld,0<_r&&(Ji(mo,Qr,Ci,ni+4,go,Br),Mf(hs,wc,Ca,br,vo,ni+4,go,Br)),po.La&&(im(mo,Qr,Ci,ni,go,Br),WS(hs,wc,Ca,br,vo,ni,go,Br)),0<fs&&(ki(mo,Qr,Ci,ni+4,go,Br),ba(hs,wc,Ca,br,vo,ni+4,go,Br)),po.La&&(Tu(mo,Qr,Ci,ni,go,Br),zS(hs,wc,Ca,br,vo,ni,go,Br))}}if(_t.ia&&alert("todo:DitherRow"),Xe.put!=null){if(Bn=16*Kn,Kn=16*(Kn+1),nr?(Xe.y=_t.sa,Xe.O=_t.ta+Vn,Xe.f=_t.qa,Xe.N=_t.ra+Zr,Xe.ea=_t.Ha,Xe.W=_t.Ia+Zr):(Bn-=xn,Xe.y=yr,Xe.O=Lr,Xe.f=wi,Xe.N=Sn,Xe.ea=xr,Xe.W=Vr),tr||(Kn-=xn),Kn>Xe.o&&(Kn=Xe.o),Xe.F=null,Xe.J=null,_t.Fa!=null&&0<_t.Fa.length&&Bn<Kn&&(Xe.J=qi(_t,Xe,Bn,Kn-Bn),Xe.F=_t.mb,Xe.F==null&&Xe.F.length==0)){Pi=Wi(_t,3,"Could not decode alpha data.");break t}Bn<Xe.j&&(xn=Xe.j-Bn,Bn=Xe.j,n(!(1&xn)),Xe.O+=_t.R*xn,Xe.N+=_t.B*(xn>>1),Xe.W+=_t.B*(xn>>1),Xe.F!=null&&(Xe.J+=Xe.width*xn)),Bn<Kn&&(Xe.O+=Xe.v,Xe.N+=Xe.v>>1,Xe.W+=Xe.v>>1,Xe.F!=null&&(Xe.J+=Xe.v),Xe.ka=Bn-Xe.j,Xe.U=Xe.va-Xe.v,Xe.T=Kn-Bn,Pi=Xe.put(Xe))}rn+1!=_t.Ic||tr||(i(_t.sa,_t.ta-Qt,yr,Lr+16*_t.R,Qt),i(_t.qa,_t.ra-ai,wi,Sn+8*_t.B,ai),i(_t.Ha,_t.Ia-ai,xr,Vr+8*_t.B,ai))}if(!Pi)return Wi(yn,6,"Output aborted.")}return 1}(Z,ge)),ge.bc!=null&&ge.bc(ge),_e&=1}return _e?(Z.cb=0,_e):0})(u,C)||(f=u.a)}}else f=u.a}f==0&&P.Oa!=null&&P.Oa.fd&&(f=wf(P.ba))}P=f}N=P!=0?null:11>N?L.f.RGBA.eb:L.f.kb.y}else N=null;return N};var gE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,ie){for(var T="",k=0;k<4;k++)T+=String.fromCharCode(F[ie++]);return T}function d(F,ie){return F[ie+0]|F[ie+1]<<8}function p(F,ie){return(F[ie+0]|F[ie+1]<<8|F[ie+2]<<16)>>>0}function g(F,ie){return(F[ie+0]|F[ie+1]<<8|F[ie+2]<<16|F[ie+3]<<24)>>>0}new l;var h=[0],b=[0],w=[],E=new l,S=t,O=function(F,ie){var T={},k=0,U=!1,G=0,pe=0;if(T.frames=[],!function(M,z){for(var q=0;q<4;q++)if(M[z+q]!="RIFF".charCodeAt(q))return!0;return!1}(F,ie)){for(g(F,ie+=4),ie+=8;ie<F.length;){var W=c(F,ie),$=g(F,ie+=4);ie+=4;var V=$+(1&$);switch(W){case"VP8 ":case"VP8L":T.frames[k]===void 0&&(T.frames[k]={}),(ce=T.frames[k]).src_off=U?pe:ie-8,ce.src_size=G+$+8,k++,U&&(U=!1,G=0,pe=0);break;case"VP8X":(ce=T.header={}).feature_flags=F[ie];var B=ie+4;ce.canvas_width=1+p(F,B),B+=3,ce.canvas_height=1+p(F,B),B+=3;break;case"ALPH":U=!0,G=V+8,pe=ie-8;break;case"ANIM":(ce=T.header).bgcolor=g(F,ie),B=ie+4,ce.loop_count=d(F,B),B+=2;break;case"ANMF":var de,ce;(ce=T.frames[k]={}).offset_x=2*p(F,ie),ie+=3,ce.offset_y=2*p(F,ie),ie+=3,ce.width=1+p(F,ie),ie+=3,ce.height=1+p(F,ie),ie+=3,ce.duration=p(F,ie),ie+=3,de=F[ie++],ce.dispose=1&de,ce.blend=de>>1&1}W!="ANMF"&&(ie+=V)}return T}}(S,0);O.response=S,O.rgbaoutput=!0,O.dataurl=!1;var R=O.header?O.header:null,j=O.frames?O.frames:null;if(R){R.loop_counter=R.loop_count,h=[R.canvas_height],b=[R.canvas_width];for(var oe=0;oe<j.length&&j[oe].blend!=0;oe++);}var ve=j[0],he=E.WebPDecodeRGBA(S,ve.src_off,ve.src_size,b,h);ve.rgba=he,ve.imgwidth=b[0],ve.imgheight=h[0];for(var X=0;X<b[0]*h[0]*4;X++)w[X]=he[X];return this.width=b,this.height=h,this.data=w,this}var Ft,ei,uu,py,_k,bk,Hq,wk,Ai,OS,gu,Jd,Yt,Kl,lo,Sk,la,$q,zq,Wq,Ui,Hi,$i,qq,Gq,kS,dy,Kq,Yq,Zq,Wk,xS,ca,qk,Gk,Ps,fu,hu,pu,Tp,lr,Np,mu,my,kp,Ql,Pp,ht,Qq,Xq,Yk,Zk,PS,Qk,Jq,eG,xk,fy,Ik,Ak,ef,hy,Tk,Nk,kk,MS,Os,Xl,aG,lG,ua,cG,Uk,Jk,uG,dG,fG,hG,pG,mG,gG,eP,vG,yG,_G,bG,wG,jS=li(()=>{"use strict";WO();CN();kN();vk();Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();ei={log:CS,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):CS.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):CS(t))}};uu=Ft.saveAs||((typeof window>"u"?"undefined":zn(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,n,e){var i=Ft.URL||Ft.webkitURL,r=document.createElement("a");n=n||t.name||"download",r.download=n,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?yk(r.href)?SS(t,n,e):uy(r,r.target="_blank"):uy(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){uy(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,e){if(n=n||t.name||"download",typeof t=="string")if(yk(t))SS(t,n,e);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){uy(i)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:zn(o)!=="object"&&(ei.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,e),n)}:function(t,n,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return SS(t,n,e);var r=t.type==="application/octet-stream",o=/constructor/i.test(Ft.HTMLElement)||Ft.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&(typeof FileReader>"u"?"undefined":zn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},a.readAsDataURL(t)}else{var l=Ft.URL||Ft.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});py=Ft.atob.bind(Ft),_k=Ft.btoa.bind(Ft);bk="0123456789abcdef".split("");Hq=function(t){for(var n=0;n<t.length;n++)t[n]=Bq(t[n]);return t.join("")}($k("hello"))!="5d41402abc4b2a76b9719d911017c592";wk={print:4,modify:8,copy:16,"annot-forms":32};tf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},tf.prototype.toHexString=function(t){return t.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tf.prototype.hexToBytes=function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(String.fromCharCode(parseInt(t.substr(e,2),16)));return n.join("")},tf.prototype.processOwnerPassword=function(t,n){return NS(TS(n).substr(0,5),t)},tf.prototype.encryptor=function(t,n){var e=TS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&n,n>>8&255)).substr(0,10);return function(i){return NS(e,i)}},Op.prototype.equals=function(t){var n,e="id,objectNumber,equals";if(!t||zn(t)!==zn(this))return!1;var i=0;for(n in this)if(!(e.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!t.hasOwnProperty(n)||this[n]!==t[n])return!1;i++}for(n in t)t.hasOwnProperty(n)&&e.indexOf(n)<0&&i--;return i===0},Mt.API={events:[]},Mt.version="3.0.3";Ai=Mt.API,OS=1,gu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(t){return t.toFixed(2)},Kl=function(t){return t.toFixed(5)};Ai.__acroform__={};lo=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t},Sk=function(t){return t*OS},la=function(t){var n=new qk,e=ht.internal.getHeight(t)||0,i=ht.internal.getWidth(t)||0;return n.BBox=[0,0,Number(Yt(i)),Number(Yt(e))],n},$q=Ai.__acroform__.setBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<n},zq=Ai.__acroform__.clearBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<n)},Wq=Ai.__acroform__.getBit=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<n?1:0},Ui=Ai.__acroform__.getBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Wq(t,n-1)},Hi=Ai.__acroform__.setBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $q(t,n-1)},$i=Ai.__acroform__.clearBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zq(t,n-1)},qq=Ai.__acroform__.calculateCoordinates=function(t,n){var e=n.internal.getHorizontalCoordinate,i=n.internal.getVerticalCoordinate,r=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=e(r+s)||0,l.upperRight_Y=i(o)||0,[Number(Yt(l.lowerLeft_X)),Number(Yt(l.lowerLeft_Y)),Number(Yt(l.upperRight_X)),Number(Yt(l.upperRight_Y))]},Gq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var n=[],e=t._V||t.DV,i=kS(t,e),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(t.scope.__private__.encodeColorString(t.color)),n.push("/"+r+" "+Yt(i.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC");var o=la(t);return o.scope=t.scope,o.stream=n.join(`
`),o}},kS=function(t,n){var e=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");r=t.multiline?r.map(function(T){return T.split(`
`)}):r.map(function(T){return[T]});var o=e,s=ht.internal.getHeight(t)||0;s=s<0?-s:s;var a=ht.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,k,U){if(T+1<r.length){var G=k+" "+r[T+1][0];return dy(G,t,U).width<=a-4}return!1};o++;e:for(;o>0;){n="",o--;var c,d,p=dy("3",t,o).height,g=t.multiline?s-o:(s-p)/2,h=g+=2,b=0,w=0,E=0;if(o<=0){n=`(...) Tj
`,n+="% Width of Text: "+dy(n,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var S="",O=0,R=0;R<r.length;R++)if(r.hasOwnProperty(R)){var j=!1;if(r[R].length!==1&&E!==r[R].length-1){if((p+2)*(O+2)+2>s)continue e;S+=r[R][E],j=!0,w=R,R--}else{S=(S+=r[R][E]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var oe=parseInt(R),ve=l(oe,S,o),he=R>=r.length-1;if(ve&&!he){S+=" ",E=0;continue}if(ve||he){if(he)w=oe;else if(t.multiline&&(p+2)*(O+2)+2>s)continue e}else{if(!t.multiline||(p+2)*(O+2)+2>s)continue e;w=oe}}for(var X="",F=b;F<=w;F++){var ie=r[F];if(t.multiline){if(F===w){X+=ie[E]+" ",E=(E+1)%ie.length;continue}if(F===b){X+=ie[ie.length-1]+" ";continue}}X+=ie[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,d=dy(X,t,o).width,t.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;default:c=2}n+=Yt(c)+" "+Yt(h)+` Td
`,n+="("+gu(X)+`) Tj
`,n+=-Yt(c)+` 0 Td
`,h=-(o+2),d=0,b=j?w:w+1,O++,S=""}break}return i.text=n,i.fontSize=o,i},dy=function(t,n,e){var i=n.scope.internal.getFont(n.fontName,n.fontStyle),r=n.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:n.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},Kq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yq=function(t,n){var e={type:"reference",object:t};n.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},Zq=function(t,n){if(n.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ps.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Kq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Gk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&Yq(o,e)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(e){(function(i,r){var o=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=qq(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ht.createDefaultAppearanceStream(a),zn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=Gq(a);l.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var h=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var b=h[s];typeof b=="function"&&(b=b.call(r,a)),p+="/"+s+" "+b+" ",r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b)}}else typeof(b=h)=="function"&&(b=b.call(r,a)),p+="/"+s+" "+b,r.internal.acroformPlugin.xForms.indexOf(b)>=0||r.internal.acroformPlugin.xForms.push(b);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}o&&function(w,E){for(var S in w)if(w.hasOwnProperty(S)){var O=S,R=w[S];E.internal.newObjectDeferredBegin(R.objId,!0),zn(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete w[O]}}(r.internal.acroformPlugin.xForms,r)})(e,t)}),t.internal.acroformPlugin.isInitialized=!0}},Wk=Ai.__acroform__.arrayToPdfArray=function(t,n,e){var i=function(s){return s};if(Array.isArray(t)){for(var r="[",o=0;o<t.length;o++)switch(o!==0&&(r+=" "),zn(t[o])){case"boolean":case"number":case"object":r+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(n!==void 0&&e&&(i=e.internal.getEncryptor(n)),r+="("+gu(i(t[o].toString()))+")"):r+=t[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xS=function(t,n,e){var i=function(r){return r};return n!==void 0&&e&&(i=e.internal.getEncryptor(n)),(t=t||"").toString(),"("+gu(i(t))+")"},ca=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ca.prototype.toString=function(){return this.objId+" 0 R"},ca.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ca.prototype.getKeyValueListForStream=function(){var t=[],n=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in n)if(Object.getOwnPropertyDescriptor(this,n[e]).configurable===!1){var i=n[e],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:Wk(r,this.objId,this.scope)}):r instanceof ca?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};qk=function(){ca.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};lo(qk,ca);Gk=function(){ca.call(this);var t,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+gu(e(t))+")"}},set:function(e){t=e}})};lo(Gk,ca);Ps=function t(){ca.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');n=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ui(n,3)},set:function(S){S?this.F=Hi(n,3):this.F=$i(n,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');e=S}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(S){i=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(S){i[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(S){i[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(S){i[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(S){i[3]=S}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof my)return;o="FieldObject"+t.FieldNum++}var S=function(O){return O};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+gu(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/OS:c},set:function(S){c=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof my||this instanceof Ql))return xS(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof lr==0?xS(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof lr==0?S.substr(0,1)==="("?Jd(S.substr(1,S.length-2)):Jd(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?Jd(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof lr==1?"/"+S:S}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof lr==0?xS(h,this.objId,this.scope):h},set:function(S){S=S.toString(),h=this instanceof lr==0?S.substr(0,1)==="("?Jd(S.substr(1,S.length-2)):Jd(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?Jd(h.substr(1,h.length-1)):h},set:function(S){S=S.toString(),h=this instanceof lr==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){S=!!S,w=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,1)},set:function(S){S?this.Ff=Hi(this.Ff,1):this.Ff=$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,2)},set:function(S){S?this.Ff=Hi(this.Ff,2):this.Ff=$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,3)},set:function(S){S?this.Ff=Hi(this.Ff,3):this.Ff=$i(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');E=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(E){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};lo(Ps,ca);fu=function(){Ps.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Wk(n,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),n=r}}),this.getOptions=function(){return n},this.setOptions=function(e){n=e,this.sort&&n.sort()},this.addOption=function(e){e=(e=e||"").toString(),n.push(e),this.sort&&n.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();n.indexOf(e)!==-1&&(n.splice(n.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,18)},set:function(e){e?this.Ff=Hi(this.Ff,18):this.Ff=$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Hi(this.Ff,19):this.Ff=$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,20)},set:function(e){e?(this.Ff=Hi(this.Ff,20),n.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,22)},set:function(e){e?this.Ff=Hi(this.Ff,22):this.Ff=$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(e){e?this.Ff=Hi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,27)},set:function(e){e?this.Ff=Hi(this.Ff,27):this.Ff=$i(this.Ff,27)}}),this.hasAppearanceStream=!1};lo(fu,Ps);hu=function(){fu.call(this),this.fontName="helvetica",this.combo=!1};lo(hu,fu);pu=function(){hu.call(this),this.combo=!0};lo(pu,hu);Tp=function(){pu.call(this),this.edit=!0};lo(Tp,pu);lr=function(){Ps.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,15)},set:function(e){e?this.Ff=Hi(this.Ff,15):this.Ff=$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,16)},set:function(e){e?this.Ff=Hi(this.Ff,16):this.Ff=$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,17)},set:function(e){e?this.Ff=Hi(this.Ff,17):this.Ff=$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(e){e?this.Ff=Hi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var i,r=[];for(i in r.push("<<"),n)r.push("/"+i+" ("+gu(e(n[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){zn(e)==="object"&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){typeof e=="string"&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};lo(lr,Ps);Np=function(){lr.call(this),this.pushButton=!0};lo(Np,lr);mu=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n!==void 0?n:[]}})};lo(mu,lr);my=function(){var t,n;Ps.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(r){n=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+gu(r(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(r){zn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lo(my,Ps),mu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var e=this.Kids[n];e.appearanceStreamContent=t.createAppearanceStream(e.optionName),e.caption=t.getCA()}},mu.prototype.createOption=function(t){var n=new my;return n.Parent=this,n.optionName=t,this.Kids.push(n),Qq.call(this.scope,n),n};kp=function(){lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};lo(kp,lr);Ql=function(){Ps.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,13)},set:function(n){n?this.Ff=Hi(this.Ff,13):this.Ff=$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,21)},set:function(n){n?this.Ff=Hi(this.Ff,21):this.Ff=$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(n){n?this.Ff=Hi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,24)},set:function(n){n?this.Ff=Hi(this.Ff,24):this.Ff=$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,25)},set:function(n){n?this.Ff=Hi(this.Ff,25):this.Ff=$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(n){n?this.Ff=Hi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){Number.isInteger(n)&&(t=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lo(Ql,Ps);Pp=function(){Ql.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,14)},set:function(t){t?this.Ff=Hi(this.Ff,14):this.Ff=$i(this.Ff,14)}}),this.password=!0};lo(Pp,Ql);ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(t){var n=la(t);n.scope=t.scope;var e=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),o=kS(t,t.caption);return e.push("0.749023 g"),e.push("0 0 "+Yt(ht.internal.getWidth(t))+" "+Yt(ht.internal.getHeight(t))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Yt(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),n.stream=e.join(`
`),n},YesNormal:function(t){var n=la(t);n.scope=t.scope;var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],o=ht.internal.getHeight(t),s=ht.internal.getWidth(t),a=kS(t,t.caption);return r.push("1 g"),r.push("0 0 "+Yt(s)+" "+Yt(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Yt(s-1)+" "+Yt(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Yt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(t){var n=la(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Yt(ht.internal.getWidth(t))+" "+Yt(ht.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(t){var n={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return n.N[t]=ht.RadioButton.Circle.YesNormal,n.D[t]=ht.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(t){var n=la(t);n.scope=t.scope;var e=[],i=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=ht.internal.Bezier_C,o=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Kl(ht.internal.getWidth(t)/2)+" "+Kl(ht.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join(`
`),n},YesPushDown:function(t){var n=la(t);n.scope=t.scope;var e=[],i=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ht.internal.Bezier_C).toFixed(5)),s=Number((i*ht.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Kl(ht.internal.getWidth(t)/2)+" "+Kl(ht.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Kl(ht.internal.getWidth(t)/2)+" "+Kl(ht.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join(`
`),n},OffPushDown:function(t){var n=la(t);n.scope=t.scope;var e=[],i=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*ht.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Kl(ht.internal.getWidth(t)/2)+" "+Kl(ht.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join(`
`),n}},Cross:{createAppearanceStream:function(t){var n={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return n.N[t]=ht.RadioButton.Cross.YesNormal,n.D[t]=ht.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(t){var n=la(t);n.scope=t.scope;var e=[],i=ht.internal.calculateCross(t);return e.push("q"),e.push("1 1 "+Yt(ht.internal.getWidth(t)-2)+" "+Yt(ht.internal.getHeight(t)-2)+" re"),e.push("W"),e.push("n"),e.push(Yt(i.x1.x)+" "+Yt(i.x1.y)+" m"),e.push(Yt(i.x2.x)+" "+Yt(i.x2.y)+" l"),e.push(Yt(i.x4.x)+" "+Yt(i.x4.y)+" m"),e.push(Yt(i.x3.x)+" "+Yt(i.x3.y)+" l"),e.push("s"),e.push("Q"),n.stream=e.join(`
`),n},YesPushDown:function(t){var n=la(t);n.scope=t.scope;var e=ht.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Yt(ht.internal.getWidth(t))+" "+Yt(ht.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Yt(ht.internal.getWidth(t)-2)+" "+Yt(ht.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Yt(e.x1.x)+" "+Yt(e.x1.y)+" m"),i.push(Yt(e.x2.x)+" "+Yt(e.x2.y)+" l"),i.push(Yt(e.x4.x)+" "+Yt(e.x4.y)+" m"),i.push(Yt(e.x3.x)+" "+Yt(e.x3.y)+" l"),i.push("s"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(t){var n=la(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Yt(ht.internal.getWidth(t))+" "+Yt(ht.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join(`
`),n}}},createDefaultAppearanceStream:function(t){var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,e=t.scope.__private__.encodeColorString(t.color);return"/"+n+" "+t.fontSize+" Tf "+e}};ht.internal={Bezier_C:.551915024494,calculateCross:function(t){var n=ht.internal.getWidth(t),e=ht.internal.getHeight(t),i=Math.min(n,e);return{x1:{x:(n-i)/2,y:(e-i)/2+i},x2:{x:(n-i)/2+i,y:(e-i)/2},x3:{x:(n-i)/2,y:(e-i)/2},x4:{x:(n-i)/2+i,y:(e-i)/2+i}}}},ht.internal.getWidth=function(t){var n=0;return zn(t)==="object"&&(n=Sk(t.Rect[2])),n},ht.internal.getHeight=function(t){var n=0;return zn(t)==="object"&&(n=Sk(t.Rect[3])),n};Qq=Ai.addField=function(t){if(Zq(this,t),!(t instanceof Ps))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=t).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=fu,Ai.AcroFormListBox=hu,Ai.AcroFormComboBox=pu,Ai.AcroFormEditBox=Tp,Ai.AcroFormButton=lr,Ai.AcroFormPushButton=Np,Ai.AcroFormRadioButton=mu,Ai.AcroFormCheckBox=kp,Ai.AcroFormTextField=Ql,Ai.AcroFormPasswordField=Pp,Ai.AcroFormAppearance=ht,Ai.AcroForm={ChoiceField:fu,ListBox:hu,ComboBox:pu,EditBox:Tp,Button:lr,PushButton:Np,RadioButton:mu,CheckBox:kp,TextField:Ql,PasswordField:Pp,Appearance:ht},Mt.AcroForm={ChoiceField:fu,ListBox:hu,ComboBox:pu,EditBox:Tp,Button:lr,PushButton:Np,RadioButton:mu,CheckBox:kp,TextField:Ql,PasswordField:Pp,Appearance:ht};Xq=Mt.AcroForm;(function(t){var n="addImage_";t.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(T,k){var U,G,pe,W,$,V=e;if((k=k||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(ve(T))for($ in i)for(pe=i[$],U=0;U<pe.length;U+=1){for(W=!0,G=0;G<pe[U].length;G+=1)if(pe[U][G]!==void 0&&pe[U][G]!==T[G]){W=!1;break}if(W===!0){V=$;break}}else for($ in i)for(pe=i[$],U=0;U<pe.length;U+=1){for(W=!0,G=0;G<pe[U].length;G+=1)if(pe[U][G]!==void 0&&pe[U][G]!==T.charCodeAt(G)){W=!1;break}if(W===!0){V=$;break}}return V===e&&k!==e&&(V=k),V},o=function T(k){for(var U=this.internal.write,G=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:k.width}),W.push({key:"Height",value:k.height}),k.colorSpace===S.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===S.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var $="",V=0,B=k.transparency.length;V<B;V++)$+=k.transparency[V]+" "+k.transparency[V]+" ";W.push({key:"Mask",value:"["+$+"]"})}k.sMask!==void 0&&W.push({key:"SMask",value:k.objectId+1+" 0 R"});var de=k.filter!==void 0?["/"+k.filter]:void 0;if(G({data:k.data,additionalKeyValues:W,alreadyAppliedFilters:de,objectId:k.objectId}),U("endobj"),"sMask"in k&&k.sMask!==void 0){var ce,M=(ce=k.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:k.bitsPerComponent,z={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:k.sMask};"filter"in k&&(z.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(k.width),z.filter=k.filter),T.call(this,z)}if(k.colorSpace===S.INDEXED){var q=this.internal.newObject();G({data:X(new Uint8Array(k.palette)),objectId:q}),U("endobj")}},s=function(){var T=this.internal.collections[n+"images"];for(var k in T)o.call(this,T[k])},a=function(){var T,k=this.internal.collections[n+"images"],U=this.internal.write;for(var G in k)U("/I"+(T=k[G]).index,T.objectId,"0","R")},l=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections[n+"images"];return l.call(this),T},d=function(){return Object.keys(this.internal.collections[n+"images"]).length},p=function(T){return typeof t["process"+T.toUpperCase()]=="function"},g=function(T){return zn(T)==="object"&&T.nodeType===1},h=function(T,k){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var U=""+T.getAttribute("src");if(U.indexOf("data:image/")===0)return py(unescape(U).split("base64,").pop());var G=t.loadFile(U,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var pe;switch(k){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return py(T.toDataURL(pe,1).split("base64,").pop())}},b=function(T){var k=this.internal.collections[n+"images"];if(k){for(var U in k)if(T===k[U].alias)return k[U]}},w=function(T,k,U){return T||k||(T=-96,k=-96),T<0&&(T=-1*U.width*72/T/this.internal.scaleFactor),k<0&&(k=-1*U.height*72/k/this.internal.scaleFactor),T===0&&(T=k*U.width/U.height),k===0&&(k=T*U.height/U.width),[T,k]},E=function(T,k,U,G,pe,W){var $=w.call(this,U,G,pe),V=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,de=c.call(this);if(U=$[0],G=$[1],de[pe.index]=pe,W){W*=Math.PI/180;var ce=Math.cos(W),M=Math.sin(W),z=function(re){return re.toFixed(4)},q=[z(ce),z(M),z(-1*M),z(ce),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,V(T),B(k+G),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([V(U),"0","0",V(G),"0","0","cm"].join(" "))):this.internal.write([V(U),"0","0",V(G),V(T),B(k+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(T){var k,U,G=0;if(typeof T=="string")for(U=T.length,k=0;k<U;k++)G=(G<<5)-G+T.charCodeAt(k),G|=0;else if(ve(T))for(U=T.byteLength/2,k=0;k<U;k++)G=(G<<5)-G+T[k],G|=0;return G},j=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var k=!0;return T.length===0&&(k=!1),T.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(k=!1),k},oe=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var k=T.indexOf(",");return k<0?null:T.substring(0,k).trim().endsWith("base64")?T.substring(k+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var ve=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},he=t.__addimage__.binaryStringToUint8Array=function(T){for(var k=T.length,U=new Uint8Array(k),G=0;G<k;G++)U[G]=T.charCodeAt(G);return U},X=t.__addimage__.arrayBufferToBinaryString=function(T){for(var k="",U=ve(T)?T:new Uint8Array(T),G=0;G<U.length;G+=8192)k+=String.fromCharCode.apply(null,U.subarray(G,G+8192));return k};t.addImage=function(){var T,k,U,G,pe,W,$,V,B;if(typeof arguments[1]=="number"?(k=e,U=arguments[1],G=arguments[2],pe=arguments[3],W=arguments[4],$=arguments[5],V=arguments[6],B=arguments[7]):(k=arguments[1],U=arguments[2],G=arguments[3],pe=arguments[4],W=arguments[5],$=arguments[6],V=arguments[7],B=arguments[8]),zn(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var de=T;T=de.imageData,k=de.format||k||e,U=de.x||U||0,G=de.y||G||0,pe=de.w||de.width||pe,W=de.h||de.height||W,$=de.alias||$,V=de.compression||V,B=de.rotation||de.angle||B}var ce=this.internal.getFilters();if(V===void 0&&ce.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(U)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=F.call(this,T,k,$,V);return E.call(this,U,G,pe,W,M,B),this};var F=function(T,k,U,G){var pe,W,$;if(typeof T=="string"&&r(T)===e){T=unescape(T);var V=ie(T,!1);(V!==""||(V=t.loadFile(T,!0))!==void 0)&&(T=V)}if(g(T)&&(T=h(T,k)),k=r(T,k),!p(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if((($=U)==null||$.length===0)&&(U=function(B){return typeof B=="string"||ve(B)?R(B):ve(B.data)?R(B.data):null}(T)),(pe=b.call(this,U))||(T instanceof Uint8Array||k==="RGBA"||(W=T,T=he(T)),pe=this["process"+k.toUpperCase()](T,d.call(this),U,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in t.image_compression?B:O.NONE}(G),W)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},ie=t.__addimage__.convertBase64ToBinaryString=function(T,k){k=typeof k!="boolean"||k;var U,G="";if(typeof T=="string"){var pe;U=(pe=oe(T))!==null&&pe!==void 0?pe:T;try{G=py(U)}catch(W){if(k)throw j(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(T){var k,U,G="";if(g(T)&&(T=h(T)),typeof T=="string"&&r(T)===e&&((G=ie(T,!1))===""&&(G=t.loadFile(T)||""),T=G),U=r(T),!p(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(T instanceof Uint8Array||(T=he(T)),!(k=this["process"+U.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=U,k}})(Mt.API),function(t){var n=function(e){if(e!==void 0&&e!="")return!0};Mt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(e){for(var i,r,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,d=!1,p=0;p<c.length&&!d;p++)switch((i=c[p]).type){case"link":(n(i.options.url)||n(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){i=c[g];var h=this.internal.pdfEscape,b=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(w.objId),O=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+h(S(i.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(S(O))+") >>",w.content=o;var R=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+R,i.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(w.objId,"0 R",E.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var j=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(b(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var oe=this.annotations._nameMap[i.options.name];i.options.pageNumber=oe.page,i.options.top=oe.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(b(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var ve=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ve+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},t.link=function(e,i,r,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+r),h:c(i+o)},options:s,type:"link"})},t.textWithLink=function(e,i,r,o){var s,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(e,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(e,i,r,o),r+=.2*c,o.align==="center"&&(i-=l/2),o.align==="right"&&(i-=l),this.link(i,r-c,a,s,o),l},t.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Mt.API),function(t){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(w){return n[w.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=t.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&n[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&r.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&n[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&n[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&n[w.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&n[w.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(w){var E=0,S=e,O="",R=0;for(E=0;E<w.length;E+=1)S[w.charCodeAt(E)]!==void 0?(R++,typeof(S=S[w.charCodeAt(E)])=="number"&&(O+=String.fromCharCode(S),S=e,R=0),E===w.length-1&&(S=e,O+=w.charAt(E-(R-1)),E-=R-1,R=0)):(S=e,O+=w.charAt(E-R),E-=R,R=0);return O};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,E,S){return s(w)?o(w)===!1?-1:!c(w)||!s(E)&&!s(S)||!s(S)&&a(E)||a(w)&&!s(E)||a(w)&&l(E)||a(w)&&a(E)?0:d(w)&&s(E)&&!a(E)&&s(S)&&c(S)?3:a(w)||!s(S)?1:2:-1},h=function(w){var E=0,S=0,O=0,R="",j="",oe="",ve=(w=w||"").split("\\s+"),he=[];for(E=0;E<ve.length;E+=1){for(he.push(""),S=0;S<ve[E].length;S+=1)R=ve[E][S],j=ve[E][S-1],oe=ve[E][S+1],s(R)?(O=g(R,j,oe),he[E]+=O!==-1?String.fromCharCode(n[R.charCodeAt(0)][O]):R):he[E]+=R;he[E]=p(he[E])}return he.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var w,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(E)){var O=0;for(S=[],O=0;O<E.length;O+=1)Array.isArray(E[O])?S.push([h(E[O][0]),E[O][1],E[O][2]]):S.push([h(E[O])]);w=S}else w=h(E);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",b])}(Mt.API),Mt.API.autoPrint=function(t){var n;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},function(t){var n=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(Mt.API),function(t){var n={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,h=0,b=0,w=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,j){return R.concat(E.splitTextToSize(j,S))},[])):l=Array.isArray(l)?l:[l];for(var O=0;O<l.length;O++)h<(w=this.getStringUnitWidth(l[O],{font:p})*d)&&(h=w);return h!==0&&(b=l.length),{w:h/=g,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||n,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,h&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,p,g){if(i.call(this),!d)throw new Error("No data for PDF table.");var h,b,w,E,S=[],O=[],R=[],j={},oe={},ve=[],he=[],X=(g=g||{}).autoSize||!1,F=g.printHeaders!==!1,ie=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},n),k=typeof g.padding=="number"?g.padding:3,U=g.headerBackgroundColor||"#c8c8c8",G=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=G,this.setFontSize(ie),p==null)O=S=Object.keys(d[0]),R=S.map(function(){return"left"});else if(Array.isArray(p)&&zn(p[0])==="object")for(S=p.map(function(de){return de.name}),O=p.map(function(de){return de.prompt||de.name||""}),R=p.map(function(de){return de.align||"left"}),h=0;h<p.length;h+=1)oe[p[h].name]=.7499990551181103*p[h].width;else Array.isArray(p)&&typeof p[0]=="string"&&(O=S=p,R=S.map(function(){return"left"}));if(X||Array.isArray(p)&&typeof p[0]=="string")for(h=0;h<S.length;h+=1){for(j[E=S[h]]=d.map(function(de){return de[E]}),this.setFont(void 0,"bold"),ve.push(this.getTextDimensions(O[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=j[E],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)ve.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);oe[E]=Math.max.apply(null,ve)+k+k,ve=[]}if(F){var pe={};for(h=0;h<S.length;h+=1)pe[S[h]]={},pe[S[h]].text=O[h],pe[S[h]].align=R[h];var W=a.call(this,pe,oe);he=S.map(function(de){return new o(l,c,oe[de],W,pe[de].text,void 0,pe[de].align)}),this.setTableHeaderRow(he),this.printHeaderRow(1,!1)}var $=p.reduce(function(de,ce){return de[ce.name]=ce.align,de},{});for(h=0;h<d.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:d[h]},this);var V=a.call(this,d[h],oe);for(w=0;w<S.length;w+=1){var B=d[h][S[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:w,data:B},this),s.call(this,new o(l,c,oe[S[w]],V,B,h+2,$[S[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(h){var b=l[h];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*p/g+d+d},this).reduce(function(h,b){return Math.max(h,b)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}}(Mt.API);Yk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],PS=Kk(Zk),Qk=[100,200,300,400,500,600,700,800,900],Jq=Kk(Qk);eG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};MS=["times"];(function(t){var n,e,i,r,o,s,a,l,c,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),n=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=M;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ae){re=!!Ae}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=Ae)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ae){isNaN(Ae)||(me=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ae){var J;typeof Ae=="number"?J=[Ae,Ae,Ae,Ae]:((J=new Array(4))[0]=Ae[0],J[1]=Ae.length>=2?Ae[1]:J[0],J[2]=Ae.length>=3?Ae[2]:J[0],J[3]=Ae.length>=4?Ae[3]:J[1]),c.margin=J}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Ae){Ce=Ae}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Ae){we=Ae}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Ae){xe=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ae){Ae instanceof d&&(c=Ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ae){c.path=Ae}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Ae){Pe=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var J;J=g(Ae),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var J=g(Ae);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Ge=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(Ae){Ge=null,Je=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var J;if(this.ctx.font=Ae,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var kt=J[1];J[2];var St=J[3],vt=J[4];J[5];var He=J[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vt)[2];vt=Math.floor(ct==="px"?parseFloat(vt)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(vt)*this.pdf.getFontSize():parseFloat(vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vt);var et=function(Te){var je,rt,it=[],Ze=Te.trim();if(Ze==="")return MS;if(Ze in xk)return[xk[Ze]];for(;Ze!=="";){switch(rt=null,je=(Ze=Mk(Ze)).charAt(0)){case'"':case"'":rt=tG(Ze.substring(1),je);break;default:rt=nG(Ze)}if(rt===null||(it.push(rt[0]),(Ze=Mk(rt[1]))!==""&&Ze.charAt(0)!==","))return MS;Ze=Ze.replace(/^,/,"")}return it}(He);if(this.fontFaces){var Lt=function(Te,je){if(Ge===null){var rt=function(it){var Ze=[];return Object.keys(it).forEach(function(Tt){it[Tt].forEach(function(vn){var It=null;switch(vn){case"bold":It={family:Tt,weight:"bold"};break;case"italic":It={family:Tt,style:"italic"};break;case"bolditalic":It={family:Tt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:Tt}}It!==null&&(It.ref={name:Tt,style:vn},Ze.push(It))})}),Ze}(Te.getFontList());Ge=function(it){for(var Ze={},Tt=0;Tt<it.length;++Tt){var vn=DS(it[Tt]),It=vn.family,Zt=vn.stretch,Ut=vn.style,Nt=vn.weight;Ze[It]=Ze[It]||{},Ze[It][Zt]=Ze[It][Zt]||{},Ze[It][Zt][Ut]=Ze[It][Zt][Ut]||{},Ze[It][Zt][Ut][Nt]=vn}return Ze}(rt.concat(je))}return Ge}(this.pdf,this.fontFaces),ut=et.map(function(Te){return{family:Te,stretch:"normal",weight:St,style:kt}}),ln=function(Te,je,rt){for(var it=(rt=rt||{}).defaultFontFamily||"times",Ze=Object.assign({},eG,rt.genericFontFamilies||{}),Tt=null,vn=null,It=0;It<je.length;++It)if(Ze[(Tt=DS(je[It])).family]&&(Tt.family=Ze[Tt.family]),Te.hasOwnProperty(Tt.family)){vn=Te[Tt.family];break}if(!(vn=vn||Te[it]))throw new Error("Could not find a font-family for the rule '"+Dk(Tt)+"' and default family '"+it+"'.");if(vn=function(Zt,Ut){if(Ut[Zt])return Ut[Zt];var Nt=PS[Zt],nt=Nt<=PS.normal?-1:1,at=Ek(Ut,Zk,Nt,nt);if(!at)throw new Error("Could not find a matching font-stretch value for "+Zt);return at}(Tt.stretch,vn),vn=function(Zt,Ut){if(Ut[Zt])return Ut[Zt];for(var Nt=Yk[Zt],nt=0;nt<Nt.length;++nt)if(Ut[Nt[nt]])return Ut[Nt[nt]];throw new Error("Could not find a matching font-style for "+Zt)}(Tt.style,vn),!(vn=function(Zt,Ut){if(Ut[Zt])return Ut[Zt];if(Zt===400&&Ut[500])return Ut[500];if(Zt===500&&Ut[400])return Ut[400];var Nt=Jq[Zt],nt=Ek(Ut,Qk,Nt,Zt<400?-1:1);if(!nt)throw new Error("Could not find a matching font-weight for value "+Zt);return nt}(Tt.weight,vn)))throw new Error("Failed to resolve a font for the rule '"+Dk(Tt)+"'.");return vn}(Lt,ut);this.pdf.setFont(ln.ref.name,ln.ref.style)}else{var Rt="";(St==="bold"||parseInt(St,10)>=700||kt==="bold")&&(Rt="bold"),kt==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var mt="",In={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},be=0;be<et.length;be++){if(this.pdf.internal.getFont(et[be],Rt,{noFallback:!0,disableWarning:!0})!==void 0){mt=et[be];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(et[be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=et[be],Rt="bold";else if(this.pdf.internal.getFont(et[be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=et[be],Rt="normal";break}}if(mt===""){for(var De=0;De<et.length;De++)if(In[et[De]]){mt=In[et[De]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){j.call(this,"fill",!1)},p.prototype.stroke=function(){j.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,z){if(isNaN(M)||isNaN(z))throw ei.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(M,z)},p.prototype.closePath=function(){var M=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&zn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){M=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},p.prototype.lineTo=function(M,z){if(isNaN(M)||isNaN(z))throw ei.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,z,q,re){if(isNaN(q)||isNaN(re)||isNaN(M)||isNaN(z))throw ei.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new s(q,re)),me=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},p.prototype.bezierCurveTo=function(M,z,q,re,ue,me){if(isNaN(ue)||isNaN(me)||isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re))throw ei.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new s(ue,me)),we=this.ctx.transform.applyToPoint(new s(M,z)),xe=this.ctx.transform.applyToPoint(new s(q,re));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:xe.x,y2:xe.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new s(Ce.x,Ce.y)},p.prototype.arc=function(M,z,q,re,ue,me){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re)||isNaN(ue))throw ei.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new s(M,z));M=Ce.x,z=Ce.y;var we=this.ctx.transform.applyToPoint(new s(0,q)),xe=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(we.x-xe.x,2)+Math.pow(we.y-xe.y,2))}Math.abs(ue-re)>=2*Math.PI&&(re=0,ue=2*Math.PI),this.path.push({type:"arc",x:M,y:z,radius:q,startAngle:re,endAngle:ue,counterclockwise:me})},p.prototype.arcTo=function(M,z,q,re,ue){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,z,q,re){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re))throw ei.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,z),this.lineTo(M+q,z),this.lineTo(M+q,z+re),this.lineTo(M,z+re),this.lineTo(M,z),this.lineTo(M+q,z),this.lineTo(M,z)},p.prototype.fillRect=function(M,z,q,re){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re))throw ei.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,z,q,re),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},p.prototype.strokeRect=function(M,z,q,re){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re))throw ei.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,z,q,re),this.stroke())},p.prototype.clearRect=function(M,z,q,re){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re))throw ei.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,z,q,re))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var z,q,re,ue;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))z=0,q=0,re=0,ue=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(me!==null)z=parseInt(me[1]),q=parseInt(me[2]),re=parseInt(me[3]),ue=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)z=parseInt(me[1]),q=parseInt(me[2]),re=parseInt(me[3]),ue=parseFloat(me[4]);else{if(ue=1,typeof M=="string"&&M.charAt(0)!=="#"){var Ce=new Hk(M);M=Ce.ok?Ce.toHex():"#000000"}M.length===4?(z=M.substring(1,2),z+=z,q=M.substring(2,3),q+=q,re=M.substring(3,4),re+=re):(z=M.substring(1,3),q=M.substring(3,5),re=M.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),re=parseInt(re,16)}}return{r:z,g:q,b:re,a:ue,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,z,q,re){if(isNaN(z)||isNaN(q)||typeof M!="string")throw ei.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!h.call(this)){var ue=V(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:M,x:z,y:q,scale:me,angle:ue,align:this.textAlign,maxWidth:re})}},p.prototype.strokeText=function(M,z,q,re){if(isNaN(z)||isNaN(q)||typeof M!="string")throw ei.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){re=isNaN(re)?void 0:re;var ue=V(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:M,x:z,y:q,scale:me,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:re})}},p.prototype.measureText=function(M){if(typeof M!="string")throw ei.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,re=z.internal.getFontSize(),ue=z.getStringUnitWidth(M)*re/z.internal.scaleFactor;return new function(me){var Ce=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:ue*=Math.round(96*q/72*1e4)/1e4})},p.prototype.scale=function(M,z){if(isNaN(M)||isNaN(z))throw ei.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(M,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.rotate=function(M){if(isNaN(M))throw ei.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.translate=function(M,z){if(isNaN(M)||isNaN(z))throw ei.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,M,z);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.transform=function(M,z,q,re,ue,me){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(re)||isNaN(ue)||isNaN(me))throw ei.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new l(M,z,q,re,ue,me);this.ctx.transform=this.ctx.transform.multiply(Ce)},p.prototype.setTransform=function(M,z,q,re,ue,me){M=isNaN(M)?1:M,z=isNaN(z)?0:z,q=isNaN(q)?0:q,re=isNaN(re)?1:re,ue=isNaN(ue)?0:ue,me=isNaN(me)?0:me,this.ctx.transform=new l(M,z,q,re,ue,me)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,z,q,re,ue,me,Ce,we,xe){var Pe=this.pdf.getImageProperties(M),Ge=1,Je=1,Ae=1,J=1;re!==void 0&&we!==void 0&&(Ae=we/re,J=xe/ue,Ge=Pe.width/re*we/re,Je=Pe.height/ue*xe/ue),me===void 0&&(me=z,Ce=q,z=0,q=0),re!==void 0&&we===void 0&&(we=re,xe=ue),re===void 0&&we===void 0&&(we=Pe.width,xe=Pe.height);for(var kt,St=this.ctx.transform.decompose(),vt=V(St.rotate.shx),He=new l,ct=(He=(He=(He=He.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new a(me-z*Ae,Ce-q*J,re*Ge,ue*Je)),et=E.call(this,ct),Lt=[],ut=0;ut<et.length;ut+=1)Lt.indexOf(et[ut])===-1&&Lt.push(et[ut]);if(R(Lt),this.autoPaging)for(var ln=Lt[0],Rt=Lt[Lt.length-1],mt=ln;mt<Rt+1;mt++){this.pdf.setPage(mt);var In=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=mt===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=mt===1?0:De+(mt-2)*Te;if(this.ctx.clip_path.length!==0){var rt=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(kt,this.posX+this.margin[3],-je+be+this.ctx.prevPageLastElemOffset),oe.call(this,"fill",!0),this.path=rt}var it=JSON.parse(JSON.stringify(ct));it=O([it],this.posX+this.margin[3],-je+be+this.ctx.prevPageLastElemOffset)[0];var Ze=(mt>ln||mt<Rt)&&w.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],In,Te,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",it.x,it.y,it.w,it.h,null,null,vt),Ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,vt)};var E=function(M,z,q){var re=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":re.push(Math.floor((M.y+ue)/q)+1);break;case"arc":re.push(Math.floor((M.y+ue-M.radius)/q)+1),re.push(Math.floor((M.y+ue+M.radius)/q)+1);break;case"qct":var me=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);re.push(Math.floor((me.y+ue)/q)+1),re.push(Math.floor((me.y+me.h+ue)/q)+1);break;case"bct":var Ce=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);re.push(Math.floor((Ce.y+ue)/q)+1),re.push(Math.floor((Ce.y+Ce.h+ue)/q)+1);break;case"rect":re.push(Math.floor((M.y+ue)/q)+1),re.push(Math.floor((M.y+M.h+ue)/q)+1)}for(var we=0;we<re.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<re[we];)S.call(this);return re},S=function(){var M=this.fillStyle,z=this.strokeStyle,q=this.font,re=this.lineCap,ue=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=z,this.font=q,this.lineCap=re,this.lineWidth=ue,this.lineJoin=me},O=function(M,z,q){for(var re=0;re<M.length;re++)switch(M[re].type){case"bct":M[re].x2+=z,M[re].y2+=q;case"qct":M[re].x1+=z,M[re].y1+=q;default:M[re].x+=z,M[re].y+=q}return M},R=function(M){return M.sort(function(z,q){return z-q})},j=function(M,z){for(var q,re,ue=this.fillStyle,me=this.strokeStyle,Ce=this.lineCap,we=this.lineWidth,xe=Math.abs(we*this.ctx.transform.scaleX),Pe=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),Ae=[],J=0;J<Je.length;J++)if(Je[J].x!==void 0)for(var kt=E.call(this,Je[J]),St=0;St<kt.length;St+=1)Ae.indexOf(kt[St])===-1&&Ae.push(kt[St]);for(var vt=0;vt<Ae.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Ae[vt];)S.call(this);if(R(Ae),this.autoPaging)for(var He=Ae[0],ct=Ae[Ae.length-1],et=He;et<ct+1;et++){this.pdf.setPage(et),this.fillStyle=ue,this.strokeStyle=me,this.lineCap=Ce,this.lineWidth=xe,this.lineJoin=Pe;var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=et===1?this.posY+this.margin[0]:this.margin[0],ln=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=et===1?0:ln+(et-2)*Rt;if(this.ctx.clip_path.length!==0){var In=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(q,this.posX+this.margin[3],-mt+ut+this.ctx.prevPageLastElemOffset),oe.call(this,M,!0),this.path=In}if(re=JSON.parse(JSON.stringify(Ge)),this.path=O(re,this.posX+this.margin[3],-mt+ut+this.ctx.prevPageLastElemOffset),z===!1||et===0){var be=(et>He||et<ct)&&w.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Rt,null).clip().discardPath()),oe.call(this,M,z),be&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=xe,oe.call(this,M,z),this.lineWidth=we;this.path=Ge},oe=function(M,z){if((M!=="stroke"||z||!b.call(this))&&(M==="stroke"||z||!h.call(this))){for(var q,re,ue=[],me=this.path,Ce=0;Ce<me.length;Ce++){var we=me[Ce];switch(we.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:we,deltas:[],abs:[]});break;case"lt":var xe=ue.length;if(me[Ce-1]&&!isNaN(me[Ce-1].x)&&(q=[we.x-me[Ce-1].x,we.y-me[Ce-1].y],xe>0)){for(;xe>=0;xe--)if(ue[xe-1].close!==!0&&ue[xe-1].begin!==!0){ue[xe-1].deltas.push(q),ue[xe-1].abs.push(we);break}}break;case"bct":q=[we.x1-me[Ce-1].x,we.y1-me[Ce-1].y,we.x2-me[Ce-1].x,we.y2-me[Ce-1].y,we.x-me[Ce-1].x,we.y-me[Ce-1].y],ue[ue.length-1].deltas.push(q);break;case"qct":var Pe=me[Ce-1].x+2/3*(we.x1-me[Ce-1].x),Ge=me[Ce-1].y+2/3*(we.y1-me[Ce-1].y),Je=we.x+2/3*(we.x1-we.x),Ae=we.y+2/3*(we.y1-we.y),J=we.x,kt=we.y;q=[Pe-me[Ce-1].x,Ge-me[Ce-1].y,Je-me[Ce-1].x,Ae-me[Ce-1].y,J-me[Ce-1].x,kt-me[Ce-1].y],ue[ue.length-1].deltas.push(q);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(we)}}re=z?null:M==="stroke"?"stroke":"fill";for(var St=!1,vt=0;vt<ue.length;vt++)if(ue[vt].arc)for(var He=ue[vt].abs,ct=0;ct<He.length;ct++){var et=He[ct];et.type==="arc"?X.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,z,!St):U.call(this,et.x,et.y),St=!0}else if(ue[vt].close===!0)this.pdf.internal.out("h"),St=!1;else if(ue[vt].begin!==!0){var Lt=ue[vt].start.x,ut=ue[vt].start.y;G.call(this,ue[vt].deltas,Lt,ut),St=!0}re&&F.call(this,re),z&&ie.call(this)}},ve=function(M){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+z-q;case"hanging":return M+z-2*q;case"middle":return M+z/2-q;default:return M}},he=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(z,q){this.colorStops.push([z,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(M,z,q,re,ue,me,Ce,we,xe){for(var Pe=W.call(this,q,re,ue,me),Ge=0;Ge<Pe.length;Ge++){var Je=Pe[Ge];Ge===0&&(xe?T.call(this,Je.x1+M,Je.y1+z):U.call(this,Je.x1+M,Je.y1+z)),pe.call(this,M,z,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}we?ie.call(this):F.call(this,Ce)},F=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(M,z){this.pdf.internal.out(e(M)+" "+i(z)+" m")},k=function(M){var z;switch(M.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var q=this.pdf.getTextDimensions(M.text),re=ve.call(this,M.y),ue=he.call(this,re)-q.h,me=this.ctx.transform.applyToPoint(new s(M.x,re)),Ce=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var xe,Pe,Ge,Je=this.ctx.transform.applyToRectangle(new a(M.x,re,q.w,q.h)),Ae=we.applyToRectangle(new a(M.x,ue,q.w,q.h)),J=E.call(this,Ae),kt=[],St=0;St<J.length;St+=1)kt.indexOf(J[St])===-1&&kt.push(J[St]);if(R(kt),this.autoPaging)for(var vt=kt[0],He=kt[kt.length-1],ct=vt;ct<He+1;ct++){this.pdf.setPage(ct);var et=ct===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],ln=ut-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],mt=Rt-this.margin[3],In=ct===1?0:Lt+(ct-2)*ln;if(this.ctx.clip_path.length!==0){var be=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(xe,this.posX+this.margin[3],-1*In+et),oe.call(this,"fill",!0),this.path=be}var De=O([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-In+et+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Ge=this.lineWidth,this.lineWidth=Ge*M.scale);var Te=this.autoPaging!=="text";if(Te||De.y+De.h<=ut){if(Te||De.y>=et&&De.x<=Rt){var je=Te?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Rt-De.x)[0],rt=O([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-In+et+this.ctx.prevPageLastElemOffset)[0],it=Te&&(ct>vt||ct<He)&&w.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,ln,null).clip().discardPath()),this.pdf.text(je,rt.x,rt.y,{angle:M.angle,align:z,renderingMode:M.renderingMode}),it&&this.pdf.restoreGraphicsState()}}else De.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-De.y);M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Ge)}else M.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*M.scale),Ge=this.lineWidth,this.lineWidth=Ge*M.scale),this.pdf.text(M.text,me.x+this.posX,me.y+this.posY,{angle:M.angle,align:z,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=Ge)},U=function(M,z,q,re){q=q||0,re=re||0,this.pdf.internal.out(e(M+q)+" "+i(z+re)+" l")},G=function(M,z,q){return this.pdf.lines(M,z,q,null,null)},pe=function(M,z,q,re,ue,me,Ce,we){this.pdf.internal.out([n(r(q+M)),n(o(re+z)),n(r(ue+M)),n(o(me+z)),n(r(Ce+M)),n(o(we+z)),"c"].join(" "))},W=function(M,z,q,re){for(var ue=2*Math.PI,me=Math.PI/2;z>q;)z-=ue;var Ce=Math.abs(q-z);Ce<ue&&re&&(Ce=ue-Ce);for(var we=[],xe=re?-1:1,Pe=z;Ce>1e-5;){var Ge=Pe+xe*Math.min(Ce,me);we.push($.call(this,M,Pe,Ge)),Ce-=Math.abs(Ge-Pe),Pe=Ge}return we},$=function(M,z,q){var re=(q-z)/2,ue=M*Math.cos(re),me=M*Math.sin(re),Ce=ue,we=-me,xe=Ce*Ce+we*we,Pe=xe+Ce*ue+we*me,Ge=4/3*(Math.sqrt(2*xe*Pe)-Pe)/(Ce*me-we*ue),Je=Ce-Ge*we,Ae=we+Ge*Ce,J=Je,kt=-Ae,St=re+z,vt=Math.cos(St),He=Math.sin(St);return{x1:M*Math.cos(z),y1:M*Math.sin(z),x2:Je*vt-Ae*He,y2:Je*He+Ae*vt,x3:J*vt-kt*He,y3:J*He+kt*vt,x4:M*Math.cos(q),y4:M*Math.sin(q)}},V=function(M){return 180*M/Math.PI},B=function(M,z,q,re,ue,me){var Ce=M+.5*(q-M),we=z+.5*(re-z),xe=ue+.5*(q-ue),Pe=me+.5*(re-me),Ge=Math.min(M,ue,Ce,xe),Je=Math.max(M,ue,Ce,xe),Ae=Math.min(z,me,we,Pe),J=Math.max(z,me,we,Pe);return new a(Ge,Ae,Je-Ge,J-Ae)},de=function(M,z,q,re,ue,me,Ce,we){var xe,Pe,Ge,Je,Ae,J,kt,St,vt,He,ct,et,Lt,ut,ln=q-M,Rt=re-z,mt=ue-q,In=me-re,be=Ce-ue,De=we-me;for(Pe=0;Pe<41;Pe++)vt=(kt=(Ge=M+(xe=Pe/40)*ln)+xe*((Ae=q+xe*mt)-Ge))+xe*(Ae+xe*(ue+xe*be-Ae)-kt),He=(St=(Je=z+xe*Rt)+xe*((J=re+xe*In)-Je))+xe*(J+xe*(me+xe*De-J)-St),Pe==0?(ct=vt,et=He,Lt=vt,ut=He):(ct=Math.min(ct,vt),et=Math.min(et,He),Lt=Math.max(Lt,vt),ut=Math.max(ut,He));return new a(Math.round(ct),Math.round(et),Math.round(Lt-ct),Math.round(ut-et))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,z,q=(M=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Mt.API),function(t){var n=function(s){var a,l,c,d,p,g,h,b,w,E;for(/[^\x00-\xFF]/.test(s),l=[],c=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(E=p%85))/85)-(w=p%85))/85)-(b=p%85))/85)-(h=p%85))/85)%85,l.push(g+33,h+33,b+33,w+33,E+33)):l.push(122);return function(S,O){for(var R=O;R>0;R--)S.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var a,l,c,d,p,g=String,h="length",b=255,w="charCodeAt",E="slice",S="replace";for(s[E](-2),s=s[E](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],d=0,p=(s+=a="uuuuu"[E](s[h]%5||5))[h];p>d;d+=5)l=52200625*(s[w](d)-33)+614125*(s[w](d+1)-33)+7225*(s[w](d+2)-33)+85*(s[w](d+3)-33)+(s[w](d+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(O,R){for(var j=R;j>0;j--)O.pop()}(c,a[h]),g.fromCharCode.apply(g,c)},i=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=Bv(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,a){var l=0,c=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Mt.API),function(t){t.loadFile=function(n,e,i){return function(r,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var p=new XMLHttpRequest,g=0,h=function(b){var w=b.length,E=[],S=String.fromCharCode;for(g=0;g<w;g+=1)E.push(S(255&b.charCodeAt(g)));return E.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?d(h(this.responseText)):d(void 0)}),p.send(null),c&&p.status===200)return h(p.responseText)}(r,o,s)}catch{}return a}(n,e,i)},t.loadImageFile=t.loadFile}(Mt.API),function(t){function n(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):import("./chunk-UM74E6YY.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):import("./chunk-L5VFDRE7.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=zn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},o=function a(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(a(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return(d=d.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(e).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(n).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(n).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var b=d[h],w=b.src.find(function(E){return E.format==="truetype"});w&&c.addFont(w.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,p).then(function(g){return c.updateProgress(1),g})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),g=c.call(p,a,l);return s.convert(g,d.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(a,l,c){if(zn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var b,w=0,E=0;if(h.hasOwnProperty(g))w=h[g][1]/p,E=h[g][0]/p;else try{w=c[1],E=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",E>w&&(b=E,E=w,w=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>E&&(b=E,E=w,w=b)}return{width:E,height:w,unit:l,k:p,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(DS):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(Mt.API),Mt.API.addJS=function(t){return Ak=t,this.internal.events.subscribe("postPutResources",function(){fy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ik=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ak+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fy!==void 0&&Ik!==void 0&&this.internal.out("/Names <</JavaScript "+fy+" 0 R>>")}),this},function(t){var n;t.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],a=i.exec(s);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var p=e.internal.newObject();d.push(p);var g=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<d.length;o++)e.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");e.internal.write(" ] >>","endobj"),n=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+n+" 0 R"))}]),t.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var s={title:r,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(Mt.API),function(t){var n=[192,193,194,195,196,197,198,199];t.processJPEG=function(e,i,r,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=function(p){for(var g,h=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,w={width:0,height:0,numcomponents:1},E=4;E<b;E+=2){if(E+=h,n.indexOf(p.charCodeAt(E+1))!==-1){g=256*p.charCodeAt(E+5)+p.charCodeAt(E+6),w={width:256*p.charCodeAt(E+7)+p.charCodeAt(E+8),height:g,numcomponents:p.charCodeAt(E+9)};break}h=256*p.charCodeAt(E+2)+p.charCodeAt(E+3)}return w}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return d}}(Mt.API),Mt.API.processPNG=function(t,n,e,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,o=gk(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,d=o.depth;r=c&&l===1?function(X){for(var F=X.width,ie=X.height,T=X.data,k=X.palette,U=X.depth,G=!1,pe=[],W=[],$=void 0,V=!1,B=0,de=0;de<k.length;de++){var ce=PC(k[de],4),M=ce[0],z=ce[1],q=ce[2],re=ce[3];pe.push(M,z,q),re!=null&&(re===0?(B++,W.length<1&&W.push(de)):re<255&&(V=!0))}if(V||B>1){G=!0,W=void 0;var ue=F*ie;$=new Uint8Array(ue);for(var me=new DataView(T.buffer),Ce=0;Ce<ue;Ce++){var we=IS(me,Ce,U),xe=PC(k[we],4)[3];$[Ce]=xe}}else B===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:T,alphaBytes:$,needSMask:G,palette:pe,mask:W}}(o):l===2||l===4?function(X){for(var F=X.data,ie=X.width,T=X.height,k=X.channels,U=X.depth,G=k===2?"DeviceGray":"DeviceRGB",pe=k-1,W=ie*T,$=pe,V=W*$,B=1*W,de=Math.ceil(V*U/8),ce=Math.ceil(B*U/8),M=new Uint8Array(de),z=new Uint8Array(ce),q=new DataView(F.buffer),re=new DataView(M.buffer),ue=new DataView(z.buffer),me=!1,Ce=0;Ce<W;Ce++){for(var we=Ce*k,xe=0;xe<$;xe++)Lk(re,IS(q,we+xe,U),Ce*$+xe,U);var Pe=IS(q,we+$,U);Pe<(1<<U)-1&&(me=!0),Lk(ue,Pe,1*Ce,U)}return{colorSpace:G,colorsPerPixel:pe,sMaskBitsPerComponent:me?U:void 0,colorBytes:M,alphaBytes:z,needSMask:me}}(o):function(X){var F=X.data,ie=X.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ie,colorsPerPixel:ie==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?function(T){for(var k=T.length,U=new Uint8Array(2*k),G=new DataView(U.buffer,U.byteOffset,U.byteLength),pe=0;pe<k;pe++)G.setUint16(2*pe,T[pe],!1);return U}(F):F,needSMask:!1}}(o);var p,g,h,b=r,w=b.colorSpace,E=b.colorsPerPixel,S=b.sMaskBitsPerComponent,O=b.colorBytes,R=b.alphaBytes,j=b.needSMask,oe=b.palette,ve=b.mask,he=null;return i!==Mt.API.image_compression.NONE&&typeof Bv=="function"?(he=function(X){var F;switch(X){case Mt.API.image_compression.FAST:F=11;break;case Mt.API.image_compression.MEDIUM:F=13;break;case Mt.API.image_compression.SLOW:F=14;break;default:F=12}return F}(i),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(he," /Colors ").concat(E," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=Pk(O,Math.ceil(s*E*d/8),E,d,i),j&&(h=Pk(R,Math.ceil(s*S/8),1,S,i))):(p=void 0,g=void 0,t=O,j&&(h=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:e,data:t,index:n,filter:p,decodeParameters:g,transparency:ve,palette:oe,sMask:h,predictor:he,width:s,height:a,bitsPerComponent:d,sMaskBitsPerComponent:S,colorSpace:w}}},function(t){t.processGIF89A=function(n,e,i,r){var o=new sG(n),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new AS(100).encode(c,100);return t.processJPEG.call(this,d,e,i,r)},t.processGIF87A=t.processGIF89A}(Mt.API),ks.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var n=0;n<t;n++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ks.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[t]()}catch(e){ei.log("bit decode error:"+e)}},ks.prototype.bit1=function(){var t,n=Math.ceil(this.width/8),e=n%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}e!==0&&(this.pos+=4-e)}},ks.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),n=t%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},ks.prototype.bit8=function(){for(var t=this.width%4,n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ks.prototype.bit15=function(){for(var t=this.width%3,n=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&n)/n*255|0,a=(o>>5&n)/n*255|0,l=(o>>10&n)/n*255|0,c=o>>15?255:0,d=i*this.width*4+4*r;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=t}},ks.prototype.bit16=function(){for(var t=this.width%3,n=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&n)/n*255|0,l=(s>>5&e)/e*255|0,c=(s>>11)/n*255|0,d=r*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},ks.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*e;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},ks.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=s}},ks.prototype.getData=function(){return this.data},function(t){t.processBMP=function(n,e,i,r){var o=new ks(n,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new AS(100).encode(l,100);return t.processJPEG.call(this,c,e,i,r)}}(Mt.API),Bk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(n,e,i,r){var o=new Bk(n),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new AS(100).encode(l,100);return t.processJPEG.call(this,c,e,i,r)}}(Mt.API),Mt.API.processRGBA=function(t,n,e){for(var i=t.data,r=i.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var d=i[c],p=i[c+1],g=i[c+2],h=i[c+3];o[a++]=d,o[a++]=p,o[a++]=g,s[l++]=h}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:n,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ef=Mt.API,hy=ef.getCharWidthsArray=function(t,n){var e,i,r=(n=n||{}).font||this.internal.getFont(),o=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),a=n.widths?n.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=n.kerning?n.kerning:r.metadata.Unicode.kerning,d=c.fof?c.fof:1,p=n.doKerning!==!1,g=0,h=t.length,b=0,w=a[0]||l,E=[];for(e=0;e<h;e++)i=t.charCodeAt(e),typeof r.metadata.widthOfString=="function"?E.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(g=p&&zn(c[i])==="object"&&!isNaN(parseInt(c[i][b],10))?c[i][b]/d:0,E.push((a[i]||w)/l+g)),b=i;return E},Tk=ef.getStringUnitWidth=function(t,n){var e=(n=n||{}).fontSize||this.internal.getFontSize(),i=n.font||this.internal.getFont(),r=n.charSpace||this.internal.getCharSpace();return ef.processArabic&&(t=ef.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,e,r)/e:hy.apply(this,arguments).reduce(function(o,s){return o+s},0)},Nk=function(t,n,e,i){for(var r=[],o=0,s=t.length,a=0;o!==s&&a+n[o]<e;)a+=n[o],o++;r.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+n[o]>i&&(r.push(t.slice(l,o)),a=0,l=o),a+=n[o],o++;return l!==o&&r.push(t.slice(l,o)),r},kk=function(t,n,e){e||(e={});var i,r,o,s,a,l,c,d=[],p=[d],g=e.textIndent||0,h=0,b=0,w=t.split(" "),E=hy.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?w[0].length+2:e.lineIndent||0){var S=Array(l).join(" "),O=[];w.map(function(j){(j=j.split(/\s*\n/)).length>1?O=O.concat(j.map(function(oe,ve){return(ve&&oe.length?`
`:"")+oe})):O.push(j[0])}),w=O,l=Tk.apply(this,[S,e])}for(o=0,s=w.length;o<s;o++){var R=0;if(i=w[o],l&&i[0]==`
`&&(i=i.substr(1),R=1),g+h+(b=(r=hy.apply(this,[i,e])).reduce(function(j,oe){return j+oe},0))>n||R){if(b>n){for(a=Nk.apply(this,[i,r,n-(g+h),n]),d.push(a.shift()),d=[a.pop()];a.length;)p.push([a.shift()]);b=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(j,oe){return j+oe},0)}else d=[i];p.push(d),g=b+l,h=E}else d.push(i),g+=h+b,h=E}return c=l?function(j,oe){return(oe?S:"")+j.join(" ")}:function(j){return j.join(" ")},p.map(c)},ef.splitTextToSize=function(t,n,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(kk.apply(this,[i[a],s,o]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var n="0123456789abcdef",e="klmnopqrstuvwxyz",i={},r={},o=0;o<16;o++)i[e[o]]=n[o],r[n[o]]=e[o];var s=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var h,b,w,E,S=["{"];for(var O in g){if(h=g[O],isNaN(parseInt(O,10))?b="'"+O+"'":(O=parseInt(O,10),b=(b=s(O).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof h=="number")h<0?(w=s(h).slice(3),E="-"):(w=s(h).slice(2),E=""),w=E+w.slice(0,-1)+r[w.slice(-1)];else{if(zn(h)!=="object")throw new Error("Don't know what to do with value type "+zn(h)+".");w=a(h)}S.push(b+w)}return S.push("}"),S.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,b,w,E,S={},O=1,R=S,j=[],oe="",ve="",he=g.length-1,X=1;X<he;X+=1)(E=g[X])=="'"?h?(w=h.join(""),h=void 0):h=[]:h?h.push(E):E=="{"?(j.push([R,w]),R={},w=void 0):E=="}"?((b=j.pop())[0][b[1]]=R,w=void 0,R=b[0]):E=="-"?O=-1:w===void 0?i.hasOwnProperty(E)?(oe+=i[E],w=parseInt(oe,16)*O,O=1,oe=""):oe+=E:i.hasOwnProperty(E)?(ve+=i[E],R[w]=parseInt(ve,16)*O,O=1,w=void 0,ve=""):ve+=E;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var h=g.font,b=p.Unicode[h.postScriptName];b&&(h.metadata.Unicode={},h.metadata.Unicode.widths=b.widths,h.metadata.Unicode.kerning=b.kerning);var w=d.Unicode[h.postScriptName];w&&(h.metadata.Unicode.encoding=w,h.encoding=w.codePages[0])}])}(Mt.API),function(t){var n=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};t.API.events.push(["addFont",function(e){var i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?n(a):n(py(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])}(Mt),Mt.API.addSvgAsImage=function(t,n,e,i,r,o,s,a){if(isNaN(n)||isNaN(e))throw ei.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw ei.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Ft.canvg?Promise.resolve(Ft.canvg):import("./chunk-W3NGHKSP.js")).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),n,e,i,r,s,a)})},Mt.API.putTotalPages=function(t){var n,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(t,"g"),e=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(n,e);return this},Mt.API.viewerPreferences=function(t,n){var e;t=t||{},n=n||!1;var i,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,p=0;function g(b,w){var E,S=!1;for(E=0;E<b.length;E+=1)b[E]===w&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,t==="reset"||n===!0){var h=a.length;for(p=0;p<h;p+=1)e[a[p]].value=e[a[p]].defaultValue,e[a[p]].explicitSet=!1}if(zn(t)==="object"){for(r in t)if(o=t[r],g(a,r)&&o!==void 0){if(e[r].type==="boolean"&&typeof o=="boolean")e[r].value=o;else if(e[r].type==="name"&&g(e[r].valueSet,o))e[r].value=o;else if(e[r].type==="integer"&&Number.isInteger(o))e[r].value=o;else if(e[r].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(i=!1);i===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in e)e[b].explicitSet===!0&&(e[b].type==="name"?w.push("/"+b+" /"+e[b].value):w.push("/"+b+" "+e[b].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(t){var n=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",n)),this}}(Mt.API),function(t){var n=t.API,e=n.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],p=0,g=o.length;p<g;++p){if(a=s.metadata.characterToGlyph(o.charCodeAt(p)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},i=function(o){var s,a,l,c,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(a=Object.keys(o).sort(function(h,b){return h-b})).length;p<g;p++)s=a[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",b=0;b<g.length;b++)h+=String.fromCharCode(g[b]);var w=c();d({data:h,addLength1:!0,objectId:w}),l("endobj");var E=c();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+nf(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var O=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+nf(a.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+nf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+O+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),n.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",h=0;h<p.length;h++)g+=String.fromCharCode(p[h]);var b=c();d({data:g,addLength1:!0,objectId:b}),l("endobj");var w=c();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var E=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+nf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var S=0;S<a.metadata.hmtx.widths.length;S++)a.metadata.hmtx.widths[S]=parseInt(a.metadata.hmtx.widths[S]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+nf(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var r=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},p=o.mutex||{},g=p.pdfEscape,h=p.activeFontKey,b=p.fonts,w=h,E="",S=0,O="",R=b[w].encoding;if(b[w].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:p};for(O=a,w=h,Array.isArray(a)&&(O=a[0]),S=0;S<O.length;S+=1)b[w].metadata.hasOwnProperty("cmap")&&(s=b[w].metadata.cmap.unicode.codeMap[O[S].charCodeAt(0)]),s||O[S].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?E+=O[S]:E+="";var j="";return parseInt(w.slice(1))<14||R==="WinAnsiEncoding"?j=g(E,w).split("").map(function(oe){return oe.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(j=e(E,b[w])),p.isHex=!0,{text:j,x:l,y:c,options:d,mutex:p}};n.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([r(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(r(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=r(Object.assign({},l,{text:s})).text}])}(Mt),function(t){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(e){return n.call(this),this.internal.vFS[e]!==void 0},t.addFileToVFS=function(e,i){return n.call(this),this.internal.vFS[e]=i,this},t.getFileFromVFS=function(e){return n.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Mt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,o,s,a,l,c,d,p=n,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,R=0;this.__bidiEngine__={};var j=function(T){var k=T.charCodeAt(),U=k>>8,G=w[U];return G!==void 0?p[256*G+(255&k)]:U===252||U===253?"AL":S.test(U)?"L":U===8?"R":"N"},oe=function(T){for(var k,U=0;U<T.length;U++){if((k=j(T.charAt(U)))==="L")return!1;if(k==="R")return!0}return!1},ve=function(T,k,U,G){var pe,W,$,V,B=k[G];switch(B){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(B="AN");break;case"AL":O=!0,B="R";break;case"WS":case"BN":B="N";break;case"CS":G<1||G+1>=k.length||(pe=U[G-1])!=="EN"&&pe!=="AN"||(W=k[G+1])!=="EN"&&W!=="AN"?B="N":O&&(W="AN"),B=W===pe?W:"N";break;case"ES":B=(pe=G>0?U[G-1]:"B")==="EN"&&G+1<k.length&&k[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&U[G-1]==="EN"){B="EN";break}if(O){B="N";break}for($=G+1,V=k.length;$<V&&k[$]==="ET";)$++;B=$<V&&k[$]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(V=k.length,$=G+1;$<V&&k[$]==="NSM";)$++;if($<V){var de=T[G],ce=de>=1425&&de<=2303||de===64286;if(pe=k[$],ce&&(pe==="R"||pe==="AL")){B="R";break}}}B=G<1||(pe=k[G-1])==="B"?"N":U[G-1];break;case"B":O=!1,r=!0,B=R;break;case"S":o=!0,B="N"}return B},he=function(T,k,U){var G=T.split("");return U&&X(G,U,{hiLevel:R}),G.reverse(),k&&k.reverse(),G.join("")},X=function(T,k,U){var G,pe,W,$,V,B=-1,de=T.length,ce=0,M=[],z=R?h:g,q=[];for(O=!1,r=!1,o=!1,pe=0;pe<de;pe++)q[pe]=j(T[pe]);for(W=0;W<de;W++){if(V=ce,M[W]=ve(T,q,M,W),G=240&(ce=z[V][b[M[W]]]),ce&=15,k[W]=$=z[ce][5],G>0)if(G===16){for(pe=B;pe<W;pe++)k[pe]=1;B=-1}else B=-1;if(z[ce][6])B===-1&&(B=W);else if(B>-1){for(pe=B;pe<W;pe++)k[pe]=$;B=-1}q[W]==="B"&&(k[W]=0),U.hiLevel|=$}o&&function(re,ue,me){for(var Ce=0;Ce<me;Ce++)if(re[Ce]==="S"){ue[Ce]=R;for(var we=Ce-1;we>=0&&re[we]==="WS";we--)ue[we]=R}}(q,k,de)},F=function(T,k,U,G,pe){if(!(pe.hiLevel<T)){if(T===1&&R===1&&!r)return k.reverse(),void(U&&U.reverse());for(var W,$,V,B,de=k.length,ce=0;ce<de;){if(G[ce]>=T){for(V=ce+1;V<de&&G[V]>=T;)V++;for(B=ce,$=V-1;B<$;B++,$--)W=k[B],k[B]=k[$],k[$]=W,U&&(W=U[B],U[B]=U[$],U[$]=W);ce=V}ce++}}},ie=function(T,k,U){var G=T.split(""),pe={hiLevel:R};return U||(U=[]),X(G,U,pe),function(W,$,V){if(V.hiLevel!==0&&d)for(var B,de=0;de<W.length;de++)$[de]===1&&(B=E.indexOf(W[de]))>=0&&(W[de]=E[B+1])}(G,U,pe),F(2,G,k,U,pe),F(1,G,k,U,pe),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,k,U){if(function(pe,W){if(W)for(var $=0;$<pe.length;$++)W[$]=$;a===void 0&&(a=oe(pe)),c===void 0&&(c=oe(pe))}(T,k),s||!l||c)if(s&&l&&a^c)R=a?1:0,T=he(T,k,U);else if(!s&&l&&c)R=a?1:0,T=ie(T,k,U),T=he(T,k);else if(!s||a||l||c){if(s&&!l&&a^c)T=he(T,k),a?(R=0,T=ie(T,k,U)):(R=1,T=ie(T,k,U),T=he(T,k));else if(s&&a&&!l&&c)R=1,T=ie(T,k,U),T=he(T,k);else if(!s&&!l&&a^c){var G=d;a?(R=1,T=ie(T,k,U),R=0,d=!1,T=ie(T,k,U),d=G):(R=0,T=ie(T,k,U),T=he(T,k),R=1,d=!1,T=ie(T,k,U),d=G,T=he(T,k))}}else R=0,T=ie(T,k,U);else R=a?1:0,T=ie(T,k,U);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(s=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?s.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):s.push([e.doBidiReorder(r[a])]);i.text=s}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function t(n){var e;if(this.rawData=n,e=this.contents=new Xl(n),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new wG(this),this.registerTTF()}return t.open=function(n){return new t(n)},t.prototype.parse=function(){return this.directory=new aG(this.contents),this.head=new cG(this),this.name=new pG(this),this.cmap=new Jk(this),this.toUnicode={},this.hhea=new uG(this),this.maxp=new mG(this),this.hmtx=new gG(this),this.post=new fG(this),this.os2=new dG(this),this.loca=new bG(this),this.glyf=new vG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var n,e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)n=l[s],c.push(Math.round(n*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(n){var e;return((e=this.cmap.unicode)!=null?e.codeMap[n]:void 0)||0},t.prototype.widthOfGlyph=function(n){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*e},t.prototype.widthOfString=function(n,e,i){var r,o,s,a;for(s=0,o=0,a=(n=""+n).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=n.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(n,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*n},t}();Xl=function(){function t(n){this.data=n??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(n){return this.data[this.pos++]=n},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},t.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},t.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},t.prototype.readString=function(n){var e,i;for(i=[],e=0;0<=n?e<n:e>n;e=0<=n?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(n){var e,i,r;for(r=[],e=0,i=n.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(n.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(n){return this.writeInt16(n)},t.prototype.readLongLong=function(){var n,e,i,r,o,s,a,l;return n=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*n+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(n){var e,i;return e=Math.floor(n/4294967296),i=4294967295&n,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(n){return this.writeInt32(n)},t.prototype.read=function(n){var e,i;for(e=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(n){var e,i,r,o;for(o=[],i=0,r=n.length;i<r;i++)e=n[i],o.push(this.writeByte(e));return o},t}(),aG=function(){var t;function n(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return n.prototype.encode=function(e){var i,r,o,s,a,l,c,d,p,g,h,b,w;for(w in h=Object.keys(e).length,l=Math.log(2),p=16*Math.floor(Math.log(h)/l),s=Math.floor(p/l),d=16*h-p,(r=new Xl).writeInt(this.scalarType),r.writeShort(h),r.writeShort(p),r.writeShort(s),r.writeShort(d),o=16*h,c=r.pos+o,a=null,b=[],e)for(g=e[w],r.writeString(w),r.writeInt(t(g)),r.writeInt(c),r.writeInt(g.length),b=b.concat(g),w==="head"&&(a=c),c+=g.length;c%4;)b.push(0),c++;return r.write(b),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(e){var i,r,o,s;for(e=eP.call(e);e.length%4;)e.push(0);for(o=new Xl(e),r=0,i=0,s=e.length;i<s;i=i+=4)r+=o.readUInt32();return 4294967295&r},n}(),lG={}.hasOwnProperty,ua=function(t,n){for(var e in n)lG.call(n,e)&&(t[e]=n[e]);function i(){this.constructor=t}return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Os=function(){function t(n){var e;this.file=n,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();cG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var e;return(e=new Xl).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(n),e.writeShort(this.glyphDataFormat),e.data},t}(),Uk=function(){function t(n,e){var i,r,o,s,a,l,c,d,p,g,h,b,w,E,S,O,R;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=e+n.readInt(),p=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=n.readByte();break;case 4:for(h=n.readUInt16(),g=h/2,n.pos+=6,o=function(){var j,oe;for(oe=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)oe.push(n.readUInt16());return oe}(),n.pos+=2,w=function(){var j,oe;for(oe=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)oe.push(n.readUInt16());return oe}(),c=function(){var j,oe;for(oe=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)oe.push(n.readUInt16());return oe}(),d=function(){var j,oe;for(oe=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)oe.push(n.readUInt16());return oe}(),r=(this.length-n.pos+this.offset)/2,a=function(){var j,oe;for(oe=[],l=j=0;0<=r?j<r:j>r;l=0<=r?++j:--j)oe.push(n.readUInt16());return oe}(),l=S=0,R=o.length;S<R;l=++S)for(E=o[l],i=O=b=w[l];b<=E?O<=E:O>=E;i=b<=E?++O:--O)d[l]===0?s=i+c[l]:(s=a[d[l]/2+(i-b)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[i]=65535&s}n.pos=p}return t.encode=function(n,e){var i,r,o,s,a,l,c,d,p,g,h,b,w,E,S,O,R,j,oe,ve,he,X,F,ie,T,k,U,G,pe,W,$,V,B,de,ce,M,z,q,re,ue,me,Ce,we,xe,Pe,Ge;switch(G=new Xl,s=Object.keys(n).sort(function(Je,Ae){return Je-Ae}),e){case"macroman":for(w=0,E=function(){var Je=[];for(b=0;b<256;++b)Je.push(0);return Je}(),O={0:0},o={},pe=0,B=s.length;pe<B;pe++)O[we=n[r=s[pe]]]==null&&(O[we]=++w),o[r]={old:n[r],new:O[n[r]]},E[r]=O[n[r]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(E),{charMap:o,subtable:G.data,maxGlyphID:w+1};case"unicode":for(k=[],p=[],R=0,O={},i={},S=c=null,W=0,de=s.length;W<de;W++)O[oe=n[r=s[W]]]==null&&(O[oe]=++R),i[r]={old:oe,new:O[oe]},a=O[oe]-r,S!=null&&a===c||(S&&p.push(S),k.push(r),c=a),S=r;for(S&&p.push(S),p.push(65535),k.push(65535),ie=2*(F=k.length),X=2*Math.pow(Math.log(F)/Math.LN2,2),g=Math.log(X/2)/Math.LN2,he=2*F-X,l=[],ve=[],h=[],b=$=0,ce=k.length;$<ce;b=++$){if(T=k[b],d=p[b],T===65535){l.push(0),ve.push(0);break}if(T-(U=i[T].new)>=32768)for(l.push(0),ve.push(2*(h.length+F-b)),r=V=T;T<=d?V<=d:V>=d;r=T<=d?++V:--V)h.push(i[r].new);else l.push(U-T),ve.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*F+2*h.length),G.writeUInt16(0),G.writeUInt16(ie),G.writeUInt16(X),G.writeUInt16(g),G.writeUInt16(he),me=0,M=p.length;me<M;me++)r=p[me],G.writeUInt16(r);for(G.writeUInt16(0),Ce=0,z=k.length;Ce<z;Ce++)r=k[Ce],G.writeUInt16(r);for(xe=0,q=l.length;xe<q;xe++)a=l[xe],G.writeUInt16(a);for(Pe=0,re=ve.length;Pe<re;Pe++)j=ve[Pe],G.writeUInt16(j);for(Ge=0,ue=h.length;Ge<ue;Ge++)w=h[Ge],G.writeUInt16(w);return{charMap:i,subtable:G.data,maxGlyphID:R+1}}},t}(),Jk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="cmap",t.prototype.parse=function(n){var e,i,r;for(n.pos=this.offset,this.version=n.readUInt16(),r=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)e=new Uk(n,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},t.encode=function(n,e){var i,r;return e==null&&(e="macroman"),i=Uk.encode(n,e),(r=new Xl).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),uG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),dG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(n.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),fG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="post",t.prototype.parse=function(n){var e,i,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)e=n.readByte(),r.push(this.names.push(n.readString(e)));return r;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(n.readUInt32());return l}.call(this)}},t}(),hG=function(t,n){this.raw=t,this.length=t.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},pG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="name",t.prototype.parse=function(n){var e,i,r,o,s,a,l,c,d,p,g;for(n.pos=this.offset,n.readShort(),e=n.readShort(),a=n.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+a+n.readShort()});for(l={},o=d=0,p=i.length;d<p;o=++d)r=i[o],n.pos=r.offset,c=n.readString(r.length),s=new hG(c,r),l[g=r.nameID]==null&&(l[g]=[]),l[r.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),mG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),gG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="hmtx",t.prototype.parse=function(n){var e,i,r,o,s,a,l;for(n.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],e=c=0;0<=r?c<r:c>r;e=0<=r?++c:--c)d.push(n.readInt16());return d}(),this.widths=function(){var c,d,p,g;for(g=[],c=0,d=(p=this.metrics).length;c<d;c++)o=p[c],g.push(o.advance);return g}.call(this),i=this.widths[this.widths.length-1],l=[],e=s=0;0<=r?s<r:s>r;e=0<=r?++s:--s)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),eP=[].slice,vG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var e,i,r,o,s,a,l,c,d,p;return n in this.cache?this.cache[n]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(n),(r=o.lengthOf(n))===0?this.cache[n]=null:(e.pos=this.offset+i,s=(a=new Xl(e.read(r))).readShort(),c=a.readShort(),p=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[n]=s===-1?new _G(a,c,p,l,d):new yG(a,s,c,p,l,d),this.cache[n]))},t.prototype.encode=function(n,e,i){var r,o,s,a,l;for(s=[],o=[],a=0,l=e.length;a<l;a++)r=n[e[a]],o.push(s.length),r&&(s=s.concat(r.encode(i)));return o.push(s.length),{table:s,offsets:o}},t}(),yG=function(){function t(n,e,i,r,o,s){this.raw=n,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),_G=function(){function t(n,e,i,r,o){var s,a;for(this.raw=n,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var n,e,i;for(e=new Xl(eP.call(this.raw.data)),n=0,i=this.glyphIDs.length;n<i;++n)e.pos=this.glyphOffsets[n];return e.data},t}(),bG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ua(t,Os),t.prototype.tag="loca",t.prototype.parse=function(n){var e,i;return n.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=2)o.push(2*n.readUInt16());return o}.call(this):function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=4)o.push(n.readUInt32());return o}.call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,e){for(var i=new Uint32Array(this.offsets.length),r=0,o=0,s=0;s<i.length;++s)if(i[s]=r,o<e.length&&e[o]==s){++o,i[s]=r;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(r+=l)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},t}(),wG=function(){function t(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var n,e,i,r,o;for(e in r=this.font.cmap.tables[0].codeMap,n={},o=this.subset)i=o[e],n[e]=r[i];return n},t.prototype.glyphsFor=function(n){var e,i,r,o,s,a,l;for(r={},s=0,a=n.length;s<a;s++)r[o=n[s]]=this.font.glyf.glyphFor(o);for(o in e=[],r)(i=r[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in l=this.glyphsFor(e))i=l[o],r[o]=i;return r},t.prototype.encode=function(n,e){var i,r,o,s,a,l,c,d,p,g,h,b,w,E,S;for(r in i=Jk.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),h={0:0},S=i.charMap)h[(l=S[r]).old]=l.new;for(b in g=i.maxGlyphID,s)b in h||(h[b]=g++);return d=function(O){var R,j;for(R in j={},O)j[O[R]]=R;return j}(h),p=Object.keys(d).sort(function(O,R){return O-R}),w=function(){var O,R,j;for(j=[],O=0,R=p.length;O<R;O++)a=p[O],j.push(d[a]);return j}(),o=this.font.glyf.encode(s,w,h),c=this.font.loca.encode(o.offsets,w),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();Mt.API.PDFObject=function(){var t;function n(){}return t=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},n.convert=function(e){var i,r,o,s;if(Array.isArray(e))return"["+function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)i=e[a],c.push(n.convert(i));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+t(e.getUTCFullYear(),4)+t(e.getUTCMonth(),2)+t(e.getUTCDate(),2)+t(e.getUTCHours(),2)+t(e.getUTCMinutes(),2)+t(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in o=["<<"],e)s=e[r],o.push("/"+r+" "+n.convert(s));return o.push(">>"),o.join(`
`)}return""+e},n}()});var yy=$O((vy,FS)=>{"use strict";(function(n,e){typeof vy=="object"&&typeof FS=="object"?FS.exports=e((jS(),IE(RS)),AE()):typeof define=="function"&&define.amd?define("html2pdf",["jspdf","html2canvas"],e):typeof vy=="object"?vy.html2pdf=e((jS(),IE(RS)),AE()):n.html2pdf=e(n.jspdf,n.html2canvas)})(self,function(t,n){return function(){var e={"./src/plugin/hyperlinks.js":function(s,a,l){"use strict";l.r(a);var c=l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),d=l.n(c),p=l("./node_modules/core-js/modules/es.string.link.js"),g=l.n(p),h=l("./src/worker.js"),b=l("./src/utils.js"),w=[],E={toContainer:h.default.prototype.toContainer,toPdf:h.default.prototype.toPdf};h.default.prototype.toContainer=function(){return E.toContainer.call(this).then(function(){if(this.opt.enableLinks){var R=this.prop.container,j=R.querySelectorAll("a"),oe=(0,b.unitConvert)(R.getBoundingClientRect(),this.prop.pageSize.k);w=[],Array.prototype.forEach.call(j,function(ve){for(var he=ve.getClientRects(),X=0;X<he.length;X++){var F=(0,b.unitConvert)(he[X],this.prop.pageSize.k);F.left-=oe.left,F.top-=oe.top;var ie=Math.floor(F.top/this.prop.pageSize.inner.height)+1,T=this.opt.margin[0]+F.top%this.prop.pageSize.inner.height,k=this.opt.margin[1]+F.left;w.push({page:ie,top:T,left:k,clientRect:F,link:ve})}},this)}})},h.default.prototype.toPdf=function(){return E.toPdf.call(this).then(function(){if(this.opt.enableLinks){w.forEach(function(j){this.prop.pdf.setPage(j.page),this.prop.pdf.link(j.left,j.top,j.clientRect.width,j.clientRect.height,{url:j.link.href})},this);var R=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(R)}})}},"./src/plugin/jspdf-plugin.js":function(s,a,l){"use strict";l.r(a);var c=l("./node_modules/core-js/modules/es.symbol.js"),d=l.n(c),p=l("./node_modules/core-js/modules/es.symbol.description.js"),g=l.n(p),h=l("./node_modules/core-js/modules/es.object.to-string.js"),b=l.n(h),w=l("./node_modules/core-js/modules/es.symbol.iterator.js"),E=l.n(w),S=l("./node_modules/core-js/modules/es.array.iterator.js"),O=l.n(S),R=l("./node_modules/core-js/modules/es.string.iterator.js"),j=l.n(R),oe=l("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ve=l.n(oe),he=l("jspdf"),X=l.n(he);function F(ie){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(k){return typeof k}:F=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},F(ie)}he.jsPDF.getPageSize=function(ie,T,k){if(F(ie)==="object"){var U=ie;ie=U.orientation,T=U.unit||T,k=U.format||k}T=T||"mm",k=k||"a4",ie=(""+(ie||"P")).toLowerCase();var G=(""+k).toLowerCase(),pe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(T){case"pt":var W=1;break;case"mm":var W=72/25.4;break;case"cm":var W=72/2.54;break;case"in":var W=72;break;case"px":var W=72/96;break;case"pc":var W=12;break;case"em":var W=12;break;case"ex":var W=6;break;default:throw"Invalid unit: "+T}if(pe.hasOwnProperty(G))var $=pe[G][1]/W,V=pe[G][0]/W;else try{var $=k[1],V=k[0]}catch{throw new Error("Invalid format: "+k)}if(ie==="p"||ie==="portrait"){if(ie="p",V>$){var B=V;V=$,$=B}}else if(ie==="l"||ie==="landscape"){if(ie="l",$>V){var B=V;V=$,$=B}}else throw"Invalid orientation: "+ie;var de={width:V,height:$,unit:T,k:W};return de},a.default=he.jsPDF},"./src/plugin/pagebreaks.js":function(s,a,l){"use strict";l.r(a);var c=l("./node_modules/core-js/modules/es.array.concat.js"),d=l.n(c),p=l("./node_modules/core-js/modules/es.array.slice.js"),g=l.n(p),h=l("./node_modules/core-js/modules/es.array.join.js"),b=l.n(h),w=l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),E=l.n(w),S=l("./node_modules/core-js/modules/es.object.keys.js"),O=l.n(S),R=l("./src/worker.js"),j=l("./src/utils.js"),oe={toContainer:R.default.prototype.toContainer};R.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},R.default.prototype.toContainer=function(){return oe.toContainer.call(this).then(function(){var X=this.prop.container,F=this.prop.pageSize.inner.px.height,ie=[].concat(this.opt.pagebreak.mode),T={avoidAll:ie.indexOf("avoid-all")!==-1,css:ie.indexOf("css")!==-1,legacy:ie.indexOf("legacy")!==-1},k={},U=this;["before","after","avoid"].forEach(function(W){var $=T.avoidAll&&W==="avoid";k[W]=$?[]:[].concat(U.opt.pagebreak[W]||[]),k[W].length>0&&(k[W]=Array.prototype.slice.call(X.querySelectorAll(k[W].join(", "))))});var G=X.querySelectorAll(".html2pdf__page-break");G=Array.prototype.slice.call(G);var pe=X.querySelectorAll("*");Array.prototype.forEach.call(pe,function($){var V={before:!1,after:T.legacy&&G.indexOf($)!==-1,avoid:T.avoidAll};if(T.css){var B=window.getComputedStyle($),de=["always","page","left","right"],ce=["avoid","avoid-page"];V={before:V.before||de.indexOf(B.breakBefore||B.pageBreakBefore)!==-1,after:V.after||de.indexOf(B.breakAfter||B.pageBreakAfter)!==-1,avoid:V.avoid||ce.indexOf(B.breakInside||B.pageBreakInside)!==-1}}Object.keys(V).forEach(function(me){V[me]=V[me]||k[me].indexOf($)!==-1});var M=$.getBoundingClientRect();if(V.avoid&&!V.before){var z=Math.floor(M.top/F),q=Math.floor(M.bottom/F),re=Math.abs(M.bottom-M.top)/F;q!==z&&re<=1&&(V.before=!0)}if(V.before){var ue=(0,j.createElement)("div",{style:{display:"block",height:F-M.top%F+"px"}});$.parentNode.insertBefore(ue,$)}if(V.after){var ue=(0,j.createElement)("div",{style:{display:"block",height:F-M.bottom%F+"px"}});$.parentNode.insertBefore(ue,$.nextSibling)}})})}},"./src/utils.js":function(s,a,l){"use strict";l.r(a),l.d(a,{objType:function(){return ie},createElement:function(){return T},cloneNode:function(){return k},unitConvert:function(){return U},toPx:function(){return G}});var c=l("./node_modules/core-js/modules/es.number.constructor.js"),d=l.n(c),p=l("./node_modules/core-js/modules/es.symbol.js"),g=l.n(p),h=l("./node_modules/core-js/modules/es.symbol.description.js"),b=l.n(h),w=l("./node_modules/core-js/modules/es.object.to-string.js"),E=l.n(w),S=l("./node_modules/core-js/modules/es.symbol.iterator.js"),O=l.n(S),R=l("./node_modules/core-js/modules/es.array.iterator.js"),j=l.n(R),oe=l("./node_modules/core-js/modules/es.string.iterator.js"),ve=l.n(oe),he=l("./node_modules/core-js/modules/web.dom-collections.iterator.js"),X=l.n(he);function F(pe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function($){return typeof $}:F=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},F(pe)}var ie=function(W){var $=F(W);return $==="undefined"?"undefined":$==="string"||W instanceof String?"string":$==="number"||W instanceof Number?"number":$==="function"||W instanceof Function?"function":W&&W.constructor===Array?"array":W&&W.nodeType===1?"element":$==="object"?"object":"unknown"},T=function(W,$){var V=document.createElement(W);if($.className&&(V.className=$.className),$.innerHTML){V.innerHTML=$.innerHTML;for(var B=V.getElementsByTagName("script"),de=B.length;de-- >0;null)B[de].parentNode.removeChild(B[de])}for(var ce in $.style)V.style[ce]=$.style[ce];return V},k=function pe(W,$){for(var V=W.nodeType===3?document.createTextNode(W.nodeValue):W.cloneNode(!1),B=W.firstChild;B;B=B.nextSibling)($===!0||B.nodeType!==1||B.nodeName!=="SCRIPT")&&V.appendChild(pe(B,$));return W.nodeType===1&&(W.nodeName==="CANVAS"?(V.width=W.width,V.height=W.height,V.getContext("2d").drawImage(W,0,0)):(W.nodeName==="TEXTAREA"||W.nodeName==="SELECT")&&(V.value=W.value),V.addEventListener("load",function(){V.scrollTop=W.scrollTop,V.scrollLeft=W.scrollLeft},!0)),V},U=function(W,$){if(ie(W)==="number")return W*72/96/$;var V={};for(var B in W)V[B]=W[B]*72/96/$;return V},G=function(W,$){return Math.floor(W*$/72*96)}},"./src/worker.js":function(s,a,l){"use strict";l.r(a);var c=l("./node_modules/core-js/modules/es.object.assign.js"),d=l.n(c),p=l("./node_modules/core-js/modules/es.array.map.js"),g=l.n(p),h=l("./node_modules/core-js/modules/es.object.keys.js"),b=l.n(h),w=l("./node_modules/core-js/modules/es.array.concat.js"),E=l.n(w),S=l("./node_modules/core-js/modules/es.object.to-string.js"),O=l.n(S),R=l("./node_modules/core-js/modules/es.regexp.to-string.js"),j=l.n(R),oe=l("./node_modules/core-js/modules/es.function.name.js"),ve=l.n(oe),he=l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),X=l.n(he),F=l("jspdf"),ie=l.n(F),T=l("html2canvas"),k=l.n(T),U=l("./src/utils.js"),G=l("./node_modules/es6-promise/dist/es6-promise.js"),pe=l.n(G),W=pe().Promise,$=function V(B){var de=Object.assign(V.convert(W.resolve()),JSON.parse(JSON.stringify(V.template))),ce=V.convert(W.resolve(),de);return ce=ce.setProgress(1,V,1,[V]),ce=ce.set(B),ce};$.prototype=Object.create(W.prototype),$.prototype.constructor=$,$.convert=function(B,de){return B.__proto__=de||$.prototype,B},$.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},$.prototype.from=function(B,de){function ce(M){switch((0,U.objType)(M)){case"string":return"string";case"element":return M.nodeName.toLowerCase&&M.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(de=de||ce(B),de){case"string":return this.set({src:(0,U.createElement)("div",{innerHTML:B})});case"element":return this.set({src:B});case"canvas":return this.set({canvas:B});case"img":return this.set({img:B});default:return this.error("Unknown source type.")}})},$.prototype.to=function(B){switch(B){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},$.prototype.toContainer=function(){var B=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(B).then(function(){var ce={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},M={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};ce.opacity=0;var z=(0,U.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,U.createElement)("div",{className:"html2pdf__overlay",style:ce}),this.prop.container=(0,U.createElement)("div",{className:"html2pdf__container",style:M}),this.prop.container.appendChild(z),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},$.prototype.toCanvas=function(){var B=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(B).then(function(){var ce=Object.assign({},this.opt.html2canvas);return delete ce.onrendered,T(this.prop.container,ce)}).then(function(ce){var M=this.opt.html2canvas.onrendered||function(){};M(ce),this.prop.canvas=ce,document.body.removeChild(this.prop.overlay)})},$.prototype.toImg=function(){var B=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(B).then(function(){var ce=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ce})},$.prototype.toPdf=function(){var B=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(B).then(function(){var ce=this.prop.canvas,M=this.opt,z=ce.height,q=Math.floor(ce.width*this.prop.pageSize.inner.ratio),re=Math.ceil(z/q),ue=this.prop.pageSize.inner.height,me=document.createElement("canvas"),Ce=me.getContext("2d");me.width=ce.width,me.height=q,this.prop.pdf=this.prop.pdf||new F.jsPDF(M.jsPDF);for(var we=0;we<re;we++){we===re-1&&z%q!==0&&(me.height=z%q,ue=me.height*this.prop.pageSize.inner.width/me.width);var xe=me.width,Pe=me.height;Ce.fillStyle="white",Ce.fillRect(0,0,xe,Pe),Ce.drawImage(ce,0,we*q,xe,Pe,0,0,xe,Pe),we&&this.prop.pdf.addPage();var Ge=me.toDataURL("image/"+M.image.type,M.image.quality);this.prop.pdf.addImage(Ge,M.image.type,M.margin[1],M.margin[0],this.prop.pageSize.inner.width,ue)}})},$.prototype.output=function(B,de,ce){return ce=ce||"pdf",ce.toLowerCase()==="img"||ce.toLowerCase()==="image"?this.outputImg(B,de):this.outputPdf(B,de)},$.prototype.outputPdf=function(B,de){var ce=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(ce).then(function(){return this.prop.pdf.output(B,de)})},$.prototype.outputImg=function(B,de){var ce=[function(){return this.prop.img||this.toImg()}];return this.thenList(ce).then(function(){switch(B){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+B+'" is not supported.'}})},$.prototype.save=function(B){var de=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(de).set(B?{filename:B}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},$.prototype.set=function(B){if((0,U.objType)(B)!=="object")return this;var de=Object.keys(B||{}).map(function(ce){switch(ce){case"margin":return this.setMargin.bind(this,B.margin);case"jsPDF":return function(){return this.opt.jsPDF=B.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,B.pageSize);default:return ce in $.template.prop?function(){this.prop[ce]=B[ce]}:function(){this.opt[ce]=B[ce]}}},this);return this.then(function(){return this.thenList(de)})},$.prototype.get=function(B,de){return this.then(function(){var M=B in $.template.prop?this.prop[B]:this.opt[B];return de?de(M):M})},$.prototype.setMargin=function(B){return this.then(function(){switch((0,U.objType)(B)){case"number":B=[B,B,B,B];case"array":if(B.length===2&&(B=[B[0],B[1],B[0],B[1]]),B.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=B}).then(this.setPageSize)},$.prototype.setPageSize=function(B){return this.then(function(){B=B||F.jsPDF.getPageSize(this.opt.jsPDF),B.hasOwnProperty("inner")||(B.inner={width:B.width-this.opt.margin[1]-this.opt.margin[3],height:B.height-this.opt.margin[0]-this.opt.margin[2]},B.inner.px={width:(0,U.toPx)(B.inner.width,B.k),height:(0,U.toPx)(B.inner.height,B.k)},B.inner.ratio=B.inner.height/B.inner.width),this.prop.pageSize=B})},$.prototype.setProgress=function(B,de,ce,M){return B!=null&&(this.progress.val=B),de!=null&&(this.progress.state=de),ce!=null&&(this.progress.n=ce),M!=null&&(this.progress.stack=M),this.progress.ratio=this.progress.val/this.progress.state,this},$.prototype.updateProgress=function(B,de,ce,M){return this.setProgress(B?this.progress.val+B:null,de||null,ce?this.progress.n+ce:null,M?this.progress.stack.concat(M):null)},$.prototype.then=function(B,de){var ce=this;return this.thenCore(B,de,function(z,q){return ce.updateProgress(null,null,1,[z]),W.prototype.then.call(this,function(ue){return ce.updateProgress(null,z),ue}).then(z,q).then(function(ue){return ce.updateProgress(1),ue})})},$.prototype.thenCore=function(B,de,ce){ce=ce||W.prototype.then;var M=this;B&&(B=B.bind(M)),de&&(de=de.bind(M));var z=W.toString().indexOf("[native code]")!==-1&&W.name==="Promise",q=z?M:$.convert(Object.assign({},M),W.prototype),re=ce.call(q,B,de);return $.convert(re,M.__proto__)},$.prototype.thenExternal=function(B,de){return W.prototype.then.call(this,B,de)},$.prototype.thenList=function(B){var de=this;return B.forEach(function(M){de=de.thenCore(M)}),de},$.prototype.catch=function(V){V&&(V=V.bind(this));var B=W.prototype.catch.call(this,V);return $.convert(B,this)},$.prototype.catchExternal=function(B){return W.prototype.catch.call(this,B)},$.prototype.error=function(B){return this.then(function(){throw new Error(B)})},$.prototype.using=$.prototype.set,$.prototype.saveAs=$.prototype.save,$.prototype.export=$.prototype.output,$.prototype.run=$.prototype.then,a.default=$},"./node_modules/core-js/internals/a-function.js":function(s){s.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},"./node_modules/core-js/internals/a-possible-prototype.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-object.js");s.exports=function(d){if(!c(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},"./node_modules/core-js/internals/add-to-unscopables.js":function(s,a,l){var c=l("./node_modules/core-js/internals/well-known-symbol.js"),d=l("./node_modules/core-js/internals/object-create.js"),p=l("./node_modules/core-js/internals/object-define-property.js"),g=c("unscopables"),h=Array.prototype;h[g]==null&&p.f(h,g,{configurable:!0,value:d(null)}),s.exports=function(b){h[g][b]=!0}},"./node_modules/core-js/internals/an-object.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-object.js");s.exports=function(d){if(!c(d))throw TypeError(String(d)+" is not an object");return d}},"./node_modules/core-js/internals/array-for-each.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/array-iteration.js").forEach,d=l("./node_modules/core-js/internals/array-method-is-strict.js"),p=d("forEach");s.exports=p?[].forEach:function(h){return c(this,h,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-indexed-object.js"),d=l("./node_modules/core-js/internals/to-length.js"),p=l("./node_modules/core-js/internals/to-absolute-index.js"),g=function(h){return function(b,w,E){var S=c(b),O=d(S.length),R=p(E,O),j;if(h&&w!=w){for(;O>R;)if(j=S[R++],j!=j)return!0}else for(;O>R;R++)if((h||R in S)&&S[R]===w)return h||R||0;return!h&&-1}};s.exports={includes:g(!0),indexOf:g(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(s,a,l){var c=l("./node_modules/core-js/internals/function-bind-context.js"),d=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/to-object.js"),g=l("./node_modules/core-js/internals/to-length.js"),h=l("./node_modules/core-js/internals/array-species-create.js"),b=[].push,w=function(E){var S=E==1,O=E==2,R=E==3,j=E==4,oe=E==6,ve=E==7,he=E==5||oe;return function(X,F,ie,T){for(var k=p(X),U=d(k),G=c(F,ie,3),pe=g(U.length),W=0,$=T||h,V=S?$(X,pe):O||ve?$(X,0):void 0,B,de;pe>W;W++)if((he||W in U)&&(B=U[W],de=G(B,W,k),E))if(S)V[W]=de;else if(de)switch(E){case 3:return!0;case 5:return B;case 6:return W;case 2:b.call(V,B)}else switch(E){case 4:return!1;case 7:b.call(V,B)}return oe?-1:R||j?j:V}};s.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(s,a,l){var c=l("./node_modules/core-js/internals/fails.js"),d=l("./node_modules/core-js/internals/well-known-symbol.js"),p=l("./node_modules/core-js/internals/engine-v8-version.js"),g=d("species");s.exports=function(h){return p>=51||!c(function(){var b=[],w=b.constructor={};return w[g]=function(){return{foo:1}},b[h](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/fails.js");s.exports=function(d,p){var g=[][d];return!!g&&c(function(){g.call(null,p||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-object.js"),d=l("./node_modules/core-js/internals/is-array.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=p("species");s.exports=function(h){var b;return d(h)&&(b=h.constructor,typeof b=="function"&&(b===Array||d(b.prototype))?b=void 0:c(b)&&(b=b[g],b===null&&(b=void 0))),b===void 0?Array:b}},"./node_modules/core-js/internals/array-species-create.js":function(s,a,l){var c=l("./node_modules/core-js/internals/array-species-constructor.js");s.exports=function(d,p){return new(c(d))(p===0?0:p)}},"./node_modules/core-js/internals/classof-raw.js":function(s){var a={}.toString;s.exports=function(l){return a.call(l).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-string-tag-support.js"),d=l("./node_modules/core-js/internals/classof-raw.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=p("toStringTag"),h=d(function(){return arguments}())=="Arguments",b=function(w,E){try{return w[E]}catch{}};s.exports=c?d:function(w){var E,S,O;return w===void 0?"Undefined":w===null?"Null":typeof(S=b(E=Object(w),g))=="string"?S:h?d(E):(O=d(E))=="Object"&&typeof E.callee=="function"?"Arguments":O}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(s,a,l){var c=l("./node_modules/core-js/internals/has.js"),d=l("./node_modules/core-js/internals/own-keys.js"),p=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),g=l("./node_modules/core-js/internals/object-define-property.js");s.exports=function(h,b){for(var w=d(b),E=g.f,S=p.f,O=0;O<w.length;O++){var R=w[O];c(h,R)||E(h,R,S(b,R))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(s,a,l){var c=l("./node_modules/core-js/internals/fails.js");s.exports=!c(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},"./node_modules/core-js/internals/create-html.js":function(s,a,l){var c=l("./node_modules/core-js/internals/require-object-coercible.js"),d=l("./node_modules/core-js/internals/to-string.js"),p=/"/g;s.exports=function(g,h,b,w){var E=d(c(g)),S="<"+h;return b!==""&&(S+=" "+b+'="'+d(w).replace(p,"&quot;")+'"'),S+">"+E+"</"+h+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,d=l("./node_modules/core-js/internals/object-create.js"),p=l("./node_modules/core-js/internals/create-property-descriptor.js"),g=l("./node_modules/core-js/internals/set-to-string-tag.js"),h=l("./node_modules/core-js/internals/iterators.js"),b=function(){return this};s.exports=function(w,E,S){var O=E+" Iterator";return w.prototype=d(c,{next:p(1,S)}),g(w,O,!1,!0),h[O]=b,w}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(s,a,l){var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/object-define-property.js"),p=l("./node_modules/core-js/internals/create-property-descriptor.js");s.exports=c?function(g,h,b){return d.f(g,h,p(1,b))}:function(g,h,b){return g[h]=b,g}},"./node_modules/core-js/internals/create-property-descriptor.js":function(s){s.exports=function(a,l){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:l}}},"./node_modules/core-js/internals/create-property.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/to-property-key.js"),d=l("./node_modules/core-js/internals/object-define-property.js"),p=l("./node_modules/core-js/internals/create-property-descriptor.js");s.exports=function(g,h,b){var w=c(h);w in g?d.f(g,w,p(0,b)):g[w]=b}},"./node_modules/core-js/internals/define-iterator.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/create-iterator-constructor.js"),p=l("./node_modules/core-js/internals/object-get-prototype-of.js"),g=l("./node_modules/core-js/internals/object-set-prototype-of.js"),h=l("./node_modules/core-js/internals/set-to-string-tag.js"),b=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=l("./node_modules/core-js/internals/redefine.js"),E=l("./node_modules/core-js/internals/well-known-symbol.js"),S=l("./node_modules/core-js/internals/is-pure.js"),O=l("./node_modules/core-js/internals/iterators.js"),R=l("./node_modules/core-js/internals/iterators-core.js"),j=R.IteratorPrototype,oe=R.BUGGY_SAFARI_ITERATORS,ve=E("iterator"),he="keys",X="values",F="entries",ie=function(){return this};s.exports=function(T,k,U,G,pe,W,$){d(U,k,G);var V=function(Ce){if(Ce===pe&&z)return z;if(!oe&&Ce in ce)return ce[Ce];switch(Ce){case he:return function(){return new U(this,Ce)};case X:return function(){return new U(this,Ce)};case F:return function(){return new U(this,Ce)}}return function(){return new U(this)}},B=k+" Iterator",de=!1,ce=T.prototype,M=ce[ve]||ce["@@iterator"]||pe&&ce[pe],z=!oe&&M||V(pe),q=k=="Array"&&ce.entries||M,re,ue,me;if(q&&(re=p(q.call(new T)),j!==Object.prototype&&re.next&&(!S&&p(re)!==j&&(g?g(re,j):typeof re[ve]!="function"&&b(re,ve,ie)),h(re,B,!0,!0),S&&(O[B]=ie))),pe==X&&M&&M.name!==X&&(de=!0,z=function(){return M.call(this)}),(!S||$)&&ce[ve]!==z&&b(ce,ve,z),O[k]=z,pe)if(ue={values:V(X),keys:W?z:V(he),entries:V(F)},$)for(me in ue)(oe||de||!(me in ce))&&w(ce,me,ue[me]);else c({target:k,proto:!0,forced:oe||de},ue);return ue}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(s,a,l){var c=l("./node_modules/core-js/internals/path.js"),d=l("./node_modules/core-js/internals/has.js"),p=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),g=l("./node_modules/core-js/internals/object-define-property.js").f;s.exports=function(h){var b=c.Symbol||(c.Symbol={});d(b,h)||g(b,h,{value:p.f(h)})}},"./node_modules/core-js/internals/descriptors.js":function(s,a,l){var c=l("./node_modules/core-js/internals/fails.js");s.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/is-object.js"),p=c.document,g=d(p)&&d(p.createElement);s.exports=function(h){return g?p.createElement(h):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(s){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(s,a,l){var c=l("./node_modules/core-js/internals/get-built-in.js");s.exports=c("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/engine-user-agent.js"),p=c.process,g=c.Deno,h=p&&p.versions||g&&g.version,b=h&&h.v8,w,E;b?(w=b.split("."),E=w[0]<4?1:w[0]+w[1]):d&&(w=d.match(/Edge\/(\d+)/),(!w||w[1]>=74)&&(w=d.match(/Chrome\/(\d+)/),w&&(E=w[1]))),s.exports=E&&+E},"./node_modules/core-js/internals/enum-bug-keys.js":function(s){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/redefine.js"),h=l("./node_modules/core-js/internals/set-global.js"),b=l("./node_modules/core-js/internals/copy-constructor-properties.js"),w=l("./node_modules/core-js/internals/is-forced.js");s.exports=function(E,S){var O=E.target,R=E.global,j=E.stat,oe,ve,he,X,F,ie;if(R?ve=c:j?ve=c[O]||h(O,{}):ve=(c[O]||{}).prototype,ve)for(he in S){if(F=S[he],E.noTargetGet?(ie=d(ve,he),X=ie&&ie.value):X=ve[he],oe=w(R?he:O+(j?".":"#")+he,E.forced),!oe&&X!==void 0){if(typeof F==typeof X)continue;b(F,X)}(E.sham||X&&X.sham)&&p(F,"sham",!0),g(ve,he,F,E)}}},"./node_modules/core-js/internals/fails.js":function(s){s.exports=function(a){try{return!!a()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(s,a,l){var c=l("./node_modules/core-js/internals/a-function.js");s.exports=function(d,p,g){if(c(d),p===void 0)return d;switch(g){case 0:return function(){return d.call(p)};case 1:return function(h){return d.call(p,h)};case 2:return function(h,b){return d.call(p,h,b)};case 3:return function(h,b,w){return d.call(p,h,b,w)}}return function(){return d.apply(p,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=function(p){return typeof p=="function"?p:void 0};s.exports=function(p,g){return arguments.length<2?d(c[p]):c[p]&&c[p][g]}},"./node_modules/core-js/internals/global.js":function(s){var a=function(l){return l&&l.Math==Math&&l};s.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof global=="object"&&global)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-object.js"),d={}.hasOwnProperty;s.exports=Object.hasOwn||function(g,h){return d.call(c(g),h)}},"./node_modules/core-js/internals/hidden-keys.js":function(s){s.exports={}},"./node_modules/core-js/internals/html.js":function(s,a,l){var c=l("./node_modules/core-js/internals/get-built-in.js");s.exports=c("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(s,a,l){var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/fails.js"),p=l("./node_modules/core-js/internals/document-create-element.js");s.exports=!c&&!d(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(s,a,l){var c=l("./node_modules/core-js/internals/fails.js"),d=l("./node_modules/core-js/internals/classof-raw.js"),p="".split;s.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return d(g)=="String"?p.call(g,""):Object(g)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-object.js"),d=l("./node_modules/core-js/internals/object-set-prototype-of.js");s.exports=function(p,g,h){var b,w;return d&&typeof(b=g.constructor)=="function"&&b!==h&&c(w=b.prototype)&&w!==h.prototype&&d(p,w),p}},"./node_modules/core-js/internals/inspect-source.js":function(s,a,l){var c=l("./node_modules/core-js/internals/shared-store.js"),d=Function.toString;typeof c.inspectSource!="function"&&(c.inspectSource=function(p){return d.call(p)}),s.exports=c.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(s,a,l){var c=l("./node_modules/core-js/internals/native-weak-map.js"),d=l("./node_modules/core-js/internals/global.js"),p=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),h=l("./node_modules/core-js/internals/has.js"),b=l("./node_modules/core-js/internals/shared-store.js"),w=l("./node_modules/core-js/internals/shared-key.js"),E=l("./node_modules/core-js/internals/hidden-keys.js"),S="Object already initialized",O=d.WeakMap,R,j,oe,ve=function(U){return oe(U)?j(U):R(U,{})},he=function(U){return function(G){var pe;if(!p(G)||(pe=j(G)).type!==U)throw TypeError("Incompatible receiver, "+U+" required");return pe}};if(c||b.state){var X=b.state||(b.state=new O),F=X.get,ie=X.has,T=X.set;R=function(U,G){if(ie.call(X,U))throw new TypeError(S);return G.facade=U,T.call(X,U,G),G},j=function(U){return F.call(X,U)||{}},oe=function(U){return ie.call(X,U)}}else{var k=w("state");E[k]=!0,R=function(U,G){if(h(U,k))throw new TypeError(S);return G.facade=U,g(U,k,G),G},j=function(U){return h(U,k)?U[k]:{}},oe=function(U){return h(U,k)}}s.exports={set:R,get:j,has:oe,enforce:ve,getterFor:he}},"./node_modules/core-js/internals/is-array.js":function(s,a,l){var c=l("./node_modules/core-js/internals/classof-raw.js");s.exports=Array.isArray||function(p){return c(p)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(s,a,l){var c=l("./node_modules/core-js/internals/fails.js"),d=/#|\.prototype\./,p=function(E,S){var O=h[g(E)];return O==w?!0:O==b?!1:typeof S=="function"?c(S):!!S},g=p.normalize=function(E){return String(E).replace(d,".").toLowerCase()},h=p.data={},b=p.NATIVE="N",w=p.POLYFILL="P";s.exports=p},"./node_modules/core-js/internals/is-object.js":function(s){s.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},"./node_modules/core-js/internals/is-pure.js":function(s){s.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(s,a,l){var c=l("./node_modules/core-js/internals/get-built-in.js"),d=l("./node_modules/core-js/internals/use-symbol-as-uid.js");s.exports=d?function(p){return typeof p=="symbol"}:function(p){var g=c("Symbol");return typeof g=="function"&&Object(p)instanceof g}},"./node_modules/core-js/internals/iterators-core.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/fails.js"),d=l("./node_modules/core-js/internals/object-get-prototype-of.js"),p=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/has.js"),h=l("./node_modules/core-js/internals/well-known-symbol.js"),b=l("./node_modules/core-js/internals/is-pure.js"),w=h("iterator"),E=!1,S=function(){return this},O,R,j;[].keys&&(j=[].keys(),"next"in j?(R=d(d(j)),R!==Object.prototype&&(O=R)):E=!0);var oe=O==null||c(function(){var ve={};return O[w].call(ve)!==ve});oe&&(O={}),(!b||oe)&&!g(O,w)&&p(O,w,S),s.exports={IteratorPrototype:O,BUGGY_SAFARI_ITERATORS:E}},"./node_modules/core-js/internals/iterators.js":function(s){s.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(s,a,l){var c=l("./node_modules/core-js/internals/engine-v8-version.js"),d=l("./node_modules/core-js/internals/fails.js");s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var p=Symbol();return!String(p)||!(Object(p)instanceof Symbol)||!Symbol.sham&&c&&c<41})},"./node_modules/core-js/internals/native-weak-map.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/inspect-source.js"),p=c.WeakMap;s.exports=typeof p=="function"&&/native code/.test(d(p))},"./node_modules/core-js/internals/object-assign.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/fails.js"),p=l("./node_modules/core-js/internals/object-keys.js"),g=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),h=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=l("./node_modules/core-js/internals/to-object.js"),w=l("./node_modules/core-js/internals/indexed-object.js"),E=Object.assign,S=Object.defineProperty;s.exports=!E||d(function(){if(c&&E({b:1},E(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var O={},R={},j=Symbol(),oe="abcdefghijklmnopqrst";return O[j]=7,oe.split("").forEach(function(ve){R[ve]=ve}),E({},O)[j]!=7||p(E({},R)).join("")!=oe})?function(R,j){for(var oe=b(R),ve=arguments.length,he=1,X=g.f,F=h.f;ve>he;)for(var ie=w(arguments[he++]),T=X?p(ie).concat(X(ie)):p(ie),k=T.length,U=0,G;k>U;)G=T[U++],(!c||F.call(ie,G))&&(oe[G]=ie[G]);return oe}:E},"./node_modules/core-js/internals/object-create.js":function(s,a,l){var c=l("./node_modules/core-js/internals/an-object.js"),d=l("./node_modules/core-js/internals/object-define-properties.js"),p=l("./node_modules/core-js/internals/enum-bug-keys.js"),g=l("./node_modules/core-js/internals/hidden-keys.js"),h=l("./node_modules/core-js/internals/html.js"),b=l("./node_modules/core-js/internals/document-create-element.js"),w=l("./node_modules/core-js/internals/shared-key.js"),E=">",S="<",O="prototype",R="script",j=w("IE_PROTO"),oe=function(){},ve=function(T){return S+R+E+T+S+"/"+R+E},he=function(T){T.write(ve("")),T.close();var k=T.parentWindow.Object;return T=null,k},X=function(){var T=b("iframe"),k="java"+R+":",U;if(T.style)return T.style.display="none",h.appendChild(T),T.src=String(k),U=T.contentWindow.document,U.open(),U.write(ve("document.F=Object")),U.close(),U.F},F,ie=function(){try{F=new ActiveXObject("htmlfile")}catch{}ie=document.domain&&F?he(F):X()||he(F);for(var T=p.length;T--;)delete ie[O][p[T]];return ie()};g[j]=!0,s.exports=Object.create||function(k,U){var G;return k!==null?(oe[O]=c(k),G=new oe,oe[O]=null,G[j]=k):G=ie(),U===void 0?G:d(G,U)}},"./node_modules/core-js/internals/object-define-properties.js":function(s,a,l){var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/object-define-property.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/object-keys.js");s.exports=c?Object.defineProperties:function(b,w){p(b);for(var E=g(w),S=E.length,O=0,R;S>O;)d.f(b,R=E[O++],w[R]);return b}},"./node_modules/core-js/internals/object-define-property.js":function(s,a,l){var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/ie8-dom-define.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-property-key.js"),h=Object.defineProperty;a.f=c?h:function(w,E,S){if(p(w),E=g(E),p(S),d)try{return h(w,E,S)}catch{}if("get"in S||"set"in S)throw TypeError("Accessors not supported");return"value"in S&&(w[E]=S.value),w}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(s,a,l){var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),p=l("./node_modules/core-js/internals/create-property-descriptor.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),h=l("./node_modules/core-js/internals/to-property-key.js"),b=l("./node_modules/core-js/internals/has.js"),w=l("./node_modules/core-js/internals/ie8-dom-define.js"),E=Object.getOwnPropertyDescriptor;a.f=c?E:function(O,R){if(O=g(O),R=h(R),w)try{return E(O,R)}catch{}if(b(O,R))return p(!d.f.call(O,R),O[R])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-indexed-object.js"),d=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,p={}.toString,g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(b){try{return d(b)}catch{return g.slice()}};s.exports.f=function(w){return g&&p.call(w)=="[object Window]"?h(w):d(c(w))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(s,a,l){var c=l("./node_modules/core-js/internals/object-keys-internal.js"),d=l("./node_modules/core-js/internals/enum-bug-keys.js"),p=d.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(h){return c(h,p)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(s,a){a.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(s,a,l){var c=l("./node_modules/core-js/internals/has.js"),d=l("./node_modules/core-js/internals/to-object.js"),p=l("./node_modules/core-js/internals/shared-key.js"),g=l("./node_modules/core-js/internals/correct-prototype-getter.js"),h=p("IE_PROTO"),b=Object.prototype;s.exports=g?Object.getPrototypeOf:function(w){return w=d(w),c(w,h)?w[h]:typeof w.constructor=="function"&&w instanceof w.constructor?w.constructor.prototype:w instanceof Object?b:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(s,a,l){var c=l("./node_modules/core-js/internals/has.js"),d=l("./node_modules/core-js/internals/to-indexed-object.js"),p=l("./node_modules/core-js/internals/array-includes.js").indexOf,g=l("./node_modules/core-js/internals/hidden-keys.js");s.exports=function(h,b){var w=d(h),E=0,S=[],O;for(O in w)!c(g,O)&&c(w,O)&&S.push(O);for(;b.length>E;)c(w,O=b[E++])&&(~p(S,O)||S.push(O));return S}},"./node_modules/core-js/internals/object-keys.js":function(s,a,l){var c=l("./node_modules/core-js/internals/object-keys-internal.js"),d=l("./node_modules/core-js/internals/enum-bug-keys.js");s.exports=Object.keys||function(g){return c(g,d)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(s,a){"use strict";var l={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,d=c&&!l.call({1:2},1);a.f=d?function(g){var h=c(this,g);return!!h&&h.enumerable}:l},"./node_modules/core-js/internals/object-set-prototype-of.js":function(s,a,l){var c=l("./node_modules/core-js/internals/an-object.js"),d=l("./node_modules/core-js/internals/a-possible-prototype.js");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p=!1,g={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(g,[]),p=g instanceof Array}catch{}return function(w,E){return c(w),d(E),p?h.call(w,E):w.__proto__=E,w}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/to-string-tag-support.js"),d=l("./node_modules/core-js/internals/classof.js");s.exports=c?{}.toString:function(){return"[object "+d(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-object.js");s.exports=function(d,p){var g,h;if(p==="string"&&typeof(g=d.toString)=="function"&&!c(h=g.call(d))||typeof(g=d.valueOf)=="function"&&!c(h=g.call(d))||p!=="string"&&typeof(g=d.toString)=="function"&&!c(h=g.call(d)))return h;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(s,a,l){var c=l("./node_modules/core-js/internals/get-built-in.js"),d=l("./node_modules/core-js/internals/object-get-own-property-names.js"),p=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/an-object.js");s.exports=c("Reflect","ownKeys")||function(b){var w=d.f(g(b)),E=p.f;return E?w.concat(E(b)):w}},"./node_modules/core-js/internals/path.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js");s.exports=c},"./node_modules/core-js/internals/redefine.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=l("./node_modules/core-js/internals/has.js"),g=l("./node_modules/core-js/internals/set-global.js"),h=l("./node_modules/core-js/internals/inspect-source.js"),b=l("./node_modules/core-js/internals/internal-state.js"),w=b.get,E=b.enforce,S=String(String).split("String");(s.exports=function(O,R,j,oe){var ve=oe?!!oe.unsafe:!1,he=oe?!!oe.enumerable:!1,X=oe?!!oe.noTargetGet:!1,F;if(typeof j=="function"&&(typeof R=="string"&&!p(j,"name")&&d(j,"name",R),F=E(j),F.source||(F.source=S.join(typeof R=="string"?R:""))),O===c){he?O[R]=j:g(R,j);return}else ve?!X&&O[R]&&(he=!0):delete O[R];he?O[R]=j:d(O,R,j)})(Function.prototype,"toString",function(){return typeof this=="function"&&w(this).source||h(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/an-object.js");s.exports=function(){var d=c(this),p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),d.dotAll&&(p+="s"),d.unicode&&(p+="u"),d.sticky&&(p+="y"),p}},"./node_modules/core-js/internals/require-object-coercible.js":function(s){s.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},"./node_modules/core-js/internals/set-global.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js");s.exports=function(d,p){try{Object.defineProperty(c,d,{value:p,configurable:!0,writable:!0})}catch{c[d]=p}return p}},"./node_modules/core-js/internals/set-to-string-tag.js":function(s,a,l){var c=l("./node_modules/core-js/internals/object-define-property.js").f,d=l("./node_modules/core-js/internals/has.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=p("toStringTag");s.exports=function(h,b,w){h&&!d(h=w?h:h.prototype,g)&&c(h,g,{configurable:!0,value:b})}},"./node_modules/core-js/internals/shared-key.js":function(s,a,l){var c=l("./node_modules/core-js/internals/shared.js"),d=l("./node_modules/core-js/internals/uid.js"),p=c("keys");s.exports=function(g){return p[g]||(p[g]=d(g))}},"./node_modules/core-js/internals/shared-store.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/set-global.js"),p="__core-js_shared__",g=c[p]||d(p,{});s.exports=g},"./node_modules/core-js/internals/shared.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-pure.js"),d=l("./node_modules/core-js/internals/shared-store.js");(s.exports=function(p,g){return d[p]||(d[p]=g!==void 0?g:{})})("versions",[]).push({version:"3.16.0",mode:c?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(s,a,l){var c=l("./node_modules/core-js/internals/fails.js");s.exports=function(d){return c(function(){var p=""[d]('"');return p!==p.toLowerCase()||p.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-integer.js"),d=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/require-object-coercible.js"),g=function(h){return function(b,w){var E=d(p(b)),S=c(w),O=E.length,R,j;return S<0||S>=O?h?"":void 0:(R=E.charCodeAt(S),R<55296||R>56319||S+1===O||(j=E.charCodeAt(S+1))<56320||j>57343?h?E.charAt(S):R:h?E.slice(S,S+2):(R-55296<<10)+(j-56320)+65536)}};s.exports={codeAt:g(!1),charAt:g(!0)}},"./node_modules/core-js/internals/string-trim.js":function(s,a,l){var c=l("./node_modules/core-js/internals/require-object-coercible.js"),d=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/whitespaces.js"),g="["+p+"]",h=RegExp("^"+g+g+"*"),b=RegExp(g+g+"*$"),w=function(E){return function(S){var O=d(c(S));return E&1&&(O=O.replace(h,"")),E&2&&(O=O.replace(b,"")),O}};s.exports={start:w(1),end:w(2),trim:w(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-integer.js"),d=Math.max,p=Math.min;s.exports=function(g,h){var b=c(g);return b<0?d(b+h,0):p(b,h)}},"./node_modules/core-js/internals/to-indexed-object.js":function(s,a,l){var c=l("./node_modules/core-js/internals/indexed-object.js"),d=l("./node_modules/core-js/internals/require-object-coercible.js");s.exports=function(p){return c(d(p))}},"./node_modules/core-js/internals/to-integer.js":function(s){var a=Math.ceil,l=Math.floor;s.exports=function(c){return isNaN(c=+c)?0:(c>0?l:a)(c)}},"./node_modules/core-js/internals/to-length.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-integer.js"),d=Math.min;s.exports=function(p){return p>0?d(c(p),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(s,a,l){var c=l("./node_modules/core-js/internals/require-object-coercible.js");s.exports=function(d){return Object(c(d))}},"./node_modules/core-js/internals/to-primitive.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-object.js"),d=l("./node_modules/core-js/internals/is-symbol.js"),p=l("./node_modules/core-js/internals/ordinary-to-primitive.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),h=g("toPrimitive");s.exports=function(b,w){if(!c(b)||d(b))return b;var E=b[h],S;if(E!==void 0){if(w===void 0&&(w="default"),S=E.call(b,w),!c(S)||d(S))return S;throw TypeError("Can't convert object to primitive value")}return w===void 0&&(w="number"),p(b,w)}},"./node_modules/core-js/internals/to-property-key.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-primitive.js"),d=l("./node_modules/core-js/internals/is-symbol.js");s.exports=function(p){var g=c(p,"string");return d(g)?g:String(g)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(s,a,l){var c=l("./node_modules/core-js/internals/well-known-symbol.js"),d=c("toStringTag"),p={};p[d]="z",s.exports=String(p)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(s,a,l){var c=l("./node_modules/core-js/internals/is-symbol.js");s.exports=function(d){if(c(d))throw TypeError("Cannot convert a Symbol value to a string");return String(d)}},"./node_modules/core-js/internals/uid.js":function(s){var a=0,l=Math.random();s.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++a+l).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(s,a,l){var c=l("./node_modules/core-js/internals/native-symbol.js");s.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(s,a,l){var c=l("./node_modules/core-js/internals/well-known-symbol.js");a.f=c},"./node_modules/core-js/internals/well-known-symbol.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/shared.js"),p=l("./node_modules/core-js/internals/has.js"),g=l("./node_modules/core-js/internals/uid.js"),h=l("./node_modules/core-js/internals/native-symbol.js"),b=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),w=d("wks"),E=c.Symbol,S=b?E:E&&E.withoutSetter||g;s.exports=function(O){return(!p(w,O)||!(h||typeof w[O]=="string"))&&(h&&p(E,O)?w[O]=E[O]:w[O]=S("Symbol."+O)),w[O]}},"./node_modules/core-js/internals/whitespaces.js":function(s){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/fails.js"),p=l("./node_modules/core-js/internals/is-array.js"),g=l("./node_modules/core-js/internals/is-object.js"),h=l("./node_modules/core-js/internals/to-object.js"),b=l("./node_modules/core-js/internals/to-length.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/array-species-create.js"),S=l("./node_modules/core-js/internals/array-method-has-species-support.js"),O=l("./node_modules/core-js/internals/well-known-symbol.js"),R=l("./node_modules/core-js/internals/engine-v8-version.js"),j=O("isConcatSpreadable"),oe=9007199254740991,ve="Maximum allowed index exceeded",he=R>=51||!d(function(){var T=[];return T[j]=!1,T.concat()[0]!==T}),X=S("concat"),F=function(T){if(!g(T))return!1;var k=T[j];return k!==void 0?!!k:p(T)},ie=!he||!X;c({target:"Array",proto:!0,forced:ie},{concat:function(k){var U=h(this),G=E(U,0),pe=0,W,$,V,B,de;for(W=-1,V=arguments.length;W<V;W++)if(de=W===-1?U:arguments[W],F(de)){if(B=b(de.length),pe+B>oe)throw TypeError(ve);for($=0;$<B;$++,pe++)$ in de&&w(G,pe,de[$])}else{if(pe>=oe)throw TypeError(ve);w(G,pe++,de)}return G.length=pe,G}})},"./node_modules/core-js/modules/es.array.iterator.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/to-indexed-object.js"),d=l("./node_modules/core-js/internals/add-to-unscopables.js"),p=l("./node_modules/core-js/internals/iterators.js"),g=l("./node_modules/core-js/internals/internal-state.js"),h=l("./node_modules/core-js/internals/define-iterator.js"),b="Array Iterator",w=g.set,E=g.getterFor(b);s.exports=h(Array,"Array",function(S,O){w(this,{type:b,target:c(S),index:0,kind:O})},function(){var S=E(this),O=S.target,R=S.kind,j=S.index++;return!O||j>=O.length?(S.target=void 0,{value:void 0,done:!0}):R=="keys"?{value:j,done:!1}:R=="values"?{value:O[j],done:!1}:{value:[j,O[j]],done:!1}},"values"),p.Arguments=p.Array,d("keys"),d("values"),d("entries")},"./node_modules/core-js/modules/es.array.join.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/to-indexed-object.js"),g=l("./node_modules/core-js/internals/array-method-is-strict.js"),h=[].join,b=d!=Object,w=g("join",",");c({target:"Array",proto:!0,forced:b||!w},{join:function(S){return h.call(p(this),S===void 0?",":S)}})},"./node_modules/core-js/modules/es.array.map.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/array-iteration.js").map,p=l("./node_modules/core-js/internals/array-method-has-species-support.js"),g=p("map");c({target:"Array",proto:!0,forced:!g},{map:function(b){return d(this,b,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/is-array.js"),g=l("./node_modules/core-js/internals/to-absolute-index.js"),h=l("./node_modules/core-js/internals/to-length.js"),b=l("./node_modules/core-js/internals/to-indexed-object.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/well-known-symbol.js"),S=l("./node_modules/core-js/internals/array-method-has-species-support.js"),O=S("slice"),R=E("species"),j=[].slice,oe=Math.max;c({target:"Array",proto:!0,forced:!O},{slice:function(he,X){var F=b(this),ie=h(F.length),T=g(he,ie),k=g(X===void 0?ie:X,ie),U,G,pe;if(p(F)&&(U=F.constructor,typeof U=="function"&&(U===Array||p(U.prototype))?U=void 0:d(U)&&(U=U[R],U===null&&(U=void 0)),U===Array||U===void 0))return j.call(F,T,k);for(G=new(U===void 0?Array:U)(oe(k-T,0)),pe=0;T<k;T++,pe++)T in F&&w(G,pe,F[T]);return G.length=pe,G}})},"./node_modules/core-js/modules/es.function.name.js":function(s,a,l){var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/object-define-property.js").f,p=Function.prototype,g=p.toString,h=/^\s*function ([^ (]*)/,b="name";c&&!(b in p)&&d(p,b,{configurable:!0,get:function(){try{return g.call(this).match(h)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/descriptors.js"),d=l("./node_modules/core-js/internals/global.js"),p=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/redefine.js"),h=l("./node_modules/core-js/internals/has.js"),b=l("./node_modules/core-js/internals/classof-raw.js"),w=l("./node_modules/core-js/internals/inherit-if-required.js"),E=l("./node_modules/core-js/internals/is-symbol.js"),S=l("./node_modules/core-js/internals/to-primitive.js"),O=l("./node_modules/core-js/internals/fails.js"),R=l("./node_modules/core-js/internals/object-create.js"),j=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,oe=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,ve=l("./node_modules/core-js/internals/object-define-property.js").f,he=l("./node_modules/core-js/internals/string-trim.js").trim,X="Number",F=d[X],ie=F.prototype,T=b(R(ie))==X,k=function($){if(E($))throw TypeError("Cannot convert a Symbol value to a number");var V=S($,"number"),B,de,ce,M,z,q,re,ue;if(typeof V=="string"&&V.length>2){if(V=he(V),B=V.charCodeAt(0),B===43||B===45){if(de=V.charCodeAt(2),de===88||de===120)return NaN}else if(B===48){switch(V.charCodeAt(1)){case 66:case 98:ce=2,M=49;break;case 79:case 111:ce=8,M=55;break;default:return+V}for(z=V.slice(2),q=z.length,re=0;re<q;re++)if(ue=z.charCodeAt(re),ue<48||ue>M)return NaN;return parseInt(z,ce)}}return+V};if(p(X,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var U=function(V){var B=arguments.length<1?0:V,de=this;return de instanceof U&&(T?O(function(){ie.valueOf.call(de)}):b(de)!=X)?w(new F(k(B)),de,U):k(B)},G=c?j(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),pe=0,W;G.length>pe;pe++)h(F,W=G[pe])&&!h(U,W)&&ve(U,W,oe(F,W));U.prototype=ie,ie.constructor=U,g(d,X,U)}},"./node_modules/core-js/modules/es.object.assign.js":function(s,a,l){var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/object-assign.js");c({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},"./node_modules/core-js/modules/es.object.keys.js":function(s,a,l){var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/to-object.js"),p=l("./node_modules/core-js/internals/object-keys.js"),g=l("./node_modules/core-js/internals/fails.js"),h=g(function(){p(1)});c({target:"Object",stat:!0,forced:h},{keys:function(w){return p(d(w))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(s,a,l){var c=l("./node_modules/core-js/internals/to-string-tag-support.js"),d=l("./node_modules/core-js/internals/redefine.js"),p=l("./node_modules/core-js/internals/object-to-string.js");c||d(Object.prototype,"toString",p,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/redefine.js"),d=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/fails.js"),h=l("./node_modules/core-js/internals/regexp-flags.js"),b="toString",w=RegExp.prototype,E=w[b],S=g(function(){return E.call({source:"a",flags:"b"})!="/a/b"}),O=E.name!=b;(S||O)&&c(RegExp.prototype,b,function(){var j=d(this),oe=p(j.source),ve=j.flags,he=p(ve===void 0&&j instanceof RegExp&&!("flags"in w)?h.call(j):ve);return"/"+oe+"/"+he},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/string-multibyte.js").charAt,d=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/internal-state.js"),g=l("./node_modules/core-js/internals/define-iterator.js"),h="String Iterator",b=p.set,w=p.getterFor(h);g(String,"String",function(E){b(this,{type:h,string:d(E),index:0})},function(){var S=w(this),O=S.string,R=S.index,j;return R>=O.length?{value:void 0,done:!0}:(j=c(O,R),S.index+=j.length,{value:j,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/create-html.js"),p=l("./node_modules/core-js/internals/string-html-forced.js");c({target:"String",proto:!0,forced:p("link")},{link:function(h){return d(this,"a","href",h)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/descriptors.js"),p=l("./node_modules/core-js/internals/global.js"),g=l("./node_modules/core-js/internals/has.js"),h=l("./node_modules/core-js/internals/is-object.js"),b=l("./node_modules/core-js/internals/object-define-property.js").f,w=l("./node_modules/core-js/internals/copy-constructor-properties.js"),E=p.Symbol;if(d&&typeof E=="function"&&(!("description"in E.prototype)||E().description!==void 0)){var S={},O=function(){var X=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),F=this instanceof O?new E(X):X===void 0?E():E(X);return X===""&&(S[F]=!0),F};w(O,E);var R=O.prototype=E.prototype;R.constructor=O;var j=R.toString,oe=String(E("test"))=="Symbol(test)",ve=/^Symbol\((.*)\)[^)]+$/;b(R,"description",{configurable:!0,get:function(){var X=h(this)?this.valueOf():this,F=j.call(X);if(g(S,X))return"";var ie=oe?F.slice(7,-1):F.replace(ve,"$1");return ie===""?void 0:ie}}),c({global:!0,forced:!0},{Symbol:O})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(s,a,l){var c=l("./node_modules/core-js/internals/define-well-known-symbol.js");c("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(s,a,l){"use strict";var c=l("./node_modules/core-js/internals/export.js"),d=l("./node_modules/core-js/internals/global.js"),p=l("./node_modules/core-js/internals/get-built-in.js"),g=l("./node_modules/core-js/internals/is-pure.js"),h=l("./node_modules/core-js/internals/descriptors.js"),b=l("./node_modules/core-js/internals/native-symbol.js"),w=l("./node_modules/core-js/internals/fails.js"),E=l("./node_modules/core-js/internals/has.js"),S=l("./node_modules/core-js/internals/is-array.js"),O=l("./node_modules/core-js/internals/is-object.js"),R=l("./node_modules/core-js/internals/is-symbol.js"),j=l("./node_modules/core-js/internals/an-object.js"),oe=l("./node_modules/core-js/internals/to-object.js"),ve=l("./node_modules/core-js/internals/to-indexed-object.js"),he=l("./node_modules/core-js/internals/to-property-key.js"),X=l("./node_modules/core-js/internals/to-string.js"),F=l("./node_modules/core-js/internals/create-property-descriptor.js"),ie=l("./node_modules/core-js/internals/object-create.js"),T=l("./node_modules/core-js/internals/object-keys.js"),k=l("./node_modules/core-js/internals/object-get-own-property-names.js"),U=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),G=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),pe=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),W=l("./node_modules/core-js/internals/object-define-property.js"),$=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),V=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),B=l("./node_modules/core-js/internals/redefine.js"),de=l("./node_modules/core-js/internals/shared.js"),ce=l("./node_modules/core-js/internals/shared-key.js"),M=l("./node_modules/core-js/internals/hidden-keys.js"),z=l("./node_modules/core-js/internals/uid.js"),q=l("./node_modules/core-js/internals/well-known-symbol.js"),re=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ue=l("./node_modules/core-js/internals/define-well-known-symbol.js"),me=l("./node_modules/core-js/internals/set-to-string-tag.js"),Ce=l("./node_modules/core-js/internals/internal-state.js"),we=l("./node_modules/core-js/internals/array-iteration.js").forEach,xe=ce("hidden"),Pe="Symbol",Ge="prototype",Je=q("toPrimitive"),Ae=Ce.set,J=Ce.getterFor(Pe),kt=Object[Ge],St=d.Symbol,vt=p("JSON","stringify"),He=pe.f,ct=W.f,et=U.f,Lt=$.f,ut=de("symbols"),ln=de("op-symbols"),Rt=de("string-to-symbol-registry"),mt=de("symbol-to-string-registry"),In=de("wks"),be=d.QObject,De=!be||!be[Ge]||!be[Ge].findChild,Te=h&&w(function(){return ie(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a!=7})?function(Nt,nt,at){var Qe=He(kt,nt);Qe&&delete kt[nt],ct(Nt,nt,at),Qe&&Nt!==kt&&ct(kt,nt,Qe)}:ct,je=function(Nt,nt){var at=ut[Nt]=ie(St[Ge]);return Ae(at,{type:Pe,tag:Nt,description:nt}),h||(at.description=nt),at},rt=function(nt,at,Qe){nt===kt&&rt(ln,at,Qe),j(nt);var wt=he(at);return j(Qe),E(ut,wt)?(Qe.enumerable?(E(nt,xe)&&nt[xe][wt]&&(nt[xe][wt]=!1),Qe=ie(Qe,{enumerable:F(0,!1)})):(E(nt,xe)||ct(nt,xe,F(1,{})),nt[xe][wt]=!0),Te(nt,wt,Qe)):ct(nt,wt,Qe)},it=function(nt,at){j(nt);var Qe=ve(at),wt=T(Qe).concat(Zt(Qe));return we(wt,function(yi){(!h||Tt.call(Qe,yi))&&rt(nt,yi,Qe[yi])}),nt},Ze=function(nt,at){return at===void 0?ie(nt):it(ie(nt),at)},Tt=function(nt){var at=he(nt),Qe=Lt.call(this,at);return this===kt&&E(ut,at)&&!E(ln,at)?!1:Qe||!E(this,at)||!E(ut,at)||E(this,xe)&&this[xe][at]?Qe:!0},vn=function(nt,at){var Qe=ve(nt),wt=he(at);if(!(Qe===kt&&E(ut,wt)&&!E(ln,wt))){var yi=He(Qe,wt);return yi&&E(ut,wt)&&!(E(Qe,xe)&&Qe[xe][wt])&&(yi.enumerable=!0),yi}},It=function(nt){var at=et(ve(nt)),Qe=[];return we(at,function(wt){!E(ut,wt)&&!E(M,wt)&&Qe.push(wt)}),Qe},Zt=function(nt){var at=nt===kt,Qe=et(at?ln:ve(nt)),wt=[];return we(Qe,function(yi){E(ut,yi)&&(!at||E(kt,yi))&&wt.push(ut[yi])}),wt};if(b||(St=function(){if(this instanceof St)throw TypeError("Symbol is not a constructor");var nt=!arguments.length||arguments[0]===void 0?void 0:X(arguments[0]),at=z(nt),Qe=function(wt){this===kt&&Qe.call(ln,wt),E(this,xe)&&E(this[xe],at)&&(this[xe][at]=!1),Te(this,at,F(1,wt))};return h&&De&&Te(kt,at,{configurable:!0,set:Qe}),je(at,nt)},B(St[Ge],"toString",function(){return J(this).tag}),B(St,"withoutSetter",function(Nt){return je(z(Nt),Nt)}),$.f=Tt,W.f=rt,pe.f=vn,k.f=U.f=It,G.f=Zt,re.f=function(Nt){return je(q(Nt),Nt)},h&&(ct(St[Ge],"description",{configurable:!0,get:function(){return J(this).description}}),g||B(kt,"propertyIsEnumerable",Tt,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:St}),we(T(In),function(Nt){ue(Nt)}),c({target:Pe,stat:!0,forced:!b},{for:function(Nt){var nt=X(Nt);if(E(Rt,nt))return Rt[nt];var at=St(nt);return Rt[nt]=at,mt[at]=nt,at},keyFor:function(nt){if(!R(nt))throw TypeError(nt+" is not a symbol");if(E(mt,nt))return mt[nt]},useSetter:function(){De=!0},useSimple:function(){De=!1}}),c({target:"Object",stat:!0,forced:!b,sham:!h},{create:Ze,defineProperty:rt,defineProperties:it,getOwnPropertyDescriptor:vn}),c({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:It,getOwnPropertySymbols:Zt}),c({target:"Object",stat:!0,forced:w(function(){G.f(1)})},{getOwnPropertySymbols:function(nt){return G.f(oe(nt))}}),vt){var Ut=!b||w(function(){var Nt=St();return vt([Nt])!="[null]"||vt({a:Nt})!="{}"||vt(Object(Nt))!="{}"});c({target:"JSON",stat:!0,forced:Ut},{stringify:function(nt,at,Qe){for(var wt=[nt],yi=1,zi;arguments.length>yi;)wt.push(arguments[yi++]);if(zi=at,!(!O(at)&&nt===void 0||R(nt)))return S(at)||(at=function(ss,Fr){if(typeof zi=="function"&&(Fr=zi.call(this,ss,Fr)),!R(Fr))return Fr}),wt[1]=at,vt.apply(null,wt)}})}St[Ge][Je]||V(St[Ge],Je,St[Ge].valueOf),me(St,Pe),M[xe]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/dom-iterables.js"),p=l("./node_modules/core-js/internals/array-for-each.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var h in d){var b=c[h],w=b&&b.prototype;if(w&&w.forEach!==p)try{g(w,"forEach",p)}catch{w.forEach=p}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(s,a,l){var c=l("./node_modules/core-js/internals/global.js"),d=l("./node_modules/core-js/internals/dom-iterables.js"),p=l("./node_modules/core-js/modules/es.array.iterator.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),h=l("./node_modules/core-js/internals/well-known-symbol.js"),b=h("iterator"),w=h("toStringTag"),E=p.values;for(var S in d){var O=c[S],R=O&&O.prototype;if(R){if(R[b]!==E)try{g(R,b,E)}catch{R[b]=E}if(R[w]||g(R,w,S),d[S]){for(var j in p)if(R[j]!==p[j])try{g(R,j,p[j])}catch{R[j]=p[j]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(s){(function(a,l){s.exports=l()})(this,function(){"use strict";function a(be){var De=typeof be;return be!==null&&(De==="object"||De==="function")}function l(be){return typeof be=="function"}var c=void 0;Array.isArray?c=Array.isArray:c=function(be){return Object.prototype.toString.call(be)==="[object Array]"};var d=c,p=0,g=void 0,h=void 0,b=function(De,Te){T[p]=De,T[p+1]=Te,p+=2,p===2&&(h?h(k):G())};function w(be){h=be}function E(be){b=be}var S=typeof window<"u"?window:void 0,O=S||{},R=O.MutationObserver||O.WebKitMutationObserver,j=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",oe=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ve(){return function(){return process.nextTick(k)}}function he(){return typeof g<"u"?function(){g(k)}:ie()}function X(){var be=0,De=new R(k),Te=document.createTextNode("");return De.observe(Te,{characterData:!0}),function(){Te.data=be=++be%2}}function F(){var be=new MessageChannel;return be.port1.onmessage=k,function(){return be.port2.postMessage(0)}}function ie(){var be=setTimeout;return function(){return be(k,1)}}var T=new Array(1e3);function k(){for(var be=0;be<p;be+=2){var De=T[be],Te=T[be+1];De(Te),T[be]=void 0,T[be+1]=void 0}p=0}function U(){try{var be=Function("return this")().require("vertx");return g=be.runOnLoop||be.runOnContext,he()}catch{return ie()}}var G=void 0;j?G=ve():R?G=X():oe?G=F():S===void 0?G=U():G=ie();function pe(be,De){var Te=this,je=new this.constructor(V);je[$]===void 0&&vt(je);var rt=Te._state;if(rt){var it=arguments[rt-1];b(function(){return Ae(rt,je,it,Te._result)})}else Ge(Te,je,be,De);return je}function W(be){var De=this;if(be&&typeof be=="object"&&be.constructor===De)return be;var Te=new De(V);return Ce(Te,be),Te}var $=Math.random().toString(36).substring(2);function V(){}var B=void 0,de=1,ce=2;function M(){return new TypeError("You cannot resolve a promise with itself")}function z(){return new TypeError("A promises callback cannot return that same promise.")}function q(be,De,Te,je){try{be.call(De,Te,je)}catch(rt){return rt}}function re(be,De,Te){b(function(je){var rt=!1,it=q(Te,De,function(Ze){rt||(rt=!0,De!==Ze?Ce(je,Ze):xe(je,Ze))},function(Ze){rt||(rt=!0,Pe(je,Ze))},"Settle: "+(je._label||" unknown promise"));!rt&&it&&(rt=!0,Pe(je,it))},be)}function ue(be,De){De._state===de?xe(be,De._result):De._state===ce?Pe(be,De._result):Ge(De,void 0,function(Te){return Ce(be,Te)},function(Te){return Pe(be,Te)})}function me(be,De,Te){De.constructor===be.constructor&&Te===pe&&De.constructor.resolve===W?ue(be,De):Te===void 0?xe(be,De):l(Te)?re(be,De,Te):xe(be,De)}function Ce(be,De){if(be===De)Pe(be,M());else if(a(De)){var Te=void 0;try{Te=De.then}catch(je){Pe(be,je);return}me(be,De,Te)}else xe(be,De)}function we(be){be._onerror&&be._onerror(be._result),Je(be)}function xe(be,De){be._state===B&&(be._result=De,be._state=de,be._subscribers.length!==0&&b(Je,be))}function Pe(be,De){be._state===B&&(be._state=ce,be._result=De,b(we,be))}function Ge(be,De,Te,je){var rt=be._subscribers,it=rt.length;be._onerror=null,rt[it]=De,rt[it+de]=Te,rt[it+ce]=je,it===0&&be._state&&b(Je,be)}function Je(be){var De=be._subscribers,Te=be._state;if(De.length!==0){for(var je=void 0,rt=void 0,it=be._result,Ze=0;Ze<De.length;Ze+=3)je=De[Ze],rt=De[Ze+Te],je?Ae(Te,je,rt,it):rt(it);be._subscribers.length=0}}function Ae(be,De,Te,je){var rt=l(Te),it=void 0,Ze=void 0,Tt=!0;if(rt){try{it=Te(je)}catch(vn){Tt=!1,Ze=vn}if(De===it){Pe(De,z());return}}else it=je;De._state!==B||(rt&&Tt?Ce(De,it):Tt===!1?Pe(De,Ze):be===de?xe(De,it):be===ce&&Pe(De,it))}function J(be,De){try{De(function(je){Ce(be,je)},function(je){Pe(be,je)})}catch(Te){Pe(be,Te)}}var kt=0;function St(){return kt++}function vt(be){be[$]=kt++,be._state=void 0,be._result=void 0,be._subscribers=[]}function He(){return new Error("Array Methods must be provided an Array")}var ct=function(){function be(De,Te){this._instanceConstructor=De,this.promise=new De(V),this.promise[$]||vt(this.promise),d(Te)?(this.length=Te.length,this._remaining=Te.length,this._result=new Array(this.length),this.length===0?xe(this.promise,this._result):(this.length=this.length||0,this._enumerate(Te),this._remaining===0&&xe(this.promise,this._result))):Pe(this.promise,He())}return be.prototype._enumerate=function(Te){for(var je=0;this._state===B&&je<Te.length;je++)this._eachEntry(Te[je],je)},be.prototype._eachEntry=function(Te,je){var rt=this._instanceConstructor,it=rt.resolve;if(it===W){var Ze=void 0,Tt=void 0,vn=!1;try{Ze=Te.then}catch(Zt){vn=!0,Tt=Zt}if(Ze===pe&&Te._state!==B)this._settledAt(Te._state,je,Te._result);else if(typeof Ze!="function")this._remaining--,this._result[je]=Te;else if(rt===mt){var It=new rt(V);vn?Pe(It,Tt):me(It,Te,Ze),this._willSettleAt(It,je)}else this._willSettleAt(new rt(function(Zt){return Zt(Te)}),je)}else this._willSettleAt(it(Te),je)},be.prototype._settledAt=function(Te,je,rt){var it=this.promise;it._state===B&&(this._remaining--,Te===ce?Pe(it,rt):this._result[je]=rt),this._remaining===0&&xe(it,this._result)},be.prototype._willSettleAt=function(Te,je){var rt=this;Ge(Te,void 0,function(it){return rt._settledAt(de,je,it)},function(it){return rt._settledAt(ce,je,it)})},be}();function et(be){return new ct(this,be).promise}function Lt(be){var De=this;return d(be)?new De(function(Te,je){for(var rt=be.length,it=0;it<rt;it++)De.resolve(be[it]).then(Te,je)}):new De(function(Te,je){return je(new TypeError("You must pass an array to race."))})}function ut(be){var De=this,Te=new De(V);return Pe(Te,be),Te}function ln(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Rt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var mt=function(){function be(De){this[$]=St(),this._result=this._state=void 0,this._subscribers=[],V!==De&&(typeof De!="function"&&ln(),this instanceof be?J(this,De):Rt())}return be.prototype.catch=function(Te){return this.then(null,Te)},be.prototype.finally=function(Te){var je=this,rt=je.constructor;return l(Te)?je.then(function(it){return rt.resolve(Te()).then(function(){return it})},function(it){return rt.resolve(Te()).then(function(){throw it})}):je.then(Te,Te)},be}();mt.prototype.then=pe,mt.all=et,mt.race=Lt,mt.resolve=W,mt.reject=ut,mt._setScheduler=w,mt._setAsap=E,mt._asap=b;function In(){var be=void 0;if(typeof global<"u")be=global;else if(typeof self<"u")be=self;else try{be=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var De=be.Promise;if(De){var Te=null;try{Te=Object.prototype.toString.call(De.resolve())}catch{}if(Te==="[object Promise]"&&!De.cast)return}be.Promise=mt}return mt.polyfill=In,mt.Promise=mt,mt})},html2canvas:function(s){"use strict";s.exports=n},jspdf:function(s){"use strict";s.exports=t}},i={};function r(s){var a=i[s];if(a!==void 0)return a.exports;var l=i[s]={exports:{}};return e[s].call(l.exports,l,l.exports,r),l.exports}(function(){r.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(a,{a}),a}})(),function(){r.d=function(s,a){for(var l in a)r.o(a,l)&&!r.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})}}(),function(){r.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),function(){r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}}();var o={};return function(){"use strict";r.r(o);var s=r("./src/worker.js"),a=r("./src/plugin/jspdf-plugin.js"),l=r("./src/plugin/pagebreaks.js"),c=r("./src/plugin/hyperlinks.js"),d=function p(g,h){var b=new p.Worker(h);return g?b.from(g).save():b};d.Worker=s.default,o.default=d}(),o=o.default,o}()})});function TE(t,n){return Object.is(t,n)}var ur=null,Of=!1,bm=1,ps=Symbol("SIGNAL");function _n(t){let n=ur;return ur=t,n}function qO(){return Of}var jf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cm(t){if(Of)throw new Error("");if(ur===null)return;ur.consumerOnSignalRead(t);let n=ur.nextProducerIndex++;if(ku(ur),n<ur.producerNode.length&&ur.producerNode[n]!==t&&Rf(ur)){let e=ur.producerNode[n];Dm(e,ur.producerIndexOfThis[n])}ur.producerNode[n]!==t&&(ur.producerNode[n]=t,ur.producerIndexOfThis[n]=Rf(ur)?RE(t,ur,n):0),ur.producerLastReadVersion[n]=t.version}function GO(){bm++}function NE(t){if(!(Rf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bm)){if(!t.producerMustRecompute(t)&&!xm(t)){t.dirty=!1,t.lastCleanEpoch=bm;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bm}}function kE(t){if(t.liveConsumerNode===void 0)return;let n=Of;Of=!0;try{for(let e of t.liveConsumerNode)e.dirty||OE(e)}finally{Of=n}}function PE(){return ur?.consumerAllowSignalWrites!==!1}function OE(t){t.dirty=!0,kE(t),t.consumerMarkedDirty?.(t)}function Sm(t){return t&&(t.nextProducerIndex=0),_n(t)}function Em(t,n){if(_n(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Rf(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Dm(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xm(t){ku(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(NE(e),i!==e.version))return!0}return!1}function s1(t){if(ku(t),Rf(t))for(let n=0;n<t.producerNode.length;n++)Dm(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function RE(t,n,e){if(jE(t),ku(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=RE(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Dm(t,n){if(jE(t),ku(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Dm(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];ku(r),r.producerIndexOfThis[i]=n}}function Rf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ku(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function jE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function FE(t){let n=Object.create(KO);n.computation=t;let e=()=>{if(NE(n),Cm(n),n.value===wm)throw n.error;return n.value};return e[ps]=n,e}var i1=Symbol("UNSET"),r1=Symbol("COMPUTING"),wm=Symbol("ERRORED"),KO=Xt(Ue({},jf),{value:i1,dirty:!0,error:null,equal:TE,producerMustRecompute(t){return t.value===i1||t.value===r1},producerRecomputeValue(t){if(t.value===r1)throw new Error("Detected cycle in computations.");let n=t.value;t.value=r1;let e=Sm(t),i;try{i=t.computation()}catch(r){i=wm,t.error=r}finally{Em(t,e)}if(n!==i1&&n!==wm&&i!==wm&&t.equal(n,i)){t.value=n;return}t.value=i,t.version++}});function YO(){throw new Error}var LE=YO;function VE(){LE()}function BE(t){LE=t}var ZO=null;function UE(t){let n=Object.create(a1);n.value=t;let e=()=>(Cm(n),n.value);return e[ps]=n,e}function Mm(t,n){PE()||VE(),t.equal(t.value,n)||(t.value=n,QO(t))}function HE(t,n){PE()||VE(),Mm(t,n(t.value))}var a1=Xt(Ue({},jf),{equal:TE,value:void 0});function QO(t){t.version++,GO(),kE(t),ZO?.()}function $E(t,n,e){let i=Object.create(XO);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;let r=l=>{i.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(s1(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=o1)}let a=()=>{if(i.fn===null)return;if(qO())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!xm(i))return;i.hasRun=!0;let l=Sm(i);try{i.cleanupFn(),i.cleanupFn=o1,i.fn(r)}finally{Em(i,l)}};return i.ref={notify:()=>OE(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[ps]:i},i.ref}var o1=()=>{},XO=Xt(Ue({},jf),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:o1});function Pt(t){return typeof t=="function"}function Pu(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Im=Pu(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Cc(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var gi=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Pt(i))try{i()}catch(o){n=o instanceof Im?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{zE(o)}catch(s){n=n??[],s instanceof Im?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Im(n)}}add(n){var e;if(n&&n!==this)if(this.closed)zE(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Cc(e,n)}remove(n){let{_finalizers:e}=this;e&&Cc(e,n),n instanceof t&&n._removeParent(this)}};gi.EMPTY=(()=>{let t=new gi;return t.closed=!0,t})();var l1=gi.EMPTY;function Am(t){return t instanceof gi||t&&"closed"in t&&Pt(t.remove)&&Pt(t.add)&&Pt(t.unsubscribe)}function zE(t){Pt(t)?t():t.unsubscribe()}var ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ou={setTimeout(t,n,...e){let{delegate:i}=Ou;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Ou;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Tm(t){Ou.setTimeout(()=>{let{onUnhandledError:n}=ms;if(n)n(t);else throw t})}function Sc(){}var WE=c1("C",void 0,void 0);function qE(t){return c1("E",void 0,t)}function GE(t){return c1("N",t,void 0)}function c1(t,n,e){return{kind:t,value:n,error:e}}var Ec=null;function Ru(t){if(ms.useDeprecatedSynchronousErrorHandling){let n=!Ec;if(n&&(Ec={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Ec;if(Ec=null,e)throw i}}else t()}function KE(t){ms.useDeprecatedSynchronousErrorHandling&&Ec&&(Ec.errorThrown=!0,Ec.error=t)}var xc=class extends gi{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Am(n)&&n.add(this)):this.destination=t4}static create(n,e,i){return new ju(n,e,i)}next(n){this.isStopped?d1(GE(n),this):this._next(n)}error(n){this.isStopped?d1(qE(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?d1(WE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JO=Function.prototype.bind;function u1(t,n){return JO.call(t,n)}var f1=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Nm(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Nm(i)}else Nm(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Nm(e)}}},ju=class extends xc{constructor(n,e,i){super();let r;if(Pt(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&ms.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&u1(n.next,o),error:n.error&&u1(n.error,o),complete:n.complete&&u1(n.complete,o)}):r=n}this.destination=new f1(r)}};function Nm(t){ms.useDeprecatedSynchronousErrorHandling?KE(t):Tm(t)}function e4(t){throw t}function d1(t,n){let{onStoppedNotification:e}=ms;e&&Ou.setTimeout(()=>e(t,n))}var t4={closed:!0,next:Sc,error:e4,complete:Sc};var Fu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dr(t){return t}function h1(...t){return p1(t)}function p1(t){return t.length===0?Dr:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var cn=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=i4(e)?e:new ju(e,i,r);return Ru(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=YE(i),new i((r,o)=>{let s=new ju({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Fu](){return this}pipe(...e){return p1(e)(this)}toPromise(e){return e=YE(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function YE(t){var n;return(n=t??ms.Promise)!==null&&n!==void 0?n:Promise}function n4(t){return t&&Pt(t.next)&&Pt(t.error)&&Pt(t.complete)}function i4(t){return t&&t instanceof xc||n4(t)&&Am(t)}function m1(t){return Pt(t?.lift)}function un(t){return n=>{if(m1(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function dn(t,n,e,i,r){return new g1(t,n,e,i,r)}var g1=class extends xc{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Lu(){return un((t,n)=>{let e=null;t._refCount++;let i=dn(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var Vu=class extends cn{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,m1(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new gi;let e=this.getSubject();n.add(this.source.subscribe(dn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=gi.EMPTY)}return n}refCount(){return Lu()(this)}};var Bu={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=Bu;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=n(o=>{e=void 0,t(o)});return new gi(()=>e?.(r))},requestAnimationFrame(...t){let{delegate:n}=Bu;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:n}=Bu;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var ZE=Pu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Un=(()=>{class t extends cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new km(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ZE}next(e){Ru(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Ru(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ru(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?l1:(this.currentObservers=null,o.push(e),new gi(()=>{this.currentObservers=null,Cc(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new cn;return e.source=this,e}}return t.create=(n,e)=>new km(n,e),t})(),km=class extends Un{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:l1}};var ir=class extends Un{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var v1={now(){return(v1.delegate||Date).now()},delegate:void 0};var Pm=class extends gi{constructor(n,e){super()}schedule(n,e=0){return this}};var Ff={setInterval(t,n,...e){let{delegate:i}=Ff;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=Ff;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Uu=class extends Pm{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return Ff.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&Ff.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Cc(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Hu=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};Hu.now=v1.now;var $u=class extends Hu{constructor(n,e=Hu.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var y1=new $u(Uu),QE=y1;var Om=class extends Uu{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return i!==null&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Bu.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);let{actions:o}=n;e!=null&&e===n._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(Bu.cancelAnimationFrame(e),n._scheduled=void 0)}};var Rm=class extends $u{flush(n){this._active=!0;let e;n?e=n.id:(e=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;n=n||i.shift();do if(r=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}};var _1=new Rm(Om);var Mr=new cn(t=>t.complete());function b1(t){return t?r4(t):Mr}function r4(t){return new cn(n=>t.schedule(()=>n.complete()))}function jm(t){return t&&Pt(t.schedule)}function w1(t){return t[t.length-1]}function Fm(t){return Pt(w1(t))?t.pop():void 0}function Us(t){return jm(w1(t))?t.pop():void 0}function XE(t,n){return typeof w1(t)=="number"?t.pop():n}function ex(t,n,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(p){s(p)}}function l(d){try{c(i.throw(d))}catch(p){s(p)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(t,n||[])).next())})}function JE(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dc(t){return this instanceof Dc?(this.v=t,this):new Dc(t)}function tx(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(b){return Promise.resolve(b).then(h,p)}}function a(h,b){i[h]&&(r[h]=function(w){return new Promise(function(E,S){o.push([h,w,E,S])>1||l(h,w)})},b&&(r[h]=b(r[h])))}function l(h,b){try{c(i[h](b))}catch(w){g(o[0][3],w)}}function c(h){h.value instanceof Dc?Promise.resolve(h.value.v).then(d,p):g(o[0][2],h)}function d(h){l("next",h)}function p(h){l("throw",h)}function g(h,b){h(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function nx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof JE=="function"?JE(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var zu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Lm(t){return Pt(t?.then)}function Vm(t){return Pt(t[Fu])}function Bm(t){return Symbol.asyncIterator&&Pt(t?.[Symbol.asyncIterator])}function Um(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hm=o4();function $m(t){return Pt(t?.[Hm])}function zm(t){return tx(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield Dc(e.read());if(r)return yield Dc(void 0);yield yield Dc(i)}}finally{e.releaseLock()}})}function Wm(t){return Pt(t?.getReader)}function ii(t){if(t instanceof cn)return t;if(t!=null){if(Vm(t))return s4(t);if(zu(t))return a4(t);if(Lm(t))return l4(t);if(Bm(t))return ix(t);if($m(t))return c4(t);if(Wm(t))return u4(t)}throw Um(t)}function s4(t){return new cn(n=>{let e=t[Fu]();if(Pt(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a4(t){return new cn(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function l4(t){return new cn(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Tm)})}function c4(t){return new cn(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function ix(t){return new cn(n=>{d4(t,n).catch(e=>n.error(e))})}function u4(t){return ix(zm(t))}function d4(t,n){var e,i,r,o;return ex(this,void 0,void 0,function*(){try{for(e=nx(t);i=yield e.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function Xr(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function qm(t,n=0){return un((e,i)=>{e.subscribe(dn(i,r=>Xr(i,t,()=>i.next(r),n),()=>Xr(i,t,()=>i.complete(),n),r=>Xr(i,t,()=>i.error(r),n)))})}function Gm(t,n=0){return un((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function rx(t,n){return ii(t).pipe(Gm(n),qm(n))}function ox(t,n){return ii(t).pipe(Gm(n),qm(n))}function sx(t,n){return new cn(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function ax(t,n){return new cn(e=>{let i;return Xr(e,n,()=>{i=t[Hm](),Xr(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>Pt(i?.return)&&i.return()})}function Km(t,n){if(!t)throw new Error("Iterable cannot be null");return new cn(e=>{Xr(e,n,()=>{let i=t[Symbol.asyncIterator]();Xr(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function lx(t,n){return Km(zm(t),n)}function cx(t,n){if(t!=null){if(Vm(t))return rx(t,n);if(zu(t))return sx(t,n);if(Lm(t))return ox(t,n);if(Bm(t))return Km(t,n);if($m(t))return ax(t,n);if(Wm(t))return lx(t,n)}throw Um(t)}function Wn(t,n){return n?cx(t,n):ii(t)}function At(...t){let n=Us(t);return Wn(t,n)}function Wu(t,n){let e=Pt(t)?t:()=>t,i=r=>r.error(e());return new cn(n?r=>n.schedule(i,0,r):i)}function C1(t){return!!t&&(t instanceof cn||Pt(t.lift)&&Pt(t.subscribe))}var Ea=Pu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ux(t){return t instanceof Date&&!isNaN(t)}function Wt(t,n){return un((e,i)=>{let r=0;e.subscribe(dn(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:f4}=Array;function h4(t,n){return f4(n)?t(...n):t(n)}function qu(t){return Wt(n=>h4(t,n))}var{isArray:p4}=Array,{getPrototypeOf:m4,prototype:g4,keys:v4}=Object;function Ym(t){if(t.length===1){let n=t[0];if(p4(n))return{args:n,keys:null};if(y4(n)){let e=v4(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function y4(t){return t&&typeof t=="object"&&m4(t)===g4}function Zm(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function Lf(...t){let n=Us(t),e=Fm(t),{args:i,keys:r}=Ym(t);if(i.length===0)return Wn([],n);let o=new cn(_4(i,n,r?s=>Zm(r,s):Dr));return e?o.pipe(qu(e)):o}function _4(t,n,e=Dr){return i=>{dx(n,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)dx(n,()=>{let c=Wn(t[l],n),d=!1;c.subscribe(dn(i,p=>{o[l]=p,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function dx(t,n,e){t?Xr(e,t,n):n()}function Qm(t,n,e,i,r,o,s,a){let l=[],c=0,d=0,p=!1,g=()=>{p&&!l.length&&!c&&n.complete()},h=w=>c<i?b(w):l.push(w),b=w=>{o&&n.next(w),c++;let E=!1;ii(e(w,d++)).subscribe(dn(n,S=>{r?.(S),o?h(S):n.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<i;){let S=l.shift();s?Xr(n,s,()=>b(S)):b(S)}g()}catch(S){n.error(S)}}))};return t.subscribe(dn(n,h,()=>{p=!0,g()})),()=>{a?.()}}function ci(t,n,e=1/0){return Pt(n)?ci((i,r)=>Wt((o,s)=>n(i,o,r,s))(ii(t(i,r))),e):(typeof n=="number"&&(e=n),un((i,r)=>Qm(i,r,t,e)))}function Hs(t=1/0){return ci(Dr,t)}function fx(){return Hs(1)}function pl(...t){return fx()(Wn(t,Us(t)))}function Xm(t){return new cn(n=>{ii(t()).subscribe(n)})}function Vf(...t){let n=Fm(t),{args:e,keys:i}=Ym(t),r=new cn(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let p=!1;ii(e[d]).subscribe(dn(o,g=>{p||(p=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?Zm(i,a):a),o.complete())}))}});return n?r.pipe(qu(n)):r}var b4=["addListener","removeListener"],w4=["addEventListener","removeEventListener"],C4=["on","off"];function Gu(t,n,e,i){if(Pt(e)&&(i=e,e=void 0),i)return Gu(t,n,e).pipe(qu(i));let[r,o]=x4(t)?w4.map(s=>a=>t[s](n,a,e)):S4(t)?b4.map(hx(t,n)):E4(t)?C4.map(hx(t,n)):[];if(!r&&zu(t))return ci(s=>Gu(s,n,e))(ii(t));if(!r)throw new TypeError("Invalid event target");return new cn(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function hx(t,n){return e=>i=>t[e](n,i)}function S4(t){return Pt(t.addListener)&&Pt(t.removeListener)}function E4(t){return Pt(t.on)&&Pt(t.off)}function x4(t){return Pt(t.addEventListener)&&Pt(t.removeEventListener)}function Bf(t=0,n,e=QE){let i=-1;return n!=null&&(jm(n)?e=n:i=n),new cn(r=>{let o=ux(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function S1(...t){let n=Us(t),e=XE(t,1/0),i=t;return i.length?i.length===1?ii(i[0]):Hs(e)(Wn(i,n)):Mr}function Ri(t,n){return un((e,i)=>{let r=0;e.subscribe(dn(i,o=>t.call(n,o,r++)&&i.next(o)))})}function gs(t){return un((n,e)=>{let i=null,r=!1,o;i=n.subscribe(dn(e,void 0,void 0,s=>{o=ii(t(s,gs(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function px(t,n,e,i,r){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(dn(s,d=>{let p=c++;l=a?t(l,d,p):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function xa(t,n){return Pt(n)?ci(t,n,1):ci(t,1)}function ml(t){return un((n,e)=>{let i=!1;n.subscribe(dn(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Jr(t){return t<=0?()=>Mr:un((n,e)=>{let i=0;n.subscribe(dn(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function mx(){return un((t,n)=>{t.subscribe(dn(n,Sc))})}function Uf(t){return Wt(()=>t)}function E1(t,n){return n?e=>pl(n.pipe(Jr(1),mx()),e.pipe(E1(t))):ci((e,i)=>ii(t(e,i)).pipe(Jr(1),Uf(e)))}function x1(t,n=y1){let e=Bf(t,n);return E1(()=>e)}function Jm(t=D4){return un((n,e)=>{let i=!1;n.subscribe(dn(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function D4(){return new Ea}function D1(t,n=1/0,e){return n=(n||0)<1?1/0:n,un((i,r)=>Qm(i,r,t,n,void 0,!0,e))}function $s(t){return un((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function zs(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Ri((r,o)=>t(r,o,i)):Dr,Jr(1),e?ml(n):Jm(()=>new Ea))}function Ku(t){return t<=0?()=>Mr:un((n,e)=>{let i=[];n.subscribe(dn(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function M1(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Ri((r,o)=>t(r,o,i)):Dr,Ku(1),e?ml(n):Jm(()=>new Ea))}function I1(t,n){return un(px(t,n,arguments.length>=2,!0))}function A1(t){return Ri((n,e)=>t<=e)}function T1(...t){let n=Us(t);return un((e,i)=>{(n?pl(t,e,n):pl(t,e)).subscribe(i)})}function eo(t,n){return un((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(dn(i,l=>{r?.unsubscribe();let c=0,d=o++;ii(t(l,d)).subscribe(r=dn(i,p=>i.next(n?n(l,p,d,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Hf(t){return un((n,e)=>{ii(t).subscribe(dn(e,()=>e.complete(),Sc)),!e.closed&&n.subscribe(e)})}function dr(t,n,e){let i=Pt(t)||n||e?{next:t,error:n,complete:e}:t;return i?un((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(dn(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Dr}var o5="https://g.co/ng/security#xss",$e=class extends Error{constructor(n,e){super(Pg(n,e)),this.code=n}};function Pg(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var s5=Symbol("InputSignalNode#UNSET"),M4=Xt(Ue({},a1),{transformFn:void 0,applyValueToInputSignal(t,n){Mm(t,n)}});function a5(t,n){let e=Object.create(M4);e.value=t,e.transformFn=n?.transform;function i(){if(Cm(e),e.value===s5)throw new $e(-950,!1);return e.value}return i[ps]=e,i}function nh(t){return{toString:t}.toString()}var eg="__parameters__";function I4(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function l5(t,n,e){return nh(()=>{let i=I4(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let p=l.hasOwnProperty(eg)?l[eg]:Object.defineProperty(l,eg,{value:[]})[eg];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var yo=globalThis;function Yn(t){for(let n in t)if(t[n]===Yn)return n;throw Error("Could not find renamed property on target object.")}function A4(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Hr(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Hr).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function G1(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var T4=Yn({__forward_ref__:Yn});function bo(t){return t.__forward_ref__=bo,t.toString=function(){return Hr(this())},t}function Ur(t){return c5(t)?t():t}function c5(t){return typeof t=="function"&&t.hasOwnProperty(T4)&&t.__forward_ref__===bo}function Fe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ri(t){return{providers:t.providers||[],imports:t.imports||[]}}function Og(t){return gx(t,d5)||gx(t,f5)}function u5(t){return Og(t)!==null}function gx(t,n){return t.hasOwnProperty(n)?t[n]:null}function N4(t){let n=t&&(t[d5]||t[f5]);return n||null}function vx(t){return t&&(t.hasOwnProperty(yx)||t.hasOwnProperty(k4))?t[yx]:null}var d5=Yn({\u0275prov:Yn}),yx=Yn({\u0275inj:Yn}),f5=Yn({ngInjectableDef:Yn}),k4=Yn({ngInjectorDef:Yn}),gt=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Fe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function h5(t){return t&&!!t.\u0275providers}var P4=Yn({\u0275cmp:Yn}),O4=Yn({\u0275dir:Yn}),R4=Yn({\u0275pipe:Yn}),j4=Yn({\u0275mod:Yn}),hg=Yn({\u0275fac:Yn}),$f=Yn({__NG_ELEMENT_ID__:Yn}),_x=Yn({__NG_ENV_ID__:Yn});function Tc(t){return typeof t=="string"?t:t==null?"":String(t)}function F4(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Tc(t)}function L4(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new $e(-200,t)}function sb(t,n){throw new $e(-201,!1)}var fn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fn||{}),K1;function p5(){return K1}function to(t){let n=K1;return K1=t,n}function m5(t,n,e){let i=Og(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&fn.Optional)return null;if(n!==void 0)return n;sb(t,"Injector")}var V4={},zf=V4,Y1="__NG_DI_FLAG__",pg="ngTempTokenPath",B4="ngTokenPath",U4=/\n/gm,H4="\u0275",bx="__source",Ju;function $4(){return Ju}function gl(t){let n=Ju;return Ju=t,n}function z4(t,n=fn.Default){if(Ju===void 0)throw new $e(-203,!1);return Ju===null?m5(t,void 0,n):Ju.get(t,n&fn.Optional?null:void 0,n)}function Be(t,n=fn.Default){return(p5()||z4)(Ur(t),n)}function Me(t,n=fn.Default){return Be(t,Rg(n))}function Rg(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Z1(t){let n=[];for(let e=0;e<t.length;e++){let i=Ur(t[e]);if(Array.isArray(i)){if(i.length===0)throw new $e(900,!1);let r,o=fn.Default;for(let s=0;s<i.length;s++){let a=i[s],l=W4(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(Be(r,o))}else n.push(Be(i))}return n}function g5(t,n){return t[Y1]=n,t.prototype[Y1]=n,t}function W4(t){return t[Y1]}function q4(t,n,e,i){let r=t[pg];throw n[bx]&&r.unshift(n[bx]),t.message=G4(`
`+t.message,r,e,i),t[B4]=r,t[pg]=null,t}function G4(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==H4?t.slice(2):t;let r=Hr(n);if(Array.isArray(n))r=n.map(Hr).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Hr(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(U4,`
  `)}`}var ih=g5(l5("Optional"),8);var jg=g5(l5("SkipSelf"),4);function Nc(t,n){let e=t.hasOwnProperty(hg);return e?t[hg]:null}function K4(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function Y4(t){return t.flat(Number.POSITIVE_INFINITY)}function ab(t,n){t.forEach(e=>Array.isArray(e)?ab(e,n):n(e))}function v5(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function mg(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Z4(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function Q4(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function lb(t,n,e){let i=rh(t,n);return i>=0?t[i|1]=e:(i=~i,Q4(t,i,n,e)),i}function N1(t,n){let e=rh(t,n);if(e>=0)return t[e|1]}function rh(t,n){return X4(t,n,1)}function X4(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}var td={},no=[],nd=new gt(""),y5=new gt("",-1),_5=new gt(""),gg=class{get(n,e=zf){if(e===zf){let i=new Error(`NullInjectorError: No provider for ${Hr(n)}!`);throw i.name="NullInjectorError",i}return e}},b5=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(b5||{}),zo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zo||{}),jn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(jn||{});function J4(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function Q1(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{let o=r,s=e[++i];eR(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function w5(t){return t===3||t===4||t===6}function eR(t){return t.charCodeAt(0)===64}function Wf(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?wx(t,e,r,null,n[++i]):wx(t,e,r,null,null))}}return t}function wx(t,n,e,i,r){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var C5="ng-template";function tR(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&J4(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(cb(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function cb(t){return t.type===4&&t.value!==C5}function nR(t,n,e){let i=t.type===4&&!e?C5:t.value;return n===i}function iR(t,n,e){let i=4,r=t.attrs,o=r!==null?sR(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!vs(i)&&!vs(l))return!1;if(s&&vs(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!nR(t,l,e)||l===""&&n.length===1){if(vs(i))return!1;s=!0}}else if(i&8){if(r===null||!tR(t,r,l,e)){if(vs(i))return!1;s=!0}}else{let c=n[++a],d=rR(l,r,cb(t),e);if(d===-1){if(vs(i))return!1;s=!0;continue}if(c!==""){let p;if(d>o?p="":p=r[d+1].toLowerCase(),i&2&&c!==p){if(vs(i))return!1;s=!0}}}}return vs(i)||s}function vs(t){return(t&1)===0}function rR(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let s=n[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return aR(n,t)}function S5(t,n,e=!1){for(let i=0;i<n.length;i++)if(iR(t,n[i],e))return!0;return!1}function oR(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function sR(t){for(let n=0;n<t.length;n++){let e=t[n];if(w5(e))return n}return t.length}function aR(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function lR(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function Cx(t,n){return t?":not("+n.trim()+")":n}function cR(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(i&2){let a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!vs(s)&&(n+=Cx(o,r),r=""),i=s,o=o||!vs(i);e++}return r!==""&&(n+=Cx(o,r)),n}function uR(t){return t.map(cR).join(",")}function dR(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!vs(r))break;r=o}i++}return{attrs:n,classes:e}}function Ke(t){return nh(()=>{let n=I5(t),e=Xt(Ue({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===b5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zo.Emulated,styles:t.styles||no,_:null,schemas:t.schemas||null,tView:null,id:""});A5(e);let i=t.dependencies;return e.directiveDefs=Ex(i,!1),e.pipeDefs=Ex(i,!0),e.id=pR(e),e})}function fR(t){return yl(t)||E5(t)}function hR(t){return t!==null}function oi(t){return nh(()=>({type:t.type,bootstrap:t.bootstrap||no,declarations:t.declarations||no,imports:t.imports||no,exports:t.exports||no,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sx(t,n){if(t==null)return td;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=jn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==jn.None?[i,a]:i,n[o]=s):e[o]=i}return e}function Kt(t){return nh(()=>{let n=I5(t);return A5(n),n})}function dd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yl(t){return t[P4]||null}function E5(t){return t[O4]||null}function x5(t){return t[R4]||null}function D5(t){let n=yl(t)||E5(t)||x5(t);return n!==null?n.standalone:!1}function M5(t,n){let e=t[j4]||null;if(!e&&n===!0)throw new Error(`Type ${Hr(t)} does not have '\u0275mod' property.`);return e}function I5(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||td,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||no,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sx(t.inputs,n),outputs:Sx(t.outputs),debugInfo:null}}function A5(t){t.features?.forEach(n=>n(t))}function Ex(t,n){if(!t)return null;let e=n?x5:fR;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(hR)}function pR(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Aa(t){return{\u0275providers:t}}function ub(...t){return{\u0275providers:T5(!0,t),\u0275fromNgModule:!0}}function T5(t,...n){let e=[],i=new Set,r,o=s=>{e.push(s)};return ab(n,s=>{let a=s;X1(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&N5(r,o),e}function N5(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];db(r,o=>{n(o,i)})}}function X1(t,n,e,i){if(t=Ur(t),!t)return!1;let r=null,o=vx(t),s=!o&&yl(t);if(!o&&!s){let l=t.ngModule;if(o=vx(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)X1(c,n,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{ab(o.imports,d=>{X1(d,n,e,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&N5(c,n)}if(!a){let c=Nc(r)||(()=>new r);n({provide:r,useFactory:c,deps:no},r),n({provide:_5,useValue:r,multi:!0},r),n({provide:nd,useValue:()=>Be(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;db(l,d=>{n(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function db(t,n){for(let e of t)h5(e)&&(e=e.\u0275providers),Array.isArray(e)?db(e,n):n(e)}var mR=Yn({provide:String,useValue:Yn});function k5(t){return t!==null&&typeof t=="object"&&mR in t}function gR(t){return!!(t&&t.useExisting)}function vR(t){return!!(t&&t.useFactory)}function id(t){return typeof t=="function"}function yR(t){return!!t.useClass}var Fg=new gt(""),sg={},_R={},k1;function fb(){return k1===void 0&&(k1=new gg),k1}var Tr=class{},qf=class extends Tr{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,e_(n,s=>this.processProvider(s)),this.records.set(y5,Yu(void 0,this)),r.has("environment")&&this.records.set(Tr,Yu(void 0,this));let o=this.records.get(Fg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_5,no,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=_n(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_n(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=gl(this),i=to(void 0),r;try{return n()}finally{gl(e),to(i)}}get(n,e=zf,i=fn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_x))return n[_x](this);i=Rg(i);let r,o=gl(this),s=to(void 0);try{if(!(i&fn.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=ER(n)&&Og(n);c&&this.injectableDefInScope(c)?l=Yu(J1(n),sg):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&fn.Self?fb():this.parent;return e=i&fn.Optional&&e===zf?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[pg]=a[pg]||[]).unshift(Hr(n)),o)throw a;return q4(a,n,"R3InjectorError",this.source)}else throw a}finally{to(s),gl(o)}}resolveInjectorInitializers(){let n=_n(null),e=gl(this),i=to(void 0),r;try{let o=this.get(nd,no,fn.Self);for(let s of o)s()}finally{gl(e),to(i),_n(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(Hr(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(n){n=Ur(n);let e=id(n)?n:Ur(n&&n.provide),i=wR(n);if(!id(n)&&n.multi===!0){let r=this.records.get(e);r||(r=Yu(void 0,sg,!0),r.factory=()=>Z1(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=_n(null);try{return e.value===sg&&(e.value=_R,e.value=e.factory()),typeof e.value=="object"&&e.value&&SR(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{_n(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Ur(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function J1(t){let n=Og(t),e=n!==null?n.factory:Nc(t);if(e!==null)return e;if(t instanceof gt)throw new $e(204,!1);if(t instanceof Function)return bR(t);throw new $e(204,!1)}function bR(t){if(t.length>0)throw new $e(204,!1);let e=N4(t);return e!==null?()=>e.factory(t):()=>new t}function wR(t){if(k5(t))return Yu(void 0,t.useValue);{let n=P5(t);return Yu(n,sg)}}function P5(t,n,e){let i;if(id(t)){let r=Ur(t);return Nc(r)||J1(r)}else if(k5(t))i=()=>Ur(t.useValue);else if(vR(t))i=()=>t.useFactory(...Z1(t.deps||[]));else if(gR(t))i=()=>Be(Ur(t.useExisting));else{let r=Ur(t&&(t.useClass||t.provide));if(CR(t))i=()=>new r(...Z1(t.deps));else return Nc(r)||J1(r)}return i}function Yu(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function CR(t){return!!t.deps}function SR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ER(t){return typeof t=="function"||typeof t=="object"&&t instanceof gt}function e_(t,n){for(let e of t)Array.isArray(e)?e_(e,n):e&&h5(e)?e_(e.\u0275providers,n):n(e)}function Cs(t,n){t instanceof qf&&t.assertNotDestroyed();let e,i=gl(t),r=to(void 0);try{return n()}finally{gl(i),to(r)}}function O5(){return p5()!==void 0||$4()!=null}function R5(t){if(!O5())throw new $e(-203,!1)}function xR(t){return typeof t=="function"}var Ys=0,qt=1,jt=2,wr=3,_s=4,wo=5,rd=6,Gf=7,Ir=8,od=9,bs=10,ui=11,Kf=12,xx=13,fd=14,Wo=15,oh=16,Zu=17,Da=18,Lg=19,j5=20,vl=21,ag=22,kc=23,Cr=25,hb=1;var Pc=7,vg=8,sd=9,Ar=10,pb=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(pb||{});function Ic(t){return Array.isArray(t)&&typeof t[hb]=="object"}function Ta(t){return Array.isArray(t)&&t[hb]===!0}function mb(t){return(t.flags&4)!==0}function Vg(t){return t.componentOffset>-1}function Bg(t){return(t.flags&1)===1}function Ma(t){return!!t.template}function DR(t){return(t[jt]&512)!==0}var t_=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function F5(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function rr(){return L5}function L5(t){return t.type.prototype.ngOnChanges&&(t.setInput=IR),MR}rr.ngInherit=!0;function MR(){let t=B5(this),n=t?.current;if(n){let e=t.previous;if(e===td)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function IR(t,n,e,i,r){let o=this.declaredInputs[i],s=B5(t)||AR(t,{previous:td,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new t_(c&&c.currentValue,e,l===td),F5(t,n,r,e)}var V5="__ngSimpleChanges__";function B5(t){return t[V5]||null}function AR(t,n){return t[V5]=n}var Dx=null;var Ws=function(t,n,e){Dx?.(t,n,e)},TR="svg",NR="math",kR=!1;function PR(){return kR}function Gs(t){for(;Array.isArray(t);)t=t[Ys];return t}function OR(t){for(;Array.isArray(t);){if(typeof t[hb]=="object")return t;t=t[Ys]}return null}function U5(t,n){return Gs(n[t])}function Go(t,n){return Gs(n[t.index])}function gb(t,n){return t.data[n]}function vb(t,n){return t[n]}function wl(t,n){let e=n[t];return Ic(e)?e:e[Ys]}function RR(t){return(t[jt]&4)===4}function yb(t){return(t[jt]&128)===128}function jR(t){return Ta(t[wr])}function ad(t,n){return n==null?null:t[n]}function H5(t){t[Zu]=0}function FR(t){t[jt]&1024||(t[jt]|=1024,yb(t)&&Yf(t))}function LR(t,n){for(;t>0;)n=n[fd],t--;return n}function _b(t){return!!(t[jt]&9216||t[kc]?.dirty)}function n_(t){t[bs].changeDetectionScheduler?.notify(1),_b(t)?Yf(t):t[jt]&64&&(PR()?(t[jt]|=1024,Yf(t)):t[bs].changeDetectionScheduler?.notify())}function Yf(t){t[bs].changeDetectionScheduler?.notify();let n=Zf(t);for(;n!==null&&!(n[jt]&8192||(n[jt]|=8192,!yb(n)));)n=Zf(n)}function $5(t,n){if((t[jt]&256)===256)throw new $e(911,!1);t[vl]===null&&(t[vl]=[]),t[vl].push(n)}function VR(t,n){if(t[vl]===null)return;let e=t[vl].indexOf(n);e!==-1&&t[vl].splice(e,1)}function Zf(t){let n=t[wr];return Ta(n)?n[wr]:n}var an={lFrame:Q5(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BR(){return an.lFrame.elementDepthCount}function UR(){an.lFrame.elementDepthCount++}function HR(){an.lFrame.elementDepthCount--}function z5(){return an.bindingsEnabled}function W5(){return an.skipHydrationRootTNode!==null}function $R(t){return an.skipHydrationRootTNode===t}function zR(){an.skipHydrationRootTNode=null}function Gt(){return an.lFrame.lView}function vi(){return an.lFrame.tView}function ae(t){return an.lFrame.contextLView=t,t[Ir]}function le(t){return an.lFrame.contextLView=null,t}function Nr(){let t=q5();for(;t!==null&&t.type===64;)t=t.parent;return t}function q5(){return an.lFrame.currentTNode}function WR(){let t=an.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Vc(t,n){let e=an.lFrame;e.currentTNode=t,e.isParent=n}function bb(){return an.lFrame.isParent}function wb(){an.lFrame.isParent=!1}function qR(){return an.lFrame.contextLView}function Ug(){let t=an.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function GR(){return an.lFrame.bindingIndex}function KR(t){return an.lFrame.bindingIndex=t}function Bc(){return an.lFrame.bindingIndex++}function Cb(t){let n=an.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function YR(){return an.lFrame.inI18n}function ZR(t,n){let e=an.lFrame;e.bindingIndex=e.bindingRootIndex=t,i_(n)}function QR(){return an.lFrame.currentDirectiveIndex}function i_(t){an.lFrame.currentDirectiveIndex=t}function G5(t){let n=an.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function K5(){return an.lFrame.currentQueryIndex}function Sb(t){an.lFrame.currentQueryIndex=t}function XR(t){let n=t[qt];return n.type===2?n.declTNode:n.type===1?t[wo]:null}function Y5(t,n,e){if(e&fn.SkipSelf){let r=n,o=t;for(;r=r.parent,r===null&&!(e&fn.Host);)if(r=XR(o),r===null||(o=o[fd],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=an.lFrame=Z5();return i.currentTNode=n,i.lView=t,!0}function Eb(t){let n=Z5(),e=t[qt];an.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Z5(){let t=an.lFrame,n=t===null?null:t.child;return n===null?Q5(t):n}function Q5(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function X5(){let t=an.lFrame;return an.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var J5=X5;function xb(){let t=X5();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function JR(t){return(an.lFrame.contextLView=LR(t,an.lFrame.contextLView))[Ir]}function Na(){return an.lFrame.selectedIndex}function Oc(t){an.lFrame.selectedIndex=t}function sh(){let t=an.lFrame;return gb(t.tView,t.selectedIndex)}function ej(){return an.lFrame.currentNamespace}var eD=!0;function Hg(){return eD}function $g(t){eD=t}function tj(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=L5(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function zg(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),d!=null&&(t.destroyHooks??=[]).push(e,d)}}function lg(t,n,e){tD(t,n,3,e)}function cg(t,n,e,i){(t[jt]&3)===e&&tD(t,n,e,i)}function P1(t,n){let e=t[jt];(e&3)===n&&(e&=16383,e+=1,t[jt]=e)}function tD(t,n,e,i){let r=i!==void 0?t[Zu]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(t[Zu]+=65536),(a<o||o==-1)&&(nj(t,e,n,l),t[Zu]=(t[Zu]&4294901760)+l+2),l++}function Mx(t,n){Ws(4,t,n);let e=_n(null);try{n.call(t)}finally{_n(e),Ws(5,t,n)}}function nj(t,n,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=t[s];r?t[jt]>>14<t[Zu]>>16&&(t[jt]&3)===n&&(t[jt]+=16384,Mx(a,o)):Mx(a,o)}var ed=-1,Rc=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function ij(t){return t instanceof Rc}function rj(t){return(t.flags&8)!==0}function oj(t){return(t.flags&16)!==0}function nD(t){return t!==ed}function yg(t){return t&32767}function sj(t){return t>>16}function _g(t,n){let e=sj(t),i=n;for(;e>0;)i=i[fd],e--;return i}var r_=!0;function bg(t){let n=r_;return r_=t,n}var aj=256,iD=aj-1,rD=5,lj=0,qs={};function cj(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty($f)&&(i=e[$f]),i==null&&(i=e[$f]=lj++);let r=i&iD,o=1<<r;n.data[t+(r>>rD)]|=o}function wg(t,n){let e=oD(t,n);if(e!==-1)return e;let i=n[qt];i.firstCreatePass&&(t.injectorIndex=n.length,O1(i.data,t),O1(n,null),O1(i.blueprint,null));let r=Db(t,n),o=t.injectorIndex;if(nD(r)){let s=yg(r),a=_g(r,n),l=a[qt].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function O1(t,n){t.push(0,0,0,0,0,0,0,0,n)}function oD(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Db(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=uD(r),i===null)return ed;if(e++,r=r[fd],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return ed}function o_(t,n,e){cj(t,n,e)}function uj(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(w5(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function sD(t,n,e){if(e&fn.Optional||t!==void 0)return t;sb(n,"NodeInjector")}function aD(t,n,e,i){if(e&fn.Optional&&i===void 0&&(i=null),!(e&(fn.Self|fn.Host))){let r=t[od],o=to(void 0);try{return r?r.get(n,i,e&fn.Optional):m5(n,i,e&fn.Optional)}finally{to(o)}}return sD(i,n,e)}function lD(t,n,e,i=fn.Default,r){if(t!==null){if(n[jt]&2048&&!(i&fn.Self)){let s=pj(t,n,e,i,qs);if(s!==qs)return s}let o=cD(t,n,e,i,qs);if(o!==qs)return o}return aD(n,e,i,r)}function cD(t,n,e,i,r){let o=fj(e);if(typeof o=="function"){if(!Y5(n,t,i))return i&fn.Host?sD(r,e,i):aD(n,e,i,r);try{let s;if(s=o(i),s==null&&!(i&fn.Optional))sb(e);else return s}finally{J5()}}else if(typeof o=="number"){let s=null,a=oD(t,n),l=ed,c=i&fn.Host?n[Wo][wo]:null;for((a===-1||i&fn.SkipSelf)&&(l=a===-1?Db(t,n):n[a+8],l===ed||!Ax(i,!1)?a=-1:(s=n[qt],a=yg(l),n=_g(l,n)));a!==-1;){let d=n[qt];if(Ix(o,a,d.data)){let p=dj(a,n,e,s,i,c);if(p!==qs)return p}l=n[a+8],l!==ed&&Ax(i,n[qt].data[a+8]===c)&&Ix(o,a,n)?(s=d,a=yg(l),n=_g(l,n)):a=-1}}return r}function dj(t,n,e,i,r,o){let s=n[qt],a=s.data[t+8],l=i==null?Vg(a)&&r_:i!=s&&(a.type&3)!==0,c=r&fn.Host&&o===a,d=ug(a,s,e,l,c);return d!==null?jc(n,s,d,a):qs}function ug(t,n,e,i,r){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,p=i?a:a+d,g=r?a+d:c;for(let h=p;h<g;h++){let b=s[h];if(h<l&&e===b||h>=l&&b.type===e)return h}if(r){let h=s[l];if(h&&Ma(h)&&h.type===e)return l}return null}function jc(t,n,e,i){let r=t[e],o=n.data;if(ij(r)){let s=r;s.resolving&&L4(F4(o[e]));let a=bg(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?to(s.injectImpl):null,d=Y5(t,i,fn.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&tj(e,o[e],n)}finally{c!==null&&to(c),bg(a),s.resolving=!1,J5()}}return r}function fj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty($f)?t[$f]:void 0;return typeof n=="number"?n>=0?n&iD:hj:n}function Ix(t,n,e){let i=1<<t;return!!(e[n+(t>>rD)]&i)}function Ax(t,n){return!(t&fn.Self)&&!(t&fn.Host&&n)}var Ac=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return lD(this._tNode,this._lView,n,Rg(i),e)}};function hj(){return new Ac(Nr(),Gt())}function Ko(t){return nh(()=>{let n=t.prototype.constructor,e=n[hg]||s_(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[hg]||s_(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function s_(t){return c5(t)?()=>{let n=s_(Ur(t));return n&&n()}:Nc(t)}function pj(t,n,e,i,r){let o=t,s=n;for(;o!==null&&s!==null&&s[jt]&2048&&!(s[jt]&512);){let a=cD(o,s,e,i|fn.Self,qs);if(a!==qs)return a;let l=o.parent;if(!l){let c=s[j5];if(c){let d=c.get(e,qs,i);if(d!==qs)return d}l=uD(s),s=s[fd]}o=l}return r}function uD(t){let n=t[qt],e=n.type;return e===2?n.declTNode:e===1?t[wo]:null}function Mb(t){return uj(Nr(),t)}function Tx(t,n=null,e=null,i){let r=dD(t,n,e,i);return r.resolveInjectorInitializers(),r}function dD(t,n=null,e=null,i,r=new Set){let o=[e||no,ub(t)];return i=i||(typeof t=="object"?void 0:Hr(t)),new qf(o,n||fb(),i||null,r)}var or=(()=>{class t{static{this.THROW_IF_NOT_FOUND=zf}static{this.NULL=new gg}static create(e,i){if(Array.isArray(e))return Tx({name:""},i,e,"");{let r=e.name??"";return Tx({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Fe({token:t,providedIn:"any",factory:()=>Be(y5)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var mj="ngOriginalError";function R1(t){return t[mj]}var ws=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&R1(n);for(;e&&R1(e);)e=R1(e);return e||null}},fD=new gt("",{providedIn:"root",factory:()=>Me(ws).handleError.bind(void 0)}),Wg=(()=>{class t{static{this.__NG_ELEMENT_ID__=gj}static{this.__NG_ENV_ID__=e=>e}}return t})(),a_=class extends Wg{constructor(n){super(),this._lView=n}onDestroy(n){return $5(this._lView,n),()=>VR(this._lView,n)}};function gj(){return new a_(Gt())}function Nx(t,n){return a5(t,n)}function vj(t){return a5(s5,t)}var Ib=(Nx.required=vj,Nx);function yj(){return hd(Nr(),Gt())}function hd(t,n){return new Dt(Go(t,n))}var Dt=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=yj}}return t})();function _j(t){return t instanceof Dt?t.nativeElement:t}var l_=class extends Un{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,O5()&&(this.destroyRef=Me(Wg,{optional:!0})??void 0)}emit(n){let e=_n(null);try{super.next(n)}finally{_n(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=j1(o),r&&(r=j1(r)),s&&(s=j1(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof gi&&n.add(a),a}};function j1(t){return n=>{setTimeout(t,void 0,n)}}var xt=l_;function bj(){return this._results[Symbol.iterator]()}var c_=class t{get changes(){return this._changes??=new xt}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=t.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=bj)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=Y4(n);(this._changesDetected=!K4(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function hD(t){return(t.flags&128)===128}var pD=new Map,wj=0;function Cj(){return wj++}function Sj(t){pD.set(t[Lg],t)}function Ej(t){pD.delete(t[Lg])}var kx="__ngContext__";function _l(t,n){Ic(n)?(t[kx]=n[Lg],Sj(n)):t[kx]=n}function mD(t){return vD(t[Kf])}function gD(t){return vD(t[_s])}function vD(t){for(;t!==null&&!Ta(t);)t=t[_s];return t}var u_;function yD(t){u_=t}function _D(){if(u_!==void 0)return u_;if(typeof document<"u")return document;throw new $e(210,!1)}var Ab=new gt("",{providedIn:"root",factory:()=>xj}),xj="ng",Tb=new gt(""),ro=new gt("",{providedIn:"platform",factory:()=>"unknown"});var ah=new gt(""),Nb=new gt("",{providedIn:"root",factory:()=>_D().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Dj="h",Mj="b";var Ij=()=>null;function kb(t,n,e=!1){return Ij(t,n,e)}var bD=!1,Aj=new gt("",{providedIn:"root",factory:()=>bD});var tg;function Tj(){if(tg===void 0&&(tg=null,yo.trustedTypes))try{tg=yo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tg}function qg(t){return Tj()?.createHTML(t)||t}var ng;function wD(){if(ng===void 0&&(ng=null,yo.trustedTypes))try{ng=yo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ng}function Px(t){return wD()?.createHTML(t)||t}function Ox(t){return wD()?.createScriptURL(t)||t}var Ia=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${o5})`}},d_=class extends Ia{getTypeName(){return"HTML"}},f_=class extends Ia{getTypeName(){return"Style"}},h_=class extends Ia{getTypeName(){return"Script"}},p_=class extends Ia{getTypeName(){return"URL"}},m_=class extends Ia{getTypeName(){return"ResourceURL"}};function Yo(t){return t instanceof Ia?t.changingThisBreaksApplicationSecurity:t}function ka(t,n){let e=Nj(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${o5})`)}return e===n}function Nj(t){return t instanceof Ia&&t.getTypeName()||null}function CD(t){return new d_(t)}function SD(t){return new f_(t)}function ED(t){return new h_(t)}function xD(t){return new p_(t)}function DD(t){return new m_(t)}function kj(t){let n=new v_(t);return Pj()?new g_(n):n}var g_=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(qg(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}},v_=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=qg(n),e}};function Pj(){try{return!!new window.DOMParser().parseFromString(qg(""),"text/html")}catch{return!1}}var Oj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gg(t){return t=String(t),t.match(Oj)?t:"unsafe:"+t}function Pa(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function lh(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var MD=Pa("area,br,col,hr,img,wbr"),ID=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AD=Pa("rp,rt"),Rj=lh(AD,ID),jj=lh(ID,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fj=lh(AD,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rx=lh(MD,jj,Fj,Rj),TD=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lj=Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vj=Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Bj=lh(TD,Lj,Vj),Uj=Pa("script,style,template"),y_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=zj(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=$j(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=jx(n).toLowerCase();if(!Rx.hasOwnProperty(e))return this.sanitizedSomething=!0,!Uj.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Bj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;TD[a]&&(l=Gg(l)),this.buf.push(" ",s,'="',Fx(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=jx(n).toLowerCase();Rx.hasOwnProperty(e)&&!MD.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Fx(n))}};function Hj(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function $j(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw ND(n);return n}function zj(t){let n=t.firstChild;if(n&&Hj(t,n))throw ND(n);return n}function jx(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function ND(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Wj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qj=/([^\#-~ |!])/g;function Fx(t){return t.replace(/&/g,"&amp;").replace(Wj,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(qj,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ig;function Pb(t,n){let e=null;try{ig=ig||kj(t);let i=n?String(n):"";e=ig.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=ig.getInertBodyElement(i)}while(i!==o);let a=new y_().sanitizeChildren(Lx(e)||e);return qg(a)}finally{if(e){let i=Lx(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Lx(t){return"content"in t&&Gj(t)?t.content:null}function Gj(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Co=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Co||{});function ch(t){let n=Ob();return n?Px(n.sanitize(Co.HTML,t)||""):ka(t,"HTML")?Px(Yo(t)):Pb(_D(),Tc(t))}function Zs(t){let n=Ob();return n?n.sanitize(Co.URL,t)||"":ka(t,"URL")?Yo(t):Gg(Tc(t))}function Kj(t){let n=Ob();if(n)return Ox(n.sanitize(Co.RESOURCE_URL,t)||"");if(ka(t,"ResourceURL"))return Ox(Yo(t));throw new $e(904,!1)}function Yj(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?Kj:Zs}function kD(t,n,e){return Yj(n,e)(t)}function Ob(){let t=Gt();return t&&t[bs].sanitizer}var Zj=/^>|^->|<!--|-->|--!>|<!-$/g,Qj=/(<|>)/g,Xj="\u200B$1\u200B";function Jj(t){return t.replace(Zj,n=>n.replace(Qj,Xj))}function uh(t){return t.ownerDocument.defaultView}function PD(t){return t.ownerDocument}function OD(t){return t instanceof Function?t():t}function eF(t){return(t??Me(or)).get(ro)==="browser"}var Ks=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ks||{}),tF;function Rb(t,n){return tF(t,n)}function Qu(t,n,e,i,r){if(i!=null){let o,s=!1;Ta(i)?o=i:Ic(i)&&(s=!0,i=i[Ys]);let a=Gs(i);t===0&&e!==null?r==null?VD(n,e,a):Cg(n,e,a,r||null,!0):t===1&&e!==null?Cg(n,e,a,r||null,!0):t===2?vF(n,a,s):t===3&&n.destroyNode(a),o!=null&&_F(n,t,o,e,r)}}function nF(t,n){return t.createText(n)}function iF(t,n,e){t.setValue(n,e)}function rF(t,n){return t.createComment(Jj(n))}function RD(t,n,e){return t.createElement(n,e)}function oF(t,n){jD(t,n),n[Ys]=null,n[wo]=null}function sF(t,n,e,i,r,o){i[Ys]=r,i[wo]=n,Zg(t,i,e,1,r,o)}function jD(t,n){n[bs].changeDetectionScheduler?.notify(1),Zg(t,n,n[ui],2,null,null)}function aF(t){let n=t[Kf];if(!n)return F1(t[qt],t);for(;n;){let e=null;if(Ic(n))e=n[Kf];else{let i=n[Ar];i&&(e=i)}if(!e){for(;n&&!n[_s]&&n!==t;)Ic(n)&&F1(n[qt],n),n=n[wr];n===null&&(n=t),Ic(n)&&F1(n[qt],n),e=n&&n[_s]}n=e}}function lF(t,n,e,i){let r=Ar+i,o=e.length;i>0&&(e[r-1][_s]=n),i<o-Ar?(n[_s]=e[r],v5(e,Ar+i,n)):(e.push(n),n[_s]=null),n[wr]=e;let s=n[oh];s!==null&&e!==s&&cF(s,n);let a=n[Da];a!==null&&a.insertView(t),n_(n),n[jt]|=128}function cF(t,n){let e=t[sd],r=n[wr][wr][Wo];n[Wo]!==r&&(t[jt]|=pb.HasTransplantedViews),e===null?t[sd]=[n]:e.push(n)}function FD(t,n){let e=t[sd],i=e.indexOf(n);e.splice(i,1)}function Qf(t,n){if(t.length<=Ar)return;let e=Ar+n,i=t[e];if(i){let r=i[oh];r!==null&&r!==t&&FD(r,i),n>0&&(t[e-1][_s]=i[_s]);let o=mg(t,Ar+n);oF(i[qt],i);let s=o[Da];s!==null&&s.detachView(o[qt]),i[wr]=null,i[_s]=null,i[jt]&=-129}return i}function Kg(t,n){if(!(n[jt]&256)){let e=n[ui];e.destroyNode&&Zg(t,n,e,3,null,null),aF(n)}}function F1(t,n){if(n[jt]&256)return;let e=_n(null);try{n[jt]&=-129,n[jt]|=256,n[kc]&&s1(n[kc]),dF(t,n),uF(t,n),n[qt].type===1&&n[ui].destroy();let i=n[oh];if(i!==null&&Ta(n[wr])){i!==n[wr]&&FD(i,n);let r=n[Da];r!==null&&r.detachView(t)}Ej(n)}finally{_n(e)}}function uF(t,n){let e=t.cleanup,i=n[Gf];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(n[Gf]=null);let r=n[vl];if(r!==null){n[vl]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function dF(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof Rc)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ws(4,a,l);try{l.call(a)}finally{Ws(5,a,l)}}else{Ws(4,r,o);try{o.call(r)}finally{Ws(5,r,o)}}}}}function LD(t,n,e){return fF(t,n.parent,e)}function fF(t,n,e){let i=n;for(;i!==null&&i.type&40;)n=i,i=n.parent;if(i===null)return e[Ys];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===zo.None||o===zo.Emulated)return null}return Go(i,e)}}function Cg(t,n,e,i,r){t.insertBefore(n,e,i,r)}function VD(t,n,e){t.appendChild(n,e)}function Vx(t,n,e,i,r){i!==null?Cg(t,n,e,i,r):VD(t,n,e)}function hF(t,n,e,i){t.removeChild(n,e,i)}function jb(t,n){return t.parentNode(n)}function pF(t,n){return t.nextSibling(n)}function BD(t,n,e){return gF(t,n,e)}function mF(t,n,e){return t.type&40?Go(t,e):null}var gF=mF,Bx;function Yg(t,n,e,i){let r=LD(t,i,n),o=n[ui],s=i.parent||n[wo],a=BD(s,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Vx(o,r,e[l],a,!1);else Vx(o,r,e,a,!1);Bx!==void 0&&Bx(o,i,n,e,r)}function dg(t,n){if(n!==null){let e=n.type;if(e&3)return Go(n,t);if(e&4)return __(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return dg(t,i);{let r=t[n.index];return Ta(r)?__(-1,r):Gs(r)}}else{if(e&32)return Rb(n,t)()||Gs(t[n.index]);{let i=UD(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Zf(t[Wo]);return dg(r,i)}else return dg(t,n.next)}}}return null}function UD(t,n){if(n!==null){let i=t[Wo][wo],r=n.projection;return i.projection[r]}return null}function __(t,n){let e=Ar+t+1;if(e<n.length){let i=n[e],r=i[qt].firstChild;if(r!==null)return dg(i,r)}return n[Pc]}function vF(t,n,e){let i=jb(t,n);i&&hF(t,i,n,e)}function Fb(t,n,e,i,r,o,s){for(;e!=null;){let a=i[e.index],l=e.type;if(s&&n===0&&(a&&_l(Gs(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)Fb(t,n,e.child,i,r,o,!1),Qu(n,t,r,a,o);else if(l&32){let c=Rb(e,i),d;for(;d=c();)Qu(n,t,r,d,o);Qu(n,t,r,a,o)}else l&16?HD(t,n,i,e,r,o):Qu(n,t,r,a,o);e=s?e.projectionNext:e.next}}function Zg(t,n,e,i,r,o){Fb(e,i,t.firstChild,n,r,o,!1)}function yF(t,n,e){let i=n[ui],r=LD(t,e,n),o=e.parent||n[wo],s=BD(o,e,n);HD(i,0,n,e,r,s)}function HD(t,n,e,i,r,o){let s=e[Wo],l=s[wo].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Qu(n,t,r,d,o)}else{let c=l,d=s[wr];hD(i)&&(c.flags|=128),Fb(t,n,c,d,r,o,!0)}}function _F(t,n,e,i,r){let o=e[Pc],s=Gs(e);o!==s&&Qu(n,t,i,o,r);for(let a=Ar;a<e.length;a++){let l=e[a];Zg(l[qt],l,t,n,i,o)}}function bF(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Ks.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ks.Important),t.setStyle(e,i,r,o))}}function wF(t,n,e){t.setAttribute(n,"style",e)}function $D(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function zD(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&Q1(t,n,i),r!==null&&$D(t,n,r),o!==null&&wF(t,n,o)}var So={};function D(t=1){WD(vi(),Gt(),Na()+t,!1)}function WD(t,n,e,i){if(!i)if((n[jt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&lg(n,o,e)}else{let o=t.preOrderHooks;o!==null&&cg(n,o,0,e)}Oc(e)}function ee(t,n=fn.Default){let e=Gt();if(e===null)return Be(t,n);let i=Nr();return lD(i,e,Ur(t),n)}function qD(){let t="invalid";throw new Error(t)}function GD(t,n,e,i,r,o){let s=_n(null);try{let a=null;r&jn.SignalBased&&(a=n[i][ps]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&jn.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,i):F5(n,a,i,o)}finally{_n(s)}}function CF(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Oc(~r);else{let o=r,s=e[++i],a=e[++i];ZR(s,o);let l=n[o];a(2,l)}}}finally{Oc(-1)}}function Qg(t,n,e,i,r,o,s,a,l,c,d){let p=n.blueprint.slice();return p[Ys]=r,p[jt]=i|4|128|8|64,(c!==null||t&&t[jt]&2048)&&(p[jt]|=2048),H5(p),p[wr]=p[fd]=t,p[Ir]=e,p[bs]=s||t&&t[bs],p[ui]=a||t&&t[ui],p[od]=l||t&&t[od]||null,p[wo]=o,p[Lg]=Cj(),p[rd]=d,p[j5]=c,p[Wo]=n.type==2?t[Wo]:p,p}function pd(t,n,e,i,r){let o=t.data[n];if(o===null)o=SF(t,n,e,i,r),YR()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=WR();o.injectorIndex=s===null?-1:s.injectorIndex}return Vc(o,!0),o}function SF(t,n,e,i,r){let o=q5(),s=bb(),a=s?o:o&&o.parent,l=t.data[n]=AF(t,a,e,n,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function KD(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function YD(t,n,e,i,r){let o=Na(),s=i&2;try{Oc(-1),s&&n.length>Cr&&WD(t,n,Cr,!1),Ws(s?2:0,r),e(i,r)}finally{Oc(o),Ws(s?3:1,r)}}function Lb(t,n,e){if(mb(n)){let i=_n(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{_n(i)}}}function Vb(t,n,e){z5()&&(RF(t,n,e,Go(e,n)),(e.flags&64)===64&&XD(t,n,e))}function Bb(t,n,e=Go){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(n,t):t[s];t[r++]=a}}}function ZD(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Ub(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ub(t,n,e,i,r,o,s,a,l,c,d){let p=Cr+i,g=p+r,h=EF(p,g),b=typeof c=="function"?c():c;return h[qt]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:d}}function EF(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:So);return e}function xF(t,n,e,i){let o=i.get(Aj,bD)||e===zo.ShadowDom,s=t.selectRootElement(n,o);return DF(s),s}function DF(t){MF(t)}var MF=()=>null;function IF(t,n,e,i){let r=tM(n);r.push(e),t.firstCreatePass&&nM(t).push(i,r.length-1)}function AF(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return W5()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ux(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,l=jn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?Hx(i,e,c,a,l):Hx(i,e,c,a)}return i}function Hx(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],r!==void 0&&o.push(r)}function TF(t,n,e){let i=n.directiveStart,r=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let d=i;d<r;d++){let p=o[d],g=e?e.get(p):null,h=g?g.inputs:null,b=g?g.outputs:null;l=Ux(0,p.inputs,d,l,h),c=Ux(1,p.outputs,d,c,b);let w=l!==null&&s!==null&&!cb(n)?qF(l,d,s):null;a.push(w)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function NF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xg(t,n,e,i,r,o,s,a){let l=Go(n,e),c=n.inputs,d;!a&&c!=null&&(d=c[i])?($b(t,e,d,i,r),Vg(n)&&kF(e,n.index)):n.type&3?(i=NF(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)):n.type&12}function kF(t,n){let e=wl(n,t);e[jt]&16||(e[jt]|=64)}function Hb(t,n,e,i){if(z5()){let r=i===null?null:{"":-1},o=FF(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&QD(t,n,e,s,r,a),r&&LF(e,i,r)}e.mergedAttrs=Wf(e.mergedAttrs,e.attrs)}function QD(t,n,e,i,r,o){for(let c=0;c<i.length;c++)o_(wg(e,n),t,i[c].type);BF(e,t.data.length,i.length);for(let c=0;c<i.length;c++){let d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=KD(t,n,i.length,null);for(let c=0;c<i.length;c++){let d=i[c];e.mergedAttrs=Wf(e.mergedAttrs,d.hostAttrs),UF(t,e,n,l,d),VF(l,d,r),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let p=d.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}TF(t,e,o)}function PF(t,n,e,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;OF(s)!=a&&s.push(a),s.push(e,i,o)}}function OF(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function RF(t,n,e,i){let r=e.directiveStart,o=e.directiveEnd;Vg(e)&&HF(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||wg(e,n),_l(i,n);let s=e.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=jc(n,t,a,e);if(_l(c,n),s!==null&&WF(n,a-r,c,l,e,s),Ma(l)){let d=wl(e.index,n);d[Ir]=jc(n,t,a,e)}}}function XD(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=QR();try{Oc(o);for(let a=i;a<r;a++){let l=t.data[a],c=n[a];i_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&jF(l,c)}}finally{Oc(-1),i_(s)}}function jF(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function FF(t,n){let e=t.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(S5(n,s.selectors,!1))if(i||(i=[]),Ma(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;b_(t,n,l)}else i.unshift(s),b_(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function b_(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function LF(t,n,e){if(n){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new $e(-301,!1);i.push(n[r],o)}}}function VF(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Ma(n)&&(e[""]=t)}}function BF(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function UF(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=Nc(r.type,!0)),s=new Rc(o,Ma(r),ee);t.blueprint[i]=s,e[i]=s,PF(t,n,i,KD(t,e,r.hostVars,So),r)}function HF(t,n,e){let i=Go(n,t),r=ZD(e),o=t[bs].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=Jg(t,Qg(t,r,null,s,i,n,null,o.createRenderer(i,e),null,null,null));t[n.index]=a}function $F(t,n,e,i,r,o){let s=Go(t,n);zF(n[ui],s,o,t.value,e,i,r)}function zF(t,n,e,i,r,o,s){if(o==null)t.removeAttribute(n,r,e);else{let a=s==null?Tc(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}function WF(t,n,e,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],d=s[a++],p=s[a++];GD(i,e,l,c,d,p)}}function qF(t,n,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function JD(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function eM(t,n){let e=t.contentQueries;if(e!==null){let i=_n(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=t.data[s];Sb(o),a.contentQueries(2,n[s],s)}}}finally{_n(i)}}}function Jg(t,n){return t[Kf]?t[xx][_s]=n:t[Kf]=n,t[xx]=n,n}function w_(t,n,e){Sb(0);let i=_n(null);try{n(t,e)}finally{_n(i)}}function tM(t){return t[Gf]||(t[Gf]=[])}function nM(t){return t.cleanup||(t.cleanup=[])}function GF(t,n,e){return(t===null||Ma(t))&&(e=OR(e[n.index])),e[ui]}function iM(t,n){let e=t[od],i=e?e.get(ws,null):null;i&&i.handleError(n)}function $b(t,n,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],d=t.data[s];GD(d,c,i,a,l,r)}}function rM(t,n,e){let i=U5(n,t);iF(t[ui],i,e)}function KF(t,n){let e=wl(n,t),i=e[qt];YF(i,e);let r=e[Ys];r!==null&&e[rd]===null&&(e[rd]=kb(r,e[od])),zb(i,e,e[Ir])}function YF(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function zb(t,n,e){Eb(n);try{let i=t.viewQuery;i!==null&&w_(1,i,e);let r=t.template;r!==null&&YD(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Da]?.finishViewCreation(t),t.staticContentQueries&&eM(t,n),t.staticViewQueries&&w_(2,t.viewQuery,e);let o=t.components;o!==null&&ZF(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[jt]&=-5,xb()}}function ZF(t,n){for(let e=0;e<n.length;e++)KF(t,n[e])}function e0(t,n,e,i){let r=_n(null);try{let o=n.tView,a=t[jt]&4096?4096:16,l=Qg(t,o,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[oh]=c;let d=t[Da];return d!==null&&(l[Da]=d.createEmbeddedView(o)),zb(o,l,e),l}finally{_n(r)}}function oM(t,n){let e=Ar+n;if(e<t.length)return t[e]}function Xf(t,n){return!n||n.firstChild===null||hD(t)}function t0(t,n,e,i=!0){let r=n[qt];if(lF(r,n,t,e),i){let s=__(e,t),a=n[ui],l=jb(a,t[Pc]);l!==null&&sF(r,t[wo],a,n,l,s)}let o=n[rd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sM(t,n){let e=Qf(t,n);return e!==void 0&&Kg(e[qt],e),e}function Sg(t,n,e,i,r=!1){for(;e!==null;){let o=n[e.index];o!==null&&i.push(Gs(o)),Ta(o)&&QF(o,i);let s=e.type;if(s&8)Sg(t,n,e.child,i);else if(s&32){let a=Rb(e,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=UD(n,e);if(Array.isArray(a))i.push(...a);else{let l=Zf(n[Wo]);Sg(l[qt],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function QF(t,n){for(let e=Ar;e<t.length;e++){let i=t[e],r=i[qt].firstChild;r!==null&&Sg(i[qt],i,r,n)}t[Pc]!==t[Ys]&&n.push(t[Pc])}var aM=[];function XF(t){return t[kc]??JF(t)}function JF(t){let n=aM.pop()??Object.create(tL);return n.lView=t,n}function eL(t){t.lView[kc]!==t&&(t.lView=null,aM.push(t))}var tL=Xt(Ue({},jf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yf(t.lView)},consumerOnSignalRead(){this.lView[kc]=this}}),lM=100;function cM(t,n=!0,e=0){let i=t[bs],r=i.rendererFactory,o=!1;o||r.begin?.();try{nL(t,e)}catch(s){throw n&&iM(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function nL(t,n){C_(t,n);let e=0;for(;_b(t);){if(e===lM)throw new $e(103,!1);e++,C_(t,1)}}function iL(t,n,e,i){let r=n[jt];if((r&256)===256)return;let o=!1;!o&&n[bs].inlineEffectRunner?.flush(),Eb(n);let s=null,a=null;!o&&rL(t)&&(a=XF(n),s=Sm(a));try{H5(n),KR(t.bindingStartIndex),e!==null&&YD(t,n,e,2,i);let l=(r&3)===3;if(!o)if(l){let p=t.preOrderCheckHooks;p!==null&&lg(n,p,null)}else{let p=t.preOrderHooks;p!==null&&cg(n,p,0,null),P1(n,0)}if(oL(n),uM(n,0),t.contentQueries!==null&&eM(t,n),!o)if(l){let p=t.contentCheckHooks;p!==null&&lg(n,p)}else{let p=t.contentHooks;p!==null&&cg(n,p,1),P1(n,1)}CF(t,n);let c=t.components;c!==null&&fM(n,c,0);let d=t.viewQuery;if(d!==null&&w_(2,d,i),!o)if(l){let p=t.viewCheckHooks;p!==null&&lg(n,p)}else{let p=t.viewHooks;p!==null&&cg(n,p,2),P1(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[ag]){for(let p of n[ag])p();n[ag]=null}o||(n[jt]&=-73)}catch(l){throw Yf(n),l}finally{a!==null&&(Em(a,s),eL(a)),xb()}}function rL(t){return t.type!==2}function uM(t,n){for(let e=mD(t);e!==null;e=gD(e))for(let i=Ar;i<e.length;i++){let r=e[i];dM(r,n)}}function oL(t){for(let n=mD(t);n!==null;n=gD(n)){if(!(n[jt]&pb.HasTransplantedViews))continue;let e=n[sd];for(let i=0;i<e.length;i++){let r=e[i],o=r[wr];FR(r)}}}function sL(t,n,e){let i=wl(n,t);dM(i,e)}function dM(t,n){yb(t)&&C_(t,n)}function C_(t,n){let i=t[qt],r=t[jt],o=t[kc],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&xm(o)),o&&(o.dirty=!1),t[jt]&=-9217,s)iL(i,t,i.template,t[Ir]);else if(r&8192){uM(t,1);let a=i.components;a!==null&&fM(t,a,1)}}function fM(t,n,e){for(let i=0;i<n.length;i++)sL(t,n[i],e)}function Wb(t){for(t[bs].changeDetectionScheduler?.notify();t;){t[jt]|=64;let n=Zf(t);if(DR(t)&&!n)return t;t=n}return null}var Fc=class{get rootNodes(){let n=this._lView,e=n[qt];return Sg(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ir]}set context(n){this._lView[Ir]=n}get destroyed(){return(this._lView[jt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[wr];if(Ta(n)){let e=n[vg],i=e?e.indexOf(this):-1;i>-1&&(Qf(n,i),mg(e,i))}this._attachedToViewContainer=!1}Kg(this._lView[qt],this._lView)}onDestroy(n){$5(this._lView,n)}markForCheck(){Wb(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-129}reattach(){n_(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,cM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,jD(this._lView[qt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=n,n_(this._lView)}},io=(()=>{class t{static{this.__NG_ELEMENT_ID__=cL}}return t})(),aL=io,lL=class extends aL{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=e0(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Fc(r)}};function cL(){return n0(Nr(),Gt())}function n0(t,n){return t.type&4?new lL(n,t,hd(t,n)):null}var gie=new RegExp(`^(\\d+)*(${Mj}|${Dj})*(.*)`);var uL=()=>null;function Jf(t,n){return uL(t,n)}var ld=class{},S_=class{},Eg=class{};function dL(t){let n=Error(`No component factory found for ${Hr(t)}.`);return n[fL]=t,n}var fL="ngComponent";var E_=class{resolveComponentFactory(n){throw dL(n)}},Cl=(()=>{class t{static{this.NULL=new E_}}return t})(),_o=class{},di=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hL()}}return t})();function hL(){let t=Gt(),n=Nr(),e=wl(n.index,t);return(Ic(e)?e:t)[ui]}var pL=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>null})}}return t})(),L1={};var $x=new Set;function Ss(t){$x.has(t)||($x.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zx(...t){}function mL(){let t=typeof yo.requestAnimationFrame=="function",n=yo[t?"requestAnimationFrame":"setTimeout"],e=yo[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}var bn=class t{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=mL().nativeRequestAnimationFrame,yL(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $e(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,gL,zx,zx);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},gL={};function qb(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yo,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,x_(t),t.isCheckStableRunning=!0,qb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),x_(t))}function yL(t){let n=()=>{vL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(_L(a))return e.invokeTask(r,o,s,a);try{return Wx(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),qx(t)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return Wx(t),e.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),qx(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,x_(t),qb(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function x_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Wx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qx(t){t._nesting--,qb(t)}function _L(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Xu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xu||{}),bL={destroy(){}};function i0(t,n){!n&&R5(i0);let e=n?.injector??Me(or);if(!eF(e))return bL;Ss("NgAfterNextRender");let i=e.get(Gb),r=i.handler??=new M_,o=n?.phase??Xu.MixedReadWrite,s=()=>{r.unregister(l),a()},a=e.get(Wg).onDestroy(s),l=Cs(e,()=>new D_(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var D_=class{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=Me(bn),this.errorHandler=Me(ws,{optional:!0}),Me(ld,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}},M_=class{constructor(){this.executingCallbacks=!1,this.buckets={[Xu.EarlyRead]:new Set,[Xu.Write]:new Set,[Xu.MixedReadWrite]:new Set,[Xu.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let e of n)e.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(let n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}},Gb=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>new t})}}return t})();function xg(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=G1(r,a);else if(o==2){let l=a,c=n[++s];i=G1(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}var Dg=class extends Cl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=yl(n);return new cd(e,this.ngModule)}};function Gx(t){let n=[];for(let e in t){if(!t.hasOwnProperty(e))continue;let i=t[e];i!==void 0&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}function wL(t){let n=t.toLowerCase();return n==="svg"?TR:n==="math"?NR:null}var I_=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Rg(i);let r=this.injector.get(n,L1,i);return r!==L1||e===L1?r:this.parentInjector.get(n,e,i)}},cd=class extends Eg{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=Gx(n.inputs);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return Gx(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=uR(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=_n(null);try{r=r||this.ngModule;let s=r instanceof Tr?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new I_(n,s):n,l=a.get(_o,null);if(l===null)throw new $e(407,!1);let c=a.get(pL,null),d=a.get(Gb,null),p=a.get(ld,null),g={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:p},h=l.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=i?xF(h,i,this.componentDef.encapsulation,a):RD(h,b,wL(b)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let S=null;w!==null&&(S=kb(w,a,!0));let O=Ub(0,null,null,1,0,null,null,null,null,null,null),R=Qg(null,O,null,E,null,null,g,h,a,null,S);Eb(R);let j,oe;try{let ve=this.componentDef,he,X=null;ve.findHostDirectiveDefs?(he=[],X=new Map,ve.findHostDirectiveDefs(ve,he,X),he.push(ve)):he=[ve];let F=CL(R,w),ie=SL(F,w,ve,he,R,g,h);oe=gb(O,Cr),w&&DL(h,ve,w,i),e!==void 0&&ML(oe,this.ngContentSelectors,e),j=xL(ie,ve,he,X,R,[IL]),zb(O,R,null)}finally{xb()}return new A_(this.componentType,j,hd(oe,R),R,oe)}finally{_n(o)}}},A_=class extends S_{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Fc(r,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;$b(o[qt],o,r,n,e),this.previousInputValues.set(n,e);let s=wl(this._tNode.index,o);Wb(s)}}get injector(){return new Ac(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function CL(t,n){let e=t[qt],i=Cr;return t[i]=n,pd(e,i,2,"#host",null)}function SL(t,n,e,i,r,o,s){let a=r[qt];EL(i,t,n,s);let l=null;n!==null&&(l=kb(n,r[od]));let c=o.rendererFactory.createRenderer(n,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let p=Qg(r,ZD(e),null,d,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&b_(a,t,i.length-1),Jg(r,p),r[t.index]=p}function EL(t,n,e,i){for(let r of t)n.mergedAttrs=Wf(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(xg(n,n.mergedAttrs,!0),e!==null&&zD(i,e,n))}function xL(t,n,e,i,r,o){let s=Nr(),a=r[qt],l=Go(s,r);QD(a,r,s,e,null,i);for(let d=0;d<e.length;d++){let p=s.directiveStart+d,g=jc(r,a,p,s);_l(g,r)}XD(a,r,s),l&&_l(l,r);let c=jc(r,a,s.directiveStart+s.componentOffset,s);if(t[Ir]=r[Ir]=c,o!==null)for(let d of o)d(c,n);return Lb(a,s,r),c}function DL(t,n,e,i){if(i)Q1(t,e,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=dR(n.selectors[0]);r&&Q1(t,e,r),o&&o.length>0&&$D(t,e,o.join(" "))}}function ML(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function IL(){let t=Nr();zg(Gt()[qt],t)}var kr=(()=>{class t{static{this.__NG_ELEMENT_ID__=AL}}return t})();function AL(){let t=Nr();return pM(t,Gt())}var TL=kr,hM=class extends TL{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Ac(this._hostTNode,this._hostLView)}get parentInjector(){let n=Db(this._hostTNode,this._hostLView);if(nD(n)){let e=_g(n,this._hostLView),i=yg(n),r=e[qt].data[i+8];return new Ac(r,e)}else return new Ac(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=Kx(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Ar}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Jf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Xf(this._hostTNode,s)),a}createComponent(n,e,i,r,o){let s=n&&!xR(n),a;if(s)a=e;else{let b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?n:new cd(yl(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let w=(s?c:this.parentInjector).get(Tr,null);w&&(o=w)}let d=yl(l.componentType??{}),p=Jf(this._lContainer,d?.id??null),g=p?.firstChild??null,h=l.create(c,r,g,o);return this.insertImpl(h.hostView,a,Xf(this._hostTNode,p)),h}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(jR(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[wr],c=new hM(l,l[wo],l[wr]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return t0(s,r,o,i),n.attachToViewContainerRef(),v5(V1(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=Kx(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Qf(this._lContainer,e);i&&(mg(V1(this._lContainer),e),Kg(i[qt],i))}detach(n){let e=this._adjustIndex(n,-1),i=Qf(this._lContainer,e);return i&&mg(V1(this._lContainer),e)!=null?new Fc(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function Kx(t){return t[vg]}function V1(t){return t[vg]||(t[vg]=[])}function pM(t,n){let e,i=n[t.index];return Ta(i)?e=i:(e=JD(i,n,null,t),n[t.index]=e,Jg(n,e)),kL(e,n,t,i),new hM(e,t,n)}function NL(t,n){let e=t[ui],i=e.createComment(""),r=Go(n,t),o=jb(e,r);return Cg(e,o,i,pF(e,r),!1),i}var kL=RL,PL=()=>!1;function OL(t,n,e){return PL(t,n,e)}function RL(t,n,e,i){if(t[Pc])return;let r;e.type&8?r=Gs(i):r=NL(n,e),t[Pc]=r}var T_=class t{constructor(n){this.queryList=n,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},N_=class t{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)Kb(n,e).matches!==null&&this.queries[e].setDirty()}},Mg=class{constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=$L(n):this.predicate=n}},k_=class t{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},P_=class t{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,jL(e,o)),this.matchTNodeWithReadOption(n,e,ug(e,n,o,!1,!1))}else i===io?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ug(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Dt||r===kr||r===io&&e.type&4)this.addMatch(e.index,-2);else{let o=ug(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function jL(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function FL(t,n){return t.type&11?hd(t,n):t.type&4?n0(t,n):null}function LL(t,n,e,i){return e===-1?FL(n,t):e===-2?VL(t,n,i):jc(t,t[qt],e,n)}function VL(t,n,e){if(e===Dt)return hd(n,t);if(e===io)return n0(n,t);if(e===kr)return pM(n,t)}function mM(t,n,e,i){let r=n[Da].queries[i];if(r.matches===null){let o=t.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(LL(n,d,s[l+1],e.metadata.read))}}r.matches=a}return r.matches}function O_(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let s=mM(t,n,r,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=n[-l];for(let p=Ar;p<d.length;p++){let g=d[p];g[oh]===g[wr]&&O_(g[qt],g,c,i)}if(d[sd]!==null){let p=d[sd];for(let g=0;g<p.length;g++){let h=p[g];O_(h[qt],h,c,i)}}}}}return i}function BL(t,n){return t[Da].queries[n].queryList}function gM(t,n,e){let i=new c_((e&4)===4);return IF(t,n,i,i.destroy),(n[Da]??=new N_).queries.push(new T_(i))-1}function UL(t,n,e){let i=vi();return i.firstCreatePass&&(vM(i,new Mg(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),gM(i,Gt(),n)}function HL(t,n,e,i){let r=vi();if(r.firstCreatePass){let o=Nr();vM(r,new Mg(n,e,i),o.index),zL(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return gM(r,Gt(),e)}function $L(t){return t.split(",").map(n=>n.trim())}function vM(t,n,e){t.queries===null&&(t.queries=new k_),t.queries.track(new P_(n,e))}function zL(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function Kb(t,n){return t.queries.getByIndex(n)}function WL(t,n){let e=t[qt],i=Kb(e,n);return i.crossesNgTemplate?O_(e,t,n,[]):mM(e,t,i,n)}function qL(t){return typeof t=="function"&&t[ps]!==void 0}function Uc(t,n){Ss("NgSignals");let e=UE(t),i=e[ps];return n?.equal&&(i.equal=n.equal),e.set=r=>Mm(i,r),e.update=r=>HE(i,r),e.asReadonly=GL.bind(e),e}function GL(){let t=this[ps];if(t.readonlyFn===void 0){let n=()=>this();n[ps]=t,t.readonlyFn=n}return t.readonlyFn}function yM(t){return qL(t)&&typeof t.set=="function"}function KL(t){return Object.getPrototypeOf(t.prototype).constructor}function $r(t){let n=KL(t.type),e=!0,i=[t];for(;n;){let r;if(Ma(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new $e(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let s=t;s.inputs=rg(t.inputs),s.inputTransforms=rg(t.inputTransforms),s.declaredInputs=rg(t.declaredInputs),s.outputs=rg(t.outputs);let a=r.hostBindings;a&&JL(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&QL(t,l),c&&XL(t,c),YL(t,r),A4(t.outputs,r.outputs),Ma(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===$r&&(e=!1)}}n=Object.getPrototypeOf(n)}ZL(i)}function YL(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function ZL(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Wf(r.hostAttrs,e=Wf(e,r.hostAttrs))}}function rg(t){return t===td?{}:t===no?[]:t}function QL(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function XL(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function JL(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}function Yb(t){let n=t.inputConfig,e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}var bl=class{},eh=class{};var R_=class extends bl{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dg(this);let r=M5(n);this._bootstrapComponents=OD(r.bootstrap),this._r3Injector=dD(n,e,[{provide:bl,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver},...i],Hr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},j_=class extends eh{constructor(n){super(),this.moduleType=n}create(n){return new R_(this.moduleType,n,[])}};var Ig=class extends bl{constructor(n){super(),this.componentFactoryResolver=new Dg(this),this.instance=null;let e=new qf([...n.providers,{provide:bl,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],n.parent||fb(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function r0(t,n,e=null){return new Ig({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var Hc=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ir(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _M(t){return Zb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function e6(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function Zb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Qb(t,n,e){return t[n]=e}function t6(t,n){return t[n]}function qo(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function bM(t,n,e,i){let r=qo(t,n,e);return qo(t,n+1,i)||r}function n6(t){return(t.flags&32)===32}function i6(t,n,e,i,r,o,s,a,l){let c=n.consts,d=pd(n,t,4,s||null,ad(c,a));Hb(n,e,d,ad(c,l)),zg(n,d);let p=d.tView=Ub(2,d,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,d),p.queries=n.queries.embeddedTView(d)),d}function Ie(t,n,e,i,r,o,s,a){let l=Gt(),c=vi(),d=t+Cr,p=c.firstCreatePass?i6(d,c,l,n,e,i,r,o,s):c.data[d];Vc(p,!1);let g=r6(c,l,p,t);Hg()&&Yg(c,l,g,p),_l(g,l);let h=JD(g,l,g,p);return l[d]=h,Jg(l,h),OL(h,p,l),Bg(p)&&Vb(c,l,p),s!=null&&Bb(l,p,a),Ie}var r6=o6;function o6(t,n,e,i){return $g(!0),n[ui].createComment("")}function Dn(t,n,e,i){let r=Gt(),o=Bc();if(qo(r,o,n)){let s=vi(),a=sh();$F(a,r,t,n,e,i)}return Dn}function wM(t,n,e,i){return qo(t,Bc(),e)?n+Tc(e)+i:So}function s6(t,n,e,i,r,o){let s=GR(),a=bM(t,s,e,r);return Cb(2),a?n+Tc(e)+i+Tc(r)+o:So}function og(t,n){return t<<17|n<<2}function Lc(t){return t>>17&32767}function a6(t){return(t&2)==2}function l6(t,n){return t&131071|n<<17}function F_(t){return t|2}function ud(t){return(t&131068)>>2}function B1(t,n){return t&-131069|n<<2}function c6(t){return(t&1)===1}function L_(t){return t|1}function u6(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Lc(s),l=ud(s);t[i]=e;let c=!1,d;if(Array.isArray(e)){let p=e;d=p[1],(d===null||rh(p,d)>0)&&(c=!0)}else d=e;if(r)if(l!==0){let g=Lc(t[a+1]);t[i+1]=og(g,a),g!==0&&(t[g+1]=B1(t[g+1],i)),t[a+1]=l6(t[a+1],i)}else t[i+1]=og(a,0),a!==0&&(t[a+1]=B1(t[a+1],i)),a=i;else t[i+1]=og(l,0),a===0?a=i:t[l+1]=B1(t[l+1],i),l=i;c&&(t[i+1]=F_(t[i+1])),Yx(t,d,i,!0),Yx(t,d,i,!1),d6(n,d,t,i,o),s=og(a,l),o?n.classBindings=s:n.styleBindings=s}function d6(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&rh(o,n)>=0&&(e[i+1]=L_(e[i+1]))}function Yx(t,n,e,i){let r=t[e+1],o=n===null,s=i?Lc(r):ud(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];f6(l,n)&&(a=!0,t[s+1]=i?L_(c):F_(c)),s=i?Lc(c):ud(c)}a&&(t[e+1]=i?F_(r):L_(r))}function f6(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?rh(t,n)>=0:!1}var ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h6(t){return t.substring(ys.key,ys.keyEnd)}function p6(t){return m6(t),CM(t,SM(t,0,ys.textEnd))}function CM(t,n){let e=ys.textEnd;return e===n?-1:(n=ys.keyEnd=g6(t,ys.key=n,e),SM(t,n,e))}function m6(t){ys.key=0,ys.keyEnd=0,ys.value=0,ys.valueEnd=0,ys.textEnd=t.length}function SM(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function g6(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function K(t,n,e){let i=Gt(),r=Bc();if(qo(i,r,n)){let o=vi(),s=sh();Xg(o,s,i,t,n,i[ui],e,!1)}return K}function V_(t,n,e,i,r){let o=n.inputs,s=r?"class":"style";$b(t,e,o[s],s,i)}function Eo(t,n,e){return EM(t,n,e,!1),Eo}function $t(t,n){return EM(t,n,null,!0),$t}function xo(t){y6(E6,v6,t,!0)}function v6(t,n){for(let e=p6(n);e>=0;e=CM(n,e))lb(t,h6(n),!0)}function EM(t,n,e,i){let r=Gt(),o=vi(),s=Cb(2);if(o.firstUpdatePass&&DM(o,t,s,i),n!==So&&qo(r,s,n)){let a=o.data[Na()];MM(o,a,r,r[ui],t,r[s+1]=D6(n,e),i,s)}}function y6(t,n,e,i){let r=vi(),o=Cb(2);r.firstUpdatePass&&DM(r,null,o,i);let s=Gt();if(e!==So&&qo(s,o,e)){let a=r.data[Na()];if(IM(a,i)&&!xM(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=G1(l,e||"")),V_(r,a,s,e,i)}else x6(r,a,s,s[ui],s[o+1],s[o+1]=S6(t,n,e),i,o)}}function xM(t,n){return n>=t.expandoStartIndex}function DM(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[Na()],s=xM(t,e);IM(o,i)&&n===null&&!s&&(n=!1),n=_6(r,o,n,i),u6(r,o,n,e,s,i)}}function _6(t,n,e,i){let r=G5(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=U1(null,t,n,e,i),e=th(e,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==r)if(e=U1(r,t,n,e,i),o===null){let l=b6(t,n,i);l!==void 0&&Array.isArray(l)&&(l=U1(null,t,n,l[1],i),l=th(l,n.attrs,i),w6(t,n,i,l))}else o=C6(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function b6(t,n,e){let i=e?n.classBindings:n.styleBindings;if(ud(i)!==0)return t[Lc(i)]}function w6(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Lc(r)]=i}function C6(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=th(i,s,e)}return th(i,n.attrs,e)}function U1(t,n,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],i=th(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function th(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lb(t,s,e?!0:n[++o]))}return t===void 0?null:t}function S6(t,n,e){if(e==null||e==="")return no;let i=[],r=Yo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function E6(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&lb(t,i,e)}function x6(t,n,e,i,r,o,s,a){r===So&&(r=no);let l=0,c=0,d=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let g=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0,b=null,w;d===p?(l+=2,c+=2,g!==h&&(b=p,w=h)):p===null||d!==null&&d<p?(l+=2,b=d):(c+=2,b=p,w=h),b!==null&&MM(t,n,e,i,b,w,s,a),d=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}function MM(t,n,e,i,r,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],d=c6(c)?Zx(l,n,e,r,ud(c),s):void 0;if(!Ag(d)){Ag(o)||a6(c)&&(o=Zx(l,null,e,r,a,s));let p=U5(Na(),e);bF(i,s,p,r,o)}}function Zx(t,n,e,i,r,o){let s=n===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,p=d===null,g=e[r+1];g===So&&(g=p?no:void 0);let h=p?N1(g,i):d===i?g:void 0;if(c&&!Ag(h)&&(h=N1(l,i)),Ag(h)&&(a=h,s))return a;let b=t[r+1];r=s?Lc(b):ud(b)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=N1(l,i))}return a}function Ag(t){return t!==void 0}function D6(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Hr(Yo(t)))),t}function IM(t,n){return(t.flags&(n?8:16))!==0}var B_=class{destroy(n){}updateValue(n,e){}swap(n,e){let i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}};function H1(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function M6(t,n,e){let i,r,o=0,s=t.length-1;if(Array.isArray(n)){let a=n.length-1;for(;o<=s&&o<=a;){let l=t.at(o),c=n[o],d=H1(o,l,o,c,e);if(d!==0){d<0&&t.updateValue(o,c),o++;continue}let p=t.at(s),g=n[a],h=H1(s,p,a,g,e);if(h!==0){h<0&&t.updateValue(s,g),s--,a--;continue}let b=e(o,l),w=e(s,p),E=e(o,c);if(Object.is(E,w)){let S=e(a,g);Object.is(S,b)?(t.swap(o,s),t.updateValue(s,g),a--,s--):t.move(s,o),t.updateValue(o,c),o++;continue}if(i??=new Tg,r??=Xx(t,o,s,e),U_(t,i,o,E))t.updateValue(o,c),o++,s++;else if(r.has(E))i.set(b,t.detach(o)),s--;else{let S=t.create(o,n[o]);t.attach(o,S),o++,s++}}for(;o<=a;)Qx(t,i,e,o,n[o]),o++}else if(n!=null){let a=n[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let c=t.at(o),d=l.value,p=H1(o,c,o,d,e);if(p!==0)p<0&&t.updateValue(o,d),o++,l=a.next();else{i??=new Tg,r??=Xx(t,o,s,e);let g=e(o,d);if(U_(t,i,o,g))t.updateValue(o,d),o++,s++,l=a.next();else if(!r.has(g))t.attach(o,t.create(o,d)),o++,s++,l=a.next();else{let h=e(o,c);i.set(h,t.detach(o)),s--}}}for(;!l.done;)Qx(t,i,e,t.length,l.value),l=a.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(a=>{t.destroy(a)})}function U_(t,n,e,i){return n!==void 0&&n.has(i)?(t.attach(e,n.get(i)),n.delete(i),!0):!1}function Qx(t,n,e,i,r){if(U_(t,n,i,e(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function Xx(t,n,e,i){let r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}var Tg=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}};function md(t,n,e){Ss("NgControlFlow");let i=Gt(),r=Bc(),o=W_(i,Cr+t),s=0;if(qo(i,r,n)){let a=_n(null);try{if(sM(o,s),n!==-1){let l=q_(i[qt],Cr+n),c=Jf(o,l.tView.ssrId),d=e0(i,l,e,{dehydratedView:c});t0(o,d,s,Xf(l,c))}}finally{_n(a)}}else{let a=oM(o,s);a!==void 0&&(a[Ir]=e)}}var H_=class{constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-Ar}};function o0(t){return t}var $_=class{constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}};function gd(t,n,e,i,r,o,s,a,l,c,d,p,g){Ss("NgControlFlow");let h=l!==void 0,b=Gt(),w=a?s.bind(b[Wo][Ir]):s,E=new $_(h,w);b[Cr+t]=E,Ie(t+1,n,e,i,r,o),h&&Ie(t+2,l,c,d,p,g)}var z_=class extends B_{constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ar}at(n){return this.getLView(n)[Ir].$implicit}attach(n,e){let i=e[rd];this.needsIndexUpdate||=n!==this.length,t0(this.lContainer,e,n,Xf(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,I6(this.lContainer,n)}create(n,e){let i=Jf(this.lContainer,this.templateTNode.tView.ssrId);return e0(this.hostLView,this.templateTNode,new H_(this.lContainer,e,n),{dehydratedView:i})}destroy(n){Kg(n[qt],n)}updateValue(n,e){this.getLView(n)[Ir].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Ir].$index=n}getLView(n){return A6(this.lContainer,n)}};function vd(t){let n=_n(null),e=Na();try{let i=Gt(),r=i[qt],o=i[e];if(o.liveCollection===void 0){let a=e+1,l=W_(i,a),c=q_(r,a);o.liveCollection=new z_(l,i,c)}else o.liveCollection.reset();let s=o.liveCollection;if(M6(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Bc(),l=s.length===0;if(qo(i,a,l)){let c=e+2,d=W_(i,c);if(l){let p=q_(r,c),g=Jf(d,p.tView.ssrId),h=e0(i,p,void 0,{dehydratedView:g});t0(d,h,0,Xf(p,g))}else sM(d,0)}}}finally{_n(n)}}function W_(t,n){return t[n]}function I6(t,n){return Qf(t,n)}function A6(t,n){return oM(t,n)}function q_(t,n){return gb(t,n)}function T6(t,n,e,i,r,o){let s=n.consts,a=ad(s,r),l=pd(n,t,2,i,a);return Hb(n,e,l,ad(s,o)),l.attrs!==null&&xg(l,l.attrs,!1),l.mergedAttrs!==null&&xg(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function _(t,n,e,i){let r=Gt(),o=vi(),s=Cr+t,a=r[ui],l=o.firstCreatePass?T6(s,o,r,n,e,i):o.data[s],c=N6(o,r,l,a,n,t);r[s]=c;let d=Bg(l);return Vc(l,!0),zD(a,c,l),!n6(l)&&Hg()&&Yg(o,r,c,l),BR()===0&&_l(c,r),UR(),d&&(Vb(o,r,l),Lb(o,l,r)),i!==null&&Bb(r,l),_}function y(){let t=Nr();bb()?wb():(t=t.parent,Vc(t,!1));let n=t;$R(n)&&zR(),HR();let e=vi();return e.firstCreatePass&&(zg(e,t),mb(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&rj(n)&&V_(e,n,Gt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&oj(n)&&V_(e,n,Gt(),n.stylesWithoutHost,!1),y}function tt(t,n,e,i){return _(t,n,e,i),y(),tt}var N6=(t,n,e,i,r,o)=>($g(!0),RD(i,r,ej()));function k6(t,n,e,i,r){let o=n.consts,s=ad(o,i),a=pd(n,t,8,"ng-container",s);s!==null&&xg(a,s,!0);let l=ad(o,r);return Hb(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Zn(t,n,e){let i=Gt(),r=vi(),o=t+Cr,s=r.firstCreatePass?k6(o,r,i,n,e):r.data[o];Vc(s,!0);let a=P6(r,i,s,t);return i[o]=a,Hg()&&Yg(r,i,a,s),_l(a,i),Bg(s)&&(Vb(r,i,s),Lb(r,s,i)),e!=null&&Bb(i,s),Zn}function Qn(){let t=Nr(),n=vi();return bb()?wb():(t=t.parent,Vc(t,!1)),n.firstCreatePass&&(zg(n,t),mb(t)&&n.queries.elementEnd(t)),Qn}var P6=(t,n,e,i)=>($g(!0),rF(n[ui],""));function We(){return Gt()}function Xb(t,n,e){let i=Gt(),r=Bc();if(qo(i,r,n)){let o=vi(),s=sh(),a=G5(o.data),l=GF(a,s,i);Xg(o,s,i,t,n,l,e,!0)}return Xb}var Mc=void 0;function O6(t){let n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var R6=["en",[["a","p"],["AM","PM"],Mc],[["AM","PM"],Mc,Mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mc,"{1} 'at' {0}",Mc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",O6],$1={};function Zo(t){let n=j6(t),e=Jx(n);if(e)return e;let i=n.split("-")[0];if(e=Jx(i),e)return e;if(i==="en")return R6;throw new $e(701,!1)}function Jx(t){return t in $1||($1[t]=yo.ng&&yo.ng.common&&yo.ng.common.locales&&yo.ng.common.locales[t]),$1[t]}var ji=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ji||{});function j6(t){return t.toLowerCase().replace(/_/g,"-")}var Ng="en-US";var F6=Ng;function L6(t){typeof t=="string"&&(F6=t.toLowerCase().replace(/_/g,"-"))}function te(t,n,e,i){let r=Gt(),o=vi(),s=Nr();return AM(o,r,r[ui],s,t,n,i),te}function V6(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=n[Gf],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function AM(t,n,e,i,r,o,s){let a=Bg(i),c=t.firstCreatePass&&nM(t),d=n[Ir],p=tM(n),g=!0;if(i.type&3||s){let w=Go(i,n),E=s?s(w):w,S=p.length,O=s?j=>s(Gs(j[i.index])):i.index,R=null;if(!s&&a&&(R=V6(t,n,r,i.index)),R!==null){let j=R.__ngLastListenerFn__||R;j.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,g=!1}else{o=t5(i,n,d,o,!1);let j=e.listen(E,r,o);p.push(o,j),c&&c.push(r,O,S,S+1)}}else o=t5(i,n,d,o,!1);let h=i.outputs,b;if(g&&h!==null&&(b=h[r])){let w=b.length;if(w)for(let E=0;E<w;E+=2){let S=b[E],O=b[E+1],oe=n[S][O].subscribe(o),ve=p.length;p.push(o,oe),c&&c.push(r,i.index,ve,-(ve+1))}}}function e5(t,n,e,i){let r=_n(null);try{return Ws(6,n,e),e(i)!==!1}catch(o){return iM(t,o),!1}finally{Ws(7,n,e),_n(r)}}function t5(t,n,e,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?wl(t.index,n):n;Wb(a);let l=e5(n,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=e5(n,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function ne(t=1){return JR(t)}function B6(t,n){let e=null,i=oR(t);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(i===null?S5(t,o,!0):lR(i,o))return r}return e}function Sl(t){let n=Gt()[Wo][wo];if(!n.projection){let e=t?t.length:1,i=n.projection=Z4(e,null),r=i.slice(),o=n.child;for(;o!==null;){let s=t?B6(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function El(t,n=0,e){let i=Gt(),r=vi(),o=pd(r,Cr+t,16,null,e||null);o.projection===null&&(o.projection=n),wb(),(!i[rd]||W5())&&(o.flags&32)!==32&&yF(r,i,o)}function Jb(t,n,e){return TM(t,"",n,"",e),Jb}function TM(t,n,e,i,r){let o=Gt(),s=wM(o,n,e,i);if(s!==So){let a=vi(),l=sh();Xg(a,l,o,t,s,o[ui],r,!1)}return TM}function NM(t,n,e,i){HL(t,n,e,i)}function sr(t,n,e){UL(t,n,e)}function Fi(t){let n=Gt(),e=vi(),i=K5();Sb(i+1);let r=Kb(e,i);if(t.dirty&&RR(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=WL(n,i);t.reset(o,_j),t.notifyOnChanges()}return!0}return!1}function Li(){return BL(Gt(),K5())}function U6(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function xl(t){let n=qR();return vb(n,Cr+t)}function x(t,n=""){let e=Gt(),i=vi(),r=t+Cr,o=i.firstCreatePass?pd(i,r,1,n,null):i.data[r],s=H6(i,e,o,n,t);e[r]=s,Hg()&&Yg(i,e,s,o),Vc(o,!1)}var H6=(t,n,e,i,r)=>($g(!0),nF(n[ui],i));function qe(t){return Bt("",t,""),qe}function Bt(t,n,e){let i=Gt(),r=wM(i,t,n,e);return r!==So&&rM(i,Na(),r),Bt}function Hn(t,n,e,i,r){let o=Gt(),s=s6(o,t,n,e,i,r);return s!==So&&rM(o,Na(),s),Hn}function ot(t,n,e){yM(n)&&(n=n());let i=Gt(),r=Bc();if(qo(i,r,n)){let o=vi(),s=sh();Xg(o,s,i,t,n,i[ui],e,!1)}return ot}function lt(t,n){let e=yM(t);return e&&t.set(n),e}function st(t,n){let e=Gt(),i=vi(),r=Nr();return AM(i,e,e[ui],r,t,n),st}function $6(t,n,e){let i=vi();if(i.firstCreatePass){let r=Ma(t);G_(e,i.data,i.blueprint,r,!0),G_(n,i.data,i.blueprint,r,!1)}}function G_(t,n,e,i,r){if(t=Ur(t),Array.isArray(t))for(let o=0;o<t.length;o++)G_(t[o],n,e,i,r);else{let o=vi(),s=Gt(),a=Nr(),l=id(t)?t:Ur(t.provide),c=P5(t),d=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(id(t)||!t.multi){let h=new Rc(c,r,ee),b=W1(l,n,r?d:d+g,p);b===-1?(o_(wg(a,s),o,l),z1(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[b]=h,s[b]=h)}else{let h=W1(l,n,d+g,p),b=W1(l,n,d,d+g),w=h>=0&&e[h],E=b>=0&&e[b];if(r&&!E||!r&&!w){o_(wg(a,s),o,l);let S=q6(r?W6:z6,e.length,r,i,c);!r&&E&&(e[b].providerFactory=S),z1(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(S),s.push(S)}else{let S=kM(e[r?b:h],c,!r&&i);z1(o,t,h>-1?h:b,S)}!r&&i&&E&&e[b].componentProviders++}}}function z1(t,n,e,i){let r=id(n),o=yR(n);if(r||o){let l=(o?Ur(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let d=c.indexOf(e);d===-1?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function kM(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function W1(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function z6(t,n,e,i){return K_(this.multi,[])}function W6(t,n,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=jc(e,e[qt],this.providerFactory.index,i);o=a.slice(0,s),K_(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],K_(r,o);return o}function K_(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function q6(t,n,e,i,r){let o=new Rc(t,e,ee);return o.multi=[],o.index=n,o.componentProviders=0,kM(o,r,i&&!e),o}function Do(t,n=[]){return e=>{e.providersResolver=(i,r)=>$6(i,r?r(t):t,n)}}var G6=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=T5(!1,e.type),r=i.length>0?r0([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Fe({token:t,providedIn:"environment",factory:()=>new t(Be(Tr))})}}return t})();function Ye(t){Ss("NgStandalone"),t.getStandaloneInjector=n=>n.get(G6).getOrCreateStandaloneInjector(t)}function fr(t,n,e){let i=Ug()+t,r=Gt();return r[i]===So?Qb(r,i,e?n.call(e):n()):t6(r,i)}function Es(t,n,e,i){return OM(Gt(),Ug(),t,n,e,i)}function PM(t,n){let e=t[n];return e===So?void 0:e}function OM(t,n,e,i,r,o){let s=n+e;return qo(t,s,r)?Qb(t,s+1,o?i.call(o,r):i(r)):PM(t,s+1)}function K6(t,n,e,i,r,o,s){let a=n+e;return bM(t,a,r,o)?Qb(t,a+2,s?i.call(s,r,o):i(r,o)):PM(t,a+2)}function Qo(t,n){let e=vi(),i,r=t+Cr;e.firstCreatePass?(i=Y6(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Nc(i.type,!0)),s,a=to(ee);try{let l=bg(!1),c=o();return bg(l),U6(e,Gt(),r,c),c}finally{to(a)}}function Y6(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function s0(t,n,e){let i=t+Cr,r=Gt(),o=vb(r,i);return RM(r,i)?OM(r,Ug(),n,o.transform,e,o):o.transform(e)}function Oa(t,n,e,i){let r=t+Cr,o=Gt(),s=vb(o,r);return RM(o,r)?K6(o,Ug(),n,s.transform,e,i,s):s.transform(e,i)}function RM(t,n){return t[qt].data[n].pure}function Dl(t,n){return n0(t,n)}var a0=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var jM=new gt("");function $c(t){return!!t&&typeof t.then=="function"}function FM(t){return!!t&&typeof t.subscribe=="function"}var l0=new gt(""),LM=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Me(l0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if($c(o))e.push(o);else if(FM(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dh=new gt("");function Z6(){BE(()=>{throw new $e(600,!1)})}function Q6(t){return t.isBoundToModule}function X6(t,n,e){try{let i=e();return $c(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var Xo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(fD),this.afterRenderEffectManager=Me(Gb),this.externalTestViews=new Set,this.beforeRender=new Un,this.afterTick=new Un,this.componentTypes=[],this.components=[],this.isStable=Me(Hc).hasPendingTasks.pipe(Wt(e=>!e)),this._injector=Me(Tr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof Eg;if(!this._injector.get(LM).done){let g=!r&&D5(e),h=!1;throw new $e(405,h)}let s;r?s=e:s=this._injector.get(Cl).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=Q6(s)?void 0:this._injector.get(bl),l=i||s.selector,c=s.create(or.NULL,[],l,a),d=c.location.nativeElement,p=c.injector.get(jM,null);return p?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),q1(this.components,c),p?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new $e(101,!1);let i=_n(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,_n(i)}}detectChangesInAttachedViews(e){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===lM)throw new $e(103,!1);if(e){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)J6(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Y_(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Y_(o))))break}}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;q1(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(dh,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>q1(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new $e(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function q1(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function J6(t,n,e){!n&&!Y_(t)||e8(t,e,n)}function Y_(t){return _b(t)}function e8(t,n,e){let i;e?(i=0,t[jt]|=1024):t[jt]&64?i=0:i=1,cM(t,n,i)}var Z_=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},c0=(()=>{class t{compileModuleSync(e){return new j_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=M5(e),o=OD(r.declarations).reduce((s,a)=>{let l=yl(a);return l&&s.push(new cd(l)),s},[]);return new Z_(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var t8=(()=>{class t{constructor(){this.zone=Me(bn),this.applicationRef=Me(Xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function n8(t){return[{provide:bn,useFactory:t},{provide:nd,multi:!0,useFactory:()=>{let n=Me(t8,{optional:!0});return()=>n.initialize()}},{provide:nd,multi:!0,useFactory:()=>{let n=Me(s8);return()=>{n.initialize()}}},{provide:fD,useFactory:i8}]}function i8(){let t=Me(bn),n=Me(ws);return e=>t.runOutsideAngular(()=>n.handleError(e))}function r8(t){let n=n8(()=>new bn(o8(t)));return Aa([[],n])}function o8(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var s8=(()=>{class t{constructor(){this.subscription=new gi,this.initialized=!1,this.zone=Me(bn),this.pendingTasks=Me(Hc)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{bn.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{bn.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function a8(){return typeof $localize<"u"&&$localize.locale||Ng}var u0=new gt("",{providedIn:"root",factory:()=>Me(u0,fn.Optional|fn.SkipSelf)||a8()});var VM=new gt("");var fg=null;function l8(t=[],n){return or.create({name:n,providers:[{provide:Fg,useValue:"platform"},{provide:VM,useValue:new Set([()=>fg=null])},...t]})}function c8(t=[]){if(fg)return fg;let n=l8(t);return fg=n,Z6(),u8(n),n}function u8(t){t.get(Tb,null)?.forEach(e=>e())}var zr=(()=>{class t{static{this.__NG_ELEMENT_ID__=d8}}return t})();function d8(t){return f8(Nr(),Gt(),(t&16)===16)}function f8(t,n,e){if(Vg(t)&&!e){let i=wl(t.index,n);return new Fc(i,i)}else if(t.type&47){let i=n[Wo];return new Fc(i,n)}return null}var Q_=class{constructor(){}supports(n){return _M(n)}create(n){return new X_(n)}},h8=(t,n)=>n,X_=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||h8}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<n5(i,r,o)?e:i,a=n5(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let g=0;g<c;g++){let h=g<o.length?o[g]:o[g]=0,b=h+g;d<=b&&b<c&&(o[g]=h+1)}let p=s.previousIndex;o[p]=d-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!_M(n))throw new $e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,e6(n,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new J_(e,i),o,r)),n}_verifyReinsertion(n,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new kg),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kg),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},J_=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},eb=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},kg=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new eb,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function n5(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}var tb=class{constructor(){}supports(n){return n instanceof Map||Zb(n)}create(){return new nb}},nb=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Zb(n)))throw new $e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new ib(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}},ib=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function i5(){return new ew([new Q_])}var ew=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:i5})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||i5()),deps:[[t,new jg,new ih]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new $e(901,!1)}}return t})();function r5(){return new tw([new tb])}var tw=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:r5})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||r5()),deps:[[t,new jg,new ih]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new $e(901,!1)}}return t})();function BM(t){try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,r=c8(i),o=[r8(),...e||[]],a=new Ig({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(bn);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(ws,null),d;l.runOutsideAngular(()=>{d=l.onError.subscribe({next:h=>{c.handleError(h)}})});let p=()=>a.destroy(),g=r.get(VM);return g.add(p),a.onDestroy(()=>{d.unsubscribe(),g.delete(p)}),X6(c,l,()=>{let h=a.get(LM);return h.runInitializers(),h.donePromise.then(()=>{let b=a.get(u0,Ng);L6(b||Ng);let w=a.get(Xo);return n!==void 0&&w.bootstrap(n),w})})})}catch(n){return Promise.reject(n)}}function Ml(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function UM(t,n){Ss("NgSignals");let e=FE(t);return n?.equal&&(e[ps].equal=n.equal),e}var p8=new gt("",{providedIn:"root",factory:()=>Me(m8)}),m8=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>new rb})}}return t})(),rb=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Me(Hc),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){let e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},ob=class{constructor(n,e,i,r,o,s){this.scheduler=n,this.effectFn=e,this.creationZone=i,this.injector=o,this.watcher=$E(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(ws,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function nw(t,n){Ss("NgSignals"),!n?.injector&&R5(nw);let e=n?.injector??Me(or),i=n?.manualCleanup!==!0?e.get(Wg):null,r=new ob(e.get(p8),t,typeof Zone>"u"?null:Zone.current,i,e,n?.allowSignalWrites??!1),o=e.get(zr,null,{optional:!0});return!o||!(o._lView[jt]&8)?r.watcher.notify():(o._lView[ag]??=[]).push(r.watcher.notify),r}function HM(t){let n=yl(t);if(!n)return null;let e=new cd(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var YM=null;function La(){return YM}function ZM(t){YM??=t}var _0=class{};var $n=new gt(""),fw=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(g8),providedIn:"platform"})}}return t})(),QM=new gt(""),g8=(()=>{class t extends fw{constructor(){super(),this._doc=Me($n),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return La().getBaseHref(this._doc)}onPopState(e){let i=La().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=La().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function hw(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function $M(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function ja(t){return t&&t[0]!=="?"?"?"+t:t}var Va=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(pw),providedIn:"root"})}}return t})(),XM=new gt(""),pw=(()=>{class t extends Va{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Me($n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return hw(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+ja(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+ja(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+ja(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(Be(fw),Be(XM,8))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JM=(()=>{class t extends Va{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=hw(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+ja(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+ja(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(Be(fw),Be(XM,8))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),_d=(()=>{class t{constructor(e){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=_8($M(zM(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ja(i))}normalize(e){return t.stripTrailingSlash(y8(this._basePath,zM(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ja(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ja(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=ja}static{this.joinWithSlash=hw}static{this.stripTrailingSlash=$M}static{this.\u0275fac=function(i){return new(i||t)(Be(Va))}}static{this.\u0275prov=Fe({token:t,factory:()=>v8(),providedIn:"root"})}}return t})();function v8(){return new _d(Be(Va))}function y8(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function zM(t){return t.replace(/\/index.html$/,"")}function _8(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Wr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Wr||{}),Xn=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Xn||{}),Mo=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mo||{}),Il={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function b8(t){return Zo(t)[ji.LocaleId]}function w8(t,n,e){let i=Zo(t),r=[i[ji.DayPeriodsFormat],i[ji.DayPeriodsStandalone]],o=Jo(r,n);return Jo(o,e)}function C8(t,n,e){let i=Zo(t),r=[i[ji.DaysFormat],i[ji.DaysStandalone]],o=Jo(r,n);return Jo(o,e)}function S8(t,n,e){let i=Zo(t),r=[i[ji.MonthsFormat],i[ji.MonthsStandalone]],o=Jo(r,n);return Jo(o,e)}function E8(t,n){let i=Zo(t)[ji.Eras];return Jo(i,n)}function d0(t,n){let e=Zo(t);return Jo(e[ji.DateFormat],n)}function f0(t,n){let e=Zo(t);return Jo(e[ji.TimeFormat],n)}function h0(t,n){let i=Zo(t)[ji.DateTimeFormat];return Jo(i,n)}function w0(t,n){let e=Zo(t),i=e[ji.NumberSymbols][n];if(typeof i>"u"){if(n===Il.CurrencyDecimal)return e[ji.NumberSymbols][Il.Decimal];if(n===Il.CurrencyGroup)return e[ji.NumberSymbols][Il.Group]}return i}function eI(t){if(!t[ji.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ji.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function x8(t){let n=Zo(t);return eI(n),(n[ji.ExtraData][2]||[]).map(i=>typeof i=="string"?iw(i):[iw(i[0]),iw(i[1])])}function D8(t,n,e){let i=Zo(t);eI(i);let r=[i[ji.ExtraData][0],i[ji.ExtraData][1]],o=Jo(r,n)||[];return Jo(o,e)||[]}function Jo(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function iw(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var M8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,p0={},I8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fa=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fa||{}),kn=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(kn||{}),Nn=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Nn||{});function A8(t,n,e,i){let r=L8(t);n=Ra(e,n)||n;let s=[],a;for(;n;)if(a=I8.exec(n),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;n=d}else{s.push(n);break}let l=r.getTimezoneOffset();i&&(l=nI(i,l),r=F8(r,i,!0));let c="";return s.forEach(d=>{let p=R8(d);c+=p?p(r,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function b0(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Ra(t,n){let e=b8(t);if(p0[e]??={},p0[e][n])return p0[e][n];let i="";switch(n){case"shortDate":i=d0(t,Mo.Short);break;case"mediumDate":i=d0(t,Mo.Medium);break;case"longDate":i=d0(t,Mo.Long);break;case"fullDate":i=d0(t,Mo.Full);break;case"shortTime":i=f0(t,Mo.Short);break;case"mediumTime":i=f0(t,Mo.Medium);break;case"longTime":i=f0(t,Mo.Long);break;case"fullTime":i=f0(t,Mo.Full);break;case"short":let r=Ra(t,"shortTime"),o=Ra(t,"shortDate");i=m0(h0(t,Mo.Short),[r,o]);break;case"medium":let s=Ra(t,"mediumTime"),a=Ra(t,"mediumDate");i=m0(h0(t,Mo.Medium),[s,a]);break;case"long":let l=Ra(t,"longTime"),c=Ra(t,"longDate");i=m0(h0(t,Mo.Long),[l,c]);break;case"full":let d=Ra(t,"fullTime"),p=Ra(t,"fullDate");i=m0(h0(t,Mo.Full),[d,p]);break}return i&&(p0[e][n]=i),i}function m0(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function xs(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function T8(t,n){return xs(t,3).substring(0,n)}function Ki(t,n,e=0,i=!1,r=!1){return function(o,s){let a=N8(t,o);if((e>0||a>-e)&&(a+=e),t===kn.Hours)a===0&&e===-12&&(a=12);else if(t===kn.FractionalSeconds)return T8(a,n);let l=w0(s,Il.MinusSign);return xs(a,n,l,i,r)}}function N8(t,n){switch(t){case kn.FullYear:return n.getFullYear();case kn.Month:return n.getMonth();case kn.Date:return n.getDate();case kn.Hours:return n.getHours();case kn.Minutes:return n.getMinutes();case kn.Seconds:return n.getSeconds();case kn.FractionalSeconds:return n.getMilliseconds();case kn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function si(t,n,e=Wr.Format,i=!1){return function(r,o){return k8(r,o,t,n,e,i)}}function k8(t,n,e,i,r,o){switch(e){case Nn.Months:return S8(n,r,i)[t.getMonth()];case Nn.Days:return C8(n,r,i)[t.getDay()];case Nn.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=x8(n),d=D8(n,r,i),p=c.findIndex(g=>{if(Array.isArray(g)){let[h,b]=g,w=s>=h.hours&&a>=h.minutes,E=s<b.hours||s===b.hours&&a<b.minutes;if(h.hours<b.hours){if(w&&E)return!0}else if(w||E)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return w8(n,r,i)[s<12?0:1];case Nn.Eras:return E8(n,i)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function g0(t){return function(n,e,i){let r=-1*i,o=w0(e,Il.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Fa.Short:return(r>=0?"+":"")+xs(s,2,o)+xs(Math.abs(r%60),2,o);case Fa.ShortGMT:return"GMT"+(r>=0?"+":"")+xs(s,1,o);case Fa.Long:return"GMT"+(r>=0?"+":"")+xs(s,2,o)+":"+xs(Math.abs(r%60),2,o);case Fa.Extended:return i===0?"Z":(r>=0?"+":"")+xs(s,2,o)+":"+xs(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var P8=0,y0=4;function O8(t){let n=b0(t,P8,1).getDay();return b0(t,0,1+(n<=y0?y0:y0+7)-n)}function tI(t){let n=t.getDay(),e=n===0?-3:y0-n;return b0(t.getFullYear(),t.getMonth(),t.getDate()+e)}function rw(t,n=!1){return function(e,i){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=tI(e),s=O8(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return xs(r,t,w0(i,Il.MinusSign))}}function v0(t,n=!1){return function(e,i){let o=tI(e).getFullYear();return xs(o,t,w0(i,Il.MinusSign),n)}}var ow={};function R8(t){if(ow[t])return ow[t];let n;switch(t){case"G":case"GG":case"GGG":n=si(Nn.Eras,Xn.Abbreviated);break;case"GGGG":n=si(Nn.Eras,Xn.Wide);break;case"GGGGG":n=si(Nn.Eras,Xn.Narrow);break;case"y":n=Ki(kn.FullYear,1,0,!1,!0);break;case"yy":n=Ki(kn.FullYear,2,0,!0,!0);break;case"yyy":n=Ki(kn.FullYear,3,0,!1,!0);break;case"yyyy":n=Ki(kn.FullYear,4,0,!1,!0);break;case"Y":n=v0(1);break;case"YY":n=v0(2,!0);break;case"YYY":n=v0(3);break;case"YYYY":n=v0(4);break;case"M":case"L":n=Ki(kn.Month,1,1);break;case"MM":case"LL":n=Ki(kn.Month,2,1);break;case"MMM":n=si(Nn.Months,Xn.Abbreviated);break;case"MMMM":n=si(Nn.Months,Xn.Wide);break;case"MMMMM":n=si(Nn.Months,Xn.Narrow);break;case"LLL":n=si(Nn.Months,Xn.Abbreviated,Wr.Standalone);break;case"LLLL":n=si(Nn.Months,Xn.Wide,Wr.Standalone);break;case"LLLLL":n=si(Nn.Months,Xn.Narrow,Wr.Standalone);break;case"w":n=rw(1);break;case"ww":n=rw(2);break;case"W":n=rw(1,!0);break;case"d":n=Ki(kn.Date,1);break;case"dd":n=Ki(kn.Date,2);break;case"c":case"cc":n=Ki(kn.Day,1);break;case"ccc":n=si(Nn.Days,Xn.Abbreviated,Wr.Standalone);break;case"cccc":n=si(Nn.Days,Xn.Wide,Wr.Standalone);break;case"ccccc":n=si(Nn.Days,Xn.Narrow,Wr.Standalone);break;case"cccccc":n=si(Nn.Days,Xn.Short,Wr.Standalone);break;case"E":case"EE":case"EEE":n=si(Nn.Days,Xn.Abbreviated);break;case"EEEE":n=si(Nn.Days,Xn.Wide);break;case"EEEEE":n=si(Nn.Days,Xn.Narrow);break;case"EEEEEE":n=si(Nn.Days,Xn.Short);break;case"a":case"aa":case"aaa":n=si(Nn.DayPeriods,Xn.Abbreviated);break;case"aaaa":n=si(Nn.DayPeriods,Xn.Wide);break;case"aaaaa":n=si(Nn.DayPeriods,Xn.Narrow);break;case"b":case"bb":case"bbb":n=si(Nn.DayPeriods,Xn.Abbreviated,Wr.Standalone,!0);break;case"bbbb":n=si(Nn.DayPeriods,Xn.Wide,Wr.Standalone,!0);break;case"bbbbb":n=si(Nn.DayPeriods,Xn.Narrow,Wr.Standalone,!0);break;case"B":case"BB":case"BBB":n=si(Nn.DayPeriods,Xn.Abbreviated,Wr.Format,!0);break;case"BBBB":n=si(Nn.DayPeriods,Xn.Wide,Wr.Format,!0);break;case"BBBBB":n=si(Nn.DayPeriods,Xn.Narrow,Wr.Format,!0);break;case"h":n=Ki(kn.Hours,1,-12);break;case"hh":n=Ki(kn.Hours,2,-12);break;case"H":n=Ki(kn.Hours,1);break;case"HH":n=Ki(kn.Hours,2);break;case"m":n=Ki(kn.Minutes,1);break;case"mm":n=Ki(kn.Minutes,2);break;case"s":n=Ki(kn.Seconds,1);break;case"ss":n=Ki(kn.Seconds,2);break;case"S":n=Ki(kn.FractionalSeconds,1);break;case"SS":n=Ki(kn.FractionalSeconds,2);break;case"SSS":n=Ki(kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=g0(Fa.Short);break;case"ZZZZZ":n=g0(Fa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=g0(Fa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=g0(Fa.Long);break;default:return null}return ow[t]=n,n}function nI(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function j8(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function F8(t,n,e){let i=e?-1:1,r=t.getTimezoneOffset(),o=nI(n,r);return j8(t,i*(o-r))}function L8(t){if(WM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return b0(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(M8))return V8(i)}let n=new Date(t);if(!WM(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function V8(t){let n=new Date(0),e=0,i=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,c),n}function WM(t){return t instanceof Date&&!isNaN(t.valueOf())}function C0(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var sw=/\s+/,qM=[],hr=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=qM,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(sw):qM}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(sw):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(sw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(di))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[jn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var aw=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hn=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new aw(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),GM(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);GM(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(ee(kr),ee(io),ee(ew))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function GM(t,n){t.context.$implicit=n.item}var on=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new lw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){KM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){KM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(ee(kr),ee(io))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),lw=class{constructor(){this.$implicit=null,this.ngIf=null}};function KM(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Hr(n)}'.`)}var iI=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Ks.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(tw),ee(di))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})();function rI(t,n){return new $e(2100,!1)}var oI=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw rI(t,e);return e.toUpperCase()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=dd({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})(),B8="mediumDate",U8=new gt(""),H8=new gt(""),Al=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??B8,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return A8(e,s,o||this.locale,a)}catch(s){throw rI(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(ee(u0,16),ee(U8,24),ee(H8,24))}}static{this.\u0275pipe=dd({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var bt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({})}}return t})(),mw="browser",$8="server";function fh(t){return t===mw}function S0(t){return t===$8}var sI=(()=>{class t{static{this.\u0275prov=Fe({token:t,providedIn:"root",factory:()=>fh(Me(ro))?new cw(Me($n),window):new uw})}}return t})(),cw=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=z8(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function z8(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var uw=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},yd=class{};var ph=class{},x0=class{},zc=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var vw=class{encodeKey(n){return aI(n)}encodeValue(n){return aI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function G8(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var K8=/%(\d[a-f0-9])/gi,Y8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aI(t){return encodeURIComponent(t).replace(K8,(n,e)=>Y8[e]??n)}function E0(t){return`${t}`}var es=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new vw,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=G8(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(E0):[E0(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(E0(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(E0(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var yw=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Z8(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function cI(t){return typeof Blob<"u"&&t instanceof Blob}function uI(t){return typeof FormData<"u"&&t instanceof FormData}function Q8(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var hh=class t{constructor(n,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(Z8(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zc,this.context??=new yw,!this.params)this.params=new es,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lI(this.body)||cI(this.body)||uI(this.body)||Q8(this.body)?this.body:this.body instanceof es?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uI(this.body)?null:cI(this.body)?this.body.type||null:lI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof es?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,d=n.params||this.params,p=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((g,h)=>g.set(h,n.setHeaders[h]),c)),n.setParams&&(d=Object.keys(n.setParams).reduce((g,h)=>g.set(h,n.setParams[h]),d)),new t(e,i,s,{params:d,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},bd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(bd||{}),mh=class{constructor(n,e=I0.Ok,i="OK"){this.headers=n.headers||new zc,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},_w=class t extends mh{constructor(n={}){super(n),this.type=bd.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},D0=class t extends mh{constructor(n={}){super(n),this.type=bd.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},M0=class extends mh{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},I0=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(I0||{});function gw(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var wn=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof hh)o=e;else{let l;r.headers instanceof zc?l=r.headers:l=new zc(r.headers);let c;r.params&&(r.params instanceof es?c=r.params:c=new es({fromObject:r.params})),o=new hh(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=At(o).pipe(xa(l=>this.handler.handle(l)));if(e instanceof hh||r.observe==="events")return s;let a=s.pipe(Ri(l=>l instanceof D0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Wt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Wt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Wt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(Wt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new es().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,gw(r,i))}post(e,i,r={}){return this.request("POST",e,gw(r,i))}put(e,i,r={}){return this.request("PUT",e,gw(r,i))}static{this.\u0275fac=function(i){return new(i||t)(Be(ph))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();function X8(t,n){return n(t)}function J8(t,n,e){return(i,r)=>Cs(e,()=>n(i,o=>t(o,r)))}var bw=new gt(""),e7=new gt(""),t7=new gt("");var dI=(()=>{class t extends ph{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Me(Hc);let r=Me(t7,{optional:!0});this.backend=r??e}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(bw),...this.injector.get(e7,[])]));this.chain=r.reduceRight((o,s)=>J8(o,s,this.injector),X8)}let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe($s(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(Be(x0),Be(Tr))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();var n7=/^\)\]\}',?\n/;function i7(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var fI=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new $e(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Wn(i.\u0275loadImpl()):At(null)).pipe(eo(()=>new cn(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((w,E)=>s.setRequestHeader(w,E.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let w=e.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(e.responseType){let w=e.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let w=s.statusText||"OK",E=new zc(s.getAllResponseHeaders()),S=i7(s)||e.url;return l=new _w({headers:E,status:s.status,statusText:w,url:S}),l},d=()=>{let{headers:w,status:E,statusText:S,url:O}=c(),R=null;E!==I0.NoContent&&(R=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=R?I0.Ok:0);let j=E>=200&&E<300;if(e.responseType==="json"&&typeof R=="string"){let oe=R;R=R.replace(n7,"");try{R=R!==""?JSON.parse(R):null}catch(ve){R=oe,j&&(j=!1,R={error:ve,text:R})}}j?(o.next(new D0({body:R,headers:w,status:E,statusText:S,url:O||void 0})),o.complete()):o.error(new M0({error:R,headers:w,status:E,statusText:S,url:O||void 0}))},p=w=>{let{url:E}=c(),S=new M0({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(S)},g=!1,h=w=>{g||(o.next(c()),g=!0);let E={type:bd.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),e.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=w=>{let E={type:bd.UploadProgress,loaded:w.loaded};w.lengthComputable&&(E.total=w.total),o.next(E)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:bd.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(Be(yd))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),hI=new gt(""),r7="XSRF-TOKEN",o7=new gt("",{providedIn:"root",factory:()=>r7}),s7="X-XSRF-TOKEN",a7=new gt("",{providedIn:"root",factory:()=>s7}),A0=class{},l7=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=C0(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(Be($n),Be(ro),Be(o7))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();function c7(t,n){let e=t.url.toLowerCase();if(!Me(hI)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=Me(A0).getToken(),r=Me(a7);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var pI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(pI||{});function u7(t,n){return{\u0275kind:t,\u0275providers:n}}function mI(...t){let n=[wn,fI,dI,{provide:ph,useExisting:dI},{provide:x0,useExisting:fI},{provide:bw,useValue:c7,multi:!0},{provide:hI,useValue:!0},{provide:A0,useClass:l7}];for(let e of t)n.push(...e.\u0275providers);return Aa(n)}function gI(t){return u7(pI.Interceptors,t.map(n=>({provide:bw,useValue:n,multi:!0})))}var Sw=class extends _0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ew=class t extends Sw{static makeCurrent(){ZM(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=d7();return e==null?null:f7(e)}resetBaseElement(){gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return C0(document.cookie,n)}},gh=null;function d7(){return gh=gh||document.querySelector("base"),gh?gh.getAttribute("href"):null}function f7(t){return new URL(t,document.baseURI).pathname}var h7=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),xw=new gt(""),_I=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new $e(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(Be(xw),Be(bn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),T0=class{constructor(n){this._doc=n}},ww="ng-app-id",bI=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=S0(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${ww}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(ww),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(ww,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(Be($n),Be(Ab),Be(Nb,8),Be(ro))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),Cw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mw=/%COMP%/g,wI="%COMP%",p7=`_nghost-${wI}`,m7=`_ngcontent-${wI}`,g7=!0,v7=new gt("",{providedIn:"root",factory:()=>g7});function y7(t){return m7.replace(Mw,t)}function _7(t){return p7.replace(Mw,t)}function CI(t,n){return n.map(e=>e.replace(Mw,t))}var N0=(()=>{class t{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=S0(a),this.defaultRenderer=new vh(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zo.ShadowDom&&(i=Xt(Ue({},i),{encapsulation:zo.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof k0?r.applyToHost(e):r instanceof yh&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case zo.Emulated:o=new k0(l,c,i,this.appId,d,s,a,p);break;case zo.ShadowDom:return new Dw(l,c,e,i,s,a,this.nonce,p);default:o=new yh(l,c,i,d,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(Be(_I),Be(bI),Be(Ab),Be(v7),Be($n),Be(ro),Be(bn),Be(Nb))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),vh=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Cw[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(vI(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(vI(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new $e(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Cw[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Cw[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Ks.DashCase|Ks.Important)?n.style.setProperty(e,i,r&Ks.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Ks.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=La().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function vI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dw=class extends vh{constructor(n,e,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=CI(r.id,r.styles);for(let d of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yh=class extends vh{constructor(n,e,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?CI(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},k0=class extends yh{constructor(n,e,i,r,o,s,a,l){let c=r+"-"+i.id;super(n,e,i,o,s,a,l,c),this.contentAttr=y7(c),this.hostAttr=_7(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},b7=(()=>{class t extends T0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),yI=["alt","control","meta","shift"],w7={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},S7=(()=>{class t extends T0{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>La().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),yI.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=w7[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),yI.forEach(s=>{if(s!==r){let a=C7[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();function SI(t,n){return BM(Ue({rootComponent:t},E7(n)))}function E7(t){return{appProviders:[...A7,...t?.providers??[]],platformProviders:I7}}function x7(){Ew.makeCurrent()}function D7(){return new ws}function M7(){return yD(document),document}var I7=[{provide:ro,useValue:mw},{provide:Tb,useValue:x7,multi:!0},{provide:$n,useFactory:M7,deps:[]}];var A7=[{provide:Fg,useValue:"root"},{provide:ws,useFactory:D7,deps:[]},{provide:xw,useClass:b7,multi:!0,deps:[$n,bn,ro]},{provide:xw,useClass:S7,multi:!0,deps:[$n]},N0,bI,_I,{provide:_o,useExisting:N0},{provide:yd,useClass:h7,deps:[]},[]];var EI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _h=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=Be(T7),r},providedIn:"root"})}}return t})(),T7=(()=>{class t extends _h{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Co.NONE:return i;case Co.HTML:return ka(i,"HTML")?Yo(i):Pb(this._doc,String(i)).toString();case Co.STYLE:return ka(i,"Style")?Yo(i):i;case Co.SCRIPT:if(ka(i,"Script"))return Yo(i);throw new $e(5200,!1);case Co.URL:return ka(i,"URL")?Yo(i):Gg(String(i));case Co.RESOURCE_URL:if(ka(i,"ResourceURL"))return Yo(i);throw new $e(5201,!1);default:throw new $e(5202,!1)}}bypassSecurityTrustHtml(e){return CD(e)}bypassSecurityTrustStyle(e){return SD(e)}bypassSecurityTrustScript(e){return ED(e)}bypassSecurityTrustUrl(e){return xD(e)}bypassSecurityTrustResourceUrl(e){return DD(e)}static{this.\u0275fac=function(i){return new(i||t)(Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var sn="primary",Rh=Symbol("RouteTitle"),Pw=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function xd(t){return new Pw(t)}function N7(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function k7(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Qs(t[e],n[e]))return!1;return!0}function Qs(t,n){let e=t?Ow(t):void 0,i=n?Ow(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!PI(t[r],n[r]))return!1;return!0}function Ow(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function PI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function OI(t){return t.length>0?t[t.length-1]:null}function Ol(t){return C1(t)?t:$c(t)?Wn(Promise.resolve(t)):At(t)}var P7={exact:jI,subset:FI},RI={exact:O7,subset:R7,ignored:()=>!0};function xI(t,n,e){return P7[e.paths](t.root,n.root,e.matrixParams)&&RI[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function O7(t,n){return Qs(t,n)}function jI(t,n,e){if(!qc(t.segments,n.segments)||!R0(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!jI(t.children[i],n.children[i],e))return!1;return!0}function R7(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>PI(t[e],n[e]))}function FI(t,n,e){return LI(t,n,n.segments,e)}function LI(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!qc(r,e)||n.hasChildren()||!R0(r,e,i))}else if(t.segments.length===e.length){if(!qc(t.segments,e)||!R0(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!FI(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!qc(t.segments,r)||!R0(t.segments,r,i)||!t.children[sn]?!1:LI(t.children[sn],n,o,i)}}function R0(t,n,e){return n.every((i,r)=>RI[e](t[r].parameters,i.parameters))}var Tl=class{constructor(n=new Fn([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){return L7.serialize(this)}},Fn=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return j0(this)}},Wc=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=xd(this.parameters),this._parameterMap}toString(){return BI(this)}};function j7(t,n){return qc(t,n)&&t.every((e,i)=>Qs(e.parameters,n[i].parameters))}function qc(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function F7(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===sn&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==sn&&(e=e.concat(n(r,i)))}),e}var jh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>new Dh,providedIn:"root"})}}return t})(),Dh=class{parse(n){let e=new jw(n);return new Tl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${bh(n.root,!0)}`,i=U7(n.queryParams),r=typeof n.fragment=="string"?`#${V7(n.fragment)}`:"";return`${e}${i}${r}`}},L7=new Dh;function j0(t){return t.segments.map(n=>BI(n)).join("/")}function bh(t,n){if(!t.hasChildren())return j0(t);if(n){let e=t.children[sn]?bh(t.children[sn],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==sn&&i.push(`${r}:${bh(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=F7(t,(i,r)=>r===sn?[bh(t.children[sn],!1)]:[`${r}:${bh(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[sn]!=null?`${j0(t)}/${e[0]}`:`${j0(t)}/(${e.join("//")})`}}function VI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function P0(t){return VI(t).replace(/%3B/gi,";")}function V7(t){return encodeURI(t)}function Rw(t){return VI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function F0(t){return decodeURIComponent(t)}function DI(t){return F0(t.replace(/\+/g,"%20"))}function BI(t){return`${Rw(t.path)}${B7(t.parameters)}`}function B7(t){return Object.entries(t).map(([n,e])=>`;${Rw(n)}=${Rw(e)}`).join("")}function U7(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${P0(e)}=${P0(r)}`).join("&"):`${P0(e)}=${P0(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var H7=/^[^\/()?;#]+/;function Aw(t){let n=t.match(H7);return n?n[0]:""}var $7=/^[^\/()?;=#]+/;function z7(t){let n=t.match($7);return n?n[0]:""}var W7=/^[^=?&#]+/;function q7(t){let n=t.match(W7);return n?n[0]:""}var G7=/^[^&#]+/;function K7(t){let n=t.match(G7);return n?n[0]:""}var jw=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[sn]=new Fn(n,e)),i}parseSegment(){let n=Aw(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new $e(4009,!1);return this.capture(n),new Wc(F0(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=z7(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Aw(this.remaining);r&&(i=r,this.capture(i))}n[F0(e)]=F0(i)}parseQueryParam(n){let e=q7(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=K7(this.remaining);s&&(i=s,this.capture(i))}let r=DI(e),o=DI(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Aw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $e(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=sn);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[sn]:new Fn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new $e(4011,!1)}};function UI(t){return t.segments.length>0?new Fn([],{[sn]:t}):t}function HI(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=HI(r);if(i===sn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new Fn(t.segments,n);return Y7(e)}function Y7(t){if(t.numberOfChildren===1&&t.children[sn]){let n=t.children[sn];return new Fn(t.segments.concat(n.segments),n.children)}return t}function Dd(t){return t instanceof Tl}function Z7(t,n,e=null,i=null){let r=$I(t);return zI(r,n,e,i)}function $I(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Fn(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=UI(i);return n??r}function zI(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Tw(r,r,r,e,i);let o=Q7(n);if(o.toRoot())return Tw(r,r,new Fn([],{}),e,i);let s=X7(o,r,t),a=s.processChildren?Sh(s.segmentGroup,s.index,o.commands):qI(s.segmentGroup,s.index,o.commands);return Tw(r,s.segmentGroup,a,e,i)}function L0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Mh(t){return typeof t=="object"&&t!=null&&t.outlets}function Tw(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===n?s=e:s=WI(t,n,e);let a=UI(HI(s));return new Tl(a,o,r)}function WI(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=WI(o,n,e)}),new Fn(t.segments,i)}var V0=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&L0(i[0]))throw new $e(4003,!1);let r=i.find(Mh);if(r&&r!==OI(i))throw new $e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Q7(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new V0(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new V0(e,n,i)}var Sd=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function X7(t,n,e){if(t.isAbsolute)return new Sd(n,!0,0);if(!e)return new Sd(n,!1,NaN);if(e.parent===null)return new Sd(e,!0,0);let i=L0(t.commands[0])?0:1,r=e.segments.length-1+i;return J7(e,r,t.numberOfDoubleDots)}function J7(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $e(4005,!1);r=i.segments.length}return new Sd(i,!1,r-o)}function eV(t){return Mh(t[0])?t[0].outlets:{[sn]:t}}function qI(t,n,e){if(t??=new Fn([],{}),t.segments.length===0&&t.hasChildren())return Sh(t,n,e);let i=tV(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Fn(t.segments.slice(0,i.pathIndex),{});return o.children[sn]=new Fn(t.segments.slice(i.pathIndex),t.children),Sh(o,0,r)}else return i.match&&r.length===0?new Fn(t.segments,{}):i.match&&!t.hasChildren()?Fw(t,n,e):i.match?Sh(t,0,r):Fw(t,n,e)}function Sh(t,n,e){if(e.length===0)return new Fn(t.segments,{});{let i=eV(e),r={};if(Object.keys(i).some(o=>o!==sn)&&t.children[sn]&&t.numberOfChildren===1&&t.children[sn].segments.length===0){let o=Sh(t.children[sn],n,e);return new Fn(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=qI(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Fn(t.segments,r)}}function tV(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(Mh(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!II(l,c,s))return o;i+=2}else{if(!II(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Fw(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Mh(o)){let l=nV(o.outlets);return new Fn(i,l)}if(r===0&&L0(e[0])){let l=t.segments[n];i.push(new Wc(l.path,MI(e[0]))),r++;continue}let s=Mh(o)?o.outlets[sn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&L0(a)?(i.push(new Wc(s,MI(a))),r+=2):(i.push(new Wc(s,{})),r++)}return new Fn(i,{})}function nV(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=Fw(new Fn([],{}),0,i))}),n}function MI(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function II(t,n,e){return t==e.path&&Qs(n,e.parameters)}var Eh="imperative",pr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pr||{}),ts=class{constructor(n,e){this.id=n,this.url=e}},Md=class extends ts{constructor(n,e,i="imperative",r=null){super(n,e),this.type=pr.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ds=class extends ts{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=pr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ao=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ao||{}),B0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(B0||{}),Nl=class extends ts{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=pr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kl=class extends ts{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=pr.NavigationSkipped}},Ih=class extends ts{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=pr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},U0=class extends ts{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=pr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lw=class extends ts{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=pr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vw=class extends ts{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=pr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bw=class extends ts{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=pr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uw=class extends ts{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=pr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hw=class{constructor(n){this.route=n,this.type=pr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$w=class{constructor(n){this.route=n,this.type=pr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zw=class{constructor(n){this.snapshot=n,this.type=pr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ww=class{constructor(n){this.snapshot=n,this.type=pr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qw=class{constructor(n){this.snapshot=n,this.type=pr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gw=class{constructor(n){this.snapshot=n,this.type=pr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H0=class{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=pr.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ah=class{},Th=class{constructor(n){this.url=n}};var Kw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fh,this.attachRef=null}},Fh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Kw,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$0=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Yw(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=Yw(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=Zw(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Zw(n,this._root).map(e=>e.value)}};function Yw(t,n){if(t===n.value)return n;for(let e of n.children){let i=Yw(t,e);if(i)return i}return null}function Zw(t,n){if(t===n.value)return[n];for(let e of n.children){let i=Zw(t,e);if(i.length)return i.unshift(n),i}return[]}var Io=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Cd(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var z0=class extends $0{constructor(n,e){super(n),this.snapshot=e,s2(this,n)}toString(){return this.snapshot.toString()}};function GI(t){let n=iV(t),e=new ir([new Wc("",{})]),i=new ir({}),r=new ir({}),o=new ir({}),s=new ir(""),a=new Xs(e,i,o,s,r,sn,t,n.root);return a.snapshot=n.root,new z0(new Io(a,[]),n)}function iV(t){let n={},e={},i={},r="",o=new Nh([],n,i,r,e,sn,t,null,{});return new W0("",new Io(o,[]))}var Xs=class{constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Wt(c=>c[Rh]))??At(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Wt(n=>xd(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Wt(n=>xd(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function o2(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:Ue(Ue({},n.params),t.params),data:Ue(Ue({},n.data),t.data),resolve:Ue(Ue(Ue(Ue({},t.data),n.data),r?.data),t._resolvedData)}:i={params:Ue({},t.params),data:Ue({},t.data),resolve:Ue(Ue({},t.data),t._resolvedData??{})},r&&YI(r)&&(i.resolve[Rh]=r.title),i}var Nh=class{get title(){return this.data?.[Rh]}constructor(n,e,i,r,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},W0=class extends $0{constructor(n,e){super(e),this.url=n,s2(this,e)}toString(){return KI(this._root)}};function s2(t,n){n.value._routerState=t,n.children.forEach(e=>s2(t,e))}function KI(t){let n=t.children.length>0?` { ${t.children.map(KI).join(", ")} } `:"";return`${t.value}${n}`}function Nw(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Qs(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Qs(n.params,e.params)||t.paramsSubject.next(e.params),k7(n.url,e.url)||t.urlSubject.next(e.url),Qs(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qw(t,n){let e=Qs(t.params,n.params)&&j7(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||Qw(t.parent,n.parent))}function YI(t){return typeof t.title=="string"||t.title===null}var Lh=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=Me(Fh),this.location=Me(kr),this.changeDetector=Me(zr),this.environmentInjector=Me(Tr),this.inputBinder=Me(Y0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $e(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new $e(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Xw(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Kt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rr]})}}return t})(),Xw=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Xs?this.route:n===Fh?this.childContexts:this.parent.get(n,e)}},Y0=new gt(""),AI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=Lf([i.queryParams,i.params,i.data]).pipe(eo(([o,s,a],l)=>(a=Ue(Ue(Ue({},o),s),a),l===0?At(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=HM(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();function rV(t,n,e){let i=kh(t,n._root,e?e._root:void 0);return new z0(i,n)}function kh(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=oV(t,n,e);return new Io(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>kh(t,a)),s}}let i=sV(n.value),r=n.children.map(o=>kh(t,o));return new Io(i,r)}}function oV(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return kh(t,i,r);return kh(t,i)})}function sV(t){return new Xs(new ir(t.url),new ir(t.params),new ir(t.queryParams),new ir(t.fragment),new ir(t.data),t.outlet,t.component,t)}var ZI="ngNavigationCancelingError";function QI(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Dd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=XI(!1,Ao.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function XI(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[ZI]=!0,e.cancellationCode=n,e}function aV(t){return JI(t)&&Dd(t.url)}function JI(t){return!!t&&t[ZI]}var lV=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ye],decls:1,vars:0,template:function(i,r){i&1&&tt(0,"router-outlet")},dependencies:[Lh],encapsulation:2})}}return t})();function cV(t,n){return t.providers&&!t._injector&&(t._injector=r0(t.providers,n,`Route: ${t.path}`)),t._injector??n}function a2(t){let n=t.children&&t.children.map(a2),e=n?Xt(Ue({},t),{children:n}):Ue({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=lV),e}function Js(t){return t.outlet||sn}function uV(t,n){let e=t.filter(i=>Js(i)===n);return e.push(...t.filter(i=>Js(i)!==n)),e}function Vh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var dV=(t,n,e,i)=>Wt(r=>(new Jw(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),Jw=class{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Nw(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=Cd(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Cd(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Cd(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=Cd(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Gw(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Ww(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(Nw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nw(a.route.value),this.activateChildRoutes(n,null,s.children)}else{let a=Vh(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}},q0=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Ed=class{constructor(n,e){this.component=n,this.route=e}};function fV(t,n,e){let i=t._root,r=n?n._root:null;return wh(i,r,e,[i.value])}function hV(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Ad(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!u5(t)?t:n.get(t):i}function wh(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Cd(n);return t.children.forEach(s=>{pV(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xh(a,e.getContext(s),r)),r}function pV(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=mV(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new q0(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wh(t,n,a?a.children:null,i,r):wh(t,n,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ed(a.outlet.component,s))}else s&&xh(n,a,r),r.canActivateChecks.push(new q0(i)),o.component?wh(t,null,a?a.children:null,i,r):wh(t,null,e,i,r);return r}function mV(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!qc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!qc(t.url,n.url)||!Qs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qw(t,n)||!Qs(t.queryParams,n.queryParams);case"paramsChange":default:return!Qw(t,n)}}function xh(t,n,e){let i=Cd(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?xh(s,n.children.getContext(o),e):xh(s,null,e):xh(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Ed(n.outlet.component,r)):e.canDeactivateChecks.push(new Ed(null,r)):e.canDeactivateChecks.push(new Ed(null,r))}function Bh(t){return typeof t=="function"}function gV(t){return typeof t=="boolean"}function vV(t){return t&&Bh(t.canLoad)}function yV(t){return t&&Bh(t.canActivate)}function _V(t){return t&&Bh(t.canActivateChild)}function bV(t){return t&&Bh(t.canDeactivate)}function wV(t){return t&&Bh(t.canMatch)}function eA(t){return t instanceof Ea||t?.name==="EmptyError"}var O0=Symbol("INITIAL_VALUE");function Id(){return eo(t=>Lf(t.map(n=>n.pipe(Jr(1),T1(O0)))).pipe(Wt(n=>{for(let e of n)if(e!==!0){if(e===O0)return O0;if(e===!1||e instanceof Tl)return e}return!0}),Ri(n=>n!==O0),Jr(1)))}function CV(t,n){return ci(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?At(Xt(Ue({},e),{guardsResult:!0})):SV(s,i,r,t).pipe(ci(a=>a&&gV(a)?EV(i,o,t,n):At(a)),Wt(a=>Xt(Ue({},e),{guardsResult:a})))})}function SV(t,n,e,i){return Wn(t).pipe(ci(r=>AV(r.component,r.route,e,n,i)),zs(r=>r!==!0,!0))}function EV(t,n,e,i){return Wn(n).pipe(xa(r=>pl(DV(r.route.parent,i),xV(r.route,i),IV(t,r.path,e),MV(t,r.route,e))),zs(r=>r!==!0,!0))}function xV(t,n){return t!==null&&n&&n(new qw(t)),At(!0)}function DV(t,n){return t!==null&&n&&n(new zw(t)),At(!0)}function MV(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return At(!0);let r=i.map(o=>Xm(()=>{let s=Vh(n)??e,a=Ad(o,s),l=yV(a)?a.canActivate(n,t):Cs(s,()=>a(n,t));return Ol(l).pipe(zs())}));return At(r).pipe(Id())}function IV(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>hV(s)).filter(s=>s!==null).map(s=>Xm(()=>{let a=s.guards.map(l=>{let c=Vh(s.node)??e,d=Ad(l,c),p=_V(d)?d.canActivateChild(i,t):Cs(c,()=>d(i,t));return Ol(p).pipe(zs())});return At(a).pipe(Id())}));return At(o).pipe(Id())}function AV(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return At(!0);let s=o.map(a=>{let l=Vh(n)??r,c=Ad(a,l),d=bV(c)?c.canDeactivate(t,n,e,i):Cs(l,()=>c(t,n,e,i));return Ol(d).pipe(zs())});return At(s).pipe(Id())}function TV(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return At(!0);let o=r.map(s=>{let a=Ad(s,t),l=vV(a)?a.canLoad(n,e):Cs(t,()=>a(n,e));return Ol(l)});return At(o).pipe(Id(),tA(i))}function tA(t){return h1(dr(n=>{if(Dd(n))throw QI(t,n)}),Wt(n=>n===!0))}function NV(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return At(!0);let o=r.map(s=>{let a=Ad(s,t),l=wV(a)?a.canMatch(n,e):Cs(t,()=>a(n,e));return Ol(l)});return At(o).pipe(Id(),tA(i))}var Ph=class{constructor(n){this.segmentGroup=n||null}},G0=class extends Error{constructor(n){super(),this.urlTree=n}};function wd(t){return Wu(new Ph(t))}function kV(t){return Wu(new $e(4e3,!1))}function PV(t){return Wu(XI(!1,Ao.GuardRejected))}var e2=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return At(i);if(r.numberOfChildren>1||!r.children[sn])return kV(n.redirectTo);r=r.children[sn]}}applyRedirectCommands(n,e,i){let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e.startsWith("/"))throw new G0(r);return r}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new Tl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new Fn(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new $e(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},t2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OV(t,n,e,i,r){let o=l2(t,n,e);return o.matched?(i=cV(n,i),NV(i,n,e,r).pipe(Wt(s=>s===!0?o:Ue({},t2)))):At(o)}function l2(t,n,e){if(n.path==="**")return RV(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?Ue({},t2):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||N7)(e,t,n);if(!r)return Ue({},t2);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?Ue(Ue({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function RV(t){return{matched:!0,parameters:t.length>0?OI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function TI(t,n,e,i){return e.length>0&&LV(t,e,i)?{segmentGroup:new Fn(n,FV(i,new Fn(e,t.children))),slicedSegments:[]}:e.length===0&&VV(t,e,i)?{segmentGroup:new Fn(t.segments,jV(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Fn(t.segments,t.children),slicedSegments:e}}function jV(t,n,e,i){let r={};for(let o of e)if(Z0(t,n,o)&&!i[Js(o)]){let s=new Fn([],{});r[Js(o)]=s}return Ue(Ue({},i),r)}function FV(t,n){let e={};e[sn]=n;for(let i of t)if(i.path===""&&Js(i)!==sn){let r=new Fn([],{});e[Js(i)]=r}return e}function LV(t,n,e){return e.some(i=>Z0(t,n,i)&&Js(i)!==sn)}function VV(t,n,e){return e.some(i=>Z0(t,n,i))}function Z0(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function BV(t,n,e,i){return Js(t)!==i&&(i===sn||!Z0(n,e,t))?!1:l2(n,t,e).matched}function UV(t,n,e){return n.length===0&&!t.children[e]}var n2=class{};function HV(t,n,e,i,r,o,s="emptyOnly"){return new i2(t,n,e,i,r,s,o).recognize()}var $V=31,i2=class{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new e2(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new $e(4002,`'${n.segmentGroup}'`)}recognize(){let n=TI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Wt(e=>{let i=new Nh([],Object.freeze({}),Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,{}),r=new Io(i,e),o=new W0("",r),s=Z7(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,sn).pipe(gs(i=>{if(i instanceof G0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ph?this.noMatchError(i):i}))}inheritParamsAndData(n,e){let i=n.value,r=o2(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,e,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0).pipe(Wt(o=>o instanceof Io?[o]:[]))}processChildren(n,e,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Wn(r).pipe(xa(o=>{let s=i.children[o],a=uV(e,o);return this.processSegmentGroup(n,a,s,o)}),I1((o,s)=>(o.push(...s),o)),ml(null),M1(),ci(o=>{if(o===null)return wd(i);let s=nA(o);return zV(s),At(s)}))}processSegment(n,e,i,r,o,s){return Wn(e).pipe(xa(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,o,s).pipe(gs(l=>{if(l instanceof Ph)return At(null);throw l}))),zs(a=>!!a),gs(a=>{if(eA(a))return UV(i,r,o)?At(new n2):wd(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,o,s,a){return BV(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):wd(r):wd(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=l2(e,r,o);if(!a)return wd(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$V&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,p).pipe(ci(g=>this.processSegment(n,i,e,g.concat(d),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){let s=OV(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(eo(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(eo(({routes:l})=>{let c=i._loadedInjector??n,{consumedSegments:d,remainingSegments:p,parameters:g}=a,h=new Nh(d,g,Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,qV(i),Js(i),i.component??i._loadedComponent??null,i,GV(i)),{segmentGroup:b,slicedSegments:w}=TI(e,d,p,l);if(w.length===0&&b.hasChildren())return this.processChildren(c,l,b).pipe(Wt(S=>S===null?null:new Io(h,S)));if(l.length===0&&w.length===0)return At(new Io(h,[]));let E=Js(i)===o;return this.processSegment(c,l,b,w,E?sn:o,!0).pipe(Wt(S=>new Io(h,S instanceof Io?[S]:[])))}))):wd(e)))}getChildConfig(n,e,i){return e.children?At({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?At({routes:e._loadedRoutes,injector:e._loadedInjector}):TV(n,e,i,this.urlSerializer).pipe(ci(r=>r?this.configLoader.loadChildren(n,e).pipe(dr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):PV(e))):At({routes:[],injector:n})}};function zV(t){t.sort((n,e)=>n.value.outlet===sn?-1:e.value.outlet===sn?1:n.value.outlet.localeCompare(e.value.outlet))}function WV(t){let n=t.value.routeConfig;return n&&n.path===""}function nA(t){let n=[],e=new Set;for(let i of t){if(!WV(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=nA(i.children);n.push(new Io(i.value,r))}return n.filter(i=>!e.has(i))}function qV(t){return t.data||{}}function GV(t){return t.resolve||{}}function KV(t,n,e,i,r,o){return ci(s=>HV(t,n,e,i,s.extractedUrl,r,o).pipe(Wt(({state:a,tree:l})=>Xt(Ue({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function YV(t,n){return ci(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return At(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of iA(l))s.add(c);let a=0;return Wn(s).pipe(xa(l=>o.has(l)?ZV(l,i,t,n):(l.data=o2(l,l.parent,t).resolve,At(void 0))),dr(()=>a++),Ku(1),ci(l=>a===s.size?At(e):Mr))})}function iA(t){let n=t.children.map(e=>iA(e)).flat();return[t,...n]}function ZV(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!YI(r)&&(o[Rh]=r.title),QV(o,t,n,i).pipe(Wt(s=>(t._resolvedData=s,t.data=o2(t,t.parent,e).resolve,null)))}function QV(t,n,e,i){let r=Ow(t);if(r.length===0)return At({});let o={};return Wn(r).pipe(ci(s=>XV(t[s],n,e,i).pipe(zs(),dr(a=>{o[s]=a}))),Ku(1),Uf(o),gs(s=>eA(s)?Mr:Wu(s)))}function XV(t,n,e,i){let r=Vh(n)??i,o=Ad(t,r),s=o.resolve?o.resolve(n,e):Cs(r,()=>o(n,e));return Ol(s)}function kw(t){return eo(n=>{let e=t(n);return e?Wn(e).pipe(Wt(()=>n)):At(n)})}var rA=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===sn);return i}getResolvedTitleForRoute(e){return e.data[Rh]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(JV),providedIn:"root"})}}return t})(),JV=(()=>{class t extends rA{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(Be(EI))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Uh=new gt("",{providedIn:"root",factory:()=>({})}),Oh=new gt(""),c2=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Me(c0)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return At(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Ol(e.loadComponent()).pipe(Wt(oA),dr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),$s(()=>{this.componentLoaders.delete(e)})),r=new Vu(i,()=>new Un).pipe(Lu());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return At({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=eB(i,this.compiler,e,this.onLoadEndListener).pipe($s(()=>{this.childrenLoaders.delete(i)})),s=new Vu(o,()=>new Un).pipe(Lu());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eB(t,n,e,i){return Ol(t.loadChildren()).pipe(Wt(oA),ci(r=>r instanceof eh||Array.isArray(r)?At(r):Wn(n.compileModuleAsync(r))),Wt(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Oh,[],{optional:!0,self:!0}).flat()),{routes:s.map(a2),injector:o}}))}function tB(t){return t&&typeof t=="object"&&"default"in t}function oA(t){return tB(t)?t.default:t}var u2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(nB),providedIn:"root"})}}return t})(),nB=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sA=new gt(""),aA=new gt("");function iB(t,n,e){let i=t.get(aA),r=t.get($n);return t.get(bn).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),rB(t))),{onViewTransitionCreated:l}=i;return l&&Cs(t,()=>l({transition:a,from:n,to:e})),s})}function rB(t){return new Promise(n=>{i0(n,{injector:t})})}var d2=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Un,this.transitionAbortSubject=new Un,this.configLoader=Me(c2),this.environmentInjector=Me(Tr),this.urlSerializer=Me(jh),this.rootContexts=Me(Fh),this.location=Me(_d),this.inputBindingEnabled=Me(Y0,{optional:!0})!==null,this.titleStrategy=Me(rA),this.options=Me(Uh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Me(u2),this.createViewTransition=Me(sA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>At(void 0),this.rootComponentType=null;let e=r=>this.events.next(new Hw(r)),i=r=>this.events.next(new $w(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Xt(Ue(Ue({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new ir({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ri(o=>o.id!==0),Wt(o=>Xt(Ue({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),eo(o=>{let s=!1,a=!1;return At(o).pipe(eo(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ao.SupersededByNewNavigation),Mr;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Xt(Ue({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let p="";return this.events.next(new kl(l.id,this.urlSerializer.serialize(l.rawUrl),p,B0.IgnoredSameUrlNavigation)),l.resolve(null),Mr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return At(l).pipe(eo(p=>{let g=this.transitions?.getValue();return this.events.next(new Md(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Mr:Promise.resolve(p)}),KV(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),dr(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Xt(Ue({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new U0(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:g,source:h,restoredState:b,extras:w}=l,E=new Md(p,this.urlSerializer.serialize(g),h,b);this.events.next(E);let S=GI(this.rootComponentType).snapshot;return this.currentTransition=o=Xt(Ue({},l),{targetSnapshot:S,urlAfterRedirects:g,extras:Xt(Ue({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,At(o)}else{let p="";return this.events.next(new kl(l.id,this.urlSerializer.serialize(l.extractedUrl),p,B0.IgnoredByUrlHandlingStrategy)),l.resolve(null),Mr}}),dr(l=>{let c=new Lw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Wt(l=>(this.currentTransition=o=Xt(Ue({},l),{guards:fV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),CV(this.environmentInjector,l=>this.events.next(l)),dr(l=>{if(o.guardsResult=l.guardsResult,Dd(l.guardsResult))throw QI(this.urlSerializer,l.guardsResult);let c=new Vw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ri(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ao.GuardRejected),!1)),kw(l=>{if(l.guards.canActivateChecks.length)return At(l).pipe(dr(c=>{let d=new Bw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),eo(c=>{let d=!1;return At(c).pipe(YV(this.paramsInheritanceStrategy,this.environmentInjector),dr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Ao.NoDataFromResolver)}}))}),dr(c=>{let d=new Uw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),kw(l=>{let c=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(dr(g=>{d.component=g}),Wt(()=>{})));for(let g of d.children)p.push(...c(g));return p};return Lf(c(l.targetSnapshot.root)).pipe(ml(null),Jr(1))}),kw(()=>this.afterPreactivation()),eo(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Wn(d).pipe(Wt(()=>o)):At(o)}),Wt(l=>{let c=rV(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Xt(Ue({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),dr(()=>{this.events.next(new Ah)}),dV(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Jr(1),dr({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ds(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Hf(this.transitionAbortSubject.pipe(dr(l=>{throw l}))),$s(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ao.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gs(l=>{if(a=!0,JI(l))this.events.next(new Nl(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),aV(l)?this.events.next(new Th(l.url)):o.resolve(!1);else{this.events.next(new Ih(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return Mr}))}))}cancelNavigationTransition(e,i,r){let o=new Nl(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oB(t){return t!==Eh}var sB=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(aB),providedIn:"root"})}}return t})(),r2=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},aB=(()=>{class t extends r2{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lA=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(lB),providedIn:"root"})}}return t})(),lB=(()=>{class t extends lA{constructor(){super(...arguments),this.location=Me(_d),this.urlSerializer=Me(jh),this.options=Me(Uh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Me(u2),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Tl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Md)this.stateMemento=this.createStateMemento();else if(e instanceof kl)this.rawUrlTree=i.initialUrl;else if(e instanceof U0){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof Ah?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof Nl&&(e.code===Ao.GuardRejected||e.code===Ao.NoDataFromResolver)?this.restoreHistory(i):e instanceof Ih?this.restoreHistory(i,!0):e instanceof Ds&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=Ue(Ue({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=Ue(Ue({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ch=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ch||{});function cA(t,n){t.events.pipe(Ri(e=>e instanceof Ds||e instanceof Nl||e instanceof Ih||e instanceof kl),Wt(e=>e instanceof Ds||e instanceof kl?Ch.COMPLETE:(e instanceof Nl?e.code===Ao.Redirect||e.code===Ao.SupersededByNewNavigation:!1)?Ch.REDIRECTING:Ch.FAILED),Ri(e=>e!==Ch.REDIRECTING),Jr(1)).subscribe(()=>{n()})}function cB(t){throw t}var uB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Me(a0),this.stateManager=Me(lA),this.options=Me(Uh,{optional:!0})||{},this.pendingTasks=Me(Hc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Me(d2),this.urlSerializer=Me(jh),this.location=Me(_d),this.urlHandlingStrategy=Me(u2),this._events=new Un,this.errorHandler=this.options.errorHandler||cB,this.navigated=!1,this.routeReuseStrategy=Me(sB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Me(Oh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Me(Y0,{optional:!0}),this.eventsSubscription=new gi,this.isNgZoneEnabled=Me(bn)instanceof bn&&bn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Nl&&i.code!==Ao.Redirect&&i.code!==Ao.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ds)this.navigated=!0;else if(i instanceof Th){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||oB(r.source)};this.scheduleNavigation(s,Eh,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}hB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Eh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=Ue({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(a2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a){case"merge":d=Ue(Ue({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=r?r.snapshot:this.routerState.snapshot.root;p=$I(g)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),p=this.currentUrlTree.root}return zI(p,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Dd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Eh,null,i)}navigate(e,i={skipLocationChange:!1}){return fB(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=Ue({},uB):i===!1?r=Ue({},dB):r=i,Dd(e))return xI(this.currentUrlTree,e,r);let o=this.parseUrl(e);return xI(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,g)=>{a=p,l=g});let d=this.pendingTasks.add();return cA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fB(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new $e(4008,!1)}function hB(t){return!(t instanceof Ah)&&!(t instanceof Th)}var Pl=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Un,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:kD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||t)(ee(qn),ee(Xs),Mb("tabindex"),ee(di),ee(Dt),ee(Va))}}static{this.\u0275dir=Kt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Dn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[jn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ml],skipLocationChange:[jn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ml],replaceUrl:[jn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ml],routerLink:"routerLink"},standalone:!0,features:[Yb,rr]})}}return t})(),Q0=(()=>{class t{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xt,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Ds&&this.update()})}ngAfterContentInit(){At(this.links.changes,At(null)).pipe(Hs()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Wn(e).pipe(Hs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=pB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||t)(ee(qn),ee(Dt),ee(di),ee(zr),ee(Pl,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&NM(o,Pl,5),i&2){let s;Fi(s=Li())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[rr]})}}return t})();function pB(t){return!!t.paths}var K0=class{};var mB=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ri(e=>e instanceof Ds),xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=r0(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Wn(r).pipe(Hs())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=At(null);let o=r.pipe(ci(s=>s===null?At(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Wn([o,s]).pipe(Hs())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(Be(qn),Be(c0),Be(Tr),Be(K0),Be(c2))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uA=new gt(""),gB=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Me(Tr),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Md?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ds?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof kl&&e.code===B0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof H0&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>Si(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),i0(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new H0(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){qD()}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();function dA(t,...n){return Aa([{provide:Oh,multi:!0,useValue:t},[],{provide:Xs,useFactory:fA,deps:[qn]},{provide:dh,multi:!0,useFactory:hA},n.map(e=>e.\u0275providers)])}function fA(t){return t.routerState.root}function Hh(t,n){return{\u0275kind:t,\u0275providers:n}}function hA(){let t=Me(or);return n=>{let e=t.get(Xo);if(n!==e.components[0])return;let i=t.get(qn),r=t.get(pA);t.get(f2)===1&&i.initialNavigation(),t.get(mA,null,fn.Optional)?.setUpPreloading(),t.get(uA,null,fn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var pA=new gt("",{factory:()=>new Un}),f2=new gt("",{providedIn:"root",factory:()=>1});function vB(){return Hh(2,[{provide:f2,useValue:0},{provide:l0,multi:!0,deps:[or],useFactory:n=>{let e=n.get(QM,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=n.get(qn),o=n.get(pA);cA(r,()=>{i(!0)}),n.get(d2).afterPreactivation=()=>(i(!0),o.closed?At(void 0):o),r.initialNavigation()}))}}])}function yB(){return Hh(3,[{provide:l0,multi:!0,useFactory:()=>{let n=Me(qn);return()=>{n.setUpLocationChangeListener()}}},{provide:f2,useValue:2}])}var mA=new gt("");function _B(t){return Hh(0,[{provide:mA,useExisting:mB},{provide:K0,useExisting:t}])}function bB(){return Hh(8,[AI,{provide:Y0,useExisting:AI}])}function wB(t){let n=[{provide:sA,useValue:iB},{provide:aA,useValue:Ue({skipNextTransition:!!t?.skipInitialTransition},t)}];return Hh(9,n)}var NI=new gt("ROUTER_FORROOT_GUARD"),CB=[_d,{provide:jh,useClass:Dh},qn,Fh,{provide:Xs,useFactory:fA,deps:[qn]},c2,[]],X0=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[CB,[],{provide:Oh,multi:!0,useValue:e},{provide:NI,useFactory:DB,deps:[[qn,new ih,new jg]]},{provide:Uh,useValue:i||{}},i?.useHash?EB():xB(),SB(),i?.preloadingStrategy?_B(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?MB(i):[],i?.bindToComponentInputs?bB().\u0275providers:[],i?.enableViewTransitions?wB().\u0275providers:[],IB()]}}static forChild(e){return{ngModule:t,providers:[{provide:Oh,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)(Be(NI,8))}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({})}}return t})();function SB(){return{provide:uA,useFactory:()=>{let t=Me(sI),n=Me(bn),e=Me(Uh),i=Me(d2),r=Me(jh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new gB(r,i,t,n,e)}}}function EB(){return{provide:Va,useClass:JM}}function xB(){return{provide:Va,useClass:pw}}function DB(t){return"guarded"}function MB(t){return[t.initialNavigation==="disabled"?yB().\u0275providers:[],t.initialNavigation==="enabledBlocking"?vB().\u0275providers:[]]}var kI=new gt("");function IB(){return[{provide:kI,useFactory:hA},{provide:dh,multi:!0,useExisting:kI}]}var Jt=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Jt||{}),ea="*";function J0(t,n){return{type:Jt.Trigger,name:t,definitions:n,options:{}}}function Ms(t,n=null){return{type:Jt.Animate,styles:n,timings:t}}function g2(t,n=null){return{type:Jt.Sequence,steps:t,options:n}}function ar(t){return{type:Jt.Style,styles:t,offset:null}}function Nd(t,n,e){return{type:Jt.State,name:t,styles:n,options:e}}function kd(t,n,e=null){return{type:Jt.Transition,expr:t,animation:n,options:e}}var Pd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:()=>Me(AB),providedIn:"root"})}}return t})(),h2=class{},AB=(()=>{class t extends Pd{constructor(e,i){super(),this.animationModuleType=Me(ah,{optional:!0}),this._nextAnimationId=0;let r={id:"0",encapsulation:zo.None,styles:[],data:{animation:[]}};if(this._renderer=e.createRenderer(i.body,r),this.animationModuleType===null&&!NB(this._renderer))throw new $e(3600,!1)}build(e){let i=this._nextAnimationId;this._nextAnimationId++;let r=Array.isArray(e)?g2(e):e;return gA(this._renderer,null,i,"register",[r]),new p2(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||t)(Be(_o),Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p2=class extends h2{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new m2(this._id,n,e||{},this._renderer)}},m2=class{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){gA(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return TB(this._renderer)?.engine?.players[this.id]?.getPosition()??0}};function gA(t,n,e,i,r){t.setProperty(n,`@@${e}:${i}`,r)}function TB(t){let n=t.\u0275type;return n===0?t:n===1?t.animationRenderer:null}function NB(t){let n=t.\u0275type;return n===0||n===1}var Rl=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},$h=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ev="!";function yA(t){return new $e(3e3,!1)}function kB(){return new $e(3100,!1)}function PB(){return new $e(3101,!1)}function OB(t){return new $e(3001,!1)}function RB(t){return new $e(3003,!1)}function jB(t){return new $e(3004,!1)}function FB(t,n){return new $e(3005,!1)}function LB(){return new $e(3006,!1)}function VB(){return new $e(3007,!1)}function BB(t,n){return new $e(3008,!1)}function UB(t){return new $e(3002,!1)}function HB(t,n,e,i,r){return new $e(3010,!1)}function $B(){return new $e(3011,!1)}function zB(){return new $e(3012,!1)}function WB(){return new $e(3200,!1)}function qB(){return new $e(3202,!1)}function GB(){return new $e(3013,!1)}function KB(t){return new $e(3014,!1)}function YB(t){return new $e(3015,!1)}function ZB(t){return new $e(3016,!1)}function QB(t,n){return new $e(3404,!1)}function XB(t){return new $e(3502,!1)}function JB(t){return new $e(3503,!1)}function eU(){return new $e(3300,!1)}function tU(t){return new $e(3504,!1)}function nU(t){return new $e(3301,!1)}function iU(t,n){return new $e(3302,!1)}function rU(t){return new $e(3303,!1)}function oU(t,n){return new $e(3400,!1)}function sU(t){return new $e(3401,!1)}function aU(t){return new $e(3402,!1)}function lU(t,n){return new $e(3505,!1)}function jl(t){switch(t.length){case 0:return new Rl;case 1:return t[0];default:return new $h(t)}}function kA(t,n,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(n.forEach(l=>{let c=l.get("offset"),d=c==s,p=d&&a||new Map;l.forEach((g,h)=>{let b=h,w=g;if(h!=="offset")switch(b=t.normalizePropertyName(b,r),w){case ev:w=e.get(h);break;case ea:w=i.get(h);break;default:w=t.normalizeStyleValue(h,b,w,r);break}p.set(b,w)}),d||o.push(p),a=p,s=c}),r.length)throw XB(r);return o}function V2(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&v2(e,"start",t)));break;case"done":t.onDone(()=>i(e&&v2(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&v2(e,"destroy",t)));break}}function v2(t,n,e){let i=e.totalTime,r=!!e.disabled,o=B2(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function B2(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function No(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function _A(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var cU=typeof document>"u"?null:document.documentElement;function U2(t){let n=t.parentNode||t.host||null;return n===cU?null:n}function uU(t){return t.substring(1,6)=="ebkit"}var Gc=null,bA=!1;function dU(t){Gc||(Gc=fU()||{},bA=Gc.style?"WebkitAppearance"in Gc.style:!1);let n=!0;return Gc.style&&!uU(t)&&(n=t in Gc.style,!n&&bA&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Gc.style)),n}function fU(){return typeof document<"u"?document.body:null}function PA(t,n){for(;n;){if(n===t)return!0;n=U2(n)}return!1}function OA(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var H2=(()=>{class t{validateStyleProperty(e){return dU(e)}matchesElement(e,i){return!1}containsElement(e,i){return PA(e,i)}getParentElement(e){return U2(e)}query(e,i,r){return OA(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Rl(r,o)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})(),Zc=class{static{this.NOOP=new H2}},Qc=class{};var hU=1e3,RA="{{",pU="}}",jA="ng-enter",S2="ng-leave",tv="ng-trigger",sv=".ng-trigger",wA="ng-animating",E2=".ng-animating";function Ba(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:x2(parseFloat(n[1]),n[2])}function x2(t,n){switch(n){case"s":return t*hU;default:return t}}function av(t,n,e){return t.hasOwnProperty("duration")?t:mU(t,n,e)}function mU(t,n,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return n.push(yA(t)),{duration:0,delay:0,easing:""};r=x2(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=x2(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(kB()),a=!0),o<0&&(n.push(PB()),a=!0),a&&n.splice(l,0,yA(t))}return{duration:r,delay:o,easing:s}}function gU(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function ta(t,n,e){n.forEach((i,r)=>{let o=$2(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Yc(t,n){n.forEach((e,i)=>{let r=$2(i);t.style[r]=""})}function zh(t){return Array.isArray(t)?t.length==1?t[0]:g2(t):t}function vU(t,n,e){let i=n.params||{},r=FA(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(OB(o))})}var D2=new RegExp(`${RA}\\s*(.+?)\\s*${pU}`,"g");function FA(t){let n=[];if(typeof t=="string"){let e;for(;e=D2.exec(t);)n.push(e[1]);D2.lastIndex=0}return n}function qh(t,n,e){let i=`${t}`,r=i.replace(D2,(o,s)=>{let a=n[s];return a==null&&(e.push(RB(s)),a=""),a.toString()});return r==i?t:r}var yU=/-+([a-z0-9])/g;function $2(t){return t.replace(yU,(...n)=>n[1].toUpperCase())}function _U(t,n){return t===0||n===0}function bU(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(a=>s.set(a,z2(t,a)))}}return n}function To(t,n,e){switch(n.type){case Jt.Trigger:return t.visitTrigger(n,e);case Jt.State:return t.visitState(n,e);case Jt.Transition:return t.visitTransition(n,e);case Jt.Sequence:return t.visitSequence(n,e);case Jt.Group:return t.visitGroup(n,e);case Jt.Animate:return t.visitAnimate(n,e);case Jt.Keyframes:return t.visitKeyframes(n,e);case Jt.Style:return t.visitStyle(n,e);case Jt.Reference:return t.visitReference(n,e);case Jt.AnimateChild:return t.visitAnimateChild(n,e);case Jt.AnimateRef:return t.visitAnimateRef(n,e);case Jt.Query:return t.visitQuery(n,e);case Jt.Stagger:return t.visitStagger(n,e);default:throw jB(n.type)}}function z2(t,n){return window.getComputedStyle(t)[n]}var wU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),lv=class extends Qc{normalizePropertyName(n,e){return $2(n)}normalizeStyleValue(n,e,i,r){let o="",s=i.toString().trim();if(wU.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(FB(n,i))}return s+o}};var cv="*";function CU(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>SU(i,e,n)):e.push(t),e}function SU(t,n,e){if(t[0]==":"){let l=EU(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(YB(t)),n;let r=i[1],o=i[2],s=i[3];n.push(CA(r,s));let a=r==cv&&s==cv;o[0]=="<"&&!a&&n.push(CA(s,r))}function EU(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(ZB(t)),"* => *"}}var nv=new Set(["true","1"]),iv=new Set(["false","0"]);function CA(t,n){let e=nv.has(t)||iv.has(t),i=nv.has(n)||iv.has(n);return(r,o)=>{let s=t==cv||t==r,a=n==cv||n==o;return!s&&e&&typeof r=="boolean"&&(s=r?nv.has(t):iv.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?nv.has(n):iv.has(n)),s&&a}}var LA=":self",xU=new RegExp(`s*${LA}s*,?`,"g");function VA(t,n,e,i){return new M2(t).build(n,e,i)}var SA="",M2=class{constructor(n){this._driver=n}build(n,e,i){let r=new I2(e);return this._resetContextStyleTimingState(r),To(this,zh(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=SA,n.collectedStyles=new Map,n.collectedStyles.set(SA,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return n.name.charAt(0)=="@"&&e.errors.push(LB()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Jt.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==Jt.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(VB())}),{type:Jt.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{FA(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(BB(n.name,[...o.values()]))}return{type:Jt.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=To(this,zh(n.animation),e),r=CU(n.expr,e.errors);return{type:Jt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Kc(n.options)}}visitSequence(n,e){return{type:Jt.Sequence,steps:n.steps.map(i=>To(this,i,e)),options:Kc(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,o=n.steps.map(s=>{e.currentTime=i;let a=To(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Jt.Group,steps:o,options:Kc(n.options)}}visitAnimate(n,e){let i=AU(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:ar({});if(o.type==Jt.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=ar(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Jt.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)typeof a=="string"?a===ea?i.push(a):e.errors.push(UB(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(RA)>=0){o=!0;break}}}),{type:Jt.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),p=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(HB(l,d.startTime,d.endTime,o,r)),p=!1),o=d.startTime),p&&c.set(l,{startTime:o,endTime:r}),e.options&&vU(a,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:Jt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push($B()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,d=n.steps.map(S=>{let O=this._makeStyleAst(S,e),R=O.offset!=null?O.offset:IU(O.styles),j=0;return R!=null&&(o++,j=O.offset=R),l=l||j<0||j>1,a=a||j<c,c=j,s.push(j),O});l&&e.errors.push(zB()),a&&e.errors.push(WB());let p=n.steps.length,g=0;o>0&&o<p?e.errors.push(qB()):o==0&&(g=r/(p-1));let h=p-1,b=e.currentTime,w=e.currentAnimateTimings,E=w.duration;return d.forEach((S,O)=>{let R=g>0?O==h?1:g*O:s[O],j=R*E;e.currentTime=b+w.delay+j,w.duration=j,this._validateStyleAst(S,e),S.offset=R,i.styles.push(S)}),i}visitReference(n,e){return{type:Jt.Reference,animation:To(this,zh(n.animation),e),options:Kc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Jt.AnimateChild,options:Kc(n.options)}}visitAnimateRef(n,e){return{type:Jt.AnimateRef,animation:this.visitReference(n.animation,e),options:Kc(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[o,s]=DU(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,No(e.collectedStyles,e.currentQuerySelector,new Map);let a=To(this,zh(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Jt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Kc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(GB());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:av(n.timings,e.errors,!0);return{type:Jt.Stagger,animation:To(this,zh(n.animation),e),timings:i,options:null}}};function DU(t){let n=!!t.split(/\s*,\s*/).find(e=>e==LA);return n&&(t=t.replace(xU,"")),t=t.replace(/@\*/g,sv).replace(/@\w+/g,e=>sv+"-"+e.slice(1)).replace(/:animating/g,E2),[t,n]}function MU(t){return t?Ue({},t):null}var I2=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function IU(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function AU(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=av(t,n).duration;return y2(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=y2(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=av(e,n);return y2(r.duration,r.delay,r.easing)}function Kc(t){return t?(t=Ue({},t),t.params&&(t.params=MU(t.params))):t={},t}function y2(t,n,e){return{duration:t,delay:n,easing:e}}function W2(t,n,e,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Gh=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},TU=1,NU=":enter",kU=new RegExp(NU,"g"),PU=":leave",OU=new RegExp(PU,"g");function BA(t,n,e,i,r,o=new Map,s=new Map,a,l,c=[]){return new A2().buildKeyframes(t,n,e,i,r,o,s,a,l,c)}var A2=class{buildKeyframes(n,e,i,r,o,s,a,l,c,d=[]){c=c||new Gh;let p=new T2(n,e,c,r,o,d,[]);p.options=l;let g=l.delay?Ba(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,l),To(this,i,p);let h=p.timelines.filter(b=>b.containsAnimation());if(h.length&&a.size){let b;for(let w=h.length-1;w>=0;w--){let E=h[w];if(E.element===e){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return h.length?h.map(b=>b.buildKeyframes()):[W2(e,[],[],[],0,g,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ba(qh(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?Ba(i.duration):null,a=i.delay!=null?Ba(i.delay):null;return s!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),To(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Jt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uv);let s=Ba(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>To(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,o=n.options&&n.options.delay?Ba(n.options.delay):0;n.steps.forEach(s=>{let a=e.createSubContext(n.options);o&&a.delayNextStep(o),To(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?qh(i,e.params,e.errors):i;return av(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=n.style;o.type==Jt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?Ba(r.delay):0;o&&(e.previousNode.type===Jt.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uv);let s=i,a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;let p=e.createSubContext(n.options,c);o&&p.delayNextStep(o),c===e.element&&(l=p.currentTimeline),To(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;s=Math.max(s,g)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let p=d.currentTime;To(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},uv={},T2=class t{constructor(n,e,i,r,o,s,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new dv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=Ba(i.duration)),i.delay!=null&&(r.delay=Ba(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=qh(o[a],s,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=uv,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new N2(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let a=[];if(r&&a.push(this.element),n.length>0){n=n.replace(kU,"."+this._enterClassName),n=n.replace(OU,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(KB(e)),a}},dv=class t{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=TU,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ea),this._currentKeyframe.set(e,ea);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=RU(n,this._globalTimelineStyles);for(let[a,l]of s){let c=qh(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ea),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,p)=>{d===ev?n.add(p):d===ea&&e.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...n.values()],s=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return W2(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},N2=class extends dv{constructor(n,e,i,r,o,s,a=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",EA(a)),o.push(c);let d=n.length-1;for(let p=1;p<=d;p++){let g=new Map(n[p]),h=g.get("offset"),b=e+h*i;g.set("offset",EA(b/s)),o.push(g)}i=s,e=0,r="",n=o}return W2(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function EA(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function RU(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let o of i)e.set(o,ea)}else for(let[o,s]of r)e.set(o,s)}),e}function xA(t,n,e,i,r,o,s,a,l,c,d,p,g){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:p,errors:g}}var _2={},fv=class{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return jU(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,a,l,c,d){let p=[],g=this.ast.options&&this.ast.options.params||_2,h=a&&a.params||_2,b=this.buildStyles(i,h,p),w=l&&l.params||_2,E=this.buildStyles(r,w,p),S=new Set,O=new Map,R=new Map,j=r==="void",oe={params:UA(w,g),delay:this.ast.options?.delay},ve=d?[]:BA(n,e,this.ast.animation,o,s,b,E,oe,c,p),he=0;return ve.forEach(X=>{he=Math.max(X.duration+X.delay,he)}),p.length?xA(e,this._triggerName,i,r,j,b,E,[],[],O,R,he,p):(ve.forEach(X=>{let F=X.element,ie=No(O,F,new Set);X.preStyleProps.forEach(k=>ie.add(k));let T=No(R,F,new Set);X.postStyleProps.forEach(k=>T.add(k)),F!==e&&S.add(F)}),xA(e,this._triggerName,i,r,j,b,E,ve,[...S.values()],O,R,he))}};function jU(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}function UA(t,n){let e=Ue({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var k2=class{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=UA(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=qh(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}};function FU(t,n,e){return new P2(t,n,e)}var P2=class{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new k2(r.style,o,i))}),DA(this.states,"true","1"),DA(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new fv(n,r,this.states))}),this.fallbackTransition=LU(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function LU(t,n,e){let i=[(s,a)=>!0],r={type:Jt.Sequence,steps:[],options:null},o={type:Jt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new fv(t,o,n)}function DA(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var VU=new Gh,O2=class{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){let i=[],r=[],o=VA(this._driver,e,i,r);if(i.length)throw JB(i);r.length&&void 0,this._animations.set(n,o)}_buildPlayer(n,e,i){let r=n.element,o=kA(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],o=this._animations.get(n),s,a=new Map;if(o?(s=BA(this._driver,e,o,jA,S2,new Map,new Map,i,VU,r),s.forEach(d=>{let p=No(a,d.element,new Map);d.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(eU()),s=[]),r.length)throw tU(r);a.forEach((d,p)=>{d.forEach((g,h)=>{d.set(h,this._driver.computeStyle(p,h,ea))})});let l=s.map(d=>{let p=a.get(d.element);return this._buildPlayer(d,new Map,p)}),c=jl(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw nU(n);return e}listen(n,e,i,r){let o=B2(e,"","","");return V2(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(n,e,s);return}let o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},MA="ng-animate-queued",BU=".ng-animate-queued",b2="ng-animate-disabled",UU=".ng-animate-disabled",HU="ng-star-inserted",$U=".ng-star-inserted",zU=[],HA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Is="__ng_removed",Kh=class{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=GU(r),i){let o=n,{value:s}=o,a=t1(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Wh="void",w2=new Kh(Wh),R2=class{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ns(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw iU(i,e);if(i==null||i.length==0)throw rU(e);if(!KU(i))throw oU(i,e);let o=No(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);let a=No(this._engine.statesByElement,n,new Map);return a.has(e)||(ns(n,tv),ns(n,tv+"-"+e),a.set(e,w2)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw sU(n);return e}trigger(n,e,i,r=!0){let o=this._getTrigger(e),s=new Yh(this.id,e,n),a=this._engine.statesByElement.get(n);a||(ns(n,tv),ns(n,tv+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e),c=new Kh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=w2),!(c.value===Wh)&&l.value===c.value){if(!QU(l.params,c.params)){let w=[],E=o.matchStyles(l.value,l.params,w),S=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Yc(n,E),ta(n,S)})}return}let g=No(this._engine.playersByElement,n,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let h=o.matchTransition(l.value,c.value,n,c.params),b=!1;if(!h){if(!r)return;h=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:b}),b||(ns(n,MA),s.onStart(()=>{Od(n,MA)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let E=this._engine.playersByElement.get(n);if(E){let S=E.indexOf(s);S>=0&&E.splice(S,1)}}),this.players.push(s),g.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,sv,!0);i.forEach(r=>{if(r[Is])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let o=this._engine.statesByElement.get(n),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(n,c,Wh,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&jl(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||w2,d=new Kh(Wh),p=new Yh(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let o=n[Is];(!o||o===HA)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){ns(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=B2(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,V2(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},j2=class{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,r){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new R2(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(n,e,i,r){if(rv(e)){let o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!rv(e))return;let o=e[Is];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){let s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ns(n,b2)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Od(n,b2))}removeNode(n,e,i){if(rv(e)){this.scheduler?.notify();let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Is]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return rv(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,sv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,E2,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return jl(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[Is];if(e&&e.setForRemoval){if(n[Is]=HA,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(b2)&&this.markElementAsDisabled(n,!1),this.driver.query(n,UU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ns(r,HU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?jl(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw aU(n)}_flushAnimations(n,e){let i=new Gh,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(W=>{d.add(W);let $=this.driver.query(W,BU,!0);for(let V=0;V<$.length;V++)d.add($[V])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),h=TA(g,this.collectedEnterElements),b=new Map,w=0;h.forEach((W,$)=>{let V=jA+w++;b.set($,V),W.forEach(B=>ns(B,V))});let E=[],S=new Set,O=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){let $=this.collectedLeaveElements[W],V=$[Is];V&&V.setForRemoval&&(E.push($),S.add($),V.hasAnimation?this.driver.query($,$U,!0).forEach(B=>S.add(B)):O.add($))}let R=new Map,j=TA(g,Array.from(S));j.forEach((W,$)=>{let V=S2+w++;R.set($,V),W.forEach(B=>ns(B,V))}),n.push(()=>{h.forEach((W,$)=>{let V=b.get($);W.forEach(B=>Od(B,V))}),j.forEach((W,$)=>{let V=R.get($);W.forEach(B=>Od(B,V))}),E.forEach(W=>{this.processLeaveNode(W)})});let oe=[],ve=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(e).forEach(V=>{let B=V.player,de=V.element;if(oe.push(B),this.collectedEnterElements.length){let me=de[Is];if(me&&me.setForMove){if(me.previousTriggersValues&&me.previousTriggersValues.has(V.triggerName)){let Ce=me.previousTriggersValues.get(V.triggerName),we=this.statesByElement.get(V.element);if(we&&we.has(V.triggerName)){let xe=we.get(V.triggerName);xe.value=Ce,we.set(V.triggerName,xe)}}B.destroy();return}}let ce=!p||!this.driver.containsElement(p,de),M=R.get(de),z=b.get(de),q=this._buildInstruction(V,i,z,M,ce);if(q.errors&&q.errors.length){ve.push(q);return}if(ce){B.onStart(()=>Yc(de,q.fromStyles)),B.onDestroy(()=>ta(de,q.toStyles)),r.push(B);return}if(V.isFallbackTransition){B.onStart(()=>Yc(de,q.fromStyles)),B.onDestroy(()=>ta(de,q.toStyles)),r.push(B);return}let re=[];q.timelines.forEach(me=>{me.stretchStartingKeyframe=!0,this.disabledNodes.has(me.element)||re.push(me)}),q.timelines=re,i.append(de,q.timelines);let ue={instruction:q,player:B,element:de};s.push(ue),q.queriedElements.forEach(me=>No(a,me,[]).push(B)),q.preStyleProps.forEach((me,Ce)=>{if(me.size){let we=l.get(Ce);we||l.set(Ce,we=new Set),me.forEach((xe,Pe)=>we.add(Pe))}}),q.postStyleProps.forEach((me,Ce)=>{let we=c.get(Ce);we||c.set(Ce,we=new Set),me.forEach((xe,Pe)=>we.add(Pe))})});if(ve.length){let W=[];ve.forEach($=>{W.push(lU($.triggerName,$.errors))}),oe.forEach($=>$.destroy()),this.reportError(W)}let he=new Map,X=new Map;s.forEach(W=>{let $=W.element;i.has($)&&(X.set($,$),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,he))}),r.forEach(W=>{let $=W.element;this._getPreviousPlayers($,!1,W.namespaceId,W.triggerName,null).forEach(B=>{No(he,$,[]).push(B),B.destroy()})});let F=E.filter(W=>NA(W,l,c)),ie=new Map;AA(ie,this.driver,O,c,ea).forEach(W=>{NA(W,l,c)&&F.push(W)});let k=new Map;h.forEach((W,$)=>{AA(k,this.driver,new Set(W),l,ev)}),F.forEach(W=>{let $=ie.get(W),V=k.get(W);ie.set(W,new Map([...$?.entries()??[],...V?.entries()??[]]))});let U=[],G=[],pe={};s.forEach(W=>{let{element:$,player:V,instruction:B}=W;if(i.has($)){if(d.has($)){V.onDestroy(()=>ta($,B.toStyles)),V.disabled=!0,V.overrideTotalTime(B.totalTime),r.push(V);return}let de=pe;if(X.size>1){let M=$,z=[];for(;M=M.parentNode;){let q=X.get(M);if(q){de=q;break}z.push(M)}z.forEach(q=>X.set(q,de))}let ce=this._buildAnimation(V.namespaceId,B,he,o,k,ie);if(V.setRealPlayer(ce),de===pe)U.push(V);else{let M=this.playersByElement.get(de);M&&M.length&&(V.parentPlayer=jl(M)),r.push(V)}}else Yc($,B.fromStyles),V.onDestroy(()=>ta($,B.toStyles)),G.push(V),d.has($)&&r.push(V)}),G.forEach(W=>{let $=o.get(W.element);if($&&$.length){let V=jl($);W.setRealPlayer(V)}}),r.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<E.length;W++){let $=E[W],V=$[Is];if(Od($,S2),V&&V.hasAnimation)continue;let B=[];if(a.size){let ce=a.get($);ce&&ce.length&&B.push(...ce);let M=this.driver.query($,E2,!0);for(let z=0;z<M.length;z++){let q=a.get(M[z]);q&&q.length&&B.push(...q)}}let de=B.filter(ce=>!ce.destroyed);de.length?YU(this,$,de):this.processLeaveNode($)}return E.length=0,U.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();let $=this.players.indexOf(W);this.players.splice($,1)}),W.play()}),U}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(n);a&&(s=a)}else{let a=this.playersByElement.get(n);if(a){let l=!o||o==Wh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(n,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,d=c!==o,p=No(i,c,[]);this._getPreviousPlayers(c,d,s,a,e.toState).forEach(h=>{let b=h.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),h.destroy(),p.push(h)})}Yc(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){let a=e.triggerName,l=e.element,c=[],d=new Set,p=new Set,g=e.timelines.map(b=>{let w=b.element;d.add(w);let E=w[Is];if(E&&E.removedBeforeQueried)return new Rl(b.duration,b.delay);let S=w!==l,O=ZU((i.get(w)||zU).map(he=>he.getRealPlayer())).filter(he=>{let X=he;return X.element?X.element===w:!1}),R=o.get(w),j=s.get(w),oe=kA(this._normalizer,b.keyframes,R,j),ve=this._buildPlayer(b,oe,O);if(b.subTimeline&&r&&p.add(w),S){let he=new Yh(n,a,w);he.setRealPlayer(ve),c.push(he)}return ve});c.forEach(b=>{No(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>qU(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>ns(b,wA));let h=jl(g);return h.onDestroy(()=>{d.forEach(b=>Od(b,wA)),ta(l,e.toStyles)}),p.forEach(b=>{No(r,b,[]).push(h)}),h}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Rl(n.duration,n.delay)}},Yh=class{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Rl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>V2(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){No(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function qU(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function GU(t){return t??null}function rv(t){return t&&t.nodeType===1}function KU(t){return t=="start"||t=="done"}function IA(t,n){let e=t.style.display;return t.style.display=n??"none",e}function AA(t,n,e,i,r){let o=[];e.forEach(l=>o.push(IA(l)));let s=[];i.forEach((l,c)=>{let d=new Map;l.forEach(p=>{let g=n.computeStyle(c,p,r);d.set(p,g),(!g||g.length==0)&&(c[Is]=WU,s.push(c))}),t.set(c,d)});let a=0;return e.forEach(l=>IA(l,o[a++])),s}function TA(t,n){let e=new Map;if(t.forEach(a=>e.set(a,[])),n.length==0)return e;let i=1,r=new Set(n),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return n.forEach(a=>{let l=s(a);l!==i&&e.get(l).push(a)}),e}function ns(t,n){t.classList?.add(n)}function Od(t,n){t.classList?.remove(n)}function YU(t,n,e){jl(e).onDone(()=>t.processLeaveNode(n))}function ZU(t){let n=[];return $A(t,n),n}function $A(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof $h?$A(i.players,n):n.push(i)}}function QU(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}function NA(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}var Rd=class{constructor(n,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new j2(n.body,e,i,r),this._timelineEngine=new O2(n.body,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,r,o){let s=n+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],d=VA(this._driver,o,l,c);if(l.length)throw QB(r,l);c.length&&void 0,a=FU(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[o,s]=_A(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=_A(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function XU(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=C2(n[0]),n.length>1&&(i=C2(n[n.length-1]))):n instanceof Map&&(e=C2(n)),e||i?new F2(t,e,i):null}var F2=class t{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(n);r||t.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ta(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ta(this._element,this._initialStyles),this._endStyles&&(ta(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Yc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),ta(this._element,this._initialStyles),this._state=3)}};function C2(t){let n=null;return t.forEach((e,i)=>{JU(i)&&(n=n||new Map,n.set(i,e))}),n}function JU(t){return t==="display"||t==="position"}var hv=class{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:z2(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},pv=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return PA(n,e)}getParentElement(n){return U2(n)}query(n,e,i){return OA(n,e,i)}computeStyle(n,e,i){return z2(n,e)}animate(n,e,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(h=>h instanceof hv);_U(i,r)&&d.forEach(h=>{h.currentSnapshot.forEach((b,w)=>c.set(w,b))});let p=gU(e).map(h=>new Map(h));p=bU(n,p,c);let g=XU(n,p);return new hv(n,p,l,g)}};var ov="@",zA="@.disabled",mv=class{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==ov&&e==zA?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},L2=class extends mv{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==ov?e.charAt(1)=="."&&e==zA?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if(e.charAt(0)==ov){let r=e9(n),o=e.slice(1),s="";return o.charAt(0)!=ov&&([o,s]=t9(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(n,e,i)}};function e9(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function t9(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var gv=class{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){let i="",r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let p=()=>c.delete(r);d=new mv(i,r,this.engine,p),c.set(r,d)}return d}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,n,c.name,c)};return e.data.animation.forEach(a),new L2(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var i9=(()=>{class t extends Rd{constructor(e,i,r){super(e,i,r,Me(ld,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(Be($n),Be(Zc),Be(Qc))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();function r9(){return new lv}function o9(t,n,e){return new gv(t,n,e)}var WA=[{provide:Qc,useFactory:r9},{provide:Rd,useClass:i9},{provide:_o,useFactory:o9,deps:[N0,Rd,bn]}],s9=[{provide:Zc,useFactory:()=>new pv},{provide:ah,useValue:"BrowserAnimations"},...WA],Wre=[{provide:Zc,useClass:H2},{provide:ah,useValue:"NoopAnimations"},...WA];function qA(){return Ss("NgEagerAnimations"),[...s9]}var tT=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(ee(di),ee(Dt))}}static{this.\u0275dir=Kt({type:t})}}return t})(),xv=(()=>{class t extends tT{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275dir=Kt({type:t,features:[$r]})}}return t})(),Xc=new gt(""),a9={provide:Xc,useExisting:bo(()=>tp),multi:!0},tp=(()=>{class t extends xv{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&te("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Do([a9]),$r]})}}return t})(),l9={provide:Xc,useExisting:bo(()=>An),multi:!0};function c9(){let t=La()?La().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var u9=new gt(""),An=(()=>{class t extends tT{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!c9())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(ee(di),ee(Dt),ee(u9,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Do([l9]),$r]})}}return t})();function Fl(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function nT(t){return t!=null&&typeof t.length=="number"}var Ld=new gt(""),np=new gt(""),d9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jn=class{static min(n){return f9(n)}static max(n){return h9(n)}static required(n){return iT(n)}static requiredTrue(n){return p9(n)}static email(n){return m9(n)}static minLength(n){return g9(n)}static maxLength(n){return v9(n)}static pattern(n){return y9(n)}static nullValidator(n){return yv(n)}static compose(n){return cT(n)}static composeAsync(n){return uT(n)}};function f9(t){return n=>{if(Fl(n.value)||Fl(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function h9(t){return n=>{if(Fl(n.value)||Fl(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function iT(t){return Fl(t.value)?{required:!0}:null}function p9(t){return t.value===!0?null:{required:!0}}function m9(t){return Fl(t.value)||d9.test(t.value)?null:{email:!0}}function g9(t){return n=>Fl(n.value)||!nT(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function v9(t){return n=>nT(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function y9(t){if(!t)return yv;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Fl(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function yv(t){return null}function rT(t){return t!=null}function oT(t){return $c(t)?Wn(t):t}function sT(t){let n={};return t.forEach(e=>{n=e!=null?Ue(Ue({},n),e):n}),Object.keys(n).length===0?null:n}function aT(t,n){return n.map(e=>e(t))}function _9(t){return!t.validate}function lT(t){return t.map(n=>_9(n)?n:e=>n.validate(e))}function cT(t){if(!t)return null;let n=t.filter(rT);return n.length==0?null:function(e){return sT(aT(e,n))}}function Y2(t){return t!=null?cT(lT(t)):null}function uT(t){if(!t)return null;let n=t.filter(rT);return n.length==0?null:function(e){let i=aT(e,n).map(oT);return Vf(i).pipe(Wt(sT))}}function Z2(t){return t!=null?uT(lT(t)):null}function GA(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function dT(t){return t._rawValidators}function fT(t){return t._rawAsyncValidators}function q2(t){return t?Array.isArray(t)?t:[t]:[]}function _v(t,n){return Array.isArray(t)?t.includes(n):t===n}function KA(t,n){let e=q2(n);return q2(t).forEach(r=>{_v(e,r)||e.push(r)}),e}function YA(t,n){return q2(n).filter(e=>!_v(t,e))}var bv=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Y2(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Z2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Ua=class extends bv{get formDirective(){return null}get path(){return null}},As=class extends bv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wv=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},b9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},loe=Xt(Ue({},b9),{"[class.ng-submitted]":"isSubmitted"}),en=(()=>{class t extends wv{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(ee(As,2))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&$t("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$r]})}}return t})(),xi=(()=>{class t extends wv{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(ee(Ua,10))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&$t("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[$r]})}}return t})();var Zh="VALID",vv="INVALID",jd="PENDING",Qh="DISABLED";function Q2(t){return(Dv(t)?t.validators:t)||null}function w9(t){return Array.isArray(t)?Y2(t):t||null}function X2(t,n){return(Dv(n)?n.asyncValidators:t)||null}function C9(t){return Array.isArray(t)?Z2(t):t||null}function Dv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hT(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new $e(1e3,"");if(!i[e])throw new $e(1001,"")}function pT(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new $e(1002,"")})}var Fd=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Zh}get invalid(){return this.status===vv}get pending(){return this.status==jd}get disabled(){return this.status===Qh}get enabled(){return this.status!==Qh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(KA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(KA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YA(n,this._rawAsyncValidators))}hasValidator(n){return _v(this._rawValidators,n)}hasAsyncValidator(n){return _v(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=jd,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Qh,this.errors=null,this._forEachChild(i=>{i.disable(Xt(Ue({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Xt(Ue({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Zh,this._forEachChild(i=>{i.enable(Xt(Ue({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Xt(Ue({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zh||this.status===jd)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qh:Zh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=jd,this._hasOwnPendingAsyncValidator=!0;let e=oT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new xt,this.statusChanges=new xt}_calculateStatus(){return this._allControlsDisabled()?Qh:this.errors?vv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jd)?jd:this._anyControlsHaveStatus(vv)?vv:Zh}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Dv(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=w9(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=C9(this._rawAsyncValidators)}},Ll=class extends Fd{constructor(n,e,i){super(Q2(e),X2(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){pT(this,!0,n),Object.keys(n).forEach(i=>{hT(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var G2=class extends Ll{};var Vd=new gt("CallSetDisabledState",{providedIn:"root",factory:()=>Mv}),Mv="always";function mT(t,n){return[...n.path,t]}function ep(t,n,e=Mv){J2(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),E9(t,n),D9(t,n),x9(t,n),S9(t,n)}function Cv(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Ev(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Sv(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function S9(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function J2(t,n){let e=dT(t);n.validator!==null?t.setValidators(GA(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=fT(t);n.asyncValidator!==null?t.setAsyncValidators(GA(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Sv(n._rawValidators,r),Sv(n._rawAsyncValidators,r)}function Ev(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=dT(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=fT(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Sv(n._rawValidators,i),Sv(n._rawAsyncValidators,i),e}function E9(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gT(t,n)})}function x9(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gT(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function gT(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D9(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function vT(t,n){t==null,J2(t,n)}function M9(t,n){return Ev(t,n)}function eC(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function I9(t){return Object.getPrototypeOf(t.constructor)===xv}function yT(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tC(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===An?e=o:I9(o)?i=o:r=o}),r||i||e||null}function A9(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var T9={provide:Ua,useExisting:bo(()=>qr)},Xh=Promise.resolve(),qr=(()=>{class t extends Ua{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new xt,this.form=new Ll({},Y2(e),Z2(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Xh.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ep(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Xh.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Xh.then(()=>{let i=this._findContainer(e.path),r=new Ll({});vT(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Xh.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Xh.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,yT(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(ee(Ld,10),ee(np,10),ee(Vd,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[jn.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Do([T9]),$r]})}}return t})();function ZA(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function QA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Jh=class extends Fd{constructor(n=null,e,i){super(Q2(e),X2(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dv(e)&&(e.nonNullable||e.initialValueIsDefault)&&(QA(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ZA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ZA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){QA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var N9=t=>t instanceof Jh;var k9={provide:As,useExisting:bo(()=>Mn)},XA=Promise.resolve(),Mn=(()=>{class t extends As{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Jh,this._registered=!1,this.name="",this.update=new xt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tC(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),eC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ep(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){XA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Ml(i);XA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?mT(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(ee(Ua,9),ee(Ld,10),ee(np,10),ee(Xc,10),ee(zr,8),ee(Vd,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[jn.None,"disabled","isDisabled"],model:[jn.None,"ngModel","model"],options:[jn.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Do([k9]),$r,rr]})}}return t})(),Di=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Kt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var nC=new gt(""),P9={provide:As,useExisting:bo(()=>ip)},ip=(()=>{class t extends As{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new xt,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=tC(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&Cv(i,this,!1),ep(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}eC(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Cv(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||t)(ee(Ld,10),ee(np,10),ee(Xc,10),ee(nC,8),ee(Vd,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formControl",""]],inputs:{form:[jn.None,"formControl","form"],isDisabled:[jn.None,"disabled","isDisabled"],model:[jn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Do([P9]),$r,rr]})}}return t})(),O9={provide:Ua,useExisting:bo(()=>Ha)},Ha=(()=>{class t extends Ua{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ev(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return ep(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Cv(e.control||null,e,!1),A9(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,yT(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Cv(i||null,e),N9(r)&&(ep(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);vT(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&M9(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J2(this.form,this),this._oldForm&&Ev(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(ee(Ld,10),ee(np,10),ee(Vd,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[jn.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Do([O9]),$r,rr]})}}return t})();var R9={provide:As,useExisting:bo(()=>$a)},$a=(()=>{class t extends As{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new xt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tC(this,o)}ngOnChanges(e){this._added||this._setUpControl(),eC(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(ee(Ua,13),ee(Ld,10),ee(np,10),ee(Xc,10),ee(nC,8))}}static{this.\u0275dir=Kt({type:t,selectors:[["","formControlName",""]],inputs:{name:[jn.None,"formControlName","name"],isDisabled:[jn.None,"disabled","isDisabled"],model:[jn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Do([R9]),$r,rr]})}}return t})(),j9={provide:Xc,useExisting:bo(()=>fi),multi:!0};function _T(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function F9(t){return t.split(":")[0]}var fi=(()=>{class t extends xv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=_T(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=F9(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&te("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Do([j9]),$r]})}}return t})(),Mi=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(_T(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(di),ee(fi,9))}}static{this.\u0275dir=Kt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),L9={provide:Xc,useExisting:bo(()=>bT),multi:!0};function JA(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function V9(t){return t.split(":")[0]}var bT=(()=>{class t extends xv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=V9(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&te("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Do([L9]),$r]})}}return t})(),Ii=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(JA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(JA(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(di),ee(bT,9))}}static{this.\u0275dir=Kt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var B9=(()=>{class t{constructor(){this._validator=yv}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yv,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Kt({type:t,features:[rr]})}}return t})();var U9={provide:Ld,useExisting:bo(()=>Ts),multi:!0};var Ts=(()=>{class t extends B9{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ml,this.createValidator=e=>iT}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275dir=Kt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Dn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Do([U9]),$r]})}}return t})();var wT=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({})}}return t})(),K2=class extends Fd{constructor(n,e,i){super(Q2(e),X2(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){pT(this,!1,n),n.forEach((i,r)=>{hT(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function eT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Vl=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return eT(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ll(r,o)}record(e,i=null){let r=this._reduceControls(e);return new G2(r,i)}control(e,i,r){let o={};return this.useNonNullable?(eT(i)?o=i:(o.validators=i,o.asyncValidators=r),new Jh(e,Xt(Ue({},o),{nonNullable:!0}))):new Jh(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new K2(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof Jh)return e;if(e instanceof Fd)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var En=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vd,useValue:e.callSetDisabledState??Mv}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[wT]})}}return t})(),na=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:nC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Vd,useValue:e.callSetDisabledState??Mv}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[wT]})}}return t})();var pn={production:!0,apiUrl:"api/"};var mn=(()=>{class t{constructor(){this.http=Me(wn),this.baseUrl=pn.apiUrl,this.currentUser=Uc(null),this.logoutTimer=null,this.roles=UM(()=>{let e=this.currentUser();if(!e?.token)return[];try{let i=JSON.parse(atob(e.token.split(".")[1])),r=i.role||i.roles||[];return Array.isArray(r)?r:[r]}catch(i){return console.error("Failed to decode JWT roles:",i),[]}})}getUserRole(){let e=this.roles();return e.length>0?e[0]:""}hasModules(){return(this.currentUser()?.modules??[]).length>0}getUserHasModules(){return this.hasModules()}login(e){return this.http.post(this.baseUrl+"account/login",e).pipe(Wt(i=>(i&&this.setCurrentUser(i),i)))}setCurrentUser(e){let i=this.getTokenExpiryMs(e?.token),r=Date.now();if(!i||i<=r){this.clearStorage(),this.currentUser.set(null),this.clearLogoutTimer();return}sessionStorage.setItem("user",JSON.stringify(e)),this.currentUser.set(e),this.startAutoLogoutTimer(i-r)}logout(){this.clearStorage(),this.currentUser.set(null),this.clearLogoutTimer()}getTokenExpiryMs(e){if(!e)return null;try{let i=JSON.parse(atob(e.split(".")[1]));return typeof i.exp=="number"?i.exp*1e3:null}catch(i){return console.error("Failed to decode JWT exp:",i),null}}startAutoLogoutTimer(e){if(this.clearLogoutTimer(),e<=0){this.logout();return}this.logoutTimer=setTimeout(()=>{this.logout()},e)}clearLogoutTimer(){this.logoutTimer&&(clearTimeout(this.logoutTimer),this.logoutTimer=null)}clearStorage(){sessionStorage.removeItem("user")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CT=["toast-component",""];function H9(t,n){if(t&1){let e=We();_(0,"button",5),te("click",function(){ae(e);let r=ne();return le(r.remove())}),_(1,"span",6),x(2,"\xD7"),y()()}}function $9(t,n){if(t&1&&(Zn(0),x(1),Qn()),t&2){let e=ne(2);D(),Bt("[",e.duplicatesCount+1,"]")}}function z9(t,n){if(t&1&&(_(0,"div"),x(1),Ie(2,$9,2,1,"ng-container",4),y()),t&2){let e=ne();xo(e.options.titleClass),Dn("aria-label",e.title),D(),Bt(" ",e.title," "),D(),K("ngIf",e.duplicatesCount)}}function W9(t,n){if(t&1&&tt(0,"div",7),t&2){let e=ne();xo(e.options.messageClass),K("innerHTML",e.message,ch)}}function q9(t,n){if(t&1&&(_(0,"div",8),x(1),y()),t&2){let e=ne();xo(e.options.messageClass),Dn("aria-label",e.message),D(),Bt(" ",e.message," ")}}function G9(t,n){if(t&1&&(_(0,"div"),tt(1,"div",9),y()),t&2){let e=ne();D(),Eo("width",e.width()+"%")}}function K9(t,n){if(t&1){let e=We();_(0,"button",5),te("click",function(){ae(e);let r=ne();return le(r.remove())}),_(1,"span",6),x(2,"\xD7"),y()()}}function Y9(t,n){if(t&1&&(Zn(0),x(1),Qn()),t&2){let e=ne(2);D(),Bt("[",e.duplicatesCount+1,"]")}}function Z9(t,n){if(t&1&&(_(0,"div"),x(1),Ie(2,Y9,2,1,"ng-container",4),y()),t&2){let e=ne();xo(e.options.titleClass),Dn("aria-label",e.title),D(),Bt(" ",e.title," "),D(),K("ngIf",e.duplicatesCount)}}function Q9(t,n){if(t&1&&tt(0,"div",7),t&2){let e=ne();xo(e.options.messageClass),K("innerHTML",e.message,ch)}}function X9(t,n){if(t&1&&(_(0,"div",8),x(1),y()),t&2){let e=ne();xo(e.options.messageClass),Dn("aria-label",e.message),D(),Bt(" ",e.message," ")}}function J9(t,n){if(t&1&&(_(0,"div"),tt(1,"div",9),y()),t&2){let e=ne();D(),Eo("width",e.width()+"%")}}var iC=class{_attachedHost;component;viewContainerRef;injector;constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){let n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},rC=class{_attachedPortal;_disposeFn;attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}},oC=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Un;_activate=new Un;_manualClose=new Un;_resetTimeout=new Un;_countDuplicate=new Un;constructor(n){this._overlayRef=n}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Bd=class{toastId;config;message;title;toastType;toastRef;_onTap=new Un;_onAction=new Un;constructor(n,e,i,r,o,s){this.toastId=n,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}},ST={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},ET=new gt("ToastConfig"),sC=class extends rC{_hostDomElement;_componentFactoryResolver;_appRef;constructor(n,e,i){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(n,e){let i=this._componentFactoryResolver.resolveComponentFactory(n.component),r;return r=i.create(n.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(n){return n.hostView.rootNodes[0]}},eH=(()=>{class t{_document=Me($n);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aC=class{_portalHost;constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}},tH=(()=>{class t{_overlayContainer=Me(eH);_componentFactoryResolver=Me(Cl);_appRef=Me(Xo);_document=Me($n);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new sC(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new aC(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tn=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,s){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=Ue(Ue({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Ue(Ue({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===e;if((!s||l)&&a.message===i)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(e={}){return Ue(Ue({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&o.enableHtml&&(c=this.sanitizer.sanitize(Co.HTML,i));let d=new oC(l),p=new Bd(this.index,o,c,r,e,d),g=[{provide:Bd,useValue:p}],h=or.create({providers:g,parent:this._injector}),b=new iC(o.toastComponent,h),w=l.attach(b,o.newestOnTop);d.componentInstance=w.instance;let E={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:p.onTap(),onAction:p.onAction(),portal:w};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{E.toastRef.activate()})),this.toasts.push(E),E}static \u0275fac=function(i){return new(i||t)(Be(ET),Be(tH),Be(or),Be(_h),Be(bn))};static \u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nH=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Uc(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Uc({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>Xt(Ue({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>Xt(Ue({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>Xt(Ue({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||t)(ee(tn),ee(Bd),ee(bn))};static \u0275cmp=Ke({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Xb("@flyInOut",r._state),xo(r.toastClasses),Eo("display",r.displayStyle))},standalone:!0,features:[Ye],attrs:CT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&Ie(0,H9,3,0,"button",0)(1,z9,3,5,"div",1)(2,W9,1,3,"div",2)(3,q9,2,4,"div",3)(4,G9,2,2,"div",4),i&2&&(K("ngIf",r.options.closeButton),D(),K("ngIf",r.title),D(),K("ngIf",r.message&&r.options.enableHtml),D(),K("ngIf",r.message&&!r.options.enableHtml),D(),K("ngIf",r.options.progressBar))},dependencies:[on],encapsulation:2,data:{animation:[J0("flyInOut",[Nd("inactive",ar({opacity:0})),Nd("active",ar({opacity:1})),Nd("removed",ar({opacity:0})),kd("inactive => active",Ms("{{ easeTime }}ms {{ easing }}")),kd("active => removed",Ms("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),iH=Xt(Ue({},ST),{toastComponent:nH}),xT=(t={})=>Aa([{provide:ET,useValue:{default:iH,config:t}}]);var rH=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Uc(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Uc("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(ee(tn),ee(Bd),ee(Xo))};static \u0275cmp=Ke({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&te("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(xo(r.toastClasses),Eo("display",r.displayStyle))},standalone:!0,features:[Ye],attrs:CT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&Ie(0,K9,3,0,"button",0)(1,Z9,3,5,"div",1)(2,Q9,1,3,"div",2)(3,X9,2,4,"div",3)(4,J9,2,2,"div",4),i&2&&(K("ngIf",r.options.closeButton),D(),K("ngIf",r.title),D(),K("ngIf",r.message&&r.options.enableHtml),D(),K("ngIf",r.message&&!r.options.enableHtml),D(),K("ngIf",r.options.progressBar))},dependencies:[on],encapsulation:2,changeDetection:0})}return t})(),Aoe=Xt(Ue({},ST),{toastComponent:rH});function oH(t,n){if(t&1&&(_(0,"div",16),x(1),y()),t&2){let e=ne();D(),qe(e.userNameError)}}function sH(t,n){if(t&1&&(_(0,"div",16),x(1),y()),t&2){let e=ne();D(),qe(e.passwordError)}}var DT=(()=>{class t{constructor(){this.accountService=Me(mn),this.router=Me(qn),this.toastr=Me(tn),this.model={},this.showPassword=!1,this.userNameError="",this.passwordError=""}login(){this.userNameError="",this.passwordError="",this.accountService.login(this.model).subscribe({next:()=>{let e=this.accountService.getUserRole();this.router.navigateByUrl(e==="Admin"?"/admin":"/notifications")},error:e=>{let i=e?.error;typeof i=="object"&&(this.userNameError=i?.userName||"",this.passwordError=i?.password||"")}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-home"]],standalone:!0,features:[Ye],decls:21,vars:6,consts:[["loginForm","ngForm"],[1,"home-hero"],["src","assets/ufslogo2.png","alt","UFS Logo",1,"ufs-logo-top"],[1,"login-card"],[1,"portal-title"],[1,"login-form",3,"ngSubmit"],[1,"mb-3","input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["name","userName","type","text","placeholder","Username","autocomplete","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger mt-1",4,"ngIf"],[1,"fas","fa-lock"],["name","password","placeholder","Password","autocomplete","current-password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-danger","mt-1"]],template:function(i,r){if(i&1){let o=We();_(0,"div",1),tt(1,"img",2),_(2,"div",3)(3,"h2",4),x(4,"Sign in with your Username and Password"),y(),_(5,"form",5,0),te("ngSubmit",function(){return ae(o),le(r.login())}),_(7,"div",6)(8,"span",7),tt(9,"i",8),y(),_(10,"input",9),st("ngModelChange",function(a){return ae(o),lt(r.model.userName,a)||(r.model.userName=a),le(a)}),y()(),Ie(11,oH,2,1,"div",10),_(12,"div",6)(13,"span",7),tt(14,"i",11),y(),_(15,"input",12),st("ngModelChange",function(a){return ae(o),lt(r.model.password,a)||(r.model.password=a),le(a)}),y(),_(16,"span",13),te("click",function(){return ae(o),le(r.togglePasswordVisibility())}),tt(17,"i",14),y()(),Ie(18,sH,2,1,"div",10),_(19,"button",15),x(20,"Login"),y()()()()}i&2&&(D(10),ot("ngModel",r.model.userName),D(),K("ngIf",r.userNameError),D(4),K("type",r.showPassword?"text":"password"),ot("ngModel",r.model.password),D(2),K("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),D(),K("ngIf",r.passwordError))},dependencies:[bt,hr,on,En,Di,An,en,xi,Ts,Mn,qr],styles:['.home-hero[_ngcontent-%COMP%]{--nav-height: 0px;margin-top:var(--nav-height);height:calc(100vh - var(--nav-height));display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;overflow:hidden;position:relative}.home-hero[_ngcontent-%COMP%]:before{content:"";position:fixed;top:var(--nav-height);right:0;bottom:0;left:0;background:url(/assets/background9.png) center/cover no-repeat;opacity:.98;pointer-events:none;z-index:0}.home-hero[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.ufs-logo-top[_ngcontent-%COMP%]{width:600px;max-width:min(92%,900px);height:auto;display:block;position:absolute;top:-150px;right:0;margin:0;transform:none}.login-card[_ngcontent-%COMP%]{margin-top:-300px;width:fit-content;max-width:92vw;background:#fffffff2;border-radius:14px;box-shadow:0 10px 28px #0006;padding:48px 40px;display:flex;flex-direction:column;align-items:center;min-height:clamp(400px,30vh,540px);justify-content:center}.portal-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700!important;margin-bottom:50px;color:#000!important;text-align:center;white-space:nowrap}.login-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:25px}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:56px;font-size:1.25rem;padding:14px 16px}.login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{height:56px}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;font-size:1.6rem;font-weight:700}@media (max-width: 992px){.home-hero[_ngcontent-%COMP%]{height:auto;overflow:auto}.login-card[_ngcontent-%COMP%]{max-width:92%;padding:32px 24px}}[_nghost-%COMP%]{display:block;margin-top:-90px}']})}}return t})();function aH(t,n){if(t&1&&(_(0,"div",3),x(1),y()),t&2){let e=ne();D(),Bt("Please enter a ",e.label(),"")}}function lH(t,n){if(t&1&&(_(0,"div",3),x(1),y()),t&2){let e=ne();D(),Hn(" ",e.label()," must be at least ",e.control.errors==null?null:e.control.errors.minlength.requiredLength," characters ")}}function cH(t,n){if(t&1&&(_(0,"div",3),x(1),y()),t&2){let e=ne();D(),Hn(" ",e.label()," must be at most ",e.control.errors==null?null:e.control.errors.maxlength.requiredLength," characters ")}}function uH(t,n){t&1&&(_(0,"div",3),x(1," Passwords do not match "),y())}var MT=(()=>{class t{constructor(e){this.ngControl=e,this.label=Ib(""),this.type=Ib("text"),this.ngControl.valueAccessor=this}writeValue(e){}registerOnChange(e){}registerOnTouched(e){}get control(){return this.ngControl.control}static{this.\u0275fac=function(i){return new(i||t)(ee(As,2))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-text-input"]],inputs:{label:[jn.SignalBased,"label"],type:[jn.SignalBased,"type"]},standalone:!0,features:[Ye],decls:8,vars:10,consts:[[1,"mb-3","form-floating"],[1,"form-control",3,"type","formControl","placeholder"],["class","invalid-feedback text-start",4,"ngIf"],[1,"invalid-feedback","text-start"]],template:function(i,r){i&1&&(_(0,"div",0),tt(1,"input",1),_(2,"label"),x(3),y(),Ie(4,aH,2,1,"div",2)(5,lH,2,2,"div",2)(6,cH,2,2,"div",2)(7,uH,2,0,"div",2),y()),i&2&&(D(),$t("is-invalid",r.control.touched&&r.control.invalid),Jb("placeholder",r.label()),K("type",r.type())("formControl",r.control),D(2),qe(r.label()),D(),K("ngIf",r.control.hasError("required")),D(),K("ngIf",r.control.hasError("minlength")),D(),K("ngIf",r.control.hasError("maxlength")),D(),K("ngIf",r.control.hasError("isMatching")))},dependencies:[on,na,An,en,ip]})}}return t})();var Bl=(()=>{class t{constructor(){this.http=Me(wn),this.baseUrl=pn.apiUrl}registerUser(e){return this.http.post(`${this.baseUrl}admin/register-user`,e)}getAllUsers(){return this.http.get(`${this.baseUrl}admin/all-users`)}getUsersByRole(e){return this.http.get(`${this.baseUrl}admin/users-by-role/${e}`)}getUsersWithNoModules(){return this.http.get(`${this.baseUrl}admin/users-with-no-modules`)}updateUserModules(e,i,r){return this.http.put(`${this.baseUrl}admin/update-modules/${e}`,{semester1ModuleIds:i,semester2ModuleIds:r})}deleteUser(e){return this.http.delete(`${this.baseUrl}admin/delete-user/${e}`)}getUserWithRoles(){return this.http.get(`${this.baseUrl}admin/users-with-roles`)}updateUserRoles(e,i){return this.http.put(`${this.baseUrl}admin/update-roles/${e}`,i)}updateUser(e,i){return this.http.put(`${this.baseUrl}admin/update-user/${e}`,i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dH(t,n){if(t&1&&(_(0,"li"),x(1),y()),t&2){let e=n.$implicit;D(),qe(e)}}function fH(t,n){if(t&1&&(_(0,"div",14)(1,"ul"),gd(2,dH,2,1,"li",null,o0),y()()),t&2){let e=ne();D(2),vd(e.validationErrors)}}var IT=(()=>{class t{constructor(){this.adminService=Me(Bl),this.fb=Me(Vl),this.router=Me(qn),this.cancelRegister=new xt,this.registerForm=new Ll({})}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.fb.group({userName:["",[Jn.required]],name:["",Jn.required],surname:["",Jn.required],email:["",[Jn.required,Jn.email]],password:["",[Jn.required,Jn.minLength(6)]],confirmPassword:["",[Jn.required,this.matchValues("password")]],role:["Student",Jn.required]}),this.registerForm.controls.password.valueChanges.subscribe(()=>{this.registerForm.controls.confirmPassword.updateValueAndValidity()})}matchValues(e){return i=>i.value===i.parent?.get(e)?.value?null:{isMatching:!0}}register(){this.registerForm.invalid||this.adminService.registerUser(this.registerForm.value).subscribe({next:e=>this.router.navigateByUrl("/admin"),error:e=>this.validationErrors=e.error?.errors||[e.message]})}cancel(){this.cancelRegister.emit(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-register"]],outputs:{cancelRegister:"cancelRegister"},standalone:!0,features:[Ye],decls:26,vars:9,consts:[["autocomplete","off",3,"ngSubmit","formGroup"],[1,"text-center","text-primary"],["label","User Number",3,"formControl"],["label","Name",3,"formControl"],["label","Surname",3,"formControl"],["label","Email",3,"formControl"],[1,"form-group","mb-3"],["for","role"],["formControlName","role",1,"form-control"],["value","Student"],["value","Lecturer"],["value","Coordinator"],["label","Password","type","password",3,"formControl"],["label","Confirm Password","type","password",3,"formControl"],[1,"alert","alert-danger","text-start"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["type","button",1,"btn","btn-default","me-2",3,"click"]],template:function(i,r){i&1&&(_(0,"form",0),te("ngSubmit",function(){return r.register()}),_(1,"h2",1),x(2,"Register New User"),y(),tt(3,"hr")(4,"app-text-input",2)(5,"app-text-input",3)(6,"app-text-input",4)(7,"app-text-input",5),_(8,"div",6)(9,"label",7),x(10,"Role"),y(),_(11,"select",8)(12,"option",9),x(13,"Student"),y(),_(14,"option",10),x(15,"Lecturer"),y(),_(16,"option",11),x(17,"Coordinator"),y()()(),tt(18,"app-text-input",12)(19,"app-text-input",13),Ie(20,fH,4,0,"div",14),_(21,"div",15)(22,"button",16),x(23,"Register"),y(),_(24,"button",17),te("click",function(){return r.cancel()}),x(25,"Cancel"),y()()()),i&2&&(K("formGroup",r.registerForm),D(4),K("formControl",r.registerForm.controls.userName),D(),K("formControl",r.registerForm.controls.name),D(),K("formControl",r.registerForm.controls.surname),D(),K("formControl",r.registerForm.controls.email),D(11),K("formControl",r.registerForm.controls.password),D(),K("formControl",r.registerForm.controls.confirmPassword),D(),md(20,r.validationErrors?20:-1),D(2),K("disabled",!r.registerForm.valid))},dependencies:[na,Di,Mi,Ii,fi,en,xi,ip,Ha,$a,MT]})}}return t})();var cC=class{constructor(n,e){this.open=n,this.close=e||n}isManual(){return this.open==="manual"||this.close==="manual"}},hH={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function pH(t,n=hH){let e=(t||"").trim();if(e.length===0)return[];let i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let s=n[o[0]]||o;return new cC(s[0],s[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(r.length===1&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}function AT(t,n){let e=pH(n.triggers),i=n.target;if(e.length===1&&e[0].isManual())return Function.prototype;let r=[],o=[],s=()=>{o.forEach(a=>r.push(a())),o.length=0};return e.forEach(a=>{let l=a.open===a.close,c=l?n.toggle:n.show;if(!l&&a.close&&n.hide){let d=a.close,p=n.hide,g=()=>t.listen(i,d,p);o.push(g)}c&&r.push(t.listen(i,a.open,()=>c(s)))}),()=>{r.forEach(a=>a())}}function TT(t,n){return n.outsideClick?t.listen("document","click",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}function NT(t,n){return n.outsideEsc?t.listen("document","keyup.esc",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}var Yi=typeof window<"u"&&window||{},Zi=Yi.document,ise=Yi.location,rse=Yi.gc?()=>Yi.gc():()=>null,ose=Yi.performance?Yi.performance:null,sse=Yi.Event,ase=Yi.MouseEvent,lse=Yi.KeyboardEvent,cse=Yi.EventTarget,use=Yi.History,dse=Yi.Location,fse=Yi.EventListener,kT=function(t){return t.isBs4="bs4",t.isBs5="bs5",t}(kT||{}),Ul;function PT(){let t=Yi.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),Yi.document.head.appendChild(t);let n=Yi.getComputedStyle(t).paddingLeft;return n&&parseFloat(n)?(Yi.document.head.removeChild(t),"bs4"):(Yi.document.head.removeChild(t),"bs5")}function mH(){return Ul||(Ul=PT()),Ul==="bs4"}function gH(){return Ul||(Ul=PT()),Ul==="bs5"}function Ud(){return{isBs4:mH(),isBs5:gH()}}function vH(){let t=Ud(),n=Object.keys(t).find(e=>t[e]);return kT[n]}var Iv=class{static reflow(n){n.offsetHeight}static getStyles(n){let e=n.ownerDocument.defaultView;return(!e||!e.opener)&&(e=Yi),e.getComputedStyle(n)}static stackOverflowConfig(){let n=vH();return{crossorigin:"anonymous",integrity:n==="bs5"?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:n==="bs5"?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}};var hse=typeof console>"u"||!("warn"in console);var yH=(()=>{class t{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();let i=this._focusTrapStack,r=i.indexOf(e);r!==-1&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var uC;try{uC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{uC=!1}var jT=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?fh(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||uC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(Be(ro))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FT=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return bH(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=_H(IH(e));if(i&&(OT(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=OT(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!DH(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return MH(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||t)(Be(jT))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _H(t){try{return t.frameElement}catch{return null}}function bH(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function wH(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function CH(t){return EH(t)&&t.type=="hidden"}function SH(t){return xH(t)&&t.hasAttribute("href")}function EH(t){return t.nodeName.toLowerCase()=="input"}function xH(t){return t.nodeName.toLowerCase()=="a"}function LT(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return n=="-32768"?!1:!!(n&&!isNaN(parseInt(n,10)))}function OT(t){if(!LT(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function DH(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function MH(t){return CH(t)?!1:wH(t)||SH(t)||t.hasAttribute("contenteditable")||LT(t)}function IH(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}function RT(t){return t!=null&&`${t}`!="false"}var dC=class{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,i,r,o=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){let e=this._getFirstTabbableElement(n);return e?.focus(),!!e}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){let n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){let n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Jr(1)).subscribe(n)}},AH=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new dC(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||t)(Be(FT),Be(bn),Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VT=(()=>{class t{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=RT(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=RT(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(AH),ee($n))}}static{this.\u0275dir=Kt({type:t,selectors:[["","focusTrap",""]],inputs:{enabled:[jn.None,"cdkTrapFocus","enabled"],autoCapture:[jn.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[rr]})}}return t})(),fC=(()=>{class t{static forRoot(){return{ngModule:t,providers:[yH,jT,FT]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[bt]})}}return t})();var WT=function(t){return t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top",t}(WT||{}),gC=function(t){return t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top",t}(gC||{});function Jc(t,n){if(t.nodeType!==1)return[];let i=t.ownerDocument.defaultView?.getComputedStyle(t,null);return n?i&&i[n]:i}function vC(t){if(!t)return document.documentElement;let n=null,e=t?.offsetParent,i;for(;e===n&&t.nextElementSibling&&i!==t.nextElementSibling;)i=t.nextElementSibling,e=i.offsetParent;let r=e&&e.nodeName;return!r||r==="BODY"||r==="HTML"?i?i.ownerDocument.documentElement:document.documentElement:e&&["TH","TD","TABLE"].indexOf(e.nodeName)!==-1&&Jc(e,"position")==="static"?vC(e):e}function NH(t){let{nodeName:n}=t;return n==="BODY"?!1:n==="HTML"||vC(t.firstElementChild)===t}function hC(t){return t.parentNode!==null?hC(t.parentNode):t}function kv(t,n){if(!t||!t.nodeType||!n||!n.nodeType)return document.documentElement;let e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?t:n,r=e?n:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);let s=o.commonAncestorContainer;if(t!==s&&n!==s||i.contains(r))return NH(s)?s:vC(s);let a=hC(t);return a.host?kv(a.host,n):kv(t,hC(n).host)}function qT(t){if(!t||!t.parentElement)return document.documentElement;let n=t.parentElement;for(;n?.parentElement&&Jc(n,"transform")==="none";)n=n.parentElement;return n||document.documentElement}function BT(t,n){let e=n==="x"?"Left":"Top",i=e==="Left"?"Right":"Bottom";return parseFloat(t[`border${e}Width`])+parseFloat(t[`border${i}Width`])}function UT(t,n,e){let i=n,r=e;return Math.max(i[`offset${t}`],i[`scroll${t}`],r[`client${t}`],r[`offset${t}`],r[`scroll${t}`],0)}function GT(t){let n=t.body,e=t.documentElement;return{height:UT("Height",n,e),width:UT("Width",n,e)}}function rp(t){return Xt(Ue({},t),{right:(t.left||0)+t.width,bottom:(t.top||0)+t.height})}function kH(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(Number(t))}function hi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function HT(t){let n=t.getBoundingClientRect();if(!(n&&hi(n.top)&&hi(n.left)&&hi(n.bottom)&&hi(n.right)))return n;let e={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},i=t.nodeName==="HTML"?GT(t.ownerDocument):void 0,r=i?.width||t.clientWidth||hi(n.right)&&hi(e.left)&&n.right-e.left||0,o=i?.height||t.clientHeight||hi(n.bottom)&&hi(e.top)&&n.bottom-e.top||0,s=t.offsetWidth-r,a=t.offsetHeight-o;if(s||a){let l=Jc(t);s-=BT(l,"x"),a-=BT(l,"y"),e.width-=s,e.height-=a}return rp(e)}function yC(t,n,e=!1){let i=n.nodeName==="HTML",r=HT(t),o=HT(n),s=Jc(n),a=parseFloat(s.borderTopWidth),l=parseFloat(s.borderLeftWidth);e&&i&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));let c=rp({top:(r.top??0)-(o.top??0)-a,left:(r.left??0)-(o.left??0)-l,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){let d=parseFloat(s.marginTop),p=parseFloat(s.marginLeft);hi(c.top)&&(c.top-=a-d),hi(c.bottom)&&(c.bottom-=a-d),hi(c.left)&&(c.left-=l-p),hi(c.right)&&(c.right-=l-p),c.marginTop=d,c.marginLeft=p}return c}function _C(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function KT(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body;default:}let{overflow:n,overflowX:e,overflowY:i}=Jc(t);return/(auto|scroll|overlay)/.test(String(n)+String(i)+String(e))?t:KT(_C(t))}function $T(t,n="top"){let e=n==="top"?"scrollTop":"scrollLeft",i=t.nodeName;if(i==="BODY"||i==="HTML"){let r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function PH(t,n=!1){let e=t.ownerDocument.documentElement,i=yC(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),o=Math.max(e.clientHeight,window.innerHeight||0),s=n?0:$T(e),a=n?0:$T(e,"left"),l={top:s-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:o};return rp(l)}function YT(t){let n=t.nodeName;return n==="BODY"||n==="HTML"?!1:Jc(t,"position")==="fixed"?!0:YT(_C(t))}function bC(t,n,e=0,i,r=!1){let o={top:0,left:0},s=r?qT(t):kv(t,n);if(i==="viewport")o=PH(s,r);else{let a;i==="scrollParent"?(a=KT(_C(n)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):i==="window"?a=t.ownerDocument.documentElement:a=i;let l=yC(a,s,r);if(l&&a.nodeName==="HTML"&&!YT(s)){let{height:c,width:d}=GT(t.ownerDocument);hi(o.top)&&hi(l.top)&&hi(l.marginTop)&&(o.top+=l.top-l.marginTop),hi(o.top)&&(o.bottom=Number(c)+Number(l.top)),hi(o.left)&&hi(l.left)&&hi(l.marginLeft)&&(o.left+=l.left-l.marginLeft),hi(o.top)&&(o.right=Number(d)+Number(l.left))}else l&&(o=l)}return hi(o.left)&&(o.left+=e),hi(o.top)&&(o.top+=e),hi(o.right)&&(o.right-=e),hi(o.bottom)&&(o.bottom-=e),o}function OH({width:t,height:n}){return t*n}function ZT(t,n,e,i,r=["top","bottom","right","left"],o="viewport",s=0){if(t.indexOf("auto")===-1)return t;let a=bC(e,i,s,o),l={top:{width:a?.width??0,height:(n?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(n?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(h=>Xt(Ue({position:h},l[h]),{area:OH(l[h])})).sort((h,b)=>b.area-h.area),d=c.filter(({width:h,height:b})=>h>=e.clientWidth&&b>=e.clientHeight);d=d.filter(({position:h})=>r.some(b=>b===h));let p=d.length>0?d[0].position:c[0].position,g=t.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ud().isBs5?gC[p]:p}`),p+(g?`-${g}`:"")}function RH(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}function jH(t){let n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,e=>n[e])}function FH(t){return t==="right"?"left":t==="left"?"right":t}var Av=(t,n=0)=>t?parseFloat(t):n;function QT(t){let e=t.ownerDocument.defaultView?.getComputedStyle(t),i=Av(e?.marginTop)+Av(e?.marginBottom),r=Av(e?.marginLeft)+Av(e?.marginRight);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+i}}function XT(t,n,e){let i=e?qT(t):kv(t,n);return yC(n,i,e)}function pC(t,n,e){let i=e.split(" ")[0],r=QT(t),o={width:r.width,height:r.height},s=["right","left"].indexOf(i)!==-1,a=s?"top":"left",l=s?"left":"top",c=s?"height":"width",d=s?"width":"height";return o[a]=(n[a]??0)+n[c]/2-r[c]/2,o[l]=i===l?(n[l]??0)-r[d]:n[jH(l)]??0,o}function JT(t,n){return!!t.modifiers[n]?.enabled}var LH={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Tv(t,n){return Ud().isBs5?LH[n].includes(t):!1}function VH(t){return Ud().isBs5?Tv(t,"end")?"ms-2":Tv(t,"start")?"me-2":Tv(t,"top")?"mb-2":Tv(t,"bottom")?"mt-2":"":""}function BH(t,n){let e=t.instance.target,i=e.className,r=Ud().isBs5?gC[t.placement]:t.placement;if(t.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),i.indexOf("popover")!==-1&&(i=i+" "+VH(r)),i.indexOf("popover")!==-1&&i.indexOf("popover-auto")===-1&&(i+=" popover-auto"),i.indexOf("tooltip")!==-1&&i.indexOf("tooltip-auto")===-1&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),n){n.setAttribute(e,"class",i);return}e.className=i}function zT(t,n,e){!t||!n||Object.keys(n).forEach(i=>{let r="";if(["width","height","top","right","bottom","left"].indexOf(i)!==-1&&kH(n[i])&&(r="px"),e){e.setStyle(t,i,`${String(n[i])}${r}`);return}t.style[i]=String(n[i])+r})}function UH(t){let n=t.offsets.target,e=t.instance.target.querySelector(".arrow");if(!e)return t;let i=["left","right"].indexOf(t.placement.split(" ")[0])!==-1,r=i?"height":"width",o=i?"Top":"Left",s=o.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=QT(e)[r],d=t.placement.split(" ")[1];(t.offsets.host[l]??0)-c<(n[s]??0)&&(n[s]-=(n[s]??0)-((t.offsets.host[l]??0)-c)),Number(t.offsets.host[s])+Number(c)>(n[l]??0)&&(n[s]+=Number(t.offsets.host[s])+Number(c)-Number(n[l])),n=rp(n);let p=Jc(t.instance.target),g=parseFloat(p[`margin${o}`])||0,h=parseFloat(p[`border${o}Width`])||0,b;if(!d)b=Number(t.offsets.host[s])+Number(t.offsets.host[r]/2-c/2);else{let E=parseFloat(p.borderRadius)||0,S=Number(g+h+E);b=s===d?Number(t.offsets.host[s])+S:Number(t.offsets.host[s])+Number(t.offsets.host[r]-S)}let w=b-(n[s]??0)-g-h;return w=Math.max(Math.min(n[r]-(c+5),w),0),t.offsets.arrow={[s]:Math.round(w),[a]:""},t.instance.arrow=e,t}function HH(t){if(t.offsets.target=rp(t.offsets.target),!JT(t.options,"flip"))return t.offsets.target=Ue(Ue({},t.offsets.target),pC(t.instance.target,t.offsets.host,t.placement)),t;let n=bC(t.instance.target,t.instance.host,0,"viewport",!1),e=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"",r=t.offsets.host,o=t.instance.target,s=t.instance.host,a=ZT("auto",r,o,s,t.options.allowedPositions),l=[e,a];return l.forEach((c,d)=>{if(e!==c||l.length===d+1)return;e=t.placement.split(" ")[0];let p=e==="left"&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||e==="right"&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||e==="top"&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||e==="bottom"&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),g=Math.floor(t.offsets.target.left??0)<Math.floor(n.left??0),h=Math.floor(t.offsets.target.right??0)>Math.floor(n.right??0),b=Math.floor(t.offsets.target.top??0)<Math.floor(n.top??0),w=Math.floor(t.offsets.target.bottom??0)>Math.floor(n.bottom??0),E=e==="left"&&g||e==="right"&&h||e==="top"&&b||e==="bottom"&&w,S=["top","bottom"].indexOf(e)!==-1,O=S&&i==="left"&&g||S&&i==="right"&&h||!S&&i==="left"&&b||!S&&i==="right"&&w;(p||E||O)&&((p||E)&&(e=l[d+1]),O&&(i=FH(i)),t.placement=e+(i?` ${i}`:""),t.offsets.target=Ue(Ue({},t.offsets.target),pC(t.instance.target,t.offsets.host,t.placement)))}),t}function $H(t,n,e,i){if(!t||!n)return;let r=XT(t,n);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");let o=!!e.match(/auto/g),s=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e,a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),["left right","right left","top bottom","bottom top"].indexOf(s)!==-1&&(s="auto"),s=ZT(s,r,t,n,i?i.allowedPositions:void 0);let l=pC(t,r,s);return{options:i||{modifiers:{}},instance:{target:t,host:n,arrow:void 0},offsets:{target:l,host:r,arrow:void 0},positionFixed:!1,placement:s,placementAuto:o}}function zH(t){if(!JT(t.options,"preventOverflow"))return t;let n="transform",e=t.instance.target.style,{top:i,left:r,[n]:o}=e;e.top="",e.left="",e[n]="";let s=bC(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[n]=o;let a=["left","right","top","bottom"],l={primary(c){let d=t.offsets.target[c];return(t.offsets.target[c]??0)<(s[c]??0)&&(d=Math.max(t.offsets.target[c]??0,s[c]??0)),{[c]:d}},secondary(c){let d=c==="right",p=d?"left":"top",g=d?"width":"height",h=t.offsets.target[p];return(t.offsets.target[c]??0)>(s[c]??0)&&(h=Math.min(t.offsets.target[p]??0,(s[c]??0)-t.offsets.target[g])),{[p]:h}}};return a.forEach(c=>{let d=["left","top","start"].indexOf(c)!==-1?l.primary:l.secondary;t.offsets.target=Ue(Ue({},t.offsets.target),d(c))}),t}function WH(t){let n=t.placement,e=n.split(" ")[0],i=n.split(" ")[1];if(i){let{host:r,target:o}=t.offsets,s=["bottom","top"].indexOf(e)!==-1,a=s?"left":"top",l=s?"width":"height",c={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-o[l]}};t.offsets.target=Xt(Ue({},o),{[a]:a===i?c.start[a]:c.end[a]})}return t}var mC=class{position(n,e){return this.offset(n,e)}offset(n,e){return XT(e,n)}positionElements(n,e,i,r,o){let s=[HH,WH,zH,UH],a=WT[i],l=$H(e,n,a,o);if(l)return s.reduce((c,d)=>d(c),l)}},qH=new mC;function GH(t,n,e,i,r,o){let s=qH.positionElements(t,n,e,i,r);if(!s)return;let a=RH(s);zT(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&zT(s.instance.arrow,s.offsets.arrow,o),BH(s,o)}var eu=(()=>{class t{constructor(e,i,r){this.update$$=new Un,this.positionElements=new Map,this.isDisabled=!1,fh(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=S1(Gu(window,"scroll",{passive:!0}),Gu(window,"resize",{passive:!0}),At(0,_1),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{GH(Nv(o.target),Nv(o.element),o.attachment,o.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(Nv(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(Nv(e))}setOptions(e){this.options=e}static{this.\u0275fac=function(i){return new(i||t)(Be(bn),Be(_o),Be(ro))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nv(t){return typeof t=="string"?document.querySelector(t):t instanceof Dt?t.nativeElement:t??null}var tu=class{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}},wC=class{constructor(n,e,i,r,o,s,a,l,c){this._viewContainerRef=n,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new xt,this.onShown=new xt,this.onBeforeHide=new xt,this.onHidden=new xt,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return this._isHiding?!1:!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);let e=or.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof Dt&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),typeof this.container=="string"&&typeof this._document<"u"){let i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);let e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){if(this.isShown){this.hide();return}this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;let e=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),i=this._listenOpts.show=o=>{n.show?n.show(o):this.show(o),o()},r=o=>{this.isShown?e():i(o)};return this._renderer&&(this._unregisterListenersFn=AT(this._renderer,{target:n.target,triggers:n.triggers,show:i,hide:e,toggle:r})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,e){return n&&e&&(this._inlineViewRef=n.createEmbeddedView(e)),this}_registerOutsideClick(){if(!(!this._componentRef||!this._componentRef.location)){if(this._listenOpts.outsideClick){let n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=TT(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){let n=this._componentRef.location.nativeElement;this._globalListener=NT(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:this.container==="body"})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,e,i){if(!n)return new tu([]);if(n instanceof io){if(this._viewContainerRef){let s=this._viewContainerRef.createEmbeddedView(n,e);return s.markForCheck(),new tu([s.rootNodes],s)}let o=n.createEmbeddedView({});return this._applicationRef.attachView(o),new tu([o.rootNodes],o)}if(typeof n=="function"){let o=this._componentFactoryResolver.resolveComponentFactory(n),s=or.create({providers:this._providers,parent:this._injector}),a=o.create(s);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new tu([[a.location.nativeElement]],a.hostView,a)}let r=this._renderer?[this._renderer.createText(`${n}`)]:[];return new tu([r])}},Wa=(()=>{class t{constructor(e,i,r,o,s,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=o,this._applicationRef=s,this._document=a}createLoader(e,i,r){return new wC(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(i){return new(i||t)(Be(Cl),Be(bn),Be(or),Be(eu),Be(Xo),Be($n))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var YH=["*"],Ln=(()=>{class t{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var tN=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Pv={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},ZH=new gt("override-default-config"),ia={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"};var Ov={MODAL:300,BACKDROP:150},CC={BACKRDOP:"backdrop-click",ESC:"esc",BACK:"browser-back-navigation-clicked"},QH=(()=>{class t{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=Zi.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,ia.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,ia.SHOW)},this.isAnimated?Ov.BACKDROP:0),Zi&&Zi.body&&(this.bsModalService&&this.bsModalService.getModalsCount()===1&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Zi.body,ia.OPEN),this._renderer.setStyle(Zi.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){let i=e.target===this._element.nativeElement&&!this.clickStartedInContent;if(this.config.ignoreBackdropClick||this.config.backdrop==="static"||!i){this.clickStartedInContent=!1;return}this.bsModalService?.setDismissReason(CC.BACKRDOP),this.hide()}onPopState(){this.bsModalService?.setDismissReason(CC.BACK),this.hide()}onEsc(e){this.isShown&&((e.keyCode===27||e.key==="Escape")&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason(CC.ESC),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor){this.config.closeInterceptor().then(()=>this._hide(),()=>{});return}this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,ia.SHOW),setTimeout(()=>{this.isShown=!1,Zi&&Zi.body&&this.bsModalService?.getModalsCount()===1&&(this._renderer.removeClass(Zi.body,ia.OPEN),this._renderer.setStyle(Zi.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?Ov.MODAL:0)}static{this.\u0275fac=function(i){return new(i||t)(ee(tN),ee(Dt),ee(di))}}static{this.\u0275cmp=Ke({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){i&1&&te("mousedown",function(s){return r.onClickStarted(s)})("click",function(s){return r.onClickStop(s)})("popstate",function(){return r.onPopState()},!1,uh)("keydown.esc",function(s){return r.onEsc(s)},!1,uh),i&2&&Dn("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:YH,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){i&1&&(Sl(),_(0,"div",0)(1,"div",1),El(2),y()()),i&2&&xo("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[VT],encapsulation:2})}}return t})(),XH=(()=>{class t{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,`${ia.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${ia.SHOW}`)}constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${ia.FADE}`),Iv.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(di))}}static{this.\u0275cmp=Ke({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return t})();var JH=1,gn=(()=>{class t{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new xt,this.onShown=new xt,this.onHide=new xt,this.onHidden=new xt,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},Pv,r):Pv}show(e,i){this._focusEl=Zi.activeElement,this.modalsCount++,this._createLoaders();let r=i?.id||JH++;return this.config=this.modalDefaultOption?Object.assign({},Pv,this.modalDefaultOption,i):Object.assign({},Pv,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(this.modalsCount===1||e==null)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&e!=null?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?Ov.BACKDROP:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){let e=this.config.backdrop===!0||this.config.backdrop==="static",i=!this.backdropRef||!this.backdropRef.instance.isShown;this.modalsCount===1&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(XH).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;let e=this.config.animated?Ov.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),e)}_showModal(e){let i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(let s of this.config.providers)i.provide(s);let r=new Ln,o=i.provide({provide:tN,useValue:this.config}).provide({provide:Ln,useValue:r}).attach(QH).to("body");return r.hide=()=>this.hide(r.id),r.setClass=s=>{o.instance&&(o.instance.config.class=s)},r.onHidden=new xt,r.onHide=new xt,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),o.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=o.instance.config?.id),r}_hideModal(e){if(e!=null){let i=this.loaders.findIndex(o=>o.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(Zi.body,ia.OPEN),this._renderer.setStyle(Zi.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Zi.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Zi&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Zi.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Zi.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Zi.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){let e=this._renderer.createElement("div");this._renderer.addClass(e,ia.SCROLLBAR_MEASURER),this._renderer.appendChild(Zi.body,e);let i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(Zi.body,e),i}_createLoaders(){let e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(e!=null){let i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,o)=>{r.instance&&(r.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}static{this.\u0275fac=function(i){return new(i||t)(Be(_o),Be(Wa),Be(ZH,8))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Yse=fC.forRoot(),nN=(()=>{class t{static forRoot(){return{ngModule:t,providers:[gn,Wa,eu]}}static forChild(){return{ngModule:t,providers:[gn,Wa,eu]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[fC]})}}return t})();var e$=["stayBtn"],t$=["discardBtn"],n$=["firstTrap"],i$=["lastTrap"],Qi=(()=>{class t{constructor(e){this.bsModalRef=e,this.title="Leave without saving?",this.message="You have unsaved changes. Do you want to discard them or stay and continue editing?",this.stayLabel="Stay and continue",this.discardLabel="Discard and leave"}ngAfterViewInit(){setTimeout(()=>this.stayBtn?.nativeElement.focus(),0),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.decideStay()}onEsc(e){e.preventDefault(),e.stopPropagation(),this.decideStay()}onTrapStart(){this.discardBtn?.nativeElement.focus()}onTrapEnd(){this.stayBtn?.nativeElement.focus()}decideStay(){try{this.onStay?.()}finally{this.forceClose()}}decideDiscard(){try{this.onDiscard?.()}finally{this.forceClose()}}forceClose(){this.originalHide()}static{this.\u0275fac=function(i){return new(i||t)(ee(Ln))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-confirm-close-modal"]],viewQuery:function(i,r){if(i&1&&(sr(e$,7),sr(t$,7),sr(n$,7),sr(i$,7)),i&2){let o;Fi(o=Li())&&(r.stayBtn=o.first),Fi(o=Li())&&(r.discardBtn=o.first),Fi(o=Li())&&(r.firstTrap=o.first),Fi(o=Li())&&(r.lastTrap=o.first)}},hostBindings:function(i,r){i&1&&te("keydown.escape",function(s){return r.onEsc(s)},!1,PD)},inputs:{title:"title",message:"message",stayLabel:"stayLabel",discardLabel:"discardLabel",onStay:"onStay",onDiscard:"onDiscard"},standalone:!0,features:[Ye],decls:18,vars:4,consts:[["firstTrap",""],["stayBtn",""],["discardBtn",""],["lastTrap",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["tabindex","0",3,"focus"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){if(i&1){let o=We();_(0,"div",4)(1,"h5",5),x(2),y(),_(3,"button",6),te("click",function(){return ae(o),le(r.decideStay())}),y()(),_(4,"span",7,0),te("focus",function(){return ae(o),le(r.onTrapStart())}),y(),_(6,"div",8)(7,"p",9),x(8),y()(),_(9,"div",10)(10,"button",11,1),te("click",function(){return ae(o),le(r.decideStay())}),x(12),y(),_(13,"button",12,2),te("click",function(){return ae(o),le(r.decideDiscard())}),x(15),y()(),_(16,"span",7,3),te("focus",function(){return ae(o),le(r.onTrapEnd())}),y()}i&2&&(D(2),qe(r.title),D(6),qe(r.message),D(4),Bt(" ",r.stayLabel," "),D(3),Bt(" ",r.discardLabel," "))},dependencies:[bt],styles:[".modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{outline:none}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:150px}"]})}}return t})();function Hl(t,n){let e=new es;return t&&n&&(e=e.append("pageNumber",t),e=e.append("pageSize",n)),e}var Hd=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl}getDocumentsByModule(e){return this.http.get(`${this.baseUrl}documents/module/${e}`)}getDocumentsByModulePaged(e,i,r){let o=Hl(i,r);return this.http.get(`${this.baseUrl}documents/module/${e}/paged`,{observe:"response",params:o})}getAllModuleDocuments(){return this.http.get(`${this.baseUrl}documents/all`)}uploadModuleDocument(e){return this.http.post(`${this.baseUrl}documents/upload`,e)}deleteModuleDocument(e){return this.http.delete(`${this.baseUrl}documents/${e}`)}getInternalRepositoryDocuments(e,i){let r=Hl(e,i);return this.http.get(`${this.baseUrl}repository`,{observe:"response",params:r})}uploadRepositoryDocument(e){return this.http.post(`${this.baseUrl}repository/upload`,e)}deleteRepositoryDocument(e){return this.http.delete(`${this.baseUrl}repository/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $d=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl}getPaginatedNotifications(e,i,r="",o=""){let s=Hl(e,i);return r&&(s=s.append("TypeFilter",r)),o&&(s=s.append("ReadFilter",o)),this.http.get(`${this.baseUrl}notifications`,{observe:"response",params:s})}create(e){return this.http.post(`${this.baseUrl}notifications`,e)}delete(e){return this.http.delete(`${this.baseUrl}notifications/${e}`)}markAsRead(e){return this.http.post(`${this.baseUrl}notifications/${e}/read`,{})}markAsUnread(e){return this.http.delete(`${this.baseUrl}notifications/${e}/read`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var r$=t=>({"is-invalid":t});function o$(t,n){t&1&&(_(0,"div",15),x(1," Title is required. "),y())}var Rv=(()=>{class t{constructor(e,i,r,o,s,a,l){this.fb=e,this.documentService=i,this.notificationService=r,this.toastr=o,this.bsModalRef=s,this.bsModalService=a,this.elRef=l,this.onUpload=new xt,this.justSaved=!1,this.modalEl=null,this.uploadForm=this.fb.group({title:["",Jn.required],file:[null,Jn.required]})}ngOnInit(){this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose(),this.justSaved=!1}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}ngOnChanges(e){e.formData&&this.formData&&this.formData.source==="Module"&&(!this.formData.moduleId||this.formData.moduleId<=0)&&(this.toastr.error("Upload failed: no module selected."),this.originalHide?this.originalHide():this.bsModalRef.hide())}hasUnsavedChanges(){return this.justSaved?!1:this.uploadForm.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}onFileSelected(e){let r=e.target.files?.[0];r&&this.uploadForm.get("file")?.setValue(r)}upload(){if(this.uploadForm.invalid){this.toastr.error("Please fill in all required fields.");return}let{title:e,file:i}=this.uploadForm.value,{source:r,moduleId:o}=this.formData;if(r==="Module"&&(!o||o<=0)){this.toastr.error("Upload failed: no module selected.");return}let s=new FormData;s.append("title",e),s.append("file",i),s.append("source",r),r==="Module"&&s.append("moduleId",o.toString()),(r==="Module"?this.documentService.uploadModuleDocument(s):this.documentService.uploadRepositoryDocument(s)).subscribe({next:()=>{this.toastr.success("Document uploaded successfully."),this.onUpload.emit(),this.justSaved=!0,this.uploadForm.markAsPristine(),this.uploadForm.reset(),this.originalHide()},error:l=>{console.error("Upload error:",l),this.toastr.error(l?.error||"Upload failed. Please try again.")}})}static{this.\u0275fac=function(i){return new(i||t)(ee(Vl),ee(Hd),ee($d),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-upload-document-modal"]],inputs:{formData:"formData"},outputs:{onUpload:"onUpload"},standalone:!0,features:[rr,Ye],decls:22,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"mb-3"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","file",1,"form-label"],["type","file","id","file",1,"form-control",3,"change"],[1,"form-text"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(i,r){if(i&1&&(_(0,"div",0)(1,"h5",1),x(2,"Upload Document"),y(),_(3,"button",2),te("click",function(){return r.attemptClose()}),y()(),_(4,"form",3),te("ngSubmit",function(){return r.upload()}),_(5,"div",4)(6,"div",5)(7,"label",6),x(8,"Document Title"),y(),tt(9,"input",7),Ie(10,o$,2,0,"div",8),y(),_(11,"div",5)(12,"label",9),x(13,"Select File"),y(),_(14,"input",10),te("change",function(s){return r.onFileSelected(s)}),y(),_(15,"div",11),x(16,"Accepted formats: PDF, DOCX, images, etc."),y()()(),_(17,"div",12)(18,"button",13),te("click",function(){return r.attemptClose()}),x(19,"Cancel"),y(),_(20,"button",14),x(21,"Upload"),y()()()),i&2){let o,s;D(4),K("formGroup",r.uploadForm),D(5),K("ngClass",Es(4,r$,((o=r.uploadForm.get("title"))==null?null:o.invalid)&&((o=r.uploadForm.get("title"))==null?null:o.touched))),D(),K("ngIf",((s=r.uploadForm.get("title"))==null?null:s.invalid)&&((s=r.uploadForm.get("title"))==null?null:s.touched)),D(10),K("disabled",r.uploadForm.invalid)}},dependencies:[na,Di,An,en,xi,Ha,$a,on,hr],styles:[".modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6}"]})}}return t})();var jv=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl+"repository"}getExternalRepositories(e,i){let r=Hl(e,i);return this.http.get(`${this.baseUrl}/external`,{observe:"response",params:r})}addExternalRepository(e,i=!1){let r=new FormData;return r.append("label",e.label),r.append("linkUrl",e.linkUrl),r.append("useDefault",i.toString()),e.image&&!i&&r.append("image",e.image),this.http.post(`${this.baseUrl}/external`,r)}deleteExternalRepository(e){return this.http.delete(`${this.baseUrl}/external/${e}`)}getInternalRepositoryDocs(e,i){let r=Hl(e,i);return this.http.get(`${this.baseUrl}`,{observe:"response",params:r})}uploadToRepository(e){return this.http.post(`${this.baseUrl}/upload`,e)}deleteRepositoryDocument(e){return this.http.delete(`${this.baseUrl}/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rN=(()=>{class t{constructor(e,i,r,o,s,a){this.bsModalRef=e,this.fb=i,this.repoService=r,this.toastr=o,this.bsModalService=s,this.elRef=a,this.imageFile=null,this.onAdd=new xt,this.justSaved=!1,this.modalEl=null,this.form=this.fb.group({label:["",Jn.required],linkUrl:["",[Jn.required,Jn.pattern(/^https?:\/\/.+/)]]}),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:this.form?.dirty||!!this.imageFile}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}onFileSelected(e){let i=e.target;i.files&&i.files.length>0?this.imageFile=i.files[0]:this.imageFile=null}submit(){if(this.form.invalid)return;let e={id:0,label:this.form.get("label")?.value,linkUrl:this.form.get("linkUrl")?.value,image:this.imageFile||void 0},i=!this.imageFile;this.repoService.addExternalRepository(e,i).subscribe({next:()=>{this.toastr.success("External repository added successfully."),this.onAdd.emit(),this.justSaved=!0,this.form.markAsPristine(),this.originalHide()},error:()=>this.toastr.error("Failed to add external repository.")})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(ee(Ln),ee(Vl),ee(jv),ee(tn),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-add-repository-modal"]],outputs:{onAdd:"onAdd"},standalone:!0,features:[Ye],decls:28,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","label",1,"form-label"],["type","text","id","label","formControlName","label","placeholder","e.g., SpringerLink",1,"form-control"],["for","image",1,"form-label"],["type","file","id","image","accept",".png, .jpg, .jpeg",1,"form-control",3,"change"],[1,"form-text","text-muted"],["for","linkUrl",1,"form-label"],["type","url","id","linkUrl","formControlName","linkUrl","placeholder","e.g., https://link.springer.com/",1,"form-control"],[1,"modal-footer","px-0"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h5",1),x(2,"Add External Repository"),y(),_(3,"button",2),te("click",function(){return r.cancel()}),y()(),_(4,"div",3)(5,"form",4),te("ngSubmit",function(){return r.submit()}),_(6,"div",5)(7,"label",6),x(8,"Repository Name"),y(),tt(9,"input",7),y(),_(10,"div",5)(11,"label",8),x(12,"Repository Image"),y(),_(13,"input",9),te("change",function(s){return r.onFileSelected(s)}),y(),_(14,"div",10),x(15," Optional. If no image is selected, "),_(16,"code"),x(17,"/assets/database.png"),y(),x(18," will be used by default. "),y()(),_(19,"div",5)(20,"label",11),x(21,"Repository Link"),y(),tt(22,"input",12),y(),_(23,"div",13)(24,"button",14),te("click",function(){return r.cancel()}),x(25,"Cancel"),y(),_(26,"button",15),x(27,"Add"),y()()()()),i&2&&(D(5),K("formGroup",r.form),D(21),K("disabled",r.form.invalid))},dependencies:[bt,na,Di,An,en,xi,Ha,$a],styles:["input.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.modal-body[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:1.25rem}"]})}}return t})();var Fv=(()=>{class t{constructor(e){this.bsModalRef=e,this.title="Confirm Deletion",this.message="Are you sure you want to delete this notification?",this.onConfirm=()=>{}}confirm(){this.bsModalRef.hide(),this.onConfirm&&this.onConfirm()}cancel(){this.bsModalRef.hide()}static{this.\u0275fac=function(i){return new(i||t)(ee(Ln))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-confirm-delete-modal"]],standalone:!0,features:[Ye],decls:11,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h5",1),x(2),y()(),_(3,"div",2)(4,"p"),x(5),y()(),_(6,"div",3)(7,"button",4),te("click",function(){return r.cancel()}),x(8,"Cancel"),y(),_(9,"button",5),te("click",function(){return r.confirm()}),x(10,"Delete"),y()()),i&2&&(D(2),qe(r.title),D(3),qe(r.message))},dependencies:[bt],styles:[".modal-title[_ngcontent-%COMP%]{font-weight:600}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}"]})}}return t})();var oN=()=>[];function s$(t,n){if(t&1){let e=We();_(0,"button",13),te("click",function(){ae(e);let r=ne();return le(r.openAddRepositoryModal())}),x(1," + Add Repository "),y()}}function a$(t,n){if(t&1){let e=We();_(0,"button",22),te("click",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.deleteExternalRepository(r.id))}),x(1," \xD7 "),y()}}function l$(t,n){if(t&1&&(Zn(0),_(1,"div",14)(2,"div",15)(3,"a",16),tt(4,"img",17),_(5,"div",18)(6,"h5",19),x(7),y(),_(8,"p",20),x(9),y()()(),Ie(10,a$,2,0,"button",21),y()(),Qn()),t&2){let e=n.$implicit,i=ne();D(3),K("href",e.linkUrl,Zs),D(),K("src",e.imageUrl||"/assets/database.png",Zs)("alt",e.label+" logo"),D(3),qe(e.label),D(2),Bt("Visit ",e.label,""),D(),K("ngIf",i.hasRepoManagementRights())}}function c$(t,n){if(t&1){let e=We();_(0,"li",25)(1,"a",26),te("click",function(){let r=ae(e).index,o=ne(2);return le(o.pageChangedExternal(r+1))}),x(2),y()()}if(t&2){let e=n.index,i=ne(2);$t("active",i.externalPagination.currentPage===e+1),D(2),qe(e+1)}}function u$(t,n){if(t&1){let e=We();_(0,"nav",23)(1,"ul",24)(2,"li",25)(3,"a",26),te("click",function(){ae(e);let r=ne();return le(r.pageChangedExternal(r.externalPagination.currentPage-1))}),x(4,"Previous"),y()(),Ie(5,c$,3,3,"li",27),_(6,"li",25)(7,"a",26),te("click",function(){ae(e);let r=ne();return le(r.pageChangedExternal(r.externalPagination.currentPage+1))}),x(8,"Next"),y()()()()}if(t&2){let e=ne();D(2),$t("disabled",e.externalPagination.currentPage===1),D(3),K("ngForOf",fr(5,oN).constructor(e.externalPagination.totalPages)),D(),$t("disabled",e.externalPagination.currentPage===e.externalPagination.totalPages)}}function d$(t,n){if(t&1){let e=We();_(0,"button",28),te("click",function(){ae(e);let r=ne();return le(r.openUploadModal())}),x(1," Upload Document "),y()}}function f$(t,n){if(t&1){let e=We();_(0,"button",31),te("click",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.deleteDocument(r.id))}),x(1," Delete "),y()}}function h$(t,n){if(t&1&&(_(0,"tr")(1,"td"),x(2),y(),_(3,"td"),x(4),y(),_(5,"td"),x(6),Qo(7,"date"),y(),_(8,"td",11)(9,"a",29),x(10," Download "),y(),Ie(11,f$,2,0,"button",30),y()()),t&2){let e=n.$implicit,i=ne();D(2),qe(e.title),D(2),qe(e.uploadedBy),D(2),qe(Oa(7,5,e.uploadedAt,"medium")),D(3),K("href",e.filePath,Zs),D(2),K("ngIf",i.hasUploadRights())}}function p$(t,n){t&1&&(_(0,"tr")(1,"td",32),x(2,"No documents found."),y()())}function m$(t,n){if(t&1){let e=We();_(0,"li",25)(1,"a",26),te("click",function(){let r=ae(e).index,o=ne(2);return le(o.pageChangedInternal(r+1))}),x(2),y()()}if(t&2){let e=n.index,i=ne(2);$t("active",i.internalPagination.currentPage===e+1),D(2),qe(e+1)}}function g$(t,n){if(t&1){let e=We();_(0,"nav",23)(1,"ul",24)(2,"li",25)(3,"a",26),te("click",function(){ae(e);let r=ne();return le(r.pageChangedInternal(r.internalPagination.currentPage-1))}),x(4,"Previous"),y()(),Ie(5,m$,3,3,"li",27),_(6,"li",25)(7,"a",26),te("click",function(){ae(e);let r=ne();return le(r.pageChangedInternal(r.internalPagination.currentPage+1))}),x(8,"Next"),y()()()()}if(t&2){let e=ne();D(2),$t("disabled",e.internalPagination.currentPage===1),D(3),K("ngForOf",fr(5,oN).constructor(e.internalPagination.totalPages)),D(),$t("disabled",e.internalPagination.currentPage===e.internalPagination.totalPages)}}var sN=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.documentService=i,this.repositoryService=r,this.modalService=o,this.accountService=s,this.toastr=a,this.externalRepos=[],this.internalDocuments=[],this.externalPagination=null,this.internalPagination=null,this.externalPageNumber=1,this.internalPageNumber=1,this.pageSize=6,this.roles=[]}ngOnInit(){this.roles=this.accountService.roles(),this.loadInternalDocuments(),this.loadExternalRepositories()}loadInternalDocuments(){this.documentService.getInternalRepositoryDocuments(this.internalPageNumber,this.pageSize).subscribe({next:e=>{this.internalDocuments=e.body??[];let i=e.headers.get("Pagination");i&&(this.internalPagination=JSON.parse(i))},error:e=>{console.error("Failed to load internal documents",e),this.toastr.error("Failed to load internal documents.")}})}loadExternalRepositories(){this.repositoryService.getExternalRepositories(this.externalPageNumber,this.pageSize).subscribe({next:e=>{this.externalRepos=e.body??[];let i=e.headers.get("Pagination");i&&(this.externalPagination=JSON.parse(i))},error:e=>{console.error("Failed to load external repositories",e),this.toastr.error("Failed to load external repositories.")}})}pageChangedExternal(e){this.externalPageNumber=e,this.loadExternalRepositories()}pageChangedInternal(e){this.internalPageNumber=e,this.loadInternalDocuments()}openUploadModal(){let e={formData:{source:"Repository",moduleId:null}};this.bsModalRef=this.modalService.show(Rv,{initialState:e}),this.bsModalRef.content.onUpload.subscribe(()=>this.loadInternalDocuments())}openAddRepositoryModal(){this.bsModalRef=this.modalService.show(rN),this.bsModalRef.content.onAdd.subscribe(()=>this.loadExternalRepositories())}deleteDocument(e){this.documentService.deleteRepositoryDocument(e).subscribe({next:()=>{this.internalDocuments=this.internalDocuments.filter(i=>i.id!==e),this.loadInternalDocuments()},error:i=>{console.error("Failed to delete document",i),i.status===403||i.status===500?this.toastr.error("You are not authorized to delete this document."):this.toastr.error("Failed to delete the document. Please try again later.")}})}deleteExternalRepository(e){if(!this.hasRepoManagementRights())return;let i={title:"Confirm Repository Deletion",message:"Are you sure you want to delete this external repository?",onConfirm:()=>{this.repositoryService.deleteExternalRepository(e).subscribe({next:()=>{this.toastr.success("Repository removed successfully."),this.externalRepos.length===1&&this.externalPageNumber>1&&this.externalPageNumber--,this.loadExternalRepositories()},error:r=>{console.error("Failed to delete repository",r),this.toastr.error("Failed to delete repository.")}})}};this.bsModalRef=this.modalService.show(Fv,{initialState:i})}hasUploadRights(){return this.roles.includes("Lecturer")||this.roles.includes("Coordinator")||this.roles.includes("Admin")}hasRepoManagementRights(){return this.roles.includes("Coordinator")||this.roles.includes("Admin")}openInternalRepository(){this.router.navigate(["/repository"])}static{this.\u0275fac=function(i){return new(i||t)(ee(qn),ee(Hd),ee(jv),ee(gn),ee(mn),ee(tn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-repository"]],standalone:!0,features:[Ye],decls:30,vars:7,consts:[[1,"container","mt-4","repo-page"],[1,"mb-0"],[1,"d-flex","justify-content-between","align-items-center","mb-3","section-heading"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"row","repo-grid"],[4,"ngFor","ngForOf"],["class","mt-3 d-flex justify-content-center",4,"ngIf"],[1,"mt-5"],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"table","table-bordered","table-hover","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"col-md-4","mb-4"],[1,"card","h-100","text-center","shadow-sm","position-relative"],["target","_blank","rel","noopener noreferrer",1,"text-decoration-none","text-dark",3,"href"],[1,"card-img-top","mx-auto","d-block","p-3",2,"max-height","120px",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted"],["class","btn-delete-top-right position-absolute top-0 end-0 m-2","type","button","aria-label","Delete Repository",3,"click",4,"ngIf"],["type","button","aria-label","Delete Repository",1,"btn-delete-top-right","position-absolute","top-0","end-0","m-2",3,"click"],[1,"mt-3","d-flex","justify-content-center"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-sm","btn-success","me-2",3,"href"],["class","btn btn-sm btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["colspan","4",1,"text-center","text-muted"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h2",1),x(2,"Repository"),y(),_(3,"div",2)(4,"h5",1),x(5,"External Repository Links"),y(),Ie(6,s$,2,0,"button",3),y(),_(7,"div",4),Ie(8,l$,11,6,"ng-container",5),y(),Ie(9,u$,9,6,"nav",6),_(10,"div",7)(11,"div",2)(12,"h5",1),x(13,"Internal Repository Documents"),y(),Ie(14,d$,2,0,"button",8),y(),_(15,"table",9)(16,"thead",10)(17,"tr")(18,"th"),x(19,"Title"),y(),_(20,"th"),x(21,"Uploaded By"),y(),_(22,"th"),x(23,"Date"),y(),_(24,"th",11),x(25,"Actions"),y()()(),_(26,"tbody"),Ie(27,h$,12,8,"tr",5)(28,p$,3,0,"tr",12),y()(),Ie(29,g$,9,6,"nav",6),y()()),i&2&&(D(6),K("ngIf",r.hasRepoManagementRights()),D(2),K("ngForOf",r.externalRepos),D(),K("ngIf",r.externalPagination),D(5),K("ngIf",r.hasUploadRights()),D(13),K("ngForOf",r.internalDocuments),D(),K("ngIf",r.internalDocuments.length===0),D(),K("ngIf",r.internalPagination))},dependencies:[bt,hn,on,Al],styles:['.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);transition:transform .2s ease-in-out}.card[_ngcontent-%COMP%]{box-shadow:0 .25rem .5rem #0000000d}.btn-sm[_ngcontent-%COMP%]{padding:.35rem .65rem}.card-img-top[_ngcontent-%COMP%]{object-fit:scale-down;height:100px}.btn-delete-top-right[_ngcontent-%COMP%]{background-color:#fff;border:none;color:#000;font-weight:700;font-size:.85rem;line-height:1;width:26px;height:26px;border-radius:5px;padding:0;display:flex;justify-content:center;align-items:center}.btn-delete-top-right[_ngcontent-%COMP%]:hover{background-color:#0b5ed7}.repo-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .repo-page[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{margin-bottom:2rem!important;display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.repo-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.repo-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{margin-top:1.25rem}.repo-page[_ngcontent-%COMP%]   .repo-grid[_ngcontent-%COMP%]{--bs-gutter-x: 1.25rem;--bs-gutter-y: 1.25rem}.repo-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#000!important;font-weight:700!important}']})}}return t})();var Lv=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl}getAllFaqs(e){let i=new es().set("pageNumber",e.pageNumber.toString()).set("pageSize",e.pageSize.toString());return this.http.get(`${this.baseUrl}faq`,{observe:"response",params:i})}createFaq(e){return this.http.post(`${this.baseUrl}faq/create`,e)}updateFaq(e,i){return this.http.put(`${this.baseUrl}faq/update/${e}`,i)}deleteFaq(e){return this.http.delete(`${this.baseUrl}faq/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var v$=["faqForm"],lN=(()=>{class t{constructor(e,i,r,o,s){this.bsModalRef=e,this.faqService=i,this.toastr=r,this.bsModalService=o,this.elRef=s,this.mode="create",this.question="",this.answer="",this.justSaved=!1,this.modalEl=null}ngOnInit(){this.mode==="edit"&&this.faq&&(this.question=this.faq.question,this.answer=this.faq.answer),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:!!this.faqForm?.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(!this.question.trim()||!this.answer.trim()){this.toastr.error("Both question and answer are required.");return}let e={question:this.question,answer:this.answer};this.mode==="edit"&&this.faq?this.faqService.updateFaq(this.faq.id,e).subscribe({next:()=>{this.toastr.success("FAQ updated successfully."),this.justSaved=!0,this.originalHide()},error:()=>this.toastr.error("Failed to update FAQ.")}):this.faqService.createFaq(e).subscribe({next:()=>{this.toastr.success("FAQ created successfully."),this.justSaved=!0,this.originalHide()},error:()=>this.toastr.error("Failed to create FAQ.")})}static{this.\u0275fac=function(i){return new(i||t)(ee(Ln),ee(Lv),ee(tn),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-faq-modal"]],viewQuery:function(i,r){if(i&1&&sr(v$,5),i&2){let o;Fi(o=Li())&&(r.faqForm=o.first)}},inputs:{mode:"mode",faq:"faq"},standalone:!0,features:[Ye],decls:22,vars:5,consts:[["faqForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","question",1,"form-label"],["id","question","rows","3","name","question","placeholder","Type your question...",1,"form-control",3,"ngModelChange","ngModel"],["for","answer",1,"form-label"],["id","answer","rows","4","name","answer","placeholder","Type your answer...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-end"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"]],template:function(i,r){if(i&1){let o=We();_(0,"div",1)(1,"h5",2),x(2),y(),_(3,"button",3),te("click",function(){return ae(o),le(r.attemptClose())}),y()(),_(4,"div",4)(5,"form",null,0)(7,"div",5)(8,"label",6)(9,"strong"),x(10,"Question"),y()(),_(11,"textarea",7),st("ngModelChange",function(a){return ae(o),lt(r.question,a)||(r.question=a),le(a)}),y()(),_(12,"div",5)(13,"label",8)(14,"strong"),x(15,"Answer"),y()(),_(16,"textarea",9),st("ngModelChange",function(a){return ae(o),lt(r.answer,a)||(r.answer=a),le(a)}),y()(),_(17,"div",10)(18,"button",11),te("click",function(){return ae(o),le(r.attemptClose())}),x(19,"Cancel"),y(),_(20,"button",12),te("click",function(){return ae(o),le(r.submit())}),x(21),y()()()()}i&2&&(D(2),Bt(" ",r.mode==="edit"?"Edit FAQ":"Add New FAQ"," "),D(9),ot("ngModel",r.question),D(5),ot("ngModel",r.answer),D(4),K("disabled",!r.question.trim()||!r.answer.trim()),D(),Bt(" ",r.mode==="edit"?"Update FAQ":"Add FAQ"," "))},dependencies:[bt,En,Di,An,en,xi,Mn,qr]})}}return t})();var y$=()=>[];function _$(t,n){if(t&1){let e=We();_(0,"div",12)(1,"button",13),te("click",function(){ae(e);let r=ne();return le(r.openEditModal())}),x(2,"Add FAQ"),y()()}}function b$(t,n){if(t&1&&(_(0,"div")(1,"p",23),x(2),y()()),t&2){let e=ne(2).$implicit;D(2),qe(e.answer)}}function w$(t,n){t&1&&(_(0,"p",24),x(1,"No answer yet"),y())}function C$(t,n){if(t&1){let e=We();_(0,"div",25)(1,"button",26),te("click",function(){ae(e);let r=ne(2).$implicit,o=ne();return le(o.openEditModal(r))}),x(2,"\u270F\uFE0F Edit"),y(),_(3,"button",27),te("click",function(){ae(e);let r=ne(2).$implicit,o=ne();return le(o.deleteFaq(r.id))}),x(4,"\u{1F5D1}\uFE0F Delete"),y()()}}function S$(t,n){if(t&1){let e=We();_(0,"div",20),te("click",function(r){return ae(e),le(r.stopPropagation())}),Ie(1,b$,3,1,"div",21)(2,w$,2,0,"ng-template",null,0,Dl)(4,C$,5,0,"div",22),y()}if(t&2){let e=xl(3),i=ne().$implicit,r=ne();D(),K("ngIf",i.answer)("ngIfElse",e),D(3),K("ngIf",r.isAdmin())}}function E$(t,n){if(t&1){let e=We();_(0,"div",14),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.toggleFaq(r.id))}),_(1,"div",15)(2,"div",16),x(3),y(),_(4,"div",17),tt(5,"i",18),y()(),Ie(6,S$,5,3,"div",19),y()}if(t&2){let e=n.$implicit,i=ne();D(3),Bt(" ",e.question," "),D(2),K("ngClass",i.openFaqId===e.id?"bi-chevron-up":"bi-chevron-down"),D(),K("ngIf",i.openFaqId===e.id)}}function x$(t,n){if(t&1){let e=We();_(0,"li",29)(1,"a",30),te("click",function(){let r=ae(e).index,o=ne(2);return le(o.pageChanged(r+1))}),x(2),y()()}if(t&2){let e=n.index,i=ne(2);$t("active",i.pagination.currentPage===e+1),D(2),qe(e+1)}}function D$(t,n){if(t&1){let e=We();_(0,"nav")(1,"ul",28)(2,"li",29)(3,"a",30),te("click",function(){ae(e);let r=ne();return le(r.pageChanged(r.pagination.currentPage-1))}),x(4,"Previous"),y()(),Ie(5,x$,3,3,"li",31),_(6,"li",29)(7,"a",30),te("click",function(){ae(e);let r=ne();return le(r.pageChanged(r.pagination.currentPage+1))}),x(8,"Next"),y()()()()}if(t&2){let e=ne();D(2),$t("disabled",e.pagination.currentPage===1),D(3),K("ngForOf",fr(5,y$).constructor(e.pagination.totalPages)),D(),$t("disabled",e.pagination.currentPage===e.pagination.totalPages)}}var cN=(()=>{class t{constructor(e,i,r,o){this.faqService=e,this.toastr=i,this.modalService=r,this.accountService=o,this.faqs=[],this.filteredFaqs=[],this.pagination=null,this.pageNumber=1,this.pageSize=10,this.userRole="",this.openFaqId=null,this.searchTerm=""}ngOnInit(){this.userRole=this.accountService.getUserRole(),this.loadFaqs()}loadFaqs(){if(this.searchTerm.trim().length>0){this.loadAllFaqsForSearch();return}this.faqService.getAllFaqs({pageNumber:this.pageNumber,pageSize:this.pageSize}).subscribe({next:i=>{this.faqs=i.body??[],this.applyFilter();let r=i.headers.get("Pagination");r&&(this.pagination=JSON.parse(r))},error:()=>this.toastr.error("Failed to load FAQs")})}loadAllFaqsForSearch(){this.faqService.getAllFaqs({pageNumber:1,pageSize:this.pageSize}).subscribe({next:e=>{let i=e.headers.get("Pagination"),r=e.body??[];if(!i){this.faqs=r,this.pagination=null,this.applyFilter();return}let s=JSON.parse(i).totalPages||1;if(s===1){this.faqs=r,this.pagination=null,this.applyFilter();return}let a=[];for(let l=2;l<=s;l++)a.push(this.faqService.getAllFaqs({pageNumber:l,pageSize:this.pageSize}));Vf(a).subscribe({next:l=>{let c=l.flatMap(d=>d.body??[]);this.faqs=[...r,...c],this.pagination=null,this.applyFilter()},error:()=>{this.faqs=r,this.pagination=null,this.applyFilter(),this.toastr.error("Some results could not be loaded while searching.")}})},error:()=>this.toastr.error("Failed to load FAQs")})}pageChanged(e){this.pagination&&(e<1||e>this.pagination.totalPages||(this.pageNumber=e,this.loadFaqs()))}openEditModal(e){let i=e?{faq:e,mode:"edit"}:{mode:"create"};this.bsModalRef=this.modalService.show(lN,{initialState:i}),this.bsModalRef.onHidden?.subscribe(()=>{this.loadFaqs()})}deleteFaq(e){let i={title:"Confirm Deletion",message:"Are you sure you want to delete this FAQ entry?",onConfirm:()=>{this.faqService.deleteFaq(e).subscribe({next:()=>{this.toastr.success("FAQ deleted"),this.loadFaqs()},error:()=>this.toastr.error("Failed to delete FAQ")})}};this.bsModalRef=this.modalService.show(Fv,{initialState:i})}toggleFaq(e){this.openFaqId=this.openFaqId===e?null:e}isAdmin(){return this.userRole==="Admin"}onSearchChange(){this.loadFaqs(),this.openFaqId&&!this.filteredFaqs.some(e=>e.id===this.openFaqId)&&(this.openFaqId=null)}clearSearch(){this.searchTerm="",this.pageNumber=1,this.loadFaqs()}applyFilter(){let e=this.searchTerm.trim().toLowerCase();if(!e){this.filteredFaqs=[...this.faqs];return}this.filteredFaqs=this.faqs.filter(i=>[i.question??"",i.answer??"",i.createdByName??"",i.authorName??"",i.createdBy??"",i.author??""].join(" ").toLowerCase().includes(e))}static{this.\u0275fac=function(i){return new(i||t)(ee(Lv),ee(tn),ee(gn),ee(mn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-faq"]],standalone:!0,features:[Ye],decls:12,vars:4,consts:[["noAnswer",""],[1,"faq-shell"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"faq-title","mb-0"],[1,"search-wrap"],[1,"input-group","search-group"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"input-group-text","search-icon"],[1,"bi","bi-search"],["class","mb-3 text-end",4,"ngIf"],["class","faq-item card mb-3",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mb-3","text-end"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"faq-item","card","mb-3",3,"click"],[1,"faq-row"],[1,"faq-question"],[1,"faq-chevron"],[1,"bi",3,"ngClass"],["class","faq-body",3,"click",4,"ngIf"],[1,"faq-body",3,"click"],[4,"ngIf","ngIfElse"],["class","faq-actions",4,"ngIf"],[1,"mb-0"],[1,"mb-0","text-muted","fst-italic"],[1,"faq-actions"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(_(0,"div",1)(1,"div",2)(2,"h1",3),x(3,"FAQ"),y(),_(4,"div",4)(5,"div",5)(6,"input",6),st("ngModelChange",function(s){return lt(r.searchTerm,s)||(r.searchTerm=s),s}),te("input",function(){return r.onSearchChange()}),y(),_(7,"span",7),tt(8,"i",8),y()()()(),Ie(9,_$,3,0,"div",9)(10,E$,7,3,"div",10)(11,D$,9,6,"nav",11),y()),i&2&&(D(6),ot("ngModel",r.searchTerm),D(3),K("ngIf",r.isAdmin()),D(),K("ngForOf",r.filteredFaqs),D(),K("ngIf",r.pagination))},dependencies:[bt,hr,hn,on,En,An,en,Mn,X0],styles:['.faq-shell[_ngcontent-%COMP%]{max-width:980px;margin:0 auto;background:#f6f6f6;padding:24px;border-radius:18px;box-shadow:0 10px 20px #0000000f}.faq-title[_ngcontent-%COMP%]{font-weight:800;letter-spacing:.5px;color:#000!important;display:inline-block;position:relative;padding-bottom:.25rem}.faq-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.search-wrap[_ngcontent-%COMP%]{min-width:320px}.search-group[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;background:#fff;box-shadow:inset 0 0 0 1px #e6e6e6}.search-input[_ngcontent-%COMP%]{border:none!important;background:transparent!important;padding:12px 16px}.search-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.search-icon[_ngcontent-%COMP%]{border:none;background:transparent}.faq-item.card[_ngcontent-%COMP%]{border:none;border-radius:16px;background:#fff;box-shadow:0 8px 18px #00000012;cursor:pointer;transition:transform .08s ease,box-shadow .2s ease}.faq-item.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 22px #00000014}.faq-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px;padding:16px 20px}.faq-question[_ngcontent-%COMP%]{font-weight:700;color:#1e1e1e;font-size:1.2rem}.faq-chevron[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;color:#8b8b8b}.faq-body[_ngcontent-%COMP%]{position:relative;padding:16px 20px 56px;border-top:1px solid #f0f0f0;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px}.faq-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.6}.faq-actions[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:12px}.btn.btn-sm[_ngcontent-%COMP%]{padding:4px 10px;font-size:.85rem}@media (max-width: 576px){.search-wrap[_ngcontent-%COMP%]{min-width:0;width:100%}.faq-shell[_ngcontent-%COMP%]{padding:16px}.faq-row[_ngcontent-%COMP%]{padding:14px 16px}.faq-body[_ngcontent-%COMP%]{padding:14px 16px 56px}}']})}}return t})();var iP=n1(yy());var _y=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl+"scheduler/"}getClassSchedule(e){return this.http.get(`${this.baseUrl}class/${e}`)}getAssessmentSchedule(e){return this.http.get(`${this.baseUrl}assessment/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var CG=()=>[],nP=t=>({"background-color":t});function SG(t,n){t&1&&(_(0,"div",8),x(1," Nothing scheduled. "),y())}function EG(t,n){if(t&1&&(_(0,"th",17),x(1),y()),t&2){let e=n.$implicit;D(),qe(e)}}function xG(t,n){t&1&&(Zn(0),_(1,"th"),x(2,"Code"),y(),_(3,"th"),x(4,"Venue"),y(),Qn())}function DG(t,n){if(t&1&&(_(0,"td")(1,"strong"),x(2),y()()),t&2){let e=ne(2).$implicit,i=ne(2);Dn("rowspan",i.getMaxEntriesForBlock(e)),D(2),qe(i.formatTime(e.startTime))}}function MG(t,n){if(t&1&&(_(0,"td")(1,"strong"),x(2),y()()),t&2){let e=ne(2).$implicit,i=ne(2);Dn("rowspan",i.getMaxEntriesForBlock(e)),D(2),qe(i.formatTime(e.endTime))}}function IG(t,n){if(t&1&&(Zn(0),_(1,"td",22),x(2),y(),_(3,"td",22),x(4),y(),Qn()),t&2){let e=ne().$implicit,i=ne().index,r=ne().$implicit,o=ne(2);D(),K("ngStyle",Es(4,nP,o.getColorForModule(o.getModulesByBlock(r,e)[i].moduleCode))),D(),Bt(" ",o.getModulesByBlock(r,e)[i].moduleCode," "),D(),K("ngStyle",Es(6,nP,o.getColorForModule(o.getModulesByBlock(r,e)[i].moduleCode))),D(),Bt(" ",o.getModulesByBlock(r,e)[i].venue||"-"," ")}}function AG(t,n){t&1&&(Zn(0),_(1,"td"),x(2,"-"),y(),_(3,"td"),x(4,"-"),y(),Qn())}function TG(t,n){if(t&1&&(Zn(0),Ie(1,IG,5,8,"ng-container",21)(2,AG,5,0,"ng-container",21),Qn()),t&2){let e=n.$implicit,i=ne().index,r=ne().$implicit,o=ne(2);D(),K("ngIf",o.getModulesByBlock(r,e).length>i),D(),K("ngIf",o.getModulesByBlock(r,e).length<=i)}}function NG(t,n){if(t&1&&(Zn(0),_(1,"tr",20),Ie(2,DG,3,2,"td",21)(3,MG,3,2,"td",21)(4,TG,3,2,"ng-container",19),y(),Qn()),t&2){let e=n.index,i=ne(3);D(2),K("ngIf",e===0),D(),K("ngIf",e===0),D(),K("ngForOf",i.weekdays)}}function kG(t,n){if(t&1&&(Zn(0),Ie(1,NG,5,3,"ng-container",19),Qn()),t&2){let e=n.$implicit,i=ne(2);D(),K("ngForOf",fr(1,CG).constructor(i.getMaxEntriesForBlock(e)))}}function PG(t,n){if(t&1&&(_(0,"div",9)(1,"div",10),tt(2,"img",11),y(),_(3,"div",12)(4,"div",13),x(5,"Class Schedule"),y(),_(6,"div",14),x(7),y()(),_(8,"table",15)(9,"thead",16)(10,"tr")(11,"th",17),x(12,"Time"),y(),Ie(13,EG,2,1,"th",18),y(),_(14,"tr")(15,"th"),x(16,"Start"),y(),_(17,"th"),x(18,"End"),y(),Ie(19,xG,5,0,"ng-container",19),y()(),_(20,"tbody"),Ie(21,kG,2,2,"ng-container",19),y()()()),t&2){let e=ne();D(7),qe(e.userFullName),D(6),K("ngForOf",e.weekdays),D(6),K("ngForOf",e.weekdays),D(2),K("ngForOf",e.timeBlocks)}}var rP=(()=>{class t{constructor(e,i){this.schedulerService=e,this.accountService=i,this.schedules=[],this.semester=1,this.weekdays=["Monday","Tuesday","Wednesday","Thursday","Friday"],this.timeBlocks=[],this.blockMap={}}ngOnInit(){this.loadSchedule()}get user(){return this.accountService.currentUser()}get userFullName(){let e=this.user||{},i=(...s)=>s.map(a=>(a??"").toString().trim()).find(a=>a.length>0)||"",r=i(e.name),o=i(e.surname);return r&&o?`${r} ${o}`:r||o||i(e.displayName,e.username,e.userName)}loadSchedule(){this.schedulerService.getClassSchedule(this.semester).subscribe({next:e=>{this.schedules=e,this.generateTimeBlocks(),this.buildBlockMap()},error:e=>console.error(e)})}onSemesterChange(){this.loadSchedule()}generateTimeBlocks(){let e=new Set,i=[];for(let r of this.schedules){if(!r.startTime||!r.endTime)continue;let o=`${r.startTime}-${r.endTime}`;e.has(o)||(e.add(o),i.push({startTime:r.startTime,endTime:r.endTime}))}this.timeBlocks=i.sort((r,o)=>r.startTime.localeCompare(o.startTime))}buildBlockMap(){this.blockMap={};for(let e of this.timeBlocks)for(let i of this.weekdays){let r=`${e.startTime}-${e.endTime}-${i}`,o=[];for(let s of this.schedules)s.weekDay?.toLowerCase()!==i.toLowerCase()||!(s.startTime===e.startTime&&s.endTime===e.endTime)||o.some(l=>l.moduleCode===s.moduleCode)||o.push({moduleCode:s.moduleCode,venue:s.venue});this.blockMap[r]=o}}getModulesByBlock(e,i){return this.blockMap[`${e.startTime}-${e.endTime}-${i}`]||[]}getMaxEntriesForBlock(e){return Math.max(...this.weekdays.map(i=>this.getModulesByBlock(e,i).length),1)}getColorForModule(e){let i=["#e3f2fd","#e8f5e9","#fff3e0","#fce4ec","#ede7f6","#f3e5f5","#f9fbe7","#e0f7fa","#ffe0b2","#c8e6c9","#d1c4e9","#b2ebf2"],r=e.toUpperCase().split("").reduce((o,s)=>o+s.charCodeAt(0),0);return i[r%i.length]}downloadScheduleAsPdf(){let e=document.getElementById("pdfContent");e&&(0,iP.default)().set({margin:.5,filename:"Class_Schedule.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"landscape"},pagebreak:{mode:["css","legacy"]}}).from(e).save()}formatTime(e){if(!e)return"-";let[i,r]=e.split(":");return`${i}:${r}`}static{this.\u0275fac=function(i){return new(i||t)(ee(_y),ee(mn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-class-schedule"]],standalone:!0,features:[Ye],decls:14,vars:6,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3","no-print"],["for","semester",1,"filter-label"],["id","semester",1,"form-select","d-inline-block","w-auto","ms-2","filter-select",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"btn","btn-success",3,"click","disabled"],["class","alert alert-info text-center py-4",4,"ngIf"],["id","pdfContent","class","mt-3 p-4 bg-white",4,"ngIf"],[1,"alert","alert-info","text-center","py-4"],["id","pdfContent",1,"mt-3","p-4","bg-white"],[1,"logo-row","keep-with-next"],["src","assets/ufslogo.jpg","alt","UFS Logo",1,"pdf-logo-top"],[1,"table-topbar","keep-with-next"],[1,"topbar-title"],[1,"topbar-user"],[1,"table","table-bordered","text-center","align-middle"],[1,"table-light"],["colspan","2"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"avoid-break"],[4,"ngIf"],[3,"ngStyle"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"div")(3,"label",2),x(4,"Semester:"),y(),_(5,"select",3),st("ngModelChange",function(s){return lt(r.semester,s)||(r.semester=s),s}),te("change",function(){return r.onSemesterChange()}),_(6,"option",4),x(7,"Semester 1"),y(),_(8,"option",4),x(9,"Semester 2"),y()()(),_(10,"button",5),te("click",function(){return r.downloadScheduleAsPdf()}),x(11," Download (PDF) "),y()(),Ie(12,SG,2,0,"div",6)(13,PG,22,4,"div",7),y()),i&2&&(D(5),ot("ngModel",r.semester),D(),K("value",1),D(2),K("value",2),D(2),K("disabled",r.timeBlocks.length===0),D(2),K("ngIf",r.timeBlocks.length===0),D(),K("ngIf",r.timeBlocks.length>0))},dependencies:[bt,hn,on,iI,En,Mi,Ii,fi,en,Mn],styles:[".logo-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:16px}.pdf-logo-top[_ngcontent-%COMP%]{max-width:clamp(220px,28vw,400px);width:100%;height:auto;display:block}.keep-with-next[_ngcontent-%COMP%]{page-break-after:avoid;break-after:avoid}.table-topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:6px}.topbar-title[_ngcontent-%COMP%], .topbar-user[_ngcontent-%COMP%]{font-size:24px;font-weight:600;white-space:nowrap}.topbar-user[_ngcontent-%COMP%]{text-align:right}.no-print[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{color:#000!important;font-weight:600!important}.no-print[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{color:#000!important;font-weight:400!important}#pdfContent[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;overflow:visible}#pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}#pdfContent[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #pdfContent[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-word}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;border:1px solid #000;padding:12px;font-size:16px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}@media print{thead[_ngcontent-%COMP%]{display:table-header-group}tfoot[_ngcontent-%COMP%]{display:table-footer-group}table[_ngcontent-%COMP%]{break-inside:auto;page-break-inside:auto}.btn[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}#pdfContent[_ngcontent-%COMP%]{page-break-inside:avoid}}"]})}}return t})();function OG(t,n){if(t&1&&(_(0,"small",23),x(1),y()),t&2){let e=ne();D(),Bt("(",e.weekLabel,")")}}function RG(t,n){if(t&1&&(_(0,"option",24),x(1),y()),t&2){let e=n.$implicit;K("value",e),D(),qe(e)}}function jG(t,n){if(t&1&&(_(0,"option",24),x(1),y()),t&2){let e=n.$implicit;K("value",e),D(),qe(e)}}function FG(t,n){if(t&1&&(_(0,"div",25),x(1," You are about to book: "),_(2,"strong"),x(3),y(),x(4,", "),_(5,"strong"),x(6),y(),x(7," \u2022 "),_(8,"strong"),x(9),y()()),t&2){let e=ne();D(3),qe(e.selectedDay),D(3),qe(e.resolvedDateHuman),D(3),qe(e.selectedTime)}}function LG(t,n){if(t&1&&(_(0,"div",26),x(1),y()),t&2){let e=ne();D(),qe(e.overlapMessage)}}function VG(t,n){if(t&1&&(_(0,"div",27),x(1),y()),t&2){let e=ne();D(),qe(e.serverError)}}var oP=(()=>{class t{constructor(){this.weekdays=[],this.availableTimeSlots=[],this.existingBookings=[],this.serverError=null,this.confirmBooking=new xt,this.cancel=new xt,this.selectedDay="",this.selectedTime="",this.description="",this.overlapMessage=null}dayToOffset(e){return{monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[(e||"").trim().toLowerCase()]??0}asDate(e){return e instanceof Date?new Date(e):new Date(e)}get resolvedDateIso(){if(!this.selectedDay)return null;let e=this.asDate(this.weekStart),i=new Date(e);i.setDate(i.getDate()+this.dayToOffset(this.selectedDay)),i.setHours(0,0,0,0);let r=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${r}-${o}-${s}`}get resolvedDateHuman(){if(!this.resolvedDateIso)return null;let e=new Date(this.resolvedDateIso),i=e.toLocaleString("default",{weekday:"short"}),r=e.toLocaleString("default",{month:"short"});return`${i} ${e.getDate()} ${r} ${e.getFullYear()}`}toMinutes(e){if(!e)return null;let i=e.slice(0,5),[r,o]=i.split(":").map(s=>+s);return Number.isNaN(r)||Number.isNaN(o)?null:r*60+o}overlaps(e,i,r,o){return Math.max(e,r)<Math.min(i,o)}recomputeOverlapMessage(){if(this.overlapMessage=null,!this.selectedDay||!this.selectedTime||!this.resolvedDateIso)return;let[e,i]=this.selectedTime.split(" - "),r=this.toMinutes(e)??0,o=this.toMinutes(i)??0;this.existingBookings.find(a=>{if(!a.bookingDate||!(a.bookingDate.slice(0,10)===this.resolvedDateIso))return!1;let c=this.toMinutes(a.startTime||null),d=this.toMinutes(a.endTime||null);return c==null||d==null?!1:this.overlaps(r,o,c,d)})&&(this.overlapMessage=`This time overlaps an existing booking on ${this.resolvedDateHuman}. Please adjust your time.`)}onDayChange(){this.serverError=null,this.recomputeOverlapMessage()}onTimeChange(){this.serverError=null,this.recomputeOverlapMessage()}submit(){this.recomputeOverlapMessage(),!this.overlapMessage&&this.selectedDay&&this.selectedTime&&this.confirmBooking.emit({day:this.selectedDay,time:this.selectedTime,description:this.description.trim()})}close(){this.cancel.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-book-lab-slot-modal"]],inputs:{weekdays:"weekdays",availableTimeSlots:"availableTimeSlots",weekStart:"weekStart",existingBookings:"existingBookings",weekLabel:"weekLabel",serverError:"serverError"},outputs:{confirmBooking:"confirmBooking",cancel:"cancel"},standalone:!0,features:[Ye],decls:32,vars:10,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["class","text-muted ms-2",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","daySelect",1,"form-label"],["id","daySelect","name","day",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","timeSelect",1,"form-label"],["id","timeSelect","name","time",1,"form-select",3,"ngModelChange","ngModel"],["class","alert alert-info py-2 mb-3",4,"ngIf"],["class","alert alert-danger py-2 mb-3",4,"ngIf"],["class","alert alert-danger py-2 mb-0",4,"ngIf"],[1,"mb-0","mt-3"],["for","description",1,"form-label"],["id","description","rows","2","name","description","placeholder","Why are you booking this slot?",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"text-muted","ms-2"],[3,"value"],[1,"alert","alert-info","py-2","mb-3"],[1,"alert","alert-danger","py-2","mb-3"],[1,"alert","alert-danger","py-2","mb-0"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),x(5," Book Lab Slot "),Ie(6,OG,2,1,"small",5),y(),_(7,"button",6),te("click",function(){return r.close()}),y()(),_(8,"div",7)(9,"form")(10,"div",8)(11,"label",9),x(12,"Select Day"),y(),_(13,"select",10),st("ngModelChange",function(s){return lt(r.selectedDay,s)||(r.selectedDay=s),s}),te("ngModelChange",function(){return r.onDayChange()}),Ie(14,RG,2,2,"option",11),y()(),_(15,"div",8)(16,"label",12),x(17,"Select Time"),y(),_(18,"select",13),st("ngModelChange",function(s){return lt(r.selectedTime,s)||(r.selectedTime=s),s}),te("ngModelChange",function(){return r.onTimeChange()}),Ie(19,jG,2,2,"option",11),y()(),Ie(20,FG,10,3,"div",14)(21,LG,2,1,"div",15)(22,VG,2,1,"div",16),_(23,"div",17)(24,"label",18),x(25,"Description (optional)"),y(),_(26,"textarea",19),st("ngModelChange",function(s){return lt(r.description,s)||(r.description=s),s}),y()()()(),_(27,"div",20)(28,"button",21),te("click",function(){return r.close()}),x(29,"Cancel"),y(),_(30,"button",22),te("click",function(){return r.submit()}),x(31," Confirm Booking "),y()()()()()),i&2&&(D(6),K("ngIf",r.weekLabel),D(7),ot("ngModel",r.selectedDay),D(),K("ngForOf",r.weekdays),D(4),ot("ngModel",r.selectedTime),D(),K("ngForOf",r.availableTimeSlots),D(),K("ngIf",r.selectedDay&&r.selectedTime&&r.resolvedDateHuman),D(),K("ngIf",r.overlapMessage),D(),K("ngIf",r.serverError),D(4),ot("ngModel",r.description),D(4),K("disabled",!r.selectedDay||!r.selectedTime||!!r.overlapMessage))},dependencies:[bt,hn,on,En,Di,Mi,Ii,An,fi,en,xi,Mn,qr],styles:[".modal[_ngcontent-%COMP%]{background:#00000080;overflow-y:auto}.modal-dialog[_ngcontent-%COMP%]{margin-top:10vh;max-width:500px}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;border-radius:8px;box-shadow:0 8px 20px #0000004d}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.alert[_ngcontent-%COMP%]{margin-bottom:.75rem}"]})}}return t})();var sP=(()=>{class t{constructor(){this.confirmUnbooking=new xt,this.cancel=new xt}submit(){this.confirmUnbooking.emit()}close(){this.cancel.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-unbook-lab-slot-modal"]],inputs:{booking:"booking"},outputs:{confirmUnbooking:"confirmUnbooking",cancel:"cancel"},standalone:!0,features:[Ye],decls:27,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"border","rounded","p-3","bg-light","text-start"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),x(5,"Unbook Lab Slot"),y(),_(6,"button",5),te("click",function(){return r.close()}),y()(),_(7,"div",6)(8,"p"),x(9," Are you sure you want to cancel the following booking? "),y(),_(10,"div",7)(11,"strong"),x(12,"Day:"),y(),x(13),tt(14,"br"),_(15,"strong"),x(16,"Date:"),y(),x(17),tt(18,"br"),_(19,"strong"),x(20,"Time:"),y(),x(21),y()(),_(22,"div",8)(23,"button",9),te("click",function(){return r.close()}),x(24,"Cancel"),y(),_(25,"button",10),te("click",function(){return r.submit()}),x(26,"Confirm Unbooking"),y()()()()()),i&2&&(D(13),Bt(" ",r.booking.weekDays,""),D(4),Bt(" ",r.booking.bookingDate,""),D(4),Hn(" ",r.booking.startTime," to ",r.booking.endTime," "))},dependencies:[bt]})}}return t})();var lP=n1(yy());var aP=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl}getAllBookings(){return this.http.get(`${this.baseUrl}scheduler/lab`)}getMyBookings(){return this.http.get(`${this.baseUrl}scheduler/lab/user`)}createBooking(e){return this.http.post(`${this.baseUrl}scheduler/lab`,e)}createBookingForUser(e,i){return this.http.post(`${this.baseUrl}scheduler/lab/assign/${e}`,i)}deleteBooking(e){return this.http.delete(`${this.baseUrl}scheduler/lab/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UG(t,n){t&1&&(_(0,"span",23),x(1,"Past week \u2022 View only"),y())}function HG(t,n){if(t&1){let e=We();_(0,"div")(1,"button",24),te("click",function(){ae(e);let r=ne();return le(r.openBookingModal())}),x(2,"Book Lab Slot"),y()()}if(t&2){let e=ne();D(),K("disabled",e.isPastWeekView())}}function $G(t,n){}function zG(t,n){t&1&&(_(0,"div",25),x(1," Nothing scheduled for this week. "),y())}function WG(t,n){t&1&&tt(0,"col",39)}function qG(t,n){if(t&1&&(_(0,"th"),x(1),y()),t&2){let e=n.$implicit;D(),qe(e)}}function GG(t,n){if(t&1&&(Zn(0),_(1,"button",46),x(2),y(),Qn()),t&2){let e=ne().ngIf;D(),Dn("aria-disabled",!0),D(),Bt(" ",e.description||"Booked"," ")}}function KG(t,n){if(t&1){let e=We();_(0,"button",47),te("click",function(){ae(e);let r=ne().ngIf,o=ne(4);return le(o.triggerUnbookModal(r))}),x(1),y()}if(t&2){let e=ne().ngIf,i=ne(4);Eo("cursor",i.isPastWeekView()?"not-allowed":"pointer"),K("disabled",i.isPastWeekView()),D(),Bt(" ",e.description||"Booked"," ")}}function YG(t,n){if(t&1&&(_(0,"div",48),x(1),y()),t&2){let e=ne().ngIf;D(),Hn(" Booked by: ",e.firstName," ",e.lastName," ")}}function ZG(t,n){if(t&1&&(Zn(0),Ie(1,GG,3,2,"ng-container",12)(2,KG,2,4,"ng-template",null,2,Dl)(4,YG,2,2,"div",45),Qn()),t&2){let e=n.ngIf,i=xl(3),r=ne(4);D(),K("ngIf",r.isStudent())("ngIfElse",i),D(3),K("ngIf",e.firstName||e.lastName)}}function QG(t,n){t&1&&(_(0,"span",49),x(1,"-"),y())}function XG(t,n){if(t&1&&(_(0,"td",43)(1,"div",44),Ie(2,ZG,5,3,"ng-container",12)(3,QG,2,0,"ng-template",null,1,Dl),y()()),t&2){let e=n.$implicit,i=xl(4),r=ne().$implicit,o=ne(2);D(2),K("ngIf",o.getBookingObject(e,r))("ngIfElse",i)}}function JG(t,n){if(t&1&&(_(0,"tr",40)(1,"td",41)(2,"strong"),x(3),y()(),Ie(4,XG,5,2,"td",42),y()),t&2){let e=n.$implicit,i=ne(2);D(3),qe(e),D(),K("ngForOf",i.weekdays)}}function eK(t,n){if(t&1&&(_(0,"div",26)(1,"div",27),tt(2,"img",28),y(),_(3,"div",29)(4,"div",30),x(5),y(),_(6,"div",31),x(7),y()(),_(8,"table",32)(9,"colgroup"),tt(10,"col",33),Ie(11,WG,1,0,"col",34),y(),_(12,"thead",35)(13,"tr")(14,"th",36),x(15,"Time"),y(),Ie(16,qG,2,1,"th",37),y()(),_(17,"tbody"),Ie(18,JG,5,2,"tr",38),y()()()),t&2){let e=ne();D(5),Bt(" Lab Schedule: ",e.getWeekRangeLabelShort().replace("Week:","Week")," "),D(2),qe(e.userFullName),D(4),K("ngForOf",e.weekdays),D(5),K("ngForOf",e.weekdays),D(2),K("ngForOf",e.timeSlots)}}function tK(t,n){if(t&1){let e=We();_(0,"app-book-lab-slot-modal",50),te("confirmBooking",function(r){ae(e);let o=ne();return le(o.handleBookingConfirmed(r))})("cancel",function(){ae(e);let r=ne();return le(r.closeBookingModal())}),y()}if(t&2){let e=ne();K("weekdays",e.weekdays)("availableTimeSlots",e.timeSlots)("weekStart",e.currentWeekStart)("existingBookings",e.bookings)("weekLabel",e.getWeekRangeLabelShort())("serverError",e.modalServerError)}}function nK(t,n){if(t&1){let e=We();_(0,"app-unbook-lab-slot-modal",51),te("confirmUnbooking",function(){ae(e);let r=ne();return le(r.handleBookingUnconfirmed())})("cancel",function(){ae(e);let r=ne();return le(r.closeUnbookModal())}),y()}if(t&2){let e=ne();K("booking",e.selectedBookingToDelete)}}var cP=(()=>{class t{constructor(e,i){this.labbookingService=e,this.accountService=i,this.bookings=[],this.timeSlots=[],this.weekdays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.currentWeekStart=this.startOfWeekSunday(new Date),this.selectedSemester=this.defaultSemesterForDate(new Date),this.showBookingModal=!1,this.showUnbookingModal=!1,this.selectedBookingToDelete=null,this.modalServerError=null}ngOnInit(){this.generateTimeSlots(),this.loadBookings(),this.currentWeekStart=this.clampWeekToSemester(this.currentWeekStart,this.selectedSemester,this.currentWeekStart.getFullYear())}get user(){return this.accountService.currentUser()}get roles(){return this.accountService.roles()}isStudent(){return this.roles.includes("Student")}get userFullName(){let e=this.user||{},i=(...s)=>s.map(a=>(a??"").toString().trim()).find(a=>a.length>0)||"",r=i(e.name),o=i(e.surname);if(!r||!o){let s=i(e.userName),a=this.bookings.find(l=>(l.userName??"")===s);a&&(r||(r=i(a.firstName)),o||(o=i(a.lastName)))}return r&&o?`${r} ${o}`:r||o||i(e.displayName,e.username,e.userName)}generateTimeSlots(){let e=[],s=c=>c.toString().padStart(2,"0"),a=c=>`${s(Math.floor(c/60))}:${s(c%60)}`,l=370;for(let c=0;c<16;c++){let d=l+60;e.push(`${a(l)} - ${a(d)}`),l+=60}this.timeSlots=e}startOfWeekSunday(e){let i=new Date(e);return i.setHours(0,0,0,0),i.setDate(i.getDate()-i.getDay()),i}addDays(e,i){let r=new Date(e);return r.setDate(r.getDate()+i),r}defaultSemesterForDate(e){return e.getMonth()<=5?1:2}semesterBounds(e,i){let r=new Date(i,e===1?0:6,1),o=new Date(i,e===1?5:11,e===1?30:31);return r.setHours(0,0,0,0),o.setHours(23,59,59,999),{start:r,end:o}}clampWeekToSemester(e,i,r){let{start:o,end:s}=this.semesterBounds(i,r),a=this.startOfWeekSunday(e);a<this.startOfWeekSunday(o)&&(a=this.startOfWeekSunday(o));let l=this.startOfWeekSunday(this.addDays(s,-6));return a>l&&(a=l),a}onSemesterChange(){let e=new Date,i=e.getFullYear(),{start:r,end:o}=this.semesterBounds(this.selectedSemester,i),s=e>=r&&e<=o?e:r;this.currentWeekStart=this.clampWeekToSemester(this.startOfWeekSunday(s),this.selectedSemester,i)}canGoPrevWeek(){let{start:e}=this.semesterBounds(this.selectedSemester,this.currentWeekStart.getFullYear());return this.currentWeekStart>this.startOfWeekSunday(e)}canGoNextWeek(){let{end:e}=this.semesterBounds(this.selectedSemester,this.currentWeekStart.getFullYear()),i=this.startOfWeekSunday(this.addDays(e,-6));return this.currentWeekStart<i}prevWeek(){this.canGoPrevWeek()&&(this.currentWeekStart=this.clampWeekToSemester(this.addDays(this.currentWeekStart,-7),this.selectedSemester,this.currentWeekStart.getFullYear()))}nextWeek(){this.canGoNextWeek()&&(this.currentWeekStart=this.clampWeekToSemester(this.addDays(this.currentWeekStart,7),this.selectedSemester,this.currentWeekStart.getFullYear()))}isPastWeekView(){let e=this.startOfWeekSunday(new Date);return this.currentWeekStart<e}fmtDate(e){let i=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return`${i}-${r}-${o}`}getWeekRangeLabelShort(){let e=new Date(this.currentWeekStart),i=this.addDays(e,1),r=this.addDays(e,6),o=i.getDate(),s=i.toLocaleString("default",{month:"short"}),a=r.getDate(),l=r.toLocaleString("default",{month:"short"}),c=r.getFullYear();return i.getMonth()===r.getMonth()&&i.getFullYear()===r.getFullYear()?`Week: ${o}\u2013${a} ${l} ${c}`:`Week: ${o} ${s} \u2013 ${a} ${l} ${c}`}normalizeApiDateString(e){if(!e)return null;let i=new Date(e);return isNaN(i.getTime())?null:this.fmtDate(i)}toMinutes(e){if(!e)return null;let[i,r]=e.slice(0,5).split(":").map(o=>+o);return Number.isNaN(i)||Number.isNaN(r)?null:i*60+r}overlaps(e,i,r,o){return e==null||i==null?!1:Math.max(e,r)<Math.min(i,o)}sameDay(e,i){let r=(e??"").trim().toLowerCase(),o=(i??"").trim().toLowerCase();return r===o||r.startsWith(o)||o.startsWith(r)}getBookingDateForDay(e){let i={monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6},r=(e||"").toLowerCase().trim(),o=i[r]??0,s=new Date(this.currentWeekStart);return s.setDate(this.currentWeekStart.getDate()+o),s}getBookingObject(e,i){let r=this.getBookingDateForDay(e),o=this.fmtDate(r),[s,a]=i.split(" - "),l=this.toMinutes(s),c=this.toMinutes(a);return this.bookings.find(d=>{if(!(()=>{let{start:w,end:E}=this.semesterBounds(this.selectedSemester,r.getFullYear()),S=new Date(this.normalizeApiDateString(d.bookingDate)??"");return S>=w&&S<=E})())return!1;let g=this.normalizeApiDateString(d.bookingDate);if(!g||g!==o||!this.sameDay(d.weekDays,e))return!1;let h=this.toMinutes(d.startTime),b=this.toMinutes(d.endTime);return this.overlaps(h,b,l,c)})||null}hasBookingsThisWeek(){let e=new Date(this.currentWeekStart),i=this.addDays(e,7);return this.bookings.some(r=>{let o=this.normalizeApiDateString(r.bookingDate);if(!o)return!1;let s=new Date(o),{start:a,end:l}=this.semesterBounds(this.selectedSemester,s.getFullYear());return s>=a&&s<=l&&s>=e&&s<i})}loadBookings(){this.labbookingService.getAllBookings().subscribe({next:e=>this.bookings=e||[],error:e=>{console.error("Failed to load lab bookings",e),this.bookings=[]}})}canBook(){return this.roles.includes("Lecturer")||this.roles.includes("Coordinator")||this.roles.includes("Admin")}canUnbook(e){return this.isPastWeekView()?!1:this.roles.includes("Admin")||e.userName===this.user?.userName}openBookingModal(){this.isPastWeekView()||(this.modalServerError=null,this.showBookingModal=!0)}closeBookingModal(){this.showBookingModal=!1}triggerUnbookModal(e){this.canUnbook(e)&&(this.selectedBookingToDelete=e,this.showUnbookingModal=!0)}closeUnbookModal(){this.selectedBookingToDelete=null,this.showUnbookingModal=!1}handleBookingConfirmed(e){let[i,r]=e.time.split(" - "),o=this.getBookingDateForDay(e.day),s={weekDays:e.day,startTime:`${i.slice(0,5)}:00`,endTime:`${r.slice(0,5)}:00`,bookingDate:this.fmtDate(o),description:(e.description??"").slice(0,25)};this.modalServerError=null,this.labbookingService.createBooking(s).subscribe({next:()=>{this.loadBookings(),this.showBookingModal=!1},error:a=>{let l=a?.error,c=l?.message??(typeof l=="string"?l:"Booking failed. Please adjust your times and try again.");this.modalServerError=c}})}handleBookingUnconfirmed(){this.selectedBookingToDelete?.id&&this.labbookingService.deleteBooking(this.selectedBookingToDelete.id).subscribe({next:()=>{this.loadBookings(),this.closeUnbookModal()},error:e=>{console.error("Unbooking failed:",e),this.closeUnbookModal()}})}downloadScheduleAsPdf(){let e=document.getElementById("labScheduleTable");if(!e)return;let i={margin:.5,filename:"Lab_Schedule.pdf",image:{type:"jpeg",quality:.98},html2pdf:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"landscape"},pagebreak:{mode:["css","avoid-all"]}};(0,lP.default)().set(i).from(e).save()}static{this.\u0275fac=function(i){return new(i||t)(ee(aP),ee(mn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-lab-schedule"]],standalone:!0,features:[Ye],decls:34,vars:13,consts:[["readonlyMsg",""],["emptyCell",""],["staffButton",""],[1,"container","mt-4"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2","mb-3","weekbar"],[1,"d-flex","align-items-center","gap-2"],[1,"me-2","sem-label"],[1,"form-select","form-select-sm","sem-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[1,"ms-auto"],["class","badge bg-secondary",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[4,"ngIf","ngIfElse"],[1,"btn","btn-success",3,"click","disabled"],["class","alert alert-info text-center py-4",4,"ngIf"],["data-html2canvas-ignore","true",1,"logo-nav"],["aria-label","Previous week",1,"btn","nav-btn",3,"click","disabled"],["aria-hidden","true",1,"nav-circle"],[1,"nav-text"],["aria-label","Next week",1,"btn","nav-btn",3,"click","disabled"],["id","labScheduleTable","class","table-responsive mt-3 p-4 bg-white",4,"ngIf"],[3,"weekdays","availableTimeSlots","weekStart","existingBookings","weekLabel","serverError","confirmBooking","cancel",4,"ngIf"],[3,"booking","confirmUnbooking","cancel",4,"ngIf"],[1,"badge","bg-secondary"],[1,"btn","btn-primary",3,"click","disabled"],[1,"alert","alert-info","text-center","py-4"],["id","labScheduleTable",1,"table-responsive","mt-3","p-4","bg-white"],[1,"logo-row"],["src","assets/ufslogo.jpg","alt","UFS Logo",1,"pdf-logo-top"],[1,"table-topbar"],[1,"topbar-title"],[1,"topbar-user"],[1,"table","table-bordered","text-center","align-middle","schedule-table",2,"table-layout","auto","width","100%"],[1,"col-time"],["class","col-day",4,"ngFor","ngForOf"],[1,"table-light"],[1,"time-head","no-wrap"],[4,"ngFor","ngForOf"],["class","schedule-row",4,"ngFor","ngForOf"],[1,"col-day"],[1,"schedule-row"],[1,"time-cell","no-wrap"],["class","slot-cell",4,"ngFor","ngForOf"],[1,"slot-cell"],[1,"cell-content"],["class","small text-muted mt-1 booked-by-1line",4,"ngIf"],["tabindex","-1",1,"btn","btn-dark","btn-sm","w-100","non-interactive","cell-btn"],[1,"btn","btn-outline-dark","btn-sm","w-100","cell-btn",3,"click","disabled"],[1,"small","text-muted","mt-1","booked-by-1line"],[1,"text-muted"],[3,"confirmBooking","cancel","weekdays","availableTimeSlots","weekStart","existingBookings","weekLabel","serverError"],[3,"confirmUnbooking","cancel","booking"]],template:function(i,r){if(i&1){let o=We();_(0,"div",3)(1,"div",4)(2,"div",5)(3,"label",6),x(4,"Semester:"),y(),_(5,"select",7),st("ngModelChange",function(a){return ae(o),lt(r.selectedSemester,a)||(r.selectedSemester=a),le(a)}),te("change",function(){return ae(o),le(r.onSemesterChange())}),_(6,"option",8),x(7,"Semester 1"),y(),_(8,"option",8),x(9,"Semester 2"),y()()(),_(10,"div",9),Ie(11,UG,2,0,"span",10),y()(),_(12,"div",11),Ie(13,HG,3,1,"div",12)(14,$G,0,0,"ng-template",null,0,Dl),_(16,"div",9)(17,"button",13),te("click",function(){return ae(o),le(r.downloadScheduleAsPdf())}),x(18," Download PDF "),y()()(),Ie(19,zG,2,0,"div",14),_(20,"div",15)(21,"button",16),te("click",function(){return ae(o),le(r.prevWeek())}),_(22,"span",17),x(23,"<"),y(),_(24,"span",18),x(25,"Prev"),y()(),_(26,"button",19),te("click",function(){return ae(o),le(r.nextWeek())}),_(27,"span",18),x(28,"Next"),y(),_(29,"span",17),x(30,">"),y()()(),Ie(31,eK,19,5,"div",20)(32,tK,1,6,"app-book-lab-slot-modal",21)(33,nK,1,1,"app-unbook-lab-slot-modal",22),y()}if(i&2){let o=xl(15);D(5),ot("ngModel",r.selectedSemester),D(),K("ngValue",1),D(2),K("ngValue",2),D(3),K("ngIf",r.isPastWeekView()),D(2),K("ngIf",r.canBook())("ngIfElse",o),D(4),K("disabled",!r.hasBookingsThisWeek()),D(2),K("ngIf",!r.hasBookingsThisWeek()),D(2),K("disabled",!r.canGoPrevWeek()),D(5),K("disabled",!r.canGoNextWeek()),D(5),K("ngIf",r.hasBookingsThisWeek()),D(),K("ngIf",r.showBookingModal),D(),K("ngIf",r.showUnbookingModal&&r.selectedBookingToDelete)}},dependencies:[bt,hn,on,En,Mi,Ii,fi,en,Mn,oP,sP],styles:[".btn-outline-primary[_ngcontent-%COMP%]{border-radius:20px;font-weight:500;text-transform:none}.non-interactive[_ngcontent-%COMP%]{pointer-events:none;cursor:default!important}.non-interactive.cell-btn.btn-dark[_ngcontent-%COMP%], .non-interactive.cell-btn.btn-dark[_ngcontent-%COMP%]:focus, .non-interactive.cell-btn.btn-dark[_ngcontent-%COMP%]:active{background-color:#caf5f6!important;border-color:#caf5f6!important;color:#000!important;box-shadow:none!important}.logo-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.nav-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:transparent;border:0;padding:0}.nav-circle[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#0d6efd;color:#fff;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 12px #0d6efd40;font-size:16px;line-height:1}.nav-text[_ngcontent-%COMP%]{color:#000;font-weight:600}.nav-btn[disabled][_ngcontent-%COMP%]   .nav-circle[_ngcontent-%COMP%]{background:#93c5fd;box-shadow:none;opacity:.7}.nav-btn[disabled][_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{color:#6c757d}.logo-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.pdf-logo-top[_ngcontent-%COMP%]{max-width:clamp(220px,28vw,400px);width:100%;height:auto;display:block}.table-topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:6px}.topbar-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;white-space:nowrap;color:#000!important}.topbar-user[_ngcontent-%COMP%]{font-size:24px;font-weight:600;white-space:nowrap;text-align:right;color:#000!important}.weekbar[_ngcontent-%COMP%]   .sem-select[_ngcontent-%COMP%]{width:auto!important;max-width:max-content!important;min-width:0!important;display:inline-block!important;color:#000!important;font-weight:400!important}.weekbar[_ngcontent-%COMP%]   .sem-label[_ngcontent-%COMP%]{color:#000!important;font-weight:600!important}#labScheduleTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;overflow:visible!important}#labScheduleTable[_ngcontent-%COMP%], #labScheduleTable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background:#fff!important}#labScheduleTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse}.col-time[_ngcontent-%COMP%]{width:140px}.time-head[_ngcontent-%COMP%], .time-cell[_ngcontent-%COMP%], .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.time-head[_ngcontent-%COMP%], .time-cell[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;border:1px solid #000;padding:12px;font-size:16px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:700;background-color:#f8f9fa}.booked-by[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:.85rem;color:#6c757d;margin-top:4px}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%], .schedule-row[_ngcontent-%COMP%], .schedule-row[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}@media print{thead[_ngcontent-%COMP%]{display:table-header-group}tfoot[_ngcontent-%COMP%]{display:table-footer-group}table[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]{break-inside:auto;page-break-inside:auto}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}.btn[_ngcontent-%COMP%]{display:none!important}}"]})}}return t})();var uP=(()=>{class t{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-scheduler"]],standalone:!0,features:[Ye],decls:30,vars:2,consts:[[1,"scheduler-container"],[1,"mb-0"],[1,"mobile-menu"],[1,"btn","btn-primary","menu-toggle",3,"click"],[1,"menu-panel"],["routerLink","lab",3,"click"],["routerLink","class",3,"click"],["routerLink","assessment",3,"click"],[1,"card-container"],["routerLink","lab","routerLinkActive","active",1,"card"],["routerLink","class","routerLinkActive","active",1,"card"],["routerLink","assessment","routerLinkActive","active",1,"card","assessment-card"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h2",1),x(2,"Scheduler"),y(),_(3,"div",2)(4,"button",3),te("click",function(){return r.toggleMenu()}),x(5," \u2630 Menu "),y(),_(6,"div",4)(7,"a",5),te("click",function(){return r.closeMenu()}),x(8,"View Lab Schedule"),y(),_(9,"a",6),te("click",function(){return r.closeMenu()}),x(10,"View Class Schedule"),y(),_(11,"a",7),te("click",function(){return r.closeMenu()}),x(12,"View Assessment Schedule"),y()()(),_(13,"div",8)(14,"a",9)(15,"h3"),x(16,"View Lab Schedule"),y(),_(17,"p"),x(18,"View Lab Bookings"),y()(),_(19,"a",10)(20,"h3"),x(21,"View Class Schedule"),y(),_(22,"p"),x(23,"View Timetable and Class Slots"),y()(),_(24,"a",11)(25,"h3"),x(26,"View Assessment Schedule"),y(),_(27,"p"),x(28,"All Upcoming Assessments"),y()()(),tt(29,"router-outlet"),y()),i&2&&(D(6),$t("open",r.menuOpen))},dependencies:[bt,X0,Lh,Pl,Q0],styles:['.scheduler-container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .scheduler-container[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important;display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.scheduler-container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.scheduler-container[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{margin-top:.75rem}.scheduler-container[_ngcontent-%COMP%]{padding:0}.card-container[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.card[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:20px;border-radius:8px;text-decoration:none;color:#000;flex:1 1 200px;transition:background-color .3s ease,border-color .3s ease,box-shadow .3s ease;border:1px solid #ccc;min-width:220px}.card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.card.disabled[_ngcontent-%COMP%]{background-color:#ddd;color:#888;pointer-events:none;border:1px dashed #aaa}.assessment-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.card.active[_ngcontent-%COMP%]{background-color:#e7f1ff;border-color:#b3d4ff;box-shadow:0 0 0 2px #1366f126}.mobile-menu[_ngcontent-%COMP%]{display:none;margin-bottom:12px}.menu-toggle[_ngcontent-%COMP%]{width:120px}.menu-panel[_ngcontent-%COMP%]{display:none;border:1px solid #ddd;border-radius:8px;padding:8px;background:#fff;margin-top:8px}.menu-panel.open[_ngcontent-%COMP%]{display:block}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 12px;text-decoration:none;border-radius:6px;color:#0d6efd}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f2f6ff}@media (max-width: 576px){.mobile-menu[_ngcontent-%COMP%]{display:block}.card-container[_ngcontent-%COMP%]{display:none}}']})}}return t})();function iK(t,n){if(t&1&&(_(0,"li"),x(1),y()),t&2){let e=n.$implicit;D(),qe(e)}}function rK(t,n){if(t&1&&(_(0,"div",1)(1,"ul",2),gd(2,iK,2,1,"li",null,o0),y()()),t&2){let e=ne();D(2),vd(e.validationErrors)}}var dP=(()=>{class t{constructor(){this.baseUrl=pn.apiUrl,this.http=Me(wn),this.validationErrors=[]}get400Error(){this.http.get(this.baseUrl+"buggy/bad-request").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get401Error(){this.http.get(this.baseUrl+"buggy/auth").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get404Error(){this.http.get(this.baseUrl+"buggy/not-found").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get500Error(){this.http.get(this.baseUrl+"buggy/server-error").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get400ValidationError(){this.http.post(this.baseUrl+"account/register",{}).subscribe({next:e=>console.log(e),error:e=>{console.log(e),this.validationErrors=e}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-test-errors"]],standalone:!0,features:[Ye],decls:12,vars:1,consts:[[1,"btn","btn-outline-primary","me-3",3,"click"],[1,"row","mt-5"],[1,"text-danger"]],template:function(i,r){i&1&&(_(0,"div")(1,"button",0),te("click",function(){return r.get400Error()}),x(2,"Test 400 error"),y(),_(3,"button",0),te("click",function(){return r.get401Error()}),x(4,"Test 401 error"),y(),_(5,"button",0),te("click",function(){return r.get404Error()}),x(6,"Test 404 error"),y(),_(7,"button",0),te("click",function(){return r.get500Error()}),x(8,"Test 500 error"),y(),_(9,"button",0),te("click",function(){return r.get400ValidationError()}),x(10," Test 400 Validation error "),y(),Ie(11,rK,4,0,"div",1),y()),i&2&&(D(11),md(11,r.validationErrors.length>0?11:-1))}})}}return t})();var fP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-not-found"]],standalone:!0,features:[Ye],decls:5,vars:0,consts:[[1,"container"],["routerLink","/",1,"btn","btn-info","btn-lg"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h1"),x(2,"Not found"),y(),_(3,"button",1),x(4,"Return to home page"),y()())},dependencies:[Pl]})}}return t})();function oK(t,n){if(t&1&&(_(0,"h5",0),x(1),y(),_(2,"p",1),x(3,"Note: If you are seeing this error then angular is not to blame!"),y(),_(4,"p"),x(5,"What to do next?"),y(),_(6,"ol")(7,"li"),x(8,"Open chrome dev tools and check the failing network request in the network tab"),y(),_(9,"li"),x(10,"Examine the URL of the failing request"),y(),_(11,"li"),x(12,"Reproduce the error in postman - if you can reproduce the error then angular is not to blame"),y()(),_(13,"p",1),x(14,"Following is the stack trace - check the first 2 lines this tells you exactly which line of code caused the problem!"),y(),_(15,"code",2),x(16),y()),t&2){let e=ne();D(),Bt("Error: ",e.error.message,""),D(15),Bt(" ",e.error.details," ")}}var hP=(()=>{class t{constructor(e){this.router=e;let i=this.router.getCurrentNavigation();this.error=i?.extras?.state?.error}static{this.\u0275fac=function(i){return new(i||t)(ee(qn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-server-error"]],standalone:!0,features:[Ye],decls:3,vars:1,consts:[[1,"text-danger"],[1,"font-weight-bold"],[1,"mt-5",2,"background-color","whitesmoke"]],template:function(i,r){i&1&&(_(0,"h4"),x(1,"Internal Server Error"),y(),Ie(2,oK,17,2)),i&2&&(D(2),md(2,r.error?2:-1))}})}}return t})();var sK=["*"],aK=t=>["nav-item",t];function lK(t,n){if(t&1){let e=We();_(0,"span",7),te("click",function(r){ae(e);let o=ne().$implicit,s=ne();return r.preventDefault(),le(s.removeTab(o))}),x(1," \u274C"),y()}}function cK(t,n){if(t&1){let e=We();_(0,"li",3),te("keydown",function(r){let o=ae(e).index,s=ne();return le(s.keyNavActions(r,o))}),_(1,"a",4),te("click",function(){let r=ae(e).$implicit;return le(r.active=!0)}),_(2,"span",5),x(3),y(),Ie(4,lK,2,0,"span",6),y()()}if(t&2){let e=n.$implicit;$t("active",e.active)("disabled",e.disabled),K("ngClass",Es(15,aK,e.customClass||"")),D(),$t("active",e.active)("disabled",e.disabled),Dn("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),D(),K("ngTransclude",e.headingRef),D(),qe(e.heading),D(),K("ngIf",e.removable)}}var uK=(()=>{class t{set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}constructor(e){this.viewRef=e}static{this.\u0275fac=function(i){return new(i||t)(ee(kr))}}static{this.\u0275dir=Kt({type:t,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}}return t})(),dK=(()=>{class t{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),LS=(()=>{class t{get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}constructor(e,i,r){this.renderer=i,this.elementRef=r,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=this.tabs.length===1&&!e.active}removeTab(e,i={reselect:!0,emit:!0}){let r=this.tabs.indexOf(e);if(!(r===-1||this.isDestroyed)){if(i.reselect&&e.active&&this.hasAvailableTabs(r)){let o=this.getClosestTabIndex(r);this.tabs[o].active=!0}i.emit&&e.removed.emit(e),this.tabs.splice(r,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,i){if(!this.isKeysAllowed)return;let r=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(e.keyCode===13||e.key==="Enter"||e.keyCode===32||e.key==="Space"){e.preventDefault(),r[i%r.length].click();return}if(e.keyCode===39||e.key==="RightArrow"){let o,s=1;do o=r[(i+s)%r.length],s++;while(o.classList.contains("disabled"));o.focus();return}if(e.keyCode===37||e.key==="LeftArrow"){let o,s=1,a=i;do a-s<0?(a=r.length-1,o=r[a],s=0):o=r[a-s],s++;while(o.classList.contains("disabled"));o.focus();return}if(e.keyCode===36||e.key==="Home"){e.preventDefault();let o,s=0;do o=r[s%r.length],s++;while(o.classList.contains("disabled"));o.focus();return}if(e.keyCode===35||e.key==="End"){e.preventDefault();let o,s=1,a=i;do a-s<0?(a=r.length-1,o=r[a],s=0):o=r[a-s],s++;while(o.classList.contains("disabled"));o.focus();return}if((e.keyCode===46||e.key==="Delete")&&this.tabs[i].removable){if(this.removeTab(this.tabs[i]),r[i+1]){r[(i+1)%r.length].focus();return}r[r.length-1]&&r[0].focus()}}getClosestTabIndex(e){let i=this.tabs.length;if(!i)return-1;for(let r=1;r<=i;r+=1){let o=e-r,s=e+r;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[s]&&!this.tabs[s].disabled)return s}return-1}hasAvailableTabs(e){let i=this.tabs.length;if(!i)return!1;for(let r=0;r<i;r+=1)if(!this.tabs[r].disabled&&r!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static{this.\u0275fac=function(i){return new(i||t)(ee(dK),ee(di),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["tabset"]],hostVars:2,hostBindings:function(i,r){i&2&&$t("tab-container",r.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:sK,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(i,r){i&1&&(Sl(),_(0,"ul",0),te("click",function(s){return s.preventDefault()}),Ie(1,cK,5,17,"li",1),y(),_(2,"div",2),El(3),y()),i&2&&(K("ngClass",r.classMap),Dn("aria-label",r.ariaLabel),D(),K("ngForOf",r.tabs))},dependencies:[hr,hn,on,uK],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}}return t})(),pP=(()=>{class t{get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.removeClass(this.elementRef.nativeElement,i)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.addClass(this.elementRef.nativeElement,i)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e){this._active&&!e&&(this.deselect.emit(this),this._active=e);return}this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(i=>{i!==this&&(i.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(e,i,r){this.elementRef=i,this.renderer=r,this.disabled=!1,this.removable=!1,this.selectTab=new xt,this.deselect=new xt,this.removed=new xt,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static{this.\u0275fac=function(i){return new(i||t)(ee(LS),ee(Dt),ee(di))}}static{this.\u0275dir=Kt({type:t,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(i,r){i&2&&(Dn("id",r.id)("role",r.role)("aria-labelledby",r.ariaLabelledby),$t("active",r.active)("tab-pane",r.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}}return t})();var mP=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[bt]})}}return t})();var os=(()=>{class t{constructor(e){this.http=e,this.baseUrl=pn.apiUrl+"modules/"}getAllModules(){return this.http.get(this.baseUrl)}getModulesBySemester(e){return this.http.get(`${this.baseUrl}semester/${e}`)}getModuleById(e){return this.http.get(`${this.baseUrl}${e}`)}addModule(e){return this.http.post(this.baseUrl,e)}updateModule(e,i){return this.http.put(`${this.baseUrl}${e}`,i)}deleteModule(e){return this.http.delete(`${this.baseUrl}${e}`)}getAssignedModules(){return this.http.get(`${this.baseUrl}assigned`)}static{this.\u0275fac=function(i){return new(i||t)(Be(wn))}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hK=["usernameInput"];function pK(t,n){if(t&1&&(_(0,"option",21),x(1),y()),t&2){let e=n.$implicit;K("value",e),D(),qe(e)}}function mK(t,n){t&1&&(_(0,"small",26),x(1,"(Year)"),y())}function gK(t,n){if(t&1){let e=We();_(0,"div",22)(1,"input",23),te("change",function(r){let o=ae(e).$implicit,s=ne();return le(s.toggleModule(o,1,r))}),y(),_(2,"label",24),x(3),Ie(4,mK,2,0,"small",25),y()()}if(t&2){let e=n.$implicit,i=ne();D(),K("checked",i.selectedSemester1.includes(e.id)),D(2),Hn(" ",e.moduleCode," - ",e.moduleName," "),D(),K("ngIf",e.isYearModule)}}function vK(t,n){t&1&&(_(0,"small",26),x(1,"(Year)"),y())}function yK(t,n){if(t&1){let e=We();_(0,"div",22)(1,"input",23),te("change",function(r){let o=ae(e).$implicit,s=ne();return le(s.toggleModule(o,2,r))}),y(),_(2,"label",24),x(3),Ie(4,vK,2,0,"small",25),y()()}if(t&2){let e=n.$implicit,i=ne();D(),K("checked",i.selectedSemester2.includes(e.id)),D(2),Hn(" ",e.moduleCode," - ",e.moduleName," "),D(),K("ngIf",e.isYearModule)}}var gP=(()=>{class t{constructor(e,i,r,o,s,a){this.adminService=e,this.moduleService=i,this.toastr=r,this.modalRef=o,this.bsModalService=s,this.elRef=a,this.userName="",this.firstName="",this.lastName="",this.email="",this.password="",this.role="Student",this.showPassword=!1,this.semester1Modules=[],this.semester2Modules=[],this.selectedSemester1=[],this.selectedSemester2=[],this.yearModuleIds=new Set,this.roles=["Student","Lecturer","Coordinator","Admin"],this.formDirty=!1,this.modalEl=null}sortByCode(e,i){return(e.moduleCode||"").localeCompare(i.moduleCode||"",void 0,{numeric:!0,sensitivity:"base"})}ngOnInit(){this.userName="",this.firstName="",this.lastName="",this.email="",this.password="",this.moduleService.getAllModules().subscribe({next:e=>{this.semester1Modules=e.filter(i=>i.semester===1||i.isYearModule).sort(this.sortByCode.bind(this)),this.semester2Modules=e.filter(i=>i.semester===2||i.isYearModule).sort(this.sortByCode.bind(this)),this.yearModuleIds=new Set(e.filter(i=>!!i.isYearModule).map(i=>i.id))}}),this.originalHide=this.modalRef.hide.bind(this.modalRef),this.modalRef.hide=()=>this.attemptClose()}ngAfterViewInit(){setTimeout(()=>this.usernameInput?.nativeElement.focus(),0);let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}markDirty(){this.formDirty=!0}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleModule(e,i,r){let o=!!r.target.checked,s=e.id,a=!!e.isYearModule||this.yearModuleIds.has(s),l=i===1?this.selectedSemester1:this.selectedSemester2,c=i===1?this.selectedSemester2:this.selectedSemester1,d=(g,h)=>{g.includes(h)||g.push(h)},p=(g,h)=>{let b=g.indexOf(h);b>-1&&g.splice(b,1)};o?(d(l,s),a&&d(c,s)):(p(l,s),a&&p(c,s)),this.formDirty=!0}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.formDirty&&!(yield this.openConfirm())||this.originalHide()})}submit(){let e={userName:this.userName,firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password||"Pa$$w0rd",role:this.role,semester1ModuleIds:this.selectedSemester1,semester2ModuleIds:this.selectedSemester2};this.adminService.registerUser(e).subscribe({next:i=>{this.toastr.success(i?.message||"User registered"),this.formDirty=!1,this.originalHide()},error:i=>{let r=i.error?.message||"Failed to register user";this.toastr.error(r)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(ee(Bl),ee(os),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-add-user-modal"]],viewQuery:function(i,r){if(i&1&&sr(hK,5),i&2){let o;Fi(o=Li())&&(r.usernameInput=o.first)}},standalone:!0,features:[Ye],decls:48,vars:11,consts:[["usernameInput",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off"],[1,"mb-3"],["type","text","name","userName","required","","autocomplete","off","autocapitalize","none","spellcheck","false",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],["name","newPassword","autocomplete","new-password","autocapitalize","none","spellcheck","false",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],["name","role",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"form-check-label"],["class","text-muted",4,"ngIf"],[1,"text-muted"]],template:function(i,r){if(i&1){let o=We();_(0,"div",1)(1,"h4",2),x(2,"Add New User"),y(),_(3,"button",3),te("click",function(){return ae(o),le(r.cancel())}),y()(),_(4,"div",4)(5,"form",5)(6,"div",6)(7,"label"),x(8,"Username"),y(),_(9,"input",7,0),st("ngModelChange",function(a){return ae(o),lt(r.userName,a)||(r.userName=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y()(),_(11,"div",6)(12,"label"),x(13,"First Name"),y(),_(14,"input",8),st("ngModelChange",function(a){return ae(o),lt(r.firstName,a)||(r.firstName=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y()(),_(15,"div",6)(16,"label"),x(17,"Last Name"),y(),_(18,"input",9),st("ngModelChange",function(a){return ae(o),lt(r.lastName,a)||(r.lastName=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y()(),_(19,"div",6)(20,"label"),x(21,"Email"),y(),_(22,"input",10),st("ngModelChange",function(a){return ae(o),lt(r.email,a)||(r.email=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y()(),_(23,"div",6)(24,"label"),x(25,"Password"),y(),_(26,"div",11)(27,"input",12),st("ngModelChange",function(a){return ae(o),lt(r.password,a)||(r.password=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y(),_(28,"span",13),te("click",function(){return ae(o),le(r.togglePasswordVisibility())}),tt(29,"i",14),y()()(),_(30,"div",6)(31,"label"),x(32,"Role"),y(),_(33,"select",15),st("ngModelChange",function(a){return ae(o),lt(r.role,a)||(r.role=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),Ie(34,pK,2,2,"option",16),y()(),_(35,"div",6)(36,"label"),x(37,"Semester 1 Modules"),y(),Ie(38,gK,5,4,"div",17),y(),_(39,"div",6)(40,"label"),x(41,"Semester 2 Modules"),y(),Ie(42,yK,5,4,"div",17),y()()(),_(43,"div",18)(44,"button",19),te("click",function(){return ae(o),le(r.cancel())}),x(45,"Cancel"),y(),_(46,"button",20),te("click",function(){return ae(o),le(r.submit())}),x(47,"Submit"),y()()}i&2&&(D(9),ot("ngModel",r.userName),D(5),ot("ngModel",r.firstName),D(4),ot("ngModel",r.lastName),D(4),ot("ngModel",r.email),D(5),K("type",r.showPassword?"text":"password"),ot("ngModel",r.password),D(2),K("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),D(4),ot("ngModel",r.role),D(),K("ngForOf",r.roles),D(4),K("ngForOf",r.semester1Modules),D(4),K("ngForOf",r.semester2Modules))},dependencies:[En,Di,Mi,Ii,An,fi,en,xi,Ts,Mn,qr,bt,hr,hn,on],styles:[".modal-body[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}"]})}}return t})();function _K(t,n){if(t&1){let e=We();_(0,"div",9)(1,"input",10),te("change",function(r){let o=ae(e).$implicit,s=ne();return le(s.toggleModule(o.id,s.selectedSemester1,r))}),y(),_(2,"label",11),x(3),y()()}if(t&2){let e=n.$implicit,i=ne();D(),K("checked",i.selectedSemester1.includes(e.id))("id","sem1-"+e.id),D(),K("for","sem1-"+e.id),D(),Hn(" ",e.moduleCode," - ",e.moduleName," ")}}function bK(t,n){if(t&1){let e=We();_(0,"div",9)(1,"input",10),te("change",function(r){let o=ae(e).$implicit,s=ne();return le(s.toggleModule(o.id,s.selectedSemester2,r))}),y(),_(2,"label",11),x(3),y()()}if(t&2){let e=n.$implicit,i=ne();D(),K("checked",i.selectedSemester2.includes(e.id))("id","sem2-"+e.id),D(),K("for","sem2-"+e.id),D(),Hn(" ",e.moduleCode," - ",e.moduleName," ")}}var vP=(()=>{class t{isYear(e){let i=(e.moduleCode||"").toUpperCase();return e.isYearModule===!0||e.semester===0||this.yearModuleCodes.has(i)}get isAdmin(){let e=this.user||{},i=Array.isArray(e.roles)?e.roles:[];return e.role==="Admin"||i.includes("Admin")}constructor(e,i,r,o,s,a){this.moduleService=e,this.adminService=i,this.toastr=r,this.modalRef=o,this.bsModalService=s,this.elRef=a,this.allModules=[],this.semester1Modules=[],this.semester2Modules=[],this.selectedSemester1=[],this.selectedSemester2=[],this.justSaved=!1,this.locallyDirty=!1,this.modalEl=null,this.yearModuleCodes=new Set(["CSIS6809","BCIS6809"])}sortByCode(e,i){return(e.moduleCode||"").localeCompare(i.moduleCode||"",void 0,{numeric:!0,sensitivity:"base"})}ngOnInit(){let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose(),this.moduleService.getAllModules().subscribe({next:i=>{this.allModules=i,this.rebuildSemesterLists();let r=this.user.modules.map(o=>o.id);this.selectedSemester1=this.semester1Modules.filter(o=>r.includes(o.id)).map(o=>o.id),this.selectedSemester2=this.semester2Modules.filter(o=>r.includes(o.id)).map(o=>o.id),this.locallyDirty=!1},error:()=>this.toastr.error("Failed to load modules")})}rebuildSemesterLists(){this.semester1Modules=this.allModules.filter(e=>e.semester===1||this.isYear(e)).sort(this.sortByCode.bind(this)),this.semester2Modules=this.allModules.filter(e=>e.semester===2||this.isYear(e)).sort(this.sortByCode.bind(this))}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:this.locallyDirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}toggleModule(e,i,r){if(r.target.checked)i.includes(e)||i.push(e);else{let o=i.indexOf(e);o>-1&&i.splice(o,1)}this.locallyDirty=!0}submit(){this.adminService.updateUserModules(this.user.userName,this.selectedSemester1,this.selectedSemester2).subscribe({next:()=>{this.toastr.success("Modules updated successfully"),this.justSaved=!0,this.originalHide()},error:e=>{let i=e.error?.message||"Failed to update modules";this.toastr.error(i)}})}cancel(){this.attemptClose()}trackById(e,i){return i.id}static{this.\u0275fac=function(i){return new(i||t)(ee(os),ee(Bl),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-edit-modules-modal"]],inputs:{user:"user",bsModalRef:"bsModalRef"},standalone:!0,features:[Ye],decls:21,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-muted","d-block","mb-2"],["class","form-check mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",3,"for"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h5",1),x(2),y(),_(3,"button",2),te("click",function(){return r.attemptClose()}),y()(),_(4,"div",3)(5,"h6"),x(6,"Semester 1 Modules"),y(),_(7,"small",4),x(8,"Year modules appear in both semester lists."),y(),Ie(9,_K,4,5,"div",5),tt(10,"hr"),_(11,"h6"),x(12,"Semester 2 Modules"),y(),_(13,"small",4),x(14,"Year modules appear in both semester lists."),y(),Ie(15,bK,4,5,"div",5),y(),_(16,"div",6)(17,"button",7),te("click",function(){return r.attemptClose()}),x(18,"Cancel"),y(),_(19,"button",8),te("click",function(){return r.submit()}),x(20,"Save Changes"),y()()),i&2&&(D(2),Hn("Edit Modules for ",r.user.name," ",r.user.surname,""),D(7),K("ngForOf",r.semester1Modules)("ngForTrackBy",r.trackById),D(6),K("ngForOf",r.semester2Modules)("ngForTrackBy",r.trackById))},dependencies:[bt,hn,En],styles:[".modal-body[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}"]})}}return t})();var wK=["userForm"];function CK(t,n){if(t&1){let e=We();_(0,"div")(1,"div",22)(2,"input",23),te("change",function(r){let o=ae(e).$implicit,s=ne();return le(s.toggleRole(o,r))}),y(),_(3,"label",24),x(4),y()()()}if(t&2){let e=n.$implicit,i=ne();D(2),K("checked",i.selectedRoles.includes(e))("id","role-"+e),D(),K("for","role-"+e),D(),qe(e)}}var yP=(()=>{class t{constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.roles=["Admin","Student","Lecturer","Coordinator"],this.selectedRoles=[],this.firstName="",this.lastName="",this.email="",this.updatePassword="",this.showPassword=!1,this.baseUrl=pn.apiUrl,this.justSaved=!1,this.modalEl=null}ngOnInit(){this.firstName=this.user.name,this.lastName=this.user.surname,this.email=this.user.email,this.selectedRoles=[...this.user.roles];let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:!!this.userForm?.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}toggleRole(e,i){i.target.checked?this.selectedRoles.includes(e)||this.selectedRoles.push(e):this.selectedRoles=this.selectedRoles.filter(r=>r!==e)}togglePasswordVisibility(){this.showPassword=!this.showPassword}submit(){let e={firstName:this.firstName,lastName:this.lastName,email:this.email,updatePassword:this.updatePassword||null,roles:this.selectedRoles};this.http.put(`${this.baseUrl}admin/update-user/${this.user.userName}`,e).subscribe({next:()=>{this.toastr.success("User updated successfully"),this.justSaved=!0,this.originalHide()},error:i=>{console.error("Update failed:",i);let r=i.error?.message||"Failed to update user";this.toastr.error(r)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-edit-user-modal"]],viewQuery:function(i,r){if(i&1&&sr(wK,5),i&2){let o;Fi(o=Li())&&(r.userForm=o.first)}},inputs:{user:"user",bsModalRef:"bsModalRef"},standalone:!0,features:[Ye],decls:34,vars:9,consts:[["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],[1,"input-group"],["id","password","name","updatePassword","placeholder","Leave blank to keep current password",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],[1,"form-label"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",3,"for"]],template:function(i,r){if(i&1){let o=We();_(0,"form",null,0)(2,"div",1)(3,"h5",2),x(4),y(),_(5,"button",3),te("click",function(){return ae(o),le(r.attemptClose())}),y()(),_(6,"div",4)(7,"div",5)(8,"label",6),x(9,"First Name"),y(),_(10,"input",7),st("ngModelChange",function(a){return ae(o),lt(r.firstName,a)||(r.firstName=a),le(a)}),y()(),_(11,"div",5)(12,"label",8),x(13,"Last Name"),y(),_(14,"input",9),st("ngModelChange",function(a){return ae(o),lt(r.lastName,a)||(r.lastName=a),le(a)}),y()(),_(15,"div",5)(16,"label",10),x(17,"Email"),y(),_(18,"input",11),st("ngModelChange",function(a){return ae(o),lt(r.email,a)||(r.email=a),le(a)}),y()(),_(19,"div",5)(20,"label",12),x(21,"Update Password"),y(),_(22,"div",13)(23,"input",14),st("ngModelChange",function(a){return ae(o),lt(r.updatePassword,a)||(r.updatePassword=a),le(a)}),y(),_(24,"span",15),te("click",function(){return ae(o),le(r.togglePasswordVisibility())}),tt(25,"i",16),y()()(),_(26,"label",17),x(27,"Roles"),y(),Ie(28,CK,5,4,"div",18),y(),_(29,"div",19)(30,"button",20),te("click",function(){return ae(o),le(r.attemptClose())}),x(31,"Cancel"),y(),_(32,"button",21),te("click",function(){return ae(o),le(r.submit())}),x(33,"Save"),y()()()}i&2&&(D(4),Hn("Edit User: ",r.user.name," ",r.user.surname,""),D(6),ot("ngModel",r.firstName),D(4),ot("ngModel",r.lastName),D(4),ot("ngModel",r.email),D(5),K("type",r.showPassword?"text":"password"),ot("ngModel",r.updatePassword),D(2),K("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),D(3),K("ngForOf",r.roles))},dependencies:[bt,hr,hn,En,Di,An,en,xi,Mn,qr],styles:[".modal-body[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto}.password-toggle-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:1rem;transform:translateY(-50%);cursor:pointer;color:#6c757d;z-index:2}"]})}}return t})();var _P=(()=>{class t{constructor(e,i,r){this.http=e,this.toastr=i,this.modalRef=r,this.baseUrl=pn.apiUrl}confirmDelete(){this.http.delete(`${this.baseUrl}admin/delete-user/${this.user.userName}`).subscribe({next:e=>{this.toastr.success(e?.message||"User deleted"),this.modalRef.hide()},error:e=>{let i=e.error?.message||"Failed to delete user";this.toastr.error(i),this.modalRef.hide()}})}cancel(){this.modalRef.hide()}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(tn),ee(Ln))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-delete-user-modal"]],inputs:{user:"user",bsModalRef:"bsModalRef"},standalone:!0,features:[Ye],decls:15,vars:2,consts:[[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h5",1),x(2,"Confirm Deletion"),y(),_(3,"button",2),te("click",function(){return r.cancel()}),y()(),_(4,"div",3)(5,"p"),x(6," Are you sure you want to delete "),_(7,"strong"),x(8),y(),x(9," and all their associated roles and module assignments? "),y()(),_(10,"div",4)(11,"button",5),te("click",function(){return r.cancel()}),x(12,"Cancel"),y(),_(13,"button",6),te("click",function(){return r.confirmDelete()}),x(14,"Delete"),y()()),i&2&&(D(8),Hn("",r.user.name," ",r.user.surname,""))},styles:[".modal-body[_ngcontent-%COMP%]{font-size:1rem}"]})}}return t})();function SK(t,n){if(t&1){let e=We();_(0,"tr")(1,"td"),x(2),y(),_(3,"td"),x(4),y(),_(5,"td"),x(6),y(),_(7,"td"),x(8),y(),_(9,"td"),x(10),y(),_(11,"td")(12,"button",8),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openEditUserModal(r))}),x(13,"Edit User"),y()(),_(14,"td")(15,"button",8),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openEditModulesModal(r))}),x(16,"Edit Modules"),y()(),_(17,"td")(18,"button",9),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openDeleteUserModal(r))}),x(19,"Delete"),y()()()}if(t&2){let e=n.$implicit;D(2),qe(e.userName),D(2),qe(e.name),D(2),qe(e.surname),D(2),qe(e.email),D(2),qe(e.roles.join(", "))}}var bP=(()=>{class t{constructor(e,i){this.adminService=e,this.modalService=i,this.users=[],this.filteredUsers=[],this.searchTerm=""}ngOnInit(){this.loadUsers()}applyDefaultUserSort(e){return e.sort((i,r)=>{let o=(i.surname||"").localeCompare(r.surname||"",void 0,{sensitivity:"base"});if(o!==0)return o;let s=(i.name||"").localeCompare(r.name||"",void 0,{sensitivity:"base"});return s!==0?s:(i.userName||"").localeCompare(r.userName||"",void 0,{sensitivity:"base"})})}loadUsers(){this.adminService.getAllUsers().subscribe({next:e=>{this.users=this.applyDefaultUserSort(e),this.filteredUsers=[...this.users]}})}filterUsers(){let e=this.searchTerm.toLowerCase(),i=this.users.filter(r=>r.userName.toLowerCase().includes(e)||r.name.toLowerCase().includes(e)||r.surname.toLowerCase().includes(e)||r.roles.some(o=>o.toLowerCase().includes(e)));this.filteredUsers=this.applyDefaultUserSort(i)}trackByUserName(e,i){return i.userName}openAddUserModal(){this.modalRef=this.modalService.show(gP,{class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers())}openEditModulesModal(e){let i=this.users.find(r=>r.userName===e.userName);i&&(this.modalRef=this.modalService.show(vP,{initialState:{user:i},class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers()))}openEditUserModal(e){this.modalRef=this.modalService.show(yP,{initialState:{user:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers())}openDeleteUserModal(e){this.modalRef=this.modalService.show(_P,{initialState:{user:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers())}static{this.\u0275fac=function(i){return new(i||t)(ee(Bl),ee(gn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-user-management"]],standalone:!0,features:[Ye],decls:29,vars:3,consts:[[1,"row"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"section-title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-end","mb-3"],["type","text","placeholder","Search by username, name, or role...",1,"form-control","w-25","search-input",3,"ngModelChange","input","ngModel"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"User Management"),y(),_(4,"button",3),te("click",function(){return r.openAddUserModal()}),x(5,"Add User"),y()(),_(6,"div",4)(7,"input",5),st("ngModelChange",function(s){return lt(r.searchTerm,s)||(r.searchTerm=s),s}),te("input",function(){return r.filterUsers()}),y()(),_(8,"table",6)(9,"thead")(10,"tr")(11,"th"),x(12,"Username"),y(),_(13,"th"),x(14,"Name"),y(),_(15,"th"),x(16,"Surname"),y(),_(17,"th"),x(18,"Email"),y(),_(19,"th"),x(20,"Roles"),y(),_(21,"th"),x(22,"Edit User"),y(),_(23,"th"),x(24,"Edit Modules"),y(),_(25,"th"),x(26,"Delete User"),y()()(),_(27,"tbody"),Ie(28,SK,20,5,"tr",7),y()()()),i&2&&(D(7),ot("ngModel",r.searchTerm),D(21),K("ngForOf",r.filteredUsers)("ngForTrackBy",r.trackByUserName))},dependencies:[bt,hn,En,An,en,Mn],styles:[".search-input[_ngcontent-%COMP%]{border:2px solid #000;border-radius:4px;padding:6px 12px;font-weight:500}.section-title[_ngcontent-%COMP%]{color:#000!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000!important;font-size:1.05rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000!important;font-size:1rem}"]})}}return t})();var by=(()=>{class t{constructor(){this.appHasRole=[],this.accountService=Me(mn),this.viewContainerRef=Me(kr),this.templateRef=Me(io),nw(()=>{let e=this.accountService.roles(),i=Array.isArray(e)?e.some(r=>this.appHasRole.includes(r)):this.appHasRole.includes(e);this.viewContainerRef.clear(),i&&this.viewContainerRef.createEmbeddedView(this.templateRef)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Kt({type:t,selectors:[["","appHasRole",""]],inputs:{appHasRole:"appHasRole"},standalone:!0})}}return t})();var EK=["moduleCodeInput"],xK=()=>["1","2","year"];function DK(t,n){if(t&1){let e=We();_(0,"div",27)(1,"div",28)(2,"label"),x(3,"Start Time"),y(),_(4,"input",29),st("ngModelChange",function(r){ae(e);let o=ne().$implicit,s=ne();return lt(s.startTimes[o],r)||(s.startTimes[o]=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()(),_(5,"div",28)(6,"label"),x(7,"End Time"),y(),_(8,"input",30),st("ngModelChange",function(r){ae(e);let o=ne().$implicit,s=ne();return lt(s.endTimes[o],r)||(s.endTimes[o]=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()()()}if(t&2){let e=ne().$implicit,i=ne();D(4),ot("ngModel",i.startTimes[e]),K("name","start-"+e),D(4),ot("ngModel",i.endTimes[e]),K("name","end-"+e)}}function MK(t,n){if(t&1){let e=We();_(0,"div",22)(1,"div",23)(2,"input",24),st("ngModelChange",function(r){let o=ae(e).$implicit,s=ne();return lt(s.selectedDays[o],r)||(s.selectedDays[o]=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y(),_(3,"label",25),x(4),y()(),Ie(5,DK,9,4,"div",26),y()}if(t&2){let e=n.$implicit,i=ne();D(2),K("id",e),ot("ngModel",i.selectedDays[e]),K("name","selected-"+e),D(),K("for",e),D(),qe(e),D(),K("ngIf",i.selectedDays[e])}}function IK(t,n){t&1&&tt(0,"hr",44)}function AK(t,n){if(t&1){let e=We();_(0,"div")(1,"div",35)(2,"label"),x(3,"Venue"),y(),_(4,"input",45),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.venue,r)||(o.venue=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()(),_(5,"div",27)(6,"div",28)(7,"label"),x(8,"Start Time"),y(),_(9,"input",46),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.startTime,r)||(o.startTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()(),_(10,"div",28)(11,"label"),x(12,"End Time"),y(),_(13,"input",46),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.endTime,r)||(o.endTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()()()()}if(t&2){let e=ne(),i=e.$implicit,r=e.index;D(4),ot("ngModel",i.venue),K("name","venue"+r),D(5),ot("ngModel",i.startTime),K("name","startTime"+r),D(4),ot("ngModel",i.endTime),K("name","endTime"+r)}}function TK(t,n){if(t&1){let e=We();_(0,"div",35)(1,"label"),x(2,"Submission Deadline"),y(),_(3,"input",46),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.dueTime,r)||(o.dueTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()()}if(t&2){let e=ne(),i=e.$implicit,r=e.index;D(3),ot("ngModel",i.dueTime),K("name","dueTime"+r)}}function NK(t,n){if(t&1){let e=We();Zn(0),Ie(1,IK,1,0,"hr",31),_(2,"div",32)(3,"button",33)(4,"strong"),x(5),y()(),_(6,"div",34)(7,"div",35)(8,"label"),x(9,"Title"),y(),_(10,"input",36),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.title,r)||(o.title=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(11,"div",35)(12,"label"),x(13,"Description"),y(),_(14,"textarea",37),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.description,r)||(o.description=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(15,"div",35)(16,"label"),x(17,"Date"),y(),_(18,"input",38),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.date,r)||(o.date=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(19,"div",35)(20,"label")(21,"input",39),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.isTimed,r)||(o.isTimed=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y(),x(22," Timed Assessment (e.g., Venue & Time) "),y()(),Ie(23,AK,14,6,"div",40)(24,TK,4,2,"div",41),_(25,"div",42)(26,"button",43),te("click",function(){let r=ae(e).index,o=ne();return le(o.removeAssessment(r))}),x(27,"Remove"),y()()()(),Qn()}if(t&2){let e=n.$implicit,i=n.index;D(),K("ngIf",i>0),D(2),Dn("data-bs-target","#collapseAdd"+i)("aria-expanded",!0)("aria-controls","collapseAdd"+i),D(2),Hn("\u{1F4D8} Assessment ",i+1,": ",e.title||"Untitled",""),D(),K("id","collapseAdd"+i),D(4),ot("ngModel",e.title),K("name","title"+i),D(4),ot("ngModel",e.description),K("name","description"+i),D(4),ot("ngModel",e.date),K("name","date"+i),D(3),ot("ngModel",e.isTimed),K("name","isTimed"+i),D(2),K("ngIf",e.isTimed),D(),K("ngIf",!e.isTimed)}}var wP=(()=>{class t{constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.baseUrl=pn.apiUrl,this.moduleCode="",this.moduleName="",this.semesterChoice="1",this.classVenue="",this.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.selectedDays={},this.startTimes={},this.endTimes={},this.assessments=[],this.formDirty=!1,this.modalEl=null,this.originalHide=this.modalRef.hide.bind(this.modalRef),this.modalRef.hide=()=>this.attemptClose()}get isCoreValid(){let e=(this.moduleCode||"").trim(),i=(this.moduleName||"").trim(),r=["1","2","year"].includes(this.semesterChoice);return e.length>0&&i.length>0&&r}ngAfterViewInit(){setTimeout(()=>this.moduleCodeInput?.nativeElement.focus(),0);let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}markDirty(){this.formDirty=!0}formatTimeString(e){return e?e.length===5?e+":00":e:null}addAssessment(){this.assessments.push({title:"",description:"",date:"",isTimed:!0,startTime:"",endTime:"",venue:""}),this.markDirty()}removeAssessment(e){this.assessments.splice(e,1),this.markDirty()}isAssessmentValid(e){if(!e)return!1;let i=(e.title||"").trim().length>0,r=(e.description||"").trim().length>0,o=(e.date||"").trim().length>0;if(!i||!r||!o)return!1;if(e.isTimed){let s=(e.venue||"").trim(),a=(e.startTime||"").trim(),l=(e.endTime||"").trim();return s.length>0&&a.length>0&&l.length>0}else return(e.dueTime||"").trim().length>0}validateCoreFields(){let e=[],i=(this.moduleCode||"").trim(),r=(this.moduleName||"").trim(),o=["1","2","year"].includes(this.semesterChoice);return i.length===0&&e.push("Module Code is required."),r.length===0&&e.push("Module Name is required."),o||e.push("Please select a valid Semester."),e.length?(this.toastr.error(e.join(" ")),i.length===0&&this.moduleCodeInput&&setTimeout(()=>this.moduleCodeInput.nativeElement.focus(),0),!1):!0}submit(){if(!this.validateCoreFields())return;if(this.assessments.some(p=>!this.isAssessmentValid(p))){this.toastr.error("Please complete Title, Description, Date and the required time fields for each assessment.");return}let i=[],r=[],o=[];for(let p of this.weekDays)this.selectedDays[p]&&(i.push(p),r.push(this.startTimes[p]||""),o.push(this.endTimes[p]||""));let a=this.assessments.filter(p=>(p.date||"").trim()!=="").map(p=>({title:(p.title||"").trim(),description:(p.description||"").trim()||null,date:p.date,isTimed:p.isTimed,startTime:p.isTimed?this.formatTimeString(p.startTime||""):null,endTime:p.isTimed?this.formatTimeString(p.endTime||""):null,dueTime:p.isTimed?null:this.formatTimeString(p.dueTime||""),venue:p.isTimed?p.venue||"":null})),l=this.semesterChoice==="year",c=l?0:Number(this.semesterChoice),d={moduleCode:(this.moduleCode||"").trim(),moduleName:(this.moduleName||"").trim(),semester:c,isYearModule:l,classVenue:(this.classVenue||"").trim()||null,weekDays:i,startTimes:r,endTimes:o,assessments:a};this.http.post(this.baseUrl+"modules",d).subscribe({next:()=>{this.toastr.success("Module added successfully"),this.formDirty=!1,this.originalHide()},error:p=>{this.toastr.error("Failed to add module"),console.error(p)}})}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){if(!this.formDirty){this.originalHide();return}this.openConfirm().then(e=>{e&&this.originalHide()})}cancel(){this.attemptClose()}beforeUnloadHandler(e){this.formDirty&&(e.preventDefault(),e.returnValue="")}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-add-module-modal"]],viewQuery:function(i,r){if(i&1&&sr(EK,5),i&2){let o;Fi(o=Li())&&(r.moduleCodeInput=o.first)}},hostBindings:function(i,r){i&1&&te("beforeunload",function(s){return r.beforeUnloadHandler(s)},!1,uh)},standalone:!0,features:[Ye],decls:55,vars:14,consts:[["moduleCodeInput",""],[1,"p-3","position-relative"],["type","button","aria-label","Close",1,"btn-close","position-absolute","top-0","end-0","m-2",3,"click"],[1,"mb-3"],["type","text","name","moduleCode","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],["type","text","name","moduleName","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-auto"],["name","semesterChoice","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","year"],["type","text","name","classVenue",1,"form-control",3,"ngModelChange","ngModel"],["class","border rounded p-2 mb-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"border","rounded","p-2","mb-2"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"ngModelChange","id","ngModel","name"],[1,"form-check-label","fw-bold",3,"for"],["class","row",4,"ngIf"],[1,"row"],[1,"col"],["type","time","min","06:00","max","21:00",1,"form-control",3,"ngModelChange","ngModel","name"],["type","time","min","06:00","max","22:00",1,"form-control",3,"ngModelChange","ngModel","name"],["class","assessment-divider",4,"ngIf"],[1,"border","rounded","mb-3","assessment-card"],["type","button","data-bs-toggle","collapse",1,"btn","btn-light","w-100","text-start","p-3"],[1,"collapse","show","p-3",3,"id"],[1,"mb-2"],["type","text","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["rows","2","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","date","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","checkbox",3,"ngModelChange","ngModel","name"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"text-end","mt-3"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"assessment-divider"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name"],["type","time",1,"form-control",3,"ngModelChange","ngModel","name"]],template:function(i,r){if(i&1){let o=We();_(0,"div",1)(1,"button",2),te("click",function(){return ae(o),le(r.cancel())}),y(),tt(2,"hr"),_(3,"h4"),x(4,"Add New Module"),y(),_(5,"div",3)(6,"label"),x(7,"Module Code"),y(),_(8,"input",4,0),st("ngModelChange",function(a){return ae(o),lt(r.moduleCode,a)||(r.moduleCode=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y(),_(10,"div",5),x(11,"Module Code is required."),y()(),_(12,"div",3)(13,"label"),x(14,"Module Name"),y(),_(15,"input",6),st("ngModelChange",function(a){return ae(o),lt(r.moduleName,a)||(r.moduleName=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y(),_(16,"div",5),x(17,"Module Name is required."),y()(),_(18,"div",7)(19,"div",8)(20,"label"),x(21,"Semester"),y(),_(22,"select",9),st("ngModelChange",function(a){return ae(o),lt(r.semesterChoice,a)||(r.semesterChoice=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),_(23,"option",10),x(24,"Semester 1"),y(),_(25,"option",11),x(26,"Semester 2"),y(),_(27,"option",12),x(28,"Year Module"),y()(),_(29,"div",5),x(30,"Please select a valid Semester."),y()()(),tt(31,"hr"),_(32,"h6"),x(33,"Class Schedule"),y(),_(34,"div",3)(35,"label"),x(36,"Class Venue"),y(),_(37,"input",13),st("ngModelChange",function(a){return ae(o),lt(r.classVenue,a)||(r.classVenue=a),le(a)}),te("ngModelChange",function(){return ae(o),le(r.markDirty())}),y()(),_(38,"div",3)(39,"label"),x(40,"Class Days & Times"),y(),Ie(41,MK,6,6,"div",14),y(),tt(42,"hr"),_(43,"div",15)(44,"h6",16),x(45,"Assessments"),y(),_(46,"button",17),te("click",function(){return ae(o),le(r.addAssessment())}),x(47,"+ Add Assessment"),y()(),Ie(48,NK,28,17,"ng-container",18),tt(49,"hr"),_(50,"div",19)(51,"button",20),te("click",function(){return ae(o),le(r.cancel())}),x(52,"Cancel"),y(),_(53,"button",21),te("click",function(){return ae(o),le(r.submit())}),x(54,"Add Module"),y()()()}i&2&&(D(8),$t("is-invalid",(r.moduleCode||"").trim().length===0),ot("ngModel",r.moduleCode),D(7),$t("is-invalid",(r.moduleName||"").trim().length===0),ot("ngModel",r.moduleName),D(7),$t("is-invalid",!fr(13,xK).includes(r.semesterChoice)),ot("ngModel",r.semesterChoice),D(15),ot("ngModel",r.classVenue),D(4),K("ngForOf",r.weekDays),D(7),K("ngForOf",r.assessments),D(5),K("disabled",!r.isCoreValid))},dependencies:[bt,hn,on,En,Mi,Ii,An,tp,fi,en,Ts,Mn],styles:[".modal-body[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto;padding:0!important}h6[_ngcontent-%COMP%]{margin-top:1.5rem;font-weight:600;color:#343a40}hr[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:1rem;border-color:#000}button.btn-light[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #dee2e6;font-weight:500}.collapse.show[_ngcontent-%COMP%]{background-color:#fff;border-top:none}.border.rounded.mb-3[_ngcontent-%COMP%]{background-color:#fff}.assessment-card[_ngcontent-%COMP%]{border:5px solid #dee2e6!important;border-color:#000}.assessment-divider[_ngcontent-%COMP%]{border:2px;border-top:2px solid #6c757d;margin:.75rem 0 1rem}.text-end[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]{margin-top:.5rem}.form-check-label[_ngcontent-%COMP%]{font-weight:500}.close-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:transparent;border:none;font-size:1.1rem;line-height:1;cursor:pointer}.close-btn[_ngcontent-%COMP%]:focus{outline:2px solid #adb5bd;outline-offset:2px}"]})}}return t})();var CP=(()=>{class t{constructor(e,i,r){this.http=e,this.toastr=i,this.modalRef=r,this.baseUrl=pn.apiUrl}confirmDelete(){this.http.delete(`${this.baseUrl}modules/${this.module.id}`).subscribe({next:e=>{this.toastr.success(e.message||"Module deleted successfully"),this.modalRef.hide()},error:e=>{this.toastr.error("Failed to delete module"),console.error(e),this.modalRef.hide()}})}cancel(){this.modalRef.hide()}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(tn),ee(Ln))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-delete-module-modal"]],inputs:{module:"module",bsModalRef:"bsModalRef"},standalone:!0,features:[Ye],decls:17,vars:2,consts:[[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-warning"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"h5",1),x(2,"Confirm Module Deletion"),y(),_(3,"button",2),te("click",function(){return r.cancel()}),y()(),_(4,"div",3)(5,"p"),x(6," Are you sure you want to delete the module "),_(7,"strong"),x(8),y(),x(9,"? "),y(),_(10,"p",4),x(11," This will remove the module from the system and unassign it from all users. "),y()(),_(12,"div",5)(13,"button",6),te("click",function(){return r.cancel()}),x(14,"Cancel"),y(),_(15,"button",7),te("click",function(){return r.confirmDelete()}),x(16,"Delete"),y()()),i&2&&(D(8),Hn("",r.module.moduleCode," \u2013 ",r.module.moduleName,""))},styles:[".modal-body[_ngcontent-%COMP%]{font-size:1rem}"]})}}return t})();var kK=["detailsForm"];function PK(t,n){if(t&1){let e=We();_(0,"div",30)(1,"div",31)(2,"label"),x(3,"Start Time"),y(),_(4,"input",32),st("ngModelChange",function(r){ae(e);let o=ne().$implicit,s=ne().$implicit;return lt(s.days[o].startTime,r)||(s.days[o].startTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(3);return le(r.markDirty())}),y()(),_(5,"div",31)(6,"label"),x(7,"End Time"),y(),_(8,"input",33),st("ngModelChange",function(r){ae(e);let o=ne().$implicit,s=ne().$implicit;return lt(s.days[o].endTime,r)||(s.days[o].endTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(3);return le(r.markDirty())}),y()()()}if(t&2){let e=ne().$implicit,i=ne(),r=i.$implicit,o=i.index;D(4),ot("ngModel",r.days[e].startTime),K("name","start-"+o+"-"+e),D(4),ot("ngModel",r.days[e].endTime),K("name","end-"+o+"-"+e)}}function OK(t,n){if(t&1){let e=We();_(0,"div",25)(1,"div",26)(2,"input",27),te("change",function(){let r=ae(e).$implicit,o=ne().index,s=ne();return le(s.toggleDay(o,r))}),y(),_(3,"label",28),x(4),y()(),Ie(5,PK,9,4,"div",29),y()}if(t&2){let e=n.$implicit,i=ne(),r=i.$implicit,o=i.index;D(2),K("checked",r.days[e].checked)("id","day-"+o+"-"+e),D(),K("for","day-"+o+"-"+e),D(),qe(e),D(),K("ngIf",r.days[e].checked)}}function RK(t,n){if(t&1){let e=We();_(0,"div",18)(1,"div",10)(2,"div",19)(3,"label",20),x(4,"Venue"),y(),_(5,"input",21),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.venue,r)||(o.venue=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(6,"button",22),te("click",function(){let r=ae(e).index,o=ne();return le(o.removeVenue(r))}),x(7,"Remove"),y()(),_(8,"div",23)(9,"strong"),x(10,"Days & Times"),y()(),Ie(11,OK,6,5,"div",24),y()}if(t&2){let e=n.$implicit,i=n.index,r=ne();D(5),ot("ngModel",e.venue),K("name","venue-"+i),D(6),K("ngForOf",r.weekDays)}}function jK(t,n){t&1&&tt(0,"hr",46)}function FK(t,n){if(t&1){let e=We();_(0,"div")(1,"div",23)(2,"label"),x(3,"Venue"),y(),_(4,"input",47),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.venue,r)||(o.venue=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()(),_(5,"div",30)(6,"div",31)(7,"label"),x(8,"Start Time"),y(),_(9,"input",48),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.startTime,r)||(o.startTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()(),_(10,"div",31)(11,"label"),x(12,"End Time"),y(),_(13,"input",48),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.endTime,r)||(o.endTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()()()()}if(t&2){let e=ne(),i=e.$implicit,r=e.index;D(4),ot("ngModel",i.venue),K("name","venue"+r),D(5),ot("ngModel",i.startTime),K("name","startTime"+r),D(4),ot("ngModel",i.endTime),K("name","endTime"+r)}}function LK(t,n){if(t&1){let e=We();_(0,"div",23)(1,"label"),x(2,"Submission Deadline"),y(),_(3,"input",48),st("ngModelChange",function(r){ae(e);let o=ne().$implicit;return lt(o.dueTime,r)||(o.dueTime=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne(2);return le(r.markDirty())}),y()()}if(t&2){let e=ne(),i=e.$implicit,r=e.index;D(3),ot("ngModel",i.dueTime),K("name","dueTime"+r)}}function VK(t,n){if(t&1){let e=We();Zn(0),Ie(1,jK,1,0,"hr",34),_(2,"div",35)(3,"button",36)(4,"strong"),x(5),y()(),_(6,"div",37)(7,"div",23)(8,"label"),x(9,"Title"),y(),_(10,"input",38),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.title,r)||(o.title=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(11,"div",23)(12,"label"),x(13,"Description"),y(),_(14,"textarea",39),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.description,r)||(o.description=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(15,"div",23)(16,"label"),x(17,"Date"),y(),_(18,"input",40),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.date,r)||(o.date=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y()(),_(19,"div",23)(20,"label")(21,"input",41),st("ngModelChange",function(r){let o=ae(e).$implicit;return lt(o.isTimed,r)||(o.isTimed=r),le(r)}),te("ngModelChange",function(){ae(e);let r=ne();return le(r.markDirty())}),y(),x(22," Timed Assessment (e.g., Venue & Time) "),y()(),Ie(23,FK,14,6,"div",42)(24,LK,4,2,"div",43),_(25,"div",44)(26,"button",45),te("click",function(){let r=ae(e).index,o=ne();return le(o.removeAssessment(r))}),x(27,"Remove"),y()()()(),Qn()}if(t&2){let e=n.$implicit,i=n.index;D(),K("ngIf",i>0),D(2),Dn("data-bs-target","#collapse"+i)("aria-expanded",!0)("aria-controls","collapse"+i),D(2),Hn("\u{1F4D8} Assessment ",i+1,": ",e.title||"Untitled",""),D(),K("id","collapse"+i),D(4),ot("ngModel",e.title),K("name","title"+i),D(4),ot("ngModel",e.description),K("name","description"+i),D(4),ot("ngModel",e.date),K("name","date"+i),D(3),ot("ngModel",e.isTimed),K("name","isTimed"+i),D(2),K("ngIf",e.isTimed),D(),K("ngIf",!e.isTimed)}}var wy=(()=>{class t{setTab(e){this.activeTab=e}constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.baseUrl=pn.apiUrl,this.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday"],this.venues=[],this.assessments=[],this.activeTab="contact",this.justSaved=!1,this.locallyDirty=!1,this.modalEl=null}ngOnInit(){let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose(),this.http.get(`${this.baseUrl}modules/${this.module.id}`).subscribe({next:i=>{this.module=i;let r=i.classSessions||[],o=new Map,s=()=>{let a={};return this.weekDays.forEach(l=>a[l]={checked:!1,startTime:"",endTime:""}),a};for(let a of r){if(!this.weekDays.includes(a.weekDay))continue;o.has(a.venue)||o.set(a.venue,{venue:a.venue,days:s()});let l=o.get(a.venue);l.days[a.weekDay]&&(l.days[a.weekDay].checked=!0,l.days[a.weekDay].startTime=a.startTime?.length===5?a.startTime+":00":a.startTime||"",l.days[a.weekDay].endTime=a.endTime?.length===5?a.endTime+":00":a.endTime||"")}this.venues=Array.from(o.values()),this.venues.length===0&&this.addVenue(),this.assessments=(i.assessments||[]).map(a=>({title:a.title,description:a.description||"",date:a.date,isTimed:a.isTimed,startTime:a.startTime||"",endTime:a.endTime||"",dueTime:a.dueTime||"",venue:a.venue||""})),this.justSaved=!1,this.locallyDirty=!1,setTimeout(()=>this.detailsForm?.form.markAsPristine())},error:i=>{console.error("\u274C Failed to fetch module data:",i),this.addVenue(),this.assessments=[]}})}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}markDirty(){this.locallyDirty=!0}formatTimeString(e){return e?e.length===5?e+":00":e:null}addVenue(){let e={};this.weekDays.forEach(i=>e[i]={checked:!1,startTime:"",endTime:""}),this.venues.push({venue:"",days:e}),this.markDirty()}removeVenue(e){this.venues.splice(e,1),this.venues.length===0&&this.addVenue(),this.markDirty()}toggleDay(e,i){let r=this.venues[e].days[i];r.checked=!r.checked,r.checked||(r.startTime="",r.endTime=""),this.markDirty()}addAssessment(){this.assessments.push({title:"",description:"",date:"",isTimed:!0,startTime:"",endTime:"",venue:""}),this.markDirty()}removeAssessment(e){this.assessments.splice(e,1),this.markDirty()}hasUnsavedChanges(){return this.justSaved?!1:!!this.detailsForm?.dirty||this.locallyDirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}isAssessmentValid(e){if(!e)return!1;let i=(e.title||"").trim().length>0,r=(e.description||"").trim().length>0,o=(e.date||"").trim().length>0;if(!i||!r||!o)return!1;if(e.isTimed){let s=(e.venue||"").trim(),a=(e.startTime||"").trim(),l=(e.endTime||"").trim();return s.length>0&&a.length>0&&l.length>0}else return(e.dueTime||"").trim().length>0}submit(){if(this.assessments.some(a=>!this.isAssessmentValid(a))){this.activeTab="assessments",this.toastr.error("Please complete Title, Description, Date and the required time fields for each assessment before saving.");return}let i=[];for(let a of this.venues){let l=(a.venue||"").trim();if(l)for(let c of this.weekDays){let d=a.days[c];if(!d.checked)continue;let p=this.formatTimeString(d.startTime)||"",g=this.formatTimeString(d.endTime)||"";!p||!g||i.push({venue:l,weekDay:c,startTime:p,endTime:g})}}let o=this.assessments.filter(a=>(a.date||"").trim()!=="").map(a=>({title:a.title,description:(a.description||"").trim()||null,date:a.date,isTimed:a.isTimed,startTime:a.isTimed?this.formatTimeString(a.startTime):null,endTime:a.isTimed?this.formatTimeString(a.endTime):null,dueTime:a.isTimed?null:this.formatTimeString(a.dueTime),venue:a.isTimed?a.venue:null})),s={classSessions:i,assessments:o};this.http.put(`${this.baseUrl}modules/${this.module.id}`,s).subscribe({next:a=>{this.toastr.success("Module details updated"),a.notification&&(this.toastr.info(`An notification was triggered for ${this.module.moduleCode}`,"Schedule Updated"),console.log("\u{1F514} Notification:",a.notification)),this.justSaved=!0,this.originalHide()},error:a=>{this.toastr.error("Failed to update module"),console.error(a)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-edit-details-modal"]],viewQuery:function(i,r){if(i&1&&sr(kK,5),i&2){let o;Fi(o=Li())&&(r.detailsForm=o.first)}},inputs:{module:"module",bsModalRef:"bsModalRef"},standalone:!0,features:[Ye],decls:35,vars:8,consts:[["detailsForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"border","border-top-0","rounded-bottom","p-3"],[3,"hidden"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","border rounded p-2 mb-3 venue-card",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"border","rounded","p-2","mb-3","venue-card"],[1,"flex-grow-1","me-2"],[1,"form-label"],["placeholder","e.g., B108",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-outline-danger","btn-sm","mt-4",3,"click"],[1,"mb-2"],["class","border rounded p-2 mb-2",4,"ngFor","ngForOf"],[1,"border","rounded","p-2","mb-2"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label","fw-bold",3,"for"],["class","row",4,"ngIf"],[1,"row"],[1,"col"],["type","time","min","06:00","max","21:00",1,"form-control",3,"ngModelChange","ngModel","name"],["type","time","min","06:00","max","22:00",1,"form-control",3,"ngModelChange","ngModel","name"],["class","assessment-divider",4,"ngIf"],[1,"border","rounded","mb-3","assessment-card"],["type","button","data-bs-toggle","collapse",1,"btn","btn-light","w-100","text-start","p-3"],[1,"collapse","show","p-3",3,"id"],["type","text","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["rows","2","placeholder","Short description (e.g., scope, chapters, instructions)","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","date","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","checkbox",3,"ngModelChange","ngModel","name"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"text-end","mt-3"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"assessment-divider"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name"],["type","time",1,"form-control",3,"ngModelChange","ngModel","name"]],template:function(i,r){if(i&1){let o=We();_(0,"div",1)(1,"h5",2),x(2,"Edit Scheduling & Venue Details"),y(),_(3,"button",3),te("click",function(){return ae(o),le(r.attemptClose())}),y()(),_(4,"div",4)(5,"form",null,0)(7,"ul",5)(8,"li",6)(9,"a",7),te("click",function(){return ae(o),le(r.setTab("contact"))}),x(10,"Venues & Contact Sessions"),y()(),_(11,"li",6)(12,"a",7),te("click",function(){return ae(o),le(r.setTab("assessments"))}),x(13,"Assessments"),y()()(),_(14,"div",8)(15,"div",9)(16,"div",10)(17,"h6",11),x(18,"Class Venues & Days/Times"),y(),_(19,"button",12),te("click",function(){return ae(o),le(r.addVenue())}),x(20,"+ Add Venue"),y()(),Ie(21,RK,12,3,"div",13),y(),_(22,"div",9),tt(23,"hr"),_(24,"div",10)(25,"h6",11),x(26,"Assessments"),y(),_(27,"button",12),te("click",function(){return ae(o),le(r.addAssessment())}),x(28," + Add Assessment "),y()(),Ie(29,VK,28,17,"ng-container",14),y()()()(),_(30,"div",15)(31,"button",16),te("click",function(){return ae(o),le(r.attemptClose())}),x(32,"Cancel"),y(),_(33,"button",17),te("click",function(){return ae(o),le(r.submit())}),x(34,"Save Changes"),y()()}i&2&&(D(9),$t("active",r.activeTab==="contact"),D(3),$t("active",r.activeTab==="assessments"),D(3),K("hidden",r.activeTab!=="contact"),D(6),K("ngForOf",r.venues),D(),K("hidden",r.activeTab!=="assessments"),D(7),K("ngForOf",r.assessments))},dependencies:[bt,hn,on,En,Di,An,tp,en,xi,Ts,Mn,qr],styles:[".modal-body[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.assessment-divider[_ngcontent-%COMP%]{border:0;border-top:2px solid #6c757d;margin:.75rem 0 1rem}.assessment-card[_ngcontent-%COMP%]{border:2px solid #dee2e6!important}.venue-card[_ngcontent-%COMP%]{border:3px solid #dee2e6!important;border-radius:.375rem}"]})}}return t})();var BK=["editForm"],SP=(()=>{class t{constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.baseUrl=pn.apiUrl,this.newCode="",this.newName="",this.semesterChoice="1",this.justSaved=!1,this.modalEl=null}ngOnInit(){this.newCode=this.module.moduleCode,this.newName=this.module.moduleName,this.module.isYearModule||this.module.semester===0?this.semesterChoice="year":this.semesterChoice=this.module.semester===2?"2":"1";let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:!!this.editForm?.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){let e={moduleCode:this.newCode,moduleName:this.newName};this.semesterChoice==="year"?(e.isYearModule=!0,e.semester=0):(e.isYearModule=!1,e.semester=Number(this.semesterChoice)),this.http.put(`${this.baseUrl}modules/${this.module.id}`,e).subscribe({next:()=>{this.toastr.success("Module updated successfully"),this.justSaved=!0,this.originalHide()},error:i=>{this.toastr.error("Failed to update module"),console.error(i)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(tn),ee(Ln),ee(gn),ee(Dt))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-edit-module-modal"]],viewQuery:function(i,r){if(i&1&&sr(BK,5),i&2){let o;Fi(o=Li())&&(r.editForm=o.first)}},inputs:{module:"module",bsModalRef:"bsModalRef"},standalone:!0,features:[Ye],decls:30,vars:3,consts:[["editForm","ngForm"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text","name","newCode","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","newName","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","semesterChoice",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","year"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,r){if(i&1){let o=We();_(0,"form",1,0)(2,"div",2)(3,"h5",3),x(4,"Edit Module"),y(),_(5,"button",4),te("click",function(){return ae(o),le(r.attemptClose())}),y()(),_(6,"div",5)(7,"div",6)(8,"label",7),x(9,"Module Code"),y(),_(10,"input",8),st("ngModelChange",function(a){return ae(o),lt(r.newCode,a)||(r.newCode=a),le(a)}),y()(),_(11,"div",6)(12,"label",7),x(13,"Module Name"),y(),_(14,"input",9),st("ngModelChange",function(a){return ae(o),lt(r.newName,a)||(r.newName=a),le(a)}),y()(),_(15,"div",6)(16,"label",7),x(17,"Semester"),y(),_(18,"select",10),st("ngModelChange",function(a){return ae(o),lt(r.semesterChoice,a)||(r.semesterChoice=a),le(a)}),_(19,"option",11),x(20,"Semester 1"),y(),_(21,"option",12),x(22,"Semester 2"),y(),_(23,"option",13),x(24,"Year module"),y()()()(),_(25,"div",14)(26,"button",15),te("click",function(){return ae(o),le(r.attemptClose())}),x(27,"Cancel"),y(),_(28,"button",16),te("click",function(){return ae(o),le(r.submit())}),x(29,"Save"),y()()()}i&2&&(D(10),ot("ngModel",r.newCode),D(4),ot("ngModel",r.newName),D(4),ot("ngModel",r.semesterChoice))},dependencies:[bt,En,Di,Mi,Ii,An,fi,en,xi,Ts,Mn,qr]})}}return t})();function UK(t,n){if(t&1){let e=We();_(0,"tr")(1,"td"),x(2),y(),_(3,"td"),x(4),y(),_(5,"td"),x(6),y(),_(7,"td")(8,"button",8),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openEditModuleModal(r))}),x(9,"Edit Module"),y()(),_(10,"td")(11,"button",8),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openEditDetailsModal(r))}),x(12,"Edit Details"),y()(),_(13,"td")(14,"button",9),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openDeleteModuleModal(r))}),x(15,"Delete"),y()()()}if(t&2){let e=n.$implicit;D(2),qe(e.moduleCode),D(2),qe(e.moduleName),D(2),qe(e.semester)}}var EP=(()=>{class t{constructor(e,i){this.moduleService=e,this.modalService=i,this.modules=[],this.filteredModules=[],this.searchTerm=""}ngOnInit(){this.loadModules()}loadModules(){this.moduleService.getAllModules().subscribe({next:e=>{this.modules=e,this.filteredModules=this.applyDefaultSort([...e])}})}filterModules(){let e=this.searchTerm.toLowerCase(),i=this.modules.filter(r=>r.moduleCode.toLowerCase().includes(e)||r.moduleName.toLowerCase().includes(e));this.filteredModules=this.applyDefaultSort(i)}openAddModuleModal(){this.modalRef=this.modalService.show(wP,{class:"modal-lg",ignoreBackdropClick:!0,keyboard:!1}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}openEditModuleModal(e){this.modalRef=this.modalService.show(SP,{initialState:{module:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}openEditDetailsModal(e){this.modalRef=this.modalService.show(wy,{initialState:{module:e},class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}openDeleteModuleModal(e){this.modalRef=this.modalService.show(CP,{initialState:{module:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}trackById(e,i){return i.id}applyDefaultSort(e){return e.sort((i,r)=>{let o=this.semesterRank(i.semester),s=this.semesterRank(r.semester);if(o!==s)return o-s;let a=(i.moduleCode||"").toString(),l=(r.moduleCode||"").toString();return a.localeCompare(l,void 0,{numeric:!0,sensitivity:"base"})})}semesterRank(e){if(e===1||String(e).trim()==="1")return 1;let i=String(e||"").toLowerCase().trim();return i.includes("semester 1")||i==="sem 1"||i==="s1"?1:e===2||String(e).trim()==="2"||i.includes("semester 2")||i==="sem 2"||i==="s2"?2:99}static{this.\u0275fac=function(i){return new(i||t)(ee(os),ee(gn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-module-management"]],standalone:!0,features:[Ye],decls:25,vars:3,consts:[[1,"row"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"section-title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-end","mb-3"],["type","text","placeholder","Search by code or name or semester ...",1,"form-control","w-25","search-input",3,"ngModelChange","input","ngModel"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"Module Management"),y(),_(4,"button",3),te("click",function(){return r.openAddModuleModal()}),x(5,"Add Module"),y()(),_(6,"div",4)(7,"input",5),st("ngModelChange",function(s){return lt(r.searchTerm,s)||(r.searchTerm=s),s}),te("input",function(){return r.filterModules()}),y()(),_(8,"table",6)(9,"thead")(10,"tr")(11,"th"),x(12,"Module Code"),y(),_(13,"th"),x(14,"Module Name"),y(),_(15,"th"),x(16,"Semester"),y(),_(17,"th"),x(18,"Edit Module"),y(),_(19,"th"),x(20,"Edit Details"),y(),_(21,"th"),x(22,"Delete Module"),y()()(),_(23,"tbody"),Ie(24,UK,16,3,"tr",7),y()()()),i&2&&(D(7),ot("ngModel",r.searchTerm),D(17),K("ngForOf",r.filteredModules)("ngForTrackBy",r.trackById))},dependencies:[bt,hn,En,An,en,Mn],styles:[".search-input[_ngcontent-%COMP%]{border:2px solid #333;border-radius:4px;padding:6px 12px;font-weight:500}.section-title[_ngcontent-%COMP%]{color:#000!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000!important;font-size:1.05rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000!important;font-size:1rem}"]})}}return t})();var xP=()=>["Admin"];function HK(t,n){t&1&&(Zn(0),_(1,"tab",4)(2,"div",5),tt(3,"app-user-management"),y()(),Qn())}function $K(t,n){t&1&&(Zn(0),_(1,"tab",6)(2,"div",5),tt(3,"app-module-management"),y()(),Qn())}var DP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-admin-panel"]],standalone:!0,features:[Ye],decls:6,vars:4,consts:[[1,"mb-0","admin-title"],[1,"tab-panel"],[1,"member-tabset"],[4,"appHasRole"],["heading","User management"],[1,"container"],["heading","Module management"]],template:function(i,r){i&1&&(_(0,"h2",0),x(1,"Admin Panel"),y(),_(2,"div",1)(3,"tabset",2),Ie(4,HK,4,0,"ng-container",3)(5,$K,4,0,"ng-container",3),y()()),i&2&&(D(4),K("appHasRole",fr(2,xP)),D(),K("appHasRole",fr(3,xP)))},dependencies:[mP,pP,LS,bP,by,EP],styles:['.admin-title[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important;margin-bottom:1rem!important}.admin-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}']})}}return t})();var zK=(t,n)=>n.id;function WK(t,n){if(t&1){let e=We();_(0,"tr")(1,"td"),x(2),y(),_(3,"td"),x(4),y(),_(5,"td"),x(6),y(),_(7,"td")(8,"button",4),te("click",function(){let r=ae(e).$implicit,o=ne();return le(o.openEditDetailsModal(r))}),x(9," Edit Details "),y()()()}if(t&2){let e=n.$implicit;D(2),qe(e.moduleCode),D(2),qe(e.moduleName),D(2),qe(e.semester)}}var MP=(()=>{class t{constructor(e,i){this.moduleService=e,this.modalService=i,this.modules=[]}ngOnInit(){this.loadAssignedModules()}loadAssignedModules(){this.moduleService.getAssignedModules().subscribe({next:e=>this.modules=e,error:e=>console.error("Failed to load assigned modules",e)})}openEditDetailsModal(e){this.modalRef=this.modalService.show(wy,{initialState:{module:e},class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadAssignedModules())}static{this.\u0275fac=function(i){return new(i||t)(ee(os),ee(gn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-lecturer-panel"]],standalone:!0,features:[Ye],decls:18,vars:0,consts:[[1,"row"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0","lecturer-title"],[1,"table","table-striped","lecturer-table"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"My Assigned Modules"),y()(),_(4,"table",3)(5,"thead")(6,"tr")(7,"th"),x(8,"Module Code"),y(),_(9,"th"),x(10,"Module Name"),y(),_(11,"th"),x(12,"Semester"),y(),_(13,"th"),x(14,"Edit Details"),y()()(),_(15,"tbody"),gd(16,WK,10,3,"tr",null,zK),y()()()),i&2&&(D(16),vd(r.modules))},dependencies:[bt],styles:['.lecturer-title[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.lecturer-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.lecturer-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .lecturer-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:1rem;color:#000!important}']})}}return t})();var qK=()=>[];function GK(t,n){if(t&1&&(Zn(0),x(1),Qo(2,"uppercase"),Qn()),t&2){let e=ne();D(),Bt(" for ",e.moduleCode?s0(2,1,e.moduleCode):e.moduleName," ")}}function KK(t,n){if(t&1){let e=We();_(0,"button",14),te("click",function(){ae(e);let r=ne();return le(r.openUploadModal())}),x(1," Upload Document "),y()}}function YK(t,n){if(t&1){let e=We();_(0,"button",17),te("click",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.deleteDocument(r.id))}),x(1,"Delete"),y()}}function ZK(t,n){if(t&1&&(_(0,"tr")(1,"td"),x(2),y(),_(3,"td"),x(4),y(),_(5,"td"),x(6),Qo(7,"date"),y(),_(8,"td",11)(9,"a",15),x(10,"Download"),y(),Ie(11,YK,2,0,"button",16),y()()),t&2){let e=n.$implicit,i=ne();D(2),qe(e.title),D(2),qe(e.uploadedBy),D(2),qe(Oa(7,5,e.uploadedAt,"medium")),D(3),K("href",e.filePath,Zs),D(2),K("ngIf",i.hasUploadRights())}}function QK(t,n){t&1&&(_(0,"tr")(1,"td",18),x(2,"No documents found."),y()())}function XK(t,n){if(t&1){let e=We();_(0,"li",21)(1,"a",22),te("click",function(){let r=ae(e).index,o=ne(2);return le(o.pageChanged({page:r+1}))}),x(2),y()()}if(t&2){let e=n.index,i=ne(2);$t("active",i.pagination.currentPage===e+1),D(2),qe(e+1)}}function JK(t,n){if(t&1){let e=We();_(0,"nav",19)(1,"ul",20)(2,"li",21)(3,"a",22),te("click",function(){ae(e);let r=ne();return le(r.pageChanged({page:r.pagination.currentPage-1}))}),x(4,"Previous"),y()(),Ie(5,XK,3,3,"li",23),_(6,"li",21)(7,"a",22),te("click",function(){ae(e);let r=ne();return le(r.pageChanged({page:r.pagination.currentPage+1}))}),x(8,"Next"),y()()()()}if(t&2){let e=ne();D(2),$t("disabled",e.pagination.currentPage===1),D(3),K("ngForOf",fr(5,qK).constructor(e.pagination.totalPages)),D(),$t("disabled",e.pagination.currentPage===e.pagination.totalPages)}}var IP=(()=>{class t{constructor(e,i,r,o,s,a){this.route=e,this.documentService=i,this.modalService=r,this.accountService=o,this.router=s,this.moduleService=a,this.moduleCode="",this.moduleName="",this.documents=[],this.roles=[],this.pagination={currentPage:1,itemsPerPage:5,totalItems:0,totalPages:0}}ngOnInit(){this.roles=this.accountService.roles(),this.moduleId=+this.route.snapshot.paramMap.get("id");let e=history&&history.state?history.state:{};e?.moduleCode&&(this.moduleCode=e.moduleCode),e?.moduleName&&(this.moduleName=e.moduleName);let i=this.route.snapshot.queryParamMap;this.moduleCode=i.get("code")??this.moduleCode,this.moduleName=i.get("name")??this.moduleName,this.route.queryParamMap.subscribe(r=>{let o=r.get("code"),s=r.get("name");o&&(this.moduleCode=o),s&&(this.moduleName=s)}),this.hasUploadRights()&&this.loadHeaderContext(),this.loadDocuments()}loadHeaderContext(){this.moduleService.getModuleById(this.moduleId).subscribe({next:e=>{this.moduleCode=e?.moduleCode??this.moduleCode,this.moduleName=e?.moduleName??this.moduleName},error:()=>{}})}loadDocuments(){this.documentService.getDocumentsByModulePaged(this.moduleId,this.pagination.currentPage,this.pagination.itemsPerPage).subscribe({next:e=>{let i=e.body||[];this.documents=[...i].sort((o,s)=>new Date(s.uploadedAt).getTime()-new Date(o.uploadedAt).getTime());let r=e.headers.get("Pagination");r&&(this.pagination=JSON.parse(r))},error:e=>console.error("Failed to load documents",e)})}pageChanged(e){this.pagination.currentPage=e.page,this.loadDocuments()}openUploadModal(){this.bsModalRef=this.modalService.show(Rv),setTimeout(()=>{this.bsModalRef?.content&&(this.bsModalRef.content.formData={source:"Module",moduleId:this.moduleId},this.bsModalRef.content.onUpload.subscribe(()=>{this.loadDocuments()}))},0)}deleteDocument(e){this.documentService.deleteModuleDocument(e).subscribe({next:()=>{this.documents=this.documents.filter(i=>i.id!==e)},error:i=>console.error("Failed to delete document",i)})}hasUploadRights(){return this.roles.includes("Lecturer")||this.roles.includes("Coordinator")||this.roles.includes("Admin")}goBack(){this.router.navigate(["/modules"])}static{this.\u0275fac=function(i){return new(i||t)(ee(Xs),ee(Hd),ee(gn),ee(mn),ee(qn),ee(os))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-module-documents"]],standalone:!0,features:[Ye],decls:26,vars:5,consts:[[1,"container","mt-4"],[1,"mb-3","d-flex","align-items-center"],["type","button","aria-label","Back to Modules",1,"btn","back-button","d-flex","align-items-center","justify-content-center","me-2",3,"click"],["aria-hidden","true",1,"bi","bi-arrow-left","back-icon"],[1,"fw-semibold","back-crumb",2,"cursor","pointer",3,"click"],[1,"d-flex","justify-content-between","align-items-center","mb-3","module-docs-header"],[1,"mb-0"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"table","table-bordered","table-hover","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["target","_blank","rel","noopener noreferrer","download","",1,"btn","btn-sm","btn-success","me-2",3,"href"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"],["colspan","4",1,"text-center","text-muted"],[1,"d-flex","justify-content-center","mt-3"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"button",2),te("click",function(){return r.goBack()}),tt(3,"i",3),y(),_(4,"span",4),te("click",function(){return r.goBack()}),x(5,"Back to Modules"),y()(),_(6,"div",5)(7,"h2",6),x(8," Module documents "),Ie(9,GK,3,3,"ng-container",7),y(),Ie(10,KK,2,0,"button",8),y(),_(11,"table",9)(12,"thead",10)(13,"tr")(14,"th"),x(15,"Title"),y(),_(16,"th"),x(17,"Uploaded By"),y(),_(18,"th"),x(19,"Date"),y(),_(20,"th",11),x(21,"Actions"),y()()(),_(22,"tbody"),Ie(23,ZK,12,8,"tr",12)(24,QK,3,0,"tr",7),y()(),Ie(25,JK,9,6,"nav",13),y()),i&2&&(D(9),K("ngIf",r.moduleCode||r.moduleName),D(),K("ngIf",r.hasUploadRights()),D(13),K("ngForOf",r.documents),D(),K("ngIf",r.documents.length===0),D(),K("ngIf",r.pagination.totalPages>1))},dependencies:[bt,hn,on,oI,Al],styles:['.back-button[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;width:40px;height:40px;border:none;border-radius:9999px;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0d6efd40}.back-button[_ngcontent-%COMP%]:hover{background-color:#0b5ed7}.back-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 4px #0d6efd33}.back-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;line-height:1}.back-crumb[_ngcontent-%COMP%]{color:#000!important}.module-docs-header[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;margin:0!important;color:#000!important;font-weight:700!important}.module-docs-header[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}']})}}return t})();var AP=(t,n)=>{let e=Me(mn),i=Me(tn);return e.currentUser()?!0:(i.error("You shall not PASS!"),!1)};var VS=(t,n)=>{let e=Me(mn),i=Me(tn),r=e.roles();return(Array.isArray(r)?r.includes("Admin"):r==="Admin")?!0:(i.error("You cannot enter this area"),!1)};var TP=()=>{let t=Me(mn),n=Me(tn),e=t.roles(),r=(t.currentUser()?.modules??[]).length>0,o=e.includes("Lecturer"),s=e.includes("Coordinator")&&r;return o||s?!0:(n.error("Only lecturers or coordinators with modules can access this page"),!1)};var Cy=()=>{let t=Me(mn),n=Me(tn),e=t.roles(),r=(t.currentUser()?.modules??[]).length>0,o=e.includes("Student"),s=e.includes("Lecturer")&&r,a=e.includes("Coordinator")&&r;return o||s||a?!0:(n.error("Only students, lecturers or coordinators with modules can access this page"),!1)};function eY(t,n){if(t&1){let e=We();_(0,"div",13)(1,"div",14),te("click",function(){let r=ae(e).$implicit,o=ne(2);return le(o.openModule(r))}),_(2,"div",15)(3,"h5",16),x(4),y(),_(5,"p",17),x(6),y()()()()}if(t&2){let e=n.$implicit;D(4),qe(e.moduleCode),D(2),qe(e.moduleName)}}function tY(t,n){t&1&&(_(0,"div",18),x(1,"No modules assigned to you for this semester. "),y())}function nY(t,n){if(t&1){let e=We();_(0,"div",13)(1,"div",14),te("click",function(){let r=ae(e).$implicit,o=ne(2);return le(o.openModule(r))}),_(2,"div",15)(3,"h5",16),x(4),y(),_(5,"p",17),x(6),y()()()()}if(t&2){let e=n.$implicit;D(4),qe(e.moduleCode),D(2),qe(e.moduleName)}}function iY(t,n){t&1&&(_(0,"div",18),x(1,"No other modules found for this semester."),y())}function rY(t,n){if(t&1&&(Zn(0),_(1,"div",8)(2,"h5",2),x(3,"Assigned Modules"),y()(),_(4,"div",9),Ie(5,eY,7,2,"div",10)(6,tY,2,0,"div",11),y(),_(7,"div",12)(8,"h5",2),x(9,"Other Modules"),y()(),_(10,"div",9),Ie(11,nY,7,2,"div",10)(12,iY,2,0,"div",11),y(),Qn()),t&2){let e=ne();D(5),K("ngForOf",e.assignedModules),D(),K("ngIf",e.assignedModules.length===0),D(5),K("ngForOf",e.otherModules),D(),K("ngIf",e.otherModules.length===0)}}function oY(t,n){if(t&1){let e=We();_(0,"div",13)(1,"div",14),te("click",function(){let r=ae(e).$implicit,o=ne(2);return le(o.openModule(r))}),_(2,"div",15)(3,"h5",16),x(4),y(),_(5,"p",17),x(6),y()()()()}if(t&2){let e=n.$implicit;D(4),qe(e.moduleCode),D(2),qe(e.moduleName)}}function sY(t,n){t&1&&(_(0,"div",18),x(1,"No modules found for this semester."),y())}function aY(t,n){if(t&1&&(_(0,"div",9),Ie(1,oY,7,2,"div",10)(2,sY,2,0,"div",11),y()),t&2){let e=ne();D(),K("ngForOf",e.modules),D(),K("ngIf",e.modules.length===0)}}var NP=(()=>{class t{constructor(e,i,r){this.http=e,this.router=i,this.accountService=r,this.modules=[],this.assignedModules=[],this.otherModules=[],this.selectedSemester=1,this.roles=[],this.isCoordinator=!1}ngOnInit(){this.roles=this.accountService.roles(),this.isCoordinator=this.roles.includes("Coordinator")&&!this.roles.includes("Admin"),this.loadModules()}loadModules(){this.isCoordinator?this.http.get(`${pn.apiUrl}modules/semester/${this.selectedSemester}/grouped`).subscribe({next:e=>{this.assignedModules=e.assigned||[],this.otherModules=e.other||[]},error:e=>console.error("Failed to load grouped modules",e)}):this.http.get(`${pn.apiUrl}modules/semester/${this.selectedSemester}`).subscribe({next:e=>this.modules=e,error:e=>console.error("Failed to load modules",e)})}onSemesterChange(){this.loadModules()}openModule(e){this.router.navigate(["/modules",e.id],{state:{moduleCode:e.moduleCode,moduleName:e.moduleName},queryParams:{code:e.moduleCode,name:e.moduleName}})}static{this.\u0275fac=function(i){return new(i||t)(ee(wn),ee(qn),ee(mn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-modules"]],standalone:!0,features:[Ye],decls:14,vars:5,consts:[["defaultList",""],[1,"container","mt-4","modules-page"],[1,"mb-0"],[1,"mb-3","semester-filter"],["for","semester",1,"h5","fw-normal","mb-0"],["id","semester","name","semester",1,"form-select","w-auto",3,"ngModelChange","change","ngModel"],[3,"value"],[4,"ngIf","ngIfElse"],[1,"mb-2","d-flex","align-items-center","section-heading"],[1,"row","modules-grid"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"mt-4","mb-2","d-flex","align-items-center","section-heading"],[1,"col-md-4","mb-3"],[1,"card","h-100",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"]],template:function(i,r){if(i&1){let o=We();_(0,"div",1)(1,"h2",2),x(2,"Modules"),y(),_(3,"div",3)(4,"label",4),x(5,"Select Semester:"),y(),_(6,"select",5),st("ngModelChange",function(a){return ae(o),lt(r.selectedSemester,a)||(r.selectedSemester=a),le(a)}),te("change",function(){return ae(o),le(r.onSemesterChange())}),_(7,"option",6),x(8,"Semester 1"),y(),_(9,"option",6),x(10,"Semester 2"),y()()(),Ie(11,rY,13,4,"ng-container",7)(12,aY,3,2,"ng-template",null,0,Dl),y()}if(i&2){let o=xl(13);D(6),ot("ngModel",r.selectedSemester),D(),K("value",1),D(2),K("value",2),D(2),K("ngIf",r.isCoordinator)("ngIfElse",o)}},dependencies:[bt,hn,on,En,Mi,Ii,fi,en,Mn],styles:['.modules-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .modules-page[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{margin-bottom:2rem!important;display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.modules-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.modules-page[_ngcontent-%COMP%]   .semester-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:5rem}.modules-page[_ngcontent-%COMP%]   .semester-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:400;color:#000}.modules-page[_ngcontent-%COMP%]   .semester-filter[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:1rem;color:#000}.modules-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{margin-top:1.25rem}.modules-page[_ngcontent-%COMP%]   .modules-grid[_ngcontent-%COMP%]{--bs-gutter-x: 1.25rem;--bs-gutter-y: 1.25rem}']})}}return t})();var kP=n1(yy());function lY(t,n){t&1&&(_(0,"div",8),x(1," Nothing scheduled. "),y())}function cY(t,n){if(t&1&&(_(0,"tr",22)(1,"td"),x(2),y(),_(3,"td"),x(4),y(),_(5,"td"),x(6),y(),_(7,"td"),x(8),Qo(9,"date"),y(),_(10,"td"),x(11),y(),_(12,"td"),x(13),y(),_(14,"td"),x(15),y(),_(16,"td"),x(17),y()()),t&2){let e=n.$implicit,i=ne(3);D(2),qe(e.moduleCode),D(2),qe(e.title),D(2),qe(e.description||"-"),D(2),qe(Oa(9,8,e.date,"fullDate")),D(3),qe(i.formatTime(e.startTime)),D(2),qe(i.formatTime(e.endTime)),D(2),qe(i.formatTime(e.dueTime)),D(2),qe(e.venue||"-")}}function uY(t,n){if(t&1&&(_(0,"div",16)(1,"table",17)(2,"thead",18)(3,"tr")(4,"th",19),x(5),y()(),_(6,"tr",20)(7,"th"),x(8,"Module Code"),y(),_(9,"th"),x(10,"Title"),y(),_(11,"th"),x(12,"Description"),y(),_(13,"th"),x(14,"Date"),y(),_(15,"th"),x(16,"Start Time"),y(),_(17,"th"),x(18,"End Time"),y(),_(19,"th"),x(20,"Submission Deadline"),y(),_(21,"th"),x(22,"Venue"),y()()(),_(23,"tbody"),Ie(24,cY,18,11,"tr",21),y()()()),t&2){let e=n.$implicit,i=ne(2);D(5),qe(e),D(19),K("ngForOf",i.groupedAssessments[e])}}function dY(t,n){if(t&1&&(_(0,"div",9)(1,"div",10),tt(2,"img",11),y(),_(3,"div",12)(4,"div",13),x(5,"Assessment Schedule"),y(),_(6,"div",14),x(7),y()(),_(8,"div"),Ie(9,uY,25,2,"div",15),y()()),t&2){let e=ne();D(7),qe(e.userFullName),D(2),K("ngForOf",e.groupedMonths)}}var PP=(()=>{class t{constructor(e,i){this.schedulerService=e,this.accountService=i,this.assessments=[],this.groupedAssessments={},this.groupedMonths=[],this.semester=1}ngOnInit(){this.loadSchedule()}get user(){return this.accountService.currentUser()}get userFullName(){let e=this.user||{},i=(...s)=>s.map(a=>(a??"").toString().trim()).find(a=>a.length>0)||"",r=i(e.name),o=i(e.surname);return r&&o?`${r} ${o}`:r||o||i(e.displayName,e.username,e.userName)}onSemesterChange(){this.loadSchedule()}formatTime(e){if(!e)return"-";let[i,r]=e.split(":");return`${i}:${r}`}loadSchedule(){this.schedulerService.getAssessmentSchedule(this.semester).subscribe({next:e=>{this.assessments=e;let i={};for(let r of e){if(!r||!r.date)continue;let o=new Date(r.date).toLocaleString("default",{month:"long",year:"numeric"});i[o]||(i[o]=[]),i[o].push(r)}for(let r in i)i[r]=i[r].sort((o,s)=>{let a=new Date(o.date),l=new Date(s.date);if(a.getTime()!==l.getTime())return a.getTime()-l.getTime();let c=o.startTime||o.dueTime||"00:00",d=s.startTime||s.dueTime||"00:00";return c.localeCompare(d)});this.groupedAssessments=i,this.groupedMonths=Object.keys(i)},error:e=>console.log(e)})}downloadScheduleAsPdf(){let e=document.getElementById("pdfContent");if(!e)return;let i={margin:.5,filename:"Assessment_Schedule.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"landscape"},pagebreak:{mode:["css","legacy"]}};(0,kP.default)().set(i).from(e).save()}static{this.\u0275fac=function(i){return new(i||t)(ee(_y),ee(mn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-assessment-schedule"]],standalone:!0,features:[Ye],decls:14,vars:6,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["for","semester",1,"filter-label"],["id","semester",1,"form-select","d-inline-block","w-auto","ms-2","filter-select",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"btn","btn-success","d-inline-flex","align-items-center","justify-content-center",3,"click","disabled"],["class","alert alert-info text-center py-4",4,"ngIf"],["id","pdfContent","class","mt-4 p-4 bg-white",4,"ngIf"],[1,"alert","alert-info","text-center","py-4"],["id","pdfContent",1,"mt-4","p-4","bg-white"],[1,"logo-row","keep-with-next"],["src","assets/ufslogo.jpg","alt","UFS Logo",1,"pdf-logo-top"],[1,"table-topbar","keep-with-next"],[1,"topbar-title"],[1,"topbar-user"],["class","month-section",4,"ngFor","ngForOf"],[1,"month-section"],[1,"table","table-bordered","text-center","align-middle","mb-5"],[1,"table-dark"],["colspan","8",1,"text-center","fs-5"],[1,"table-light"],["class","avoid-break",4,"ngFor","ngForOf"],[1,"avoid-break"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"div")(3,"label",2),x(4,"Semester:"),y(),_(5,"select",3),st("ngModelChange",function(s){return lt(r.semester,s)||(r.semester=s),s}),te("change",function(){return r.onSemesterChange()}),_(6,"option",4),x(7,"Semester 1"),y(),_(8,"option",4),x(9,"Semester 2"),y()()(),_(10,"button",5),te("click",function(){return r.downloadScheduleAsPdf()}),x(11," Download (PDF) "),y()(),Ie(12,lY,2,0,"div",6)(13,dY,10,2,"div",7),y()),i&2&&(D(5),ot("ngModel",r.semester),D(),K("value",1),D(2),K("value",2),D(2),K("disabled",r.groupedMonths.length===0),D(2),K("ngIf",r.groupedMonths.length===0),D(),K("ngIf",r.groupedMonths.length>0))},dependencies:[bt,hn,on,Al,En,Mi,Ii,fi,en,Mn],styles:[".logo-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:16px}.pdf-logo-top[_ngcontent-%COMP%]{max-width:clamp(220px,28vw,400px);width:100%;height:auto;display:block}.keep-with-next[_ngcontent-%COMP%]{page-break-after:avoid;break-after:avoid}.table-topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:6px}.topbar-title[_ngcontent-%COMP%], .topbar-user[_ngcontent-%COMP%]{font-size:24px;font-weight:600;white-space:nowrap}.topbar-user[_ngcontent-%COMP%]{text-align:right}.filter-label[_ngcontent-%COMP%]{color:#000!important;font-weight:600!important}.filter-select[_ngcontent-%COMP%]{color:#000!important;font-weight:400!important}#pdfContent[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;border:1px solid #000;padding:12px;font-size:16px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.month-section[_ngcontent-%COMP%]{margin-bottom:24px}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}@media print{thead[_ngcontent-%COMP%]{display:table-header-group}tfoot[_ngcontent-%COMP%]{display:table-footer-group}table[_ngcontent-%COMP%]{break-inside:auto;page-break-inside:auto}.btn[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}#pdfContent[_ngcontent-%COMP%]{page-break-inside:avoid}}"]})}}return t})();function fY(t,n){t&1&&(_(0,"option",22),x(1,"System"),y())}function hY(t,n){t&1&&(_(0,"div",23),x(1," Title is required (min 3 characters). "),y())}function pY(t,n){t&1&&(_(0,"div",23),x(1," Message is required (min 5 characters). "),y())}function mY(t,n){if(t&1&&(_(0,"option",24),x(1),y()),t&2){let e=n.$implicit;K("value",e),D(),Bt(" ",e==="ModuleStudents"?"Module Students":e," ")}}function gY(t,n){t&1&&(_(0,"div",18),x(1," Lecturers may only post to students of a specific module. "),y())}function vY(t,n){if(t&1&&(_(0,"option",24),x(1),y()),t&2){let e=n.$implicit;K("value",e.id),D(),Hn(" ",e.moduleCode," \u2014 ",e.moduleName," ")}}function yY(t,n){t&1&&(_(0,"div",23),x(1," Please select a module for this audience/type. "),y())}function _Y(t,n){if(t&1&&(_(0,"div",5)(1,"label",6),x(2,"Module"),y(),_(3,"select",25)(4,"option",26),x(5,"Select a module"),y(),Ie(6,vY,2,3,"option",14),y(),Ie(7,yY,2,0,"div",11),y()),t&2){let e,i=ne();D(4),K("ngValue",null),D(2),K("ngForOf",i.modules),D(),K("ngIf",((e=i.form.get("moduleId"))==null?null:e.touched)&&((e=i.form.get("moduleId"))==null?null:e.invalid))}}var OP=(()=>{class t{get isLecturer(){return this.currentUserRole==="Lecturer"}get isCoordinator(){return this.currentUserRole==="Coordinator"}get isAdmin(){return this.currentUserRole==="Admin"}constructor(e,i,r,o,s,a,l,c){this.bsModalRef=e,this.fb=i,this.notificationService=r,this.toastr=o,this.accountService=s,this.bsModalService=a,this.elRef=l,this.moduleService=c,this.currentUserRole="",this.justSaved=!1,this.modalEl=null,this.audiences=["All","Students","Staff","ModuleStudents"],this.modules=[]}ngOnInit(){this.currentUserRole=this.accountService.getUserRole(),this.initForm(),this.isLecturer?this.moduleService.getAssignedModules().subscribe({next:e=>this.modules=e||[],error:e=>console.error("Failed to load assigned modules",e)}):(this.isCoordinator||this.isAdmin)&&this.moduleService.getAllModules().subscribe({next:e=>this.modules=e||[],error:e=>console.error("Failed to load modules",e)}),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose(),this.justSaved=!1,this.form.get("audience")?.valueChanges.subscribe(()=>this.applyModuleRequirement()),this.isLecturer&&(this.form.get("audience")?.setValue("ModuleStudents",{emitEvent:!0}),this.applyModuleRequirement())}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}initForm(){let e=this.isLecturer?"ModuleStudents":"All";this.form=this.fb.group({type:["General",Jn.required],title:["",[Jn.required,Jn.minLength(3)]],message:["",[Jn.required,Jn.minLength(5)]],audience:[e,Jn.required],moduleId:[null],image:[null]}),this.isLecturer&&this.form.get("audience")?.disable({emitEvent:!1}),this.applyModuleRequirement()}applyModuleRequirement(){let e=(this.form.get("audience")?.value||"").toString(),i=this.form.get("moduleId");this.isLecturer||e==="ModuleStudents"?i?.setValidators([Jn.required]):i?.clearValidators(),i?.updateValueAndValidity({emitEvent:!1})}onFileSelected(e){let i=e.target.files[0];i&&(this.imageFile=i,this.form.markAsDirty())}hasUnsavedChanges(){return this.justSaved?!1:this.form?.dirty||!!this.imageFile}openConfirm(){return new Promise(e=>{this.bsModalService.show(Qi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Si(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(this.form.invalid){this.toastr.error("Please complete all required fields");return}let e=new FormData,i=this.isLecturer?"ModuleStudents":this.form.get("audience")?.value||"All";e.append("type",this.form.get("type")?.value),e.append("title",this.form.get("title")?.value),e.append("message",this.form.get("message")?.value),e.append("audience",i);let r=this.form.get("moduleId")?.value;r!=null&&r!==""&&e.append("moduleId",r.toString()),this.imageFile&&e.append("image",this.imageFile),this.notificationService.create(e).subscribe({next:()=>{this.toastr.success("Announcement posted"),localStorage.setItem("newAnnouncement","true"),this.justSaved=!0,this.form.markAsPristine(),this.originalHide()},error:o=>{this.toastr.error("Failed to post announcement"),console.error(o)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(ee(Ln),ee(Vl),ee($d),ee(tn),ee(mn),ee(gn),ee(Dt),ee(os))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-create-notification-modal"]],standalone:!0,features:[Ye],decls:41,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["enctype","multipart/form-data","novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","type",1,"form-select"],["value","General"],["value","System",4,"ngIf"],["type","text","formControlName","title","placeholder","Enter title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","message","rows","4","placeholder","Enter message...",1,"form-control"],["formControlName","audience",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["class","form-text",4,"ngIf"],["class","mb-3",4,"ngIf"],["type","file","accept","image/*",1,"form-control",3,"change"],[1,"form-text"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["value","System"],[1,"text-danger"],[3,"value"],["formControlName","moduleId",1,"form-select"],[3,"ngValue"]],template:function(i,r){if(i&1&&(_(0,"div",0)(1,"h5",1),x(2,"Post New Announcement"),y(),_(3,"button",2),te("click",function(){return r.cancel()}),y()(),_(4,"div",3)(5,"form",4),te("ngSubmit",function(){return r.submit()}),_(6,"div",5)(7,"label",6),x(8,"Announcement Type"),y(),_(9,"select",7)(10,"option",8),x(11,"General"),y(),Ie(12,fY,2,0,"option",9),y()(),_(13,"div",5)(14,"label",6),x(15,"Title"),y(),tt(16,"input",10),Ie(17,hY,2,0,"div",11),y(),_(18,"div",5)(19,"label",6),x(20,"Message"),y(),tt(21,"textarea",12),Ie(22,pY,2,0,"div",11),y(),_(23,"div",5)(24,"label",6),x(25,"Target Audience"),y(),_(26,"select",13),Ie(27,mY,2,2,"option",14),y(),Ie(28,gY,2,0,"div",15),y(),Ie(29,_Y,8,3,"div",16),_(30,"div",5)(31,"label",6),x(32,"Attach Image (Optional)"),y(),_(33,"input",17),te("change",function(s){return r.onFileSelected(s)}),y(),_(34,"div",18),x(35," Accepted formats: JPG, PNG, GIF "),y()(),_(36,"div",19)(37,"button",20),x(38,"Post Announcement"),y(),_(39,"button",21),te("click",function(){return r.cancel()}),x(40,"Cancel"),y()()()()),i&2){let o,s,a;D(5),K("formGroup",r.form),D(7),K("ngIf",r.isAdmin),D(5),K("ngIf",((o=r.form.get("title"))==null?null:o.touched)&&((o=r.form.get("title"))==null?null:o.invalid)),D(5),K("ngIf",((s=r.form.get("message"))==null?null:s.touched)&&((s=r.form.get("message"))==null?null:s.invalid)),D(5),K("ngForOf",r.audiences),D(),K("ngIf",r.isLecturer),D(),K("ngIf",r.isLecturer||((a=r.form.get("audience"))==null?null:a.value)==="ModuleStudents"),D(8),K("disabled",r.form.invalid)}},dependencies:[bt,hn,on,na,Di,Mi,Ii,An,fi,en,xi,Ha,$a]})}}return t})();var bY=t=>({clickable:t}),wY=()=>[];function CY(t,n){if(t&1){let e=We();_(0,"button",18),te("click",function(){ae(e);let r=ne();return le(r.openPostModal())}),x(1," Post Announcement "),y()}}function SY(t,n){if(t&1&&(_(0,"span",33),x(1),y()),t&2){let e=ne().$implicit,i=ne();D(),Bt(" Audience: ",i.formatAudience(e.audience)," ")}}function EY(t,n){if(t&1){let e=We();_(0,"button",34),te("click",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.markAsRead(r))}),x(1," Mark as read "),y()}}function xY(t,n){if(t&1){let e=We();_(0,"button",34),te("click",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.markAsUnread(r))}),x(1," Mark as unread "),y()}}function DY(t,n){if(t&1){let e=We();_(0,"div",35),te("click",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.openImageModal(r.imagePath))})("keydown.enter",function(){ae(e);let r=ne().$implicit,o=ne();return le(o.openImageModal(r.imagePath))}),tt(1,"img",36),y()}if(t&2){let e=ne().$implicit;D(),K("src",e.imagePath,Zs)}}function MY(t,n){if(t&1){let e=We();_(0,"div",19),te("click",function(r){let o=ae(e).$implicit,s=ne();return le(s.handleCardClick(r,o))}),_(1,"div",20)(2,"div",21)(3,"span",22),x(4),y(),_(5,"div",23),Ie(6,SY,2,1,"span",24),_(7,"span",25),x(8),y()(),_(9,"div",26),Ie(10,EY,2,0,"button",27)(11,xY,2,0,"button",27),y()(),_(12,"h5",28),x(13),y(),_(14,"p",29),x(15),y(),Ie(16,DY,2,1,"div",30),_(17,"div",31)(18,"small",32),x(19),Qo(20,"date"),Qo(21,"date"),y()()()()}if(t&2){let e=n.$implicit,i=ne();K("ngClass",Es(21,bY,i.isAutoInteractive(e))),Dn("aria-role",i.isAutoInteractive(e)?"button":null)("tabindex",i.isAutoInteractive(e)?"0":null)("title",i.isAutoInteractive(e)?"Click to open":null),D(4),Bt(" ",i.formatBadgeLabel(e.type)," "),D(2),K("ngIf",e.audience),D(),K("ngClass",e.isRead?"bg-success":"bg-secondary"),D(),Bt(" ",e.isRead?"Read":"Unread"," "),D(2),K("ngIf",!e.isRead),D(),K("ngIf",e.isRead),D(2),qe(e.title),D(2),qe(e.message),D(),K("ngIf",e.imagePath),D(3),Hn(" ",Oa(20,15,e.createdAt,"longDate")," \u2022 ",Oa(21,18,e.createdAt,"h:mm a")," ")}}function IY(t,n){if(t&1){let e=We();_(0,"li",39)(1,"a",40),te("click",function(){let r=ae(e).index,o=ne(2);return le(o.pageChanged(r+1))}),x(2),y()()}if(t&2){let e=n.index,i=ne(2);$t("active",i.pagination.currentPage===e+1),D(2),qe(e+1)}}function AY(t,n){if(t&1){let e=We();_(0,"nav",37)(1,"ul",38)(2,"li",39)(3,"a",40),te("click",function(){ae(e);let r=ne();return le(r.pageChanged(r.pagination.currentPage-1))}),x(4,"Previous"),y()(),Ie(5,IY,3,3,"li",41),_(6,"li",39)(7,"a",40),te("click",function(){ae(e);let r=ne();return le(r.pageChanged(r.pagination.currentPage+1))}),x(8,"Next"),y()()()()}if(t&2){let e=ne();D(2),$t("disabled",e.pagination.currentPage===1),D(3),K("ngForOf",fr(5,wY).constructor(e.pagination.totalPages)),D(),$t("disabled",e.pagination.currentPage===e.pagination.totalPages)}}function TY(t,n){if(t&1){let e=We();_(0,"div",42),te("click",function(){ae(e);let r=ne();return le(r.closeImageModal())}),_(1,"div",43),te("click",function(r){return ae(e),le(r.stopPropagation())}),_(2,"div",44)(3,"div",45)(4,"img",46),te("click",function(){ae(e);let r=ne();return le(r.toggleZoom())}),y()(),_(5,"div",47)(6,"button",48),te("click",function(){ae(e);let r=ne();return le(r.closeImageModal())}),x(7,"Close"),y()()()()()}if(t&2){let e=ne();D(4),$t("zoomed",e.isZoomed),K("src",e.selectedImageUrl,Zs)("title",e.isZoomed?"Click to fit to screen":"Click to view full size")}}var RP=(()=>{class t{constructor(e,i,r,o){this.notificationService=e,this.modalService=i,this.accountService=r,this.router=o,this.notifications=[],this.filtered=[],this.pagination=null,this.pageNumber=1,this.pageSize=10,this.currentUserRole="",this.currentUserName="",this.typeFilter="",this.readFilter="",this.selectedImageUrl=null,this.showImageModal=!1,this.isZoomed=!1}ngOnInit(){let e=this.accountService.currentUser();this.currentUserName=e?.userName||"",this.currentUserRole=this.accountService.getUserRole(),this.loadNotifications()}loadNotifications(){this.notificationService.getPaginatedNotifications(this.pageNumber,this.pageSize,this.typeFilter,this.readFilter).subscribe({next:e=>{let i=e.body??[];this.pagination=JSON.parse(e.headers.get("Pagination")),this.notifications=[...i].sort((r,o)=>new Date(o.createdAt).getTime()-new Date(r.createdAt).getTime()),this.applyFilters()},error:e=>console.error(e)})}applyFilters(){let e=[...this.notifications];this.readFilter==="read"?e=e.filter(i=>!!i.isRead):this.readFilter==="unread"&&(e=e.filter(i=>!i.isRead)),this.filtered=e}onTypeFilterChanged(){this.pageNumber=1,this.loadNotifications()}onReadFilterChanged(){this.pageNumber=1,this.loadNotifications()}pageChanged(e){this.pageNumber=e,this.loadNotifications()}openPostModal(){this.bsModalRef=this.modalService.show(OP,{class:"modal-lg"}),this.bsModalRef.onHidden?.subscribe(()=>this.loadNotifications())}formatBadgeLabel(e){let i=(e||"").toLowerCase(),r=(e||"").replace(/([a-z])([A-Z])/g,"$1 $2").toUpperCase();return i==="general"||i==="system"?`${r} ANNOUNCEMENT`:`${r} NOTIFICATION`}formatAudience(e){switch((e||"").toLowerCase()){case"all":return"All users";case"students":return"Students";case"staff":return"Staff";case"modulestudents":return"Module students";case"yearmodulestudents":return"Year-module students";default:return e||"All users"}}markAsRead(e){e.isRead||this.notificationService.markAsRead(e.id).subscribe({next:()=>{e.isRead=!0,this.applyFilters()},error:i=>console.error(i)})}markAsUnread(e){e.isRead&&this.notificationService.markAsUnread(e.id).subscribe({next:()=>{e.isRead=!1,this.applyFilters()},error:i=>console.error(i)})}openImageModal(e){this.selectedImageUrl=e,this.isZoomed=!1,this.showImageModal=!0}closeImageModal(){this.selectedImageUrl=null,this.isZoomed=!1,this.showImageModal=!1}toggleZoom(){this.isZoomed=!this.isZoomed}lc(e){return(e||"").toLowerCase()}isAutoInteractive(e){let i=this.lc(e.type);if(i==="documentupload"||i==="repositoryupdate"||i==="scheduleupdate"||i==="schedulerupdate")return!0;if(i==="general"){let r=this.lc(e.title);return r.startsWith("new faq announcement")||r.startsWith("faq updated announcement")}return!1}handleCardClick(e,i){!this.isAutoInteractive(i)||e.target.closest(".thumb-wrap, .btn, button, a, select, option, .dropdown-menu")||this.navigateFor(i)}navigateFor(e){let i=this.lc(e.type),r=this.lc(e.title),o=this.lc(e.message);if(i==="documentupload"){e.moduleId!=null?this.router.navigate(["/modules",e.moduleId],{state:{fromNotification:!0},queryParams:{from:"notification",view:"documents"}}):this.router.navigate(["/repository"],{state:{view:"documents"},queryParams:{view:"documents"}});return}if(i==="repositoryupdate"){let a=r.includes("link")||r.includes("external repository")||o.includes("link")?"links":"documents";this.router.navigate(["/repository"],{state:{view:a},queryParams:{view:a}});return}if(i==="scheduleupdate"||i==="schedulerupdate"){let s="class";r.includes("lab")?s="lab":r.includes("assessment")||o.includes("assessment")?s="assessment":s="class",this.router.navigate(["/scheduler"],{state:{tab:s},queryParams:{tab:s}});return}if(i==="general"){(r.startsWith("new faq announcement")||r.startsWith("faq updated announcement"))&&this.router.navigate(["/faq"]);return}}static{this.\u0275fac=function(i){return new(i||t)(ee($d),ee(gn),ee(mn),ee(qn))}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-notifications"]],standalone:!0,features:[Ye],decls:30,vars:6,consts:[[1,"row","align-items-start","mb-3"],[1,"col-md-6"],[1,"mb-0"],[1,"col-md-6","text-end"],[1,"d-flex","justify-content-end","align-items-center","gap-2"],["for","filterSelect",1,"form-label","fw-semibold","me-2"],["id","filterSelect",1,"form-select","d-inline-block","w-auto",3,"ngModelChange","change","ngModel"],["value",""],["value","announcements"],["value","notifications"],["for","readFilter",1,"form-label","fw-semibold","me-2"],["id","readFilter",1,"form-select","d-inline-block","w-auto",3,"ngModelChange","change","ngModel"],["value","unread"],["value","read"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","card mb-3 shadow-sm",3,"ngClass","click",4,"ngFor","ngForOf"],["class","mt-4 d-flex justify-content-center",4,"ngIf"],["class","modal fade show d-block","tabindex","-1","aria-modal","true","role","dialog","style","background-color: rgba(0, 0, 0, 0.85); z-index: 1055;",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"card","mb-3","shadow-sm",3,"click","ngClass"],[1,"card-body","text-start"],[1,"d-flex","align-items-center","justify-content-between","card-topbar","mb-2"],[1,"text-uppercase","fw-bold","text-primary","small"],[1,"top-center-abs","text-center"],["class","badge bg-light text-dark me-2",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"d-flex","align-items-center","gap-2"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"ngIf"],[1,"card-title","lh-sm","mb-2"],[1,"card-text","lh-base","mb-3"],["class","thumb-wrap mt-2","role","button","tabindex","0","title","Click to enlarge",3,"click","keydown.enter",4,"ngIf"],[1,"d-flex","justify-content-end","mt-2"],[1,"text-muted","date-bottom"],[1,"badge","bg-light","text-dark","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["role","button","tabindex","0","title","Click to enlarge",1,"thumb-wrap","mt-2",3,"click","keydown.enter"],["alt","notification image","loading","lazy",1,"thumb-img",3,"src"],[1,"mt-4","d-flex","justify-content-center"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["tabindex","-1","aria-modal","true","role","dialog",1,"modal","fade","show","d-block",2,"background-color","rgba(0, 0, 0, 0.85)","z-index","1055",3,"click"],["role","document",1,"modal-dialog","modal-fullscreen",3,"click"],[1,"modal-content","bg-transparent","border-0","pop-in"],[1,"modal-body","p-0","d-flex","align-items-center","justify-content-center"],["alt","full size","loading","eager",1,"modal-image","rounded",3,"click","src","title"],[1,"modal-footer","justify-content-center","border-0"],[1,"btn","btn-light",3,"click"]],template:function(i,r){i&1&&(_(0,"div",0)(1,"div",1)(2,"h2",2),x(3,"Notification Board"),y()(),_(4,"div",3)(5,"div",4)(6,"div")(7,"label",5),x(8,"Type:"),y(),_(9,"select",6),st("ngModelChange",function(s){return lt(r.typeFilter,s)||(r.typeFilter=s),s}),te("change",function(){return r.onTypeFilterChanged()}),_(10,"option",7),x(11,"All"),y(),_(12,"option",8),x(13,"Announcements"),y(),_(14,"option",9),x(15,"Notifications"),y()()(),_(16,"div")(17,"label",10),x(18,"Status:"),y(),_(19,"select",11),st("ngModelChange",function(s){return lt(r.readFilter,s)||(r.readFilter=s),s}),te("change",function(){return r.onReadFilterChanged()}),_(20,"option",7),x(21,"All"),y(),_(22,"option",12),x(23,"Unread"),y(),_(24,"option",13),x(25,"Read"),y()()(),Ie(26,CY,2,0,"button",14),y()()(),Ie(27,MY,22,23,"div",15)(28,AY,9,6,"nav",16)(29,TY,8,4,"div",17)),i&2&&(D(9),ot("ngModel",r.typeFilter),D(10),ot("ngModel",r.readFilter),D(7),K("ngIf",r.currentUserRole!=="Student"),D(),K("ngForOf",r.filtered),D(),K("ngIf",r.pagination),D(),K("ngIf",r.showImageModal))},dependencies:[bt,hr,hn,on,Al,En,Mi,Ii,fi,en,Mn],styles:['.card[_ngcontent-%COMP%]   .card-topbar[_ngcontent-%COMP%]{margin-bottom:.5rem}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:.125rem;margin-bottom:.5rem;line-height:1.25}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin-top:.125rem;margin-bottom:.75rem;line-height:1.55}.card.clickable[_ngcontent-%COMP%]{cursor:pointer}.card.clickable[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 2px #0d6efd26 inset}.thumb-wrap[_ngcontent-%COMP%]   .thumb-img[_ngcontent-%COMP%]{max-height:120px;width:auto;object-fit:cover;border-radius:6px}.row.align-items-start.mb-3[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.row.align-items-start.mb-3[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}']})}}return t})();var jP=[{path:"",component:DT},{path:"",runGuardsAndResolvers:"always",canActivate:[AP],children:[{path:"notifications",component:RP},{path:"repository",component:sN},{path:"modules",component:NP,canActivate:[Cy]},{path:"modules/:id",component:IP,canActivate:[Cy]},{path:"faq",component:cN},{path:"scheduler",component:uP,canActivate:[Cy],children:[{path:"class",component:rP},{path:"lab",component:cP},{path:"assessment",component:PP},{path:"",redirectTo:"class",pathMatch:"full"}]},{path:"register",component:IT,canActivate:[VS]},{path:"admin",component:DP,canActivate:[VS]},{path:"lecturer",component:MP,canActivate:[TP]}]},{path:"errors",component:dP},{path:"not-found",component:fP},{path:"server-error",component:hP},{path:"**",redirectTo:"",pathMatch:"full"}];var FP=(t,n)=>{let e=Me(qn),i=Me(tn);return n(t).pipe(gs(r=>{if(r)switch(r.status){case 400:if(r.error.errors){let s=[];for(let a in r.error.errors)r.error.errors[a]&&s.push(r.error.errors[a]);throw s.flat()}else i.error(r.error,r.status);break;case 401:t.url.includes("/account/login")||i.error("Unauthorised",r.status);break;case 404:e.navigateByUrl("/not-found");break;case 409:break;case 500:let o={state:{error:r.error}};e.navigateByUrl("/server-error",o);break;default:i.error("Something unexpected went wrong");break}throw r}))};var LP=(t,n)=>{let e=Me(mn);return e.currentUser()&&(t=t.clone({setHeaders:{Authorization:`Bearer ${e.currentUser()?.token}`}})),n(t)};var NY=["overlay"],kY=["*"];function PY(t,n){t&1&&tt(0,"div")}function OY(t,n){if(t&1&&(_(0,"div"),Ie(1,PY,1,0,"div",6),y()),t&2){let e=ne(2);xo(e.spinner.class),Eo("color",e.spinner.color),D(),K("ngForOf",e.spinner.divArray)}}function RY(t,n){if(t&1&&(tt(0,"div",7),Qo(1,"safeHtml")),t&2){let e=ne(2);K("innerHTML",s0(1,1,e.template),ch)}}function jY(t,n){if(t&1&&(_(0,"div",2,0),Ie(2,OY,2,5,"div",3)(3,RY,2,3,"div",4),_(4,"div",5),El(5),y()()),t&2){let e=ne();Eo("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),K("@.disabled",e.disableAnimation)("@fadeIn","in"),D(2),K("ngIf",!e.template),D(),K("ngIf",e.template),D(),Eo("z-index",e.spinner.zIndex)}}var FY={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},BS={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},US="primary",vu=class t{constructor(n){Object.assign(this,n)}static create(n){return!n?.template&&!n?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new t(n)}},HS=(()=>{class t{constructor(){this.spinnerObservable=new ir(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Ri(i=>i&&i.name===e))}show(e=US,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new vu(Xt(Ue({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new vu({name:e,show:!0})),r(!0))},10)})}hide(e=US,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new vu({name:e,show:!1})),r(!0)},i)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VP=new gt("NGX_SPINNER_CONFIG"),LY=(()=>{class t{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(i){return new(i||t)(ee(_h,16))}}static{this.\u0275pipe=dd({name:"safeHtml",type:t,pure:!0,standalone:!0})}}return t})(),BP=(()=>{class t{constructor(e,i,r,o){this.spinnerService=e,this.changeDetector=i,this.elementRef=r,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new vu,this.ngUnsubscribe=new Un,this.setDefaultOptions=()=>{let{type:s}=this.globalConfig??{};this.spinner=vu.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??s,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=BS.BD_COLOR,this.zIndex=BS.Z_INDEX,this.color=BS.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=US,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Hf(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let i in e)if(i){let r=e[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&r.currentValue!==""&&(this.spinner[i]=r.currentValue,i==="showSpinner"&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),i==="name"&&this.initObservable())}}getClass(e,i){this.spinner.divCount=FY[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,s)=>s);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x";break;default:break}return"la-"+e+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(i){return new(i||t)(ee(HS),ee(zr),ee(Dt),ee(VP,8))}}static{this.\u0275cmp=Ke({type:t,selectors:[["ngx-spinner"]],viewQuery:function(i,r){if(i&1&&sr(NY,5),i&2){let o;Fi(o=Li())&&(r.spinnerDOM=o.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[rr,Ye],ngContentSelectors:kY,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,r){i&1&&(Sl(),Ie(0,jY,6,12,"div",1)),i&2&&K("ngIf",r.spinner.show)},dependencies:[LY,on,hn],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[J0("fadeIn",[Nd("in",ar({opacity:1})),kd(":enter",[ar({opacity:0}),Ms(300)]),kd(":leave",Ms(200,ar({opacity:0})))])]},changeDetection:0})}}return t})(),UP=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:VP,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[bt]})}}return t})();var HP=(()=>{class t{constructor(){this.busyRequestCount=0,this.spinnerService=Me(HS)}busy(){this.busyRequestCount++,this.spinnerService.show(void 0,{type:"line-scale-party",bdColor:"rgba(255,255,255,0)",color:"#333333"})}idle(){this.busyRequestCount--,this.busyRequestCount<=0&&(this.busyRequestCount=0,this.spinnerService.hide())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $P=(t,n)=>{let e=Me(HP);return e.busy(),n(t).pipe(pn.production?Dr:x1(1e3),$s(()=>{e.idle()}))};var Rp=60,jp=Rp*60,of=jp*24,zP=of*7,WP=of*30,qP=of*365;var VY=function(t){let n=Date.now(),e=Math.round(Math.abs(n-t)/1e3),i=t<n?"ago":"from now",[r,o]=e<Rp?[Math.round(e),"second"]:e<jp?[Math.round(e/Rp),"minute"]:e<of?[Math.round(e/jp),"hour"]:e<zP?[Math.round(e/of),"day"]:e<WP?[Math.round(e/zP),"week"]:e<qP?[Math.round(e/WP),"month"]:[Math.round(e/qP),"year"];return{value:r,unit:o,suffix:i}},Fp=class{},GP=(()=>{class t extends Fp{format(e){let{suffix:i,value:r,unit:o}=VY(e);return this.parse(r,o,i)}parse(e,i,r){return e!==1&&(i+="s"),e+" "+i+" "+r}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();var Lp=class{},KP=(()=>{class t extends Lp{tick(e){return At(0).pipe(D1(()=>{let i=Date.now(),r=Math.round(Math.abs(i-e)/1e3),o=r<Rp?1e3:r<jp?1e3*Rp:r<of?1e3*jp:0;return o?Bf(o):b1()}),A1(1))}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ko(t)))(r||t)}})()}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac})}}return t})();var YP=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.clock||{provide:Lp,useClass:KP},e.intl||[],e.formatter||{provide:Fp,useClass:GP}]}}static forChild(e={}){return{ngModule:t,providers:[e.clock||{provide:Lp,useClass:KP},e.intl||[],e.formatter||{provide:Fp,useClass:GP}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({})}}return t})();var ZP={providers:[dA(jP),mI(gI([FP,LP,$P])),qA(),xT({positionClass:"toast-bottom-right"}),ub(UP,YP.forRoot(),nN.forRoot())]};var BY=["*"],UY=t=>({dropdown:t}),HY=(()=>{class t{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yu=(()=>{class t{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new xt,this.isDisabledChange=new xt,this.toggleClick=new xt,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Fe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),$Y="220ms cubic-bezier(0, 0, 0.2, 1)",QP=[ar({height:0,overflow:"hidden"}),Ms($Y,ar({height:"*",overflow:"hidden"}))],zY=(()=>{class t{get direction(){return this._state.direction}constructor(e,i,r,o,s){this._state=e,this.cd=i,this._renderer=r,this._element=o,this.isOpen=!1,this._factoryDropDownAnimation=s.build(QP),this._subscription=e.isOpenChange.subscribe(a=>{this.isOpen=a;let l=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),l&&(this._renderer.addClass(l,"show"),(l.classList.contains("dropdown-menu-right")||l.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(l,"left","auto"),this._renderer.setStyle(l,"right","0")),this.direction==="up"&&(this._renderer.setStyle(l,"top","auto"),this._renderer.setStyle(l,"transform","translateY(-101%)"))),l&&this._state.isAnimated&&this._factoryDropDownAnimation.create(l).play(),this.cd.markForCheck(),this.cd.detectChanges()})}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(ee(yu),ee(zr),ee(di),ee(Dt),ee(Pd))}}static{this.\u0275cmp=Ke({type:t,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:BY,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(i,r){i&1&&(Sl(),_(0,"div",0),El(1),y()),i&2&&($t("dropup",r.direction==="up")("show",r.isOpen)("open",r.isOpen),K("ngClass",Es(7,UY,r.direction==="down")))},dependencies:[hr],encapsulation:2,changeDetection:0})}}return t})(),$S=(()=>{class t{set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get _showInline(){return!this.container}constructor(e,i,r,o,s,a,l){this._elementRef=e,this._renderer=i,this._viewContainerRef=r,this._cis=o,this._state=s,this._config=a,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=l.build(QP),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:yu,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(Ri(e=>e)).subscribe(()=>this.hide())))}show(){if(!(this.isOpen||this.isDisabled)){if(this._showInline){this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),this.playAnimation();return}this._state.dropdownMenu.then(e=>{let i=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=i?"up":"down";let r=this.placement||(i?"top start":"bottom start");this._dropdown.attach(zY).to(this.container).position({attachment:r}).show({content:e.templateRef,placement:r}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){let i=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!i)return;let r=this._elementRef.nativeElement.ownerDocument.activeElement,o=i.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&o[--this._state.counts].focus();break;case 40:this._state.counts+1<o.length&&(r.classList!==o[this._state.counts].classList?o[this._state.counts].focus():o[++this._state.counts].focus());break;default:}e.preventDefault()}ngOnDestroy(){for(let e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){let e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(di),ee(kr),ee(Wa),ee(yu),ee(HY),ee(Pd))}}static{this.\u0275dir=Kt({type:t,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(i,r){i&1&&te("keydown.arrowDown",function(s){return r.navigationClick(s)})("keydown.arrowUp",function(s){return r.navigationClick(s)}),i&2&&$t("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[Do([yu])]})}}return t})(),XP=(()=>{class t{constructor(e,i,r){e.resolveDropdownMenu({templateRef:r,viewContainer:i})}static{this.\u0275fac=function(i){return new(i||t)(ee(yu),ee(kr),ee(io))}}static{this.\u0275dir=Kt({type:t,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]})}}return t})(),JP=(()=>{class t{constructor(e,i,r,o,s){this._changeDetectorRef=e,this._dropdown=i,this._element=r,this._renderer=o,this._state=s,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(a=>{this.isOpen=a,a?(this._documentClickListener=this._renderer.listen("document","click",l=>{this._state.autoClose&&l.button!==2&&!this._element.nativeElement.contains(l.target)&&!(this._state.insideClick&&this._dropdown._contains(l))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(a=>this.isDisabled=a||void 0))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(let e of this._subscriptions)e.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(ee(zr),ee($S),ee(Dt),ee(di),ee(yu))}}static{this.\u0275dir=Kt({type:t,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(i,r){i&1&&te("click",function(s){return r.onClick(s)}),i&2&&Dn("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]})}}return t})(),eO=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Wa,eu,yu]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({imports:[bt]})}}return t})();var tO="400ms cubic-bezier(0.4,0.0,0.2,1)",qY=[ar({height:0,visibility:"hidden"}),Ms(tO,ar({height:"*",visibility:"visible"}))],GY=[ar({height:"*",visibility:"visible"}),Ms(tO,ar({height:0,visibility:"hidden"}))],nO=(()=>{class t{set display(e){if(this._display=e,e==="none"){this.hide();return}this.isAnimated?this.toggle():this.show()}set collapse(e){this.collapseNewValue=e,(!this._player||this._isAnimationDone)&&(this.isExpanded=e,this.toggle())}get collapse(){return this.isExpanded}constructor(e,i,r){this._el=e,this._renderer=i,this.collapsed=new xt,this.collapses=new xt,this.expanded=new xt,this.expands=new xt,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=r.build(GY),this._factoryExpandAnimation=r.build(qY)}ngAfterViewChecked(){this._stylesLoaded=!0,!(!this._player||!this._isAnimationDone)&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{if(this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated){this.show();return}this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none")})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{if(this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated){this.hide();return}this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow")})}animationRun(e,i){if(!e||!this._stylesLoaded)return o=>o();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");let r=i===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=r.create(this._el.nativeElement),this._player.play(),o=>this._player?.onDone(o)}static{this.\u0275fac=function(i){return new(i||t)(ee(Dt),ee(di),ee(Pd))}}static{this.\u0275dir=Kt({type:t,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(i,r){i&2&&(Dn("aria-hidden",r.isCollapsed),$t("collapse",r.isCollapse)("in",r.isExpanded)("show",r.isExpanded)("collapsing",r.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]})}}return t})(),iO=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ri({})}}return t})();var YY=()=>["Admin"];function ZY(t,n){if(t&1){let e=We();_(0,"button",6),te("click",function(){ae(e);let r=ne(2);return le(r.isCollapsed=!r.isCollapsed)}),tt(1,"span",7),y()}if(t&2){let e=ne(2);Dn("aria-expanded",!e.isCollapsed)}}function QY(t,n){if(t&1){let e=We();_(0,"li",13)(1,"a",21),te("click",function(){ae(e);let r=ne(3);return le(r.closeNav())}),x(2,"Modules"),y()()}}function XY(t,n){if(t&1){let e=We();_(0,"li",13)(1,"a",22),te("click",function(){ae(e);let r=ne(3);return le(r.closeNav())}),x(2,"Schedule"),y()()}}function JY(t,n){if(t&1){let e=We();_(0,"li",13)(1,"a",23),te("click",function(){ae(e);let r=ne(3);return le(r.closeNav())}),x(2,"Admin Panel"),y()()}}function eZ(t,n){if(t&1){let e=We();_(0,"li",13)(1,"a",24),te("click",function(){ae(e);let r=ne(3);return le(r.closeNav())}),x(2,"Lecturer Panel"),y()()}}function tZ(t,n){if(t&1){let e=We();_(0,"div",25)(1,"a",26),te("click",function(){ae(e);let r=ne(3);return le(r.logout())}),x(2,"Logout"),y()()}}function nZ(t,n){if(t&1){let e=We();_(0,"div",8)(1,"ul",9)(2,"li",10),te("click",function(){ae(e);let r=ne(2);return r.markNotificationsAsSeen(),le(r.closeNav())}),_(3,"a",11),x(4," Notifications "),y()(),Ie(5,QY,3,0,"li",12),_(6,"li",13)(7,"a",14),te("click",function(){ae(e);let r=ne(2);return le(r.closeNav())}),x(8,"Repository"),y()(),Ie(9,XY,3,0,"li",12),_(10,"li",13)(11,"a",15),te("click",function(){ae(e);let r=ne(2);return le(r.closeNav())}),x(12,"FAQ"),y()(),Ie(13,JY,3,0,"li",16)(14,eZ,3,0,"li",12),y(),_(15,"div",17),tt(16,"img",18),_(17,"a",19),x(18),y(),Ie(19,tZ,3,0,"div",20),y()()}if(t&2){let e,i=ne(2);K("collapse",i.isCollapsed)("isAnimated",!0),D(5),K("ngIf",!i.isAdmin()),D(4),K("ngIf",!i.isAdmin()),D(4),K("appHasRole",fr(7,YY)),D(),K("ngIf",i.showLecturerPanel),D(4),Bt(" Welcome ",(e=i.accountService.currentUser())==null?null:e.name," ")}}function iZ(t,n){if(t&1){let e=We();_(0,"nav",1)(1,"div",2)(2,"a",3),te("click",function(){ae(e);let r=ne();return le(r.closeNav())}),x(3," CSI HONORS PORTAL "),y(),Ie(4,ZY,2,1,"button",4)(5,nZ,20,8,"div",5),y()()}if(t&2){let e=ne();D(2),K("ngClass",e.accountService.currentUser()?"brand-left":"brand-center"),D(2),K("ngIf",e.accountService.currentUser()),D(),K("ngIf",e.accountService.currentUser())}}var rO=(()=>{class t{constructor(){this.accountService=Me(mn),this.router=Me(qn),this.hasNewNotification=!1,this.isCollapsed=!0}ngOnInit(){let e=localStorage.getItem("notificationsSeen");this.hasNewNotification=e!=="true"}logout(){this.accountService.logout(),this.router.navigateByUrl("/"),this.isCollapsed=!0}markNotificationsAsSeen(){this.hasNewNotification=!1,localStorage.setItem("notificationsSeen","true"),localStorage.setItem("lastSeenNotification",new Date().toISOString())}closeNav(){this.isCollapsed=!0}get showLecturerPanel(){let e=this.accountService.currentUser(),i=this.accountService.roles(),r=i.includes("Lecturer")||i.includes("Coordinator"),o=(e?.modules??[]).length>0;return r&&o}isAdmin(){return this.accountService.getUserRole()==="Admin"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-nav"]],standalone:!0,features:[Ye],decls:1,vars:1,consts:[["class","navbar navbar-expand-md navbar-dark fixed-top bg-primary",4,"ngIf"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-primary"],[1,"container"],["routerLink","/","routerLinkActive","active",1,"navbar-brand",3,"click","ngClass"],["class","navbar-toggler","type","button","aria-controls","mainNav","aria-label","Toggle navigation",3,"click",4,"ngIf"],["id","mainNav","class","collapse navbar-collapse",3,"collapse","isAnimated",4,"ngIf"],["type","button","aria-controls","mainNav","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","mainNav",1,"collapse","navbar-collapse",3,"collapse","isAnimated"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item",3,"click"],["routerLink","/notifications","routerLinkActive","active",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/repository","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/faq","routerLinkActive","active",1,"nav-link",3,"click"],["class","nav-item",4,"appHasRole"],["dropdown","",1,"dropdown","ms-md-auto","mt-2","mt-md-0","d-flex","align-items-center"],["src","./assets/user.png","alt","user icon","width","32","height","32",1,"me-2"],["dropdownToggle","",1,"dropdown-toggle","text-light","text-decoration-none"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],["routerLink","/modules","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/scheduler","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/admin","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/lecturer","routerLinkActive","active",1,"nav-link",3,"click"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"]],template:function(i,r){i&1&&Ie(0,iZ,6,3,"nav",0),i&2&&K("ngIf",r.accountService.currentUser())},dependencies:[eO,XP,JP,$S,iO,nO,Pl,Q0,by,on,hr],styles:[".dropdown-toggle[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{max-height:50px;border:2px solid white;display:inline}.brand-center[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;width:100%}.brand-left[_ngcontent-%COMP%]{text-align:left;font-size:1.2rem;white-space:nowrap;margin-right:1rem;padding-left:0;margin-left:0}@media (max-width: 767.98px){.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%}}.navbar[_ngcontent-%COMP%]{--bs-navbar-padding-y: .85rem}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{font-size:1.06rem;padding-top:.55rem;padding-bottom:.55rem}@media (max-width: 991.98px){.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return t})();var oO=(()=>{class t{constructor(){this.accountService=Me(mn)}ngOnInit(){this.setCurrentUserFromStorage()}setCurrentUserFromStorage(){let e=sessionStorage.getItem("user");if(!e)return;let i=JSON.parse(e);this.accountService.setCurrentUser(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=Ke({type:t,selectors:[["app-root"]],standalone:!0,features:[Ye],decls:6,vars:0,consts:[["type","line-scale-party"],[1,"container",2,"margin-top","100px"]],template:function(i,r){i&1&&(_(0,"ngx-spinner",0)(1,"h3"),x(2,"Loading..."),y()(),tt(3,"app-nav"),_(4,"div",1),tt(5,"router-outlet"),y())},dependencies:[Lh,rO,BP]})}}return t})();SI(oO,ZP).catch(t=>console.error(t));
