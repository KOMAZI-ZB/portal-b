import{a as ly}from"./chunk-DP6XK2WQ.js";import{a as Bn}from"./chunk-FK6H3RFT.js";import{a as je,b as qt,c as sy,e as ay,f as Rn}from"./chunk-CWTPBX7D.js";function Mx(t,n){return Object.is(t,n)}var ar=null,Bf=!1,Sm=1,fs=Symbol("SIGNAL");function fn(t){let n=ar;return ar=t,n}function w4(){return Bf}var Hf={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Em(t){if(Bf)throw new Error("");if(ar===null)return;ar.consumerOnSignalRead(t);let n=ar.nextProducerIndex++;if(Nu(ar),n<ar.producerNode.length&&ar.producerNode[n]!==t&&Uf(ar)){let e=ar.producerNode[n];Am(e,ar.producerIndexOfThis[n])}ar.producerNode[n]!==t&&(ar.producerNode[n]=t,ar.producerIndexOfThis[n]=Uf(ar)?Nx(t,ar,n):0),ar.producerLastReadVersion[n]=t.version}function C4(){Sm++}function Dx(t){if(!(Uf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sm)){if(!t.producerMustRecompute(t)&&!Im(t)){t.dirty=!1,t.lastCleanEpoch=Sm;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Sm}}function Ix(t){if(t.liveConsumerNode===void 0)return;let n=Bf;Bf=!0;try{for(let e of t.liveConsumerNode)e.dirty||Tx(e)}finally{Bf=n}}function Ax(){return ar?.consumerAllowSignalWrites!==!1}function Tx(t){t.dirty=!0,Ix(t),t.consumerMarkedDirty?.(t)}function Mm(t){return t&&(t.nextProducerIndex=0),fn(t)}function Dm(t,n){if(fn(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Uf(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Am(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Im(t){Nu(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(Dx(e),i!==e.version))return!0}return!1}function fy(t){if(Nu(t),Uf(t))for(let n=0;n<t.producerNode.length;n++)Am(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Nx(t,n,e){if(kx(t),Nu(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Nx(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Am(t,n){if(kx(t),Nu(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Am(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Nu(r),r.producerIndexOfThis[i]=n}}function Uf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Nu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function kx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Px(t){let n=Object.create(S4);n.computation=t;let e=()=>{if(Dx(n),Em(n),n.value===xm)throw n.error;return n.value};return e[fs]=n,e}var cy=Symbol("UNSET"),uy=Symbol("COMPUTING"),xm=Symbol("ERRORED"),S4=qt(je({},Hf),{value:cy,dirty:!0,error:null,equal:Mx,producerMustRecompute(t){return t.value===cy||t.value===uy},producerRecomputeValue(t){if(t.value===uy)throw new Error("Detected cycle in computations.");let n=t.value;t.value=uy;let e=Mm(t),i;try{i=t.computation()}catch(r){i=xm,t.error=r}finally{Dm(t,e)}if(n!==cy&&n!==xm&&i!==xm&&t.equal(n,i)){t.value=n;return}t.value=i,t.version++}});function x4(){throw new Error}var Ox=x4;function Fx(){Ox()}function Rx(t){Ox=t}var E4=null;function Lx(t){let n=Object.create(hy);n.value=t;let e=()=>(Em(n),n.value);return e[fs]=n,e}function Tm(t,n){Ax()||Fx(),t.equal(t.value,n)||(t.value=n,M4(t))}function jx(t,n){Ax()||Fx(),Tm(t,n(t.value))}var hy=qt(je({},Hf),{equal:Mx,value:void 0});function M4(t){t.version++,C4(),Ix(t),E4?.()}function Vx(t,n,e){let i=Object.create(D4);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;let r=l=>{i.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(fy(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=dy)}let a=()=>{if(i.fn===null)return;if(w4())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Im(i))return;i.hasRun=!0;let l=Mm(i);try{i.cleanupFn(),i.cleanupFn=dy,i.fn(r)}finally{Dm(i,l)}};return i.ref={notify:()=>Tx(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[fs]:i},i.ref}var dy=()=>{},D4=qt(je({},Hf),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:dy});function wt(t){return typeof t=="function"}function ku(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Nm=ku(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Sc(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var yi=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(wt(i))try{i()}catch(o){n=o instanceof Nm?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Bx(o)}catch(s){n=n??[],s instanceof Nm?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Nm(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Bx(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Sc(e,n)}remove(n){let{_finalizers:e}=this;e&&Sc(e,n),n instanceof t&&n._removeParent(this)}};yi.EMPTY=(()=>{let t=new yi;return t.closed=!0,t})();var py=yi.EMPTY;function km(t){return t instanceof yi||t&&"closed"in t&&wt(t.remove)&&wt(t.add)&&wt(t.unsubscribe)}function Bx(t){wt(t)?t():t.unsubscribe()}var hs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pu={setTimeout(t,n,...e){let{delegate:i}=Pu;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Pu;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Pm(t){Pu.setTimeout(()=>{let{onUnhandledError:n}=hs;if(n)n(t);else throw t})}function xc(){}var Ux=my("C",void 0,void 0);function Hx(t){return my("E",void 0,t)}function qx(t){return my("N",t,void 0)}function my(t,n,e){return{kind:t,value:n,error:e}}var Ec=null;function Ou(t){if(hs.useDeprecatedSynchronousErrorHandling){let n=!Ec;if(n&&(Ec={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Ec;if(Ec=null,e)throw i}}else t()}function zx(t){hs.useDeprecatedSynchronousErrorHandling&&Ec&&(Ec.errorThrown=!0,Ec.error=t)}var Mc=class extends yi{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,km(n)&&n.add(this)):this.destination=T4}static create(n,e,i){return new Fu(n,e,i)}next(n){this.isStopped?vy(qx(n),this):this._next(n)}error(n){this.isStopped?vy(Hx(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?vy(Ux,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},I4=Function.prototype.bind;function gy(t,n){return I4.call(t,n)}var yy=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Om(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Om(i)}else Om(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Om(e)}}},Fu=class extends Mc{constructor(n,e,i){super();let r;if(wt(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&hs.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&gy(n.next,o),error:n.error&&gy(n.error,o),complete:n.complete&&gy(n.complete,o)}):r=n}this.destination=new yy(r)}};function Om(t){hs.useDeprecatedSynchronousErrorHandling?zx(t):Pm(t)}function A4(t){throw t}function vy(t,n){let{onStoppedNotification:e}=hs;e&&Pu.setTimeout(()=>e(t,n))}var T4={closed:!0,next:xc,error:A4,complete:xc};var Ru=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Er(t){return t}function _y(...t){return by(t)}function by(t){return t.length===0?Er:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var en=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=k4(e)?e:new Fu(e,i,r);return Ou(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=$x(i),new i((r,o)=>{let s=new Fu({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Ru](){return this}pipe(...e){return by(e)(this)}toPromise(e){return e=$x(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function $x(t){var n;return(n=t??hs.Promise)!==null&&n!==void 0?n:Promise}function N4(t){return t&&wt(t.next)&&wt(t.error)&&wt(t.complete)}function k4(t){return t&&t instanceof Mc||N4(t)&&km(t)}function wy(t){return wt(t?.lift)}function tn(t){return n=>{if(wy(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function nn(t,n,e,i,r){return new Cy(t,n,e,i,r)}var Cy=class extends Mc{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Lu(){return tn((t,n)=>{let e=null;t._refCount++;let i=nn(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var ju=class extends en{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,wy(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new yi;let e=this.getSubject();n.add(this.source.subscribe(nn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=yi.EMPTY)}return n}refCount(){return Lu()(this)}};var Vu={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:i}=Vu;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);let r=n(o=>{e=void 0,t(o)});return new yi(()=>e?.(r))},requestAnimationFrame(...t){let{delegate:n}=Vu;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:n}=Vu;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var Wx=ku(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ln=(()=>{class t extends en{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Fm(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Wx}next(e){Ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?py:(this.currentObservers=null,o.push(e),new yi(()=>{this.currentObservers=null,Sc(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new en;return e.source=this,e}}return t.create=(n,e)=>new Fm(n,e),t})(),Fm=class extends Ln{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:py}};var nr=class extends Ln{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Sy={now(){return(Sy.delegate||Date).now()},delegate:void 0};var Rm=class extends yi{constructor(n,e){super()}schedule(n,e=0){return this}};var qf={setInterval(t,n,...e){let{delegate:i}=qf;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=qf;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Bu=class extends Rm{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return qf.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&qf.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Sc(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Uu=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};Uu.now=Sy.now;var Hu=class extends Uu{constructor(n,e=Uu.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var xy=new Hu(Bu),Gx=xy;var Lm=class extends Bu{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return i!==null&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Vu.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(n,e,i);let{actions:o}=n;e!=null&&e===n._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==e&&(Vu.cancelAnimationFrame(e),n._scheduled=void 0)}};var jm=class extends Hu{flush(n){this._active=!0;let e;n?e=n.id:(e=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;n=n||i.shift();do if(r=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}};var Ey=new jm(Lm);var Mr=new en(t=>t.complete());function My(t){return t?P4(t):Mr}function P4(t){return new en(n=>t.schedule(()=>n.complete()))}function Vm(t){return t&&wt(t.schedule)}function Dy(t){return t[t.length-1]}function Bm(t){return wt(Dy(t))?t.pop():void 0}function Vs(t){return Vm(Dy(t))?t.pop():void 0}function Yx(t,n){return typeof Dy(t)=="number"?t.pop():n}function Kx(t,n,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(i.next(f))}catch(v){s(v)}}function l(f){try{c(i.throw(f))}catch(v){s(v)}}function c(f){f.done?o(f.value):r(f.value).then(a,l)}c((i=i.apply(t,n||[])).next())})}function Zx(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dc(t){return this instanceof Dc?(this.v=t,this):new Dc(t)}function Qx(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(S){return Promise.resolve(S).then(h,v)}}function a(h,S){i[h]&&(r[h]=function(x){return new Promise(function(k,D){o.push([h,x,k,D])>1||l(h,x)})},S&&(r[h]=S(r[h])))}function l(h,S){try{c(i[h](S))}catch(x){w(o[0][3],x)}}function c(h){h.value instanceof Dc?Promise.resolve(h.value.v).then(f,v):w(o[0][2],h)}function f(h){l("next",h)}function v(h){l("throw",h)}function w(h,S){h(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Xx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Zx=="function"?Zx(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var qu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Um(t){return wt(t?.then)}function Hm(t){return wt(t[Ru])}function qm(t){return Symbol.asyncIterator&&wt(t?.[Symbol.asyncIterator])}function zm(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function O4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $m=O4();function Wm(t){return wt(t?.[$m])}function Gm(t){return Qx(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield Dc(e.read());if(r)return yield Dc(void 0);yield yield Dc(i)}}finally{e.releaseLock()}})}function Ym(t){return wt(t?.getReader)}function ni(t){if(t instanceof en)return t;if(t!=null){if(Hm(t))return F4(t);if(qu(t))return R4(t);if(Um(t))return L4(t);if(qm(t))return Jx(t);if(Wm(t))return j4(t);if(Ym(t))return V4(t)}throw zm(t)}function F4(t){return new en(n=>{let e=t[Ru]();if(wt(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function R4(t){return new en(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function L4(t){return new en(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Pm)})}function j4(t){return new en(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Jx(t){return new en(n=>{B4(t,n).catch(e=>n.error(e))})}function V4(t){return Jx(Gm(t))}function B4(t,n){var e,i,r,o;return Kx(this,void 0,void 0,function*(){try{for(e=Xx(t);i=yield e.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function Qr(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Zm(t,n=0){return tn((e,i)=>{e.subscribe(nn(i,r=>Qr(i,t,()=>i.next(r),n),()=>Qr(i,t,()=>i.complete(),n),r=>Qr(i,t,()=>i.error(r),n)))})}function Km(t,n=0){return tn((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function e5(t,n){return ni(t).pipe(Km(n),Zm(n))}function t5(t,n){return ni(t).pipe(Km(n),Zm(n))}function n5(t,n){return new en(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function i5(t,n){return new en(e=>{let i;return Qr(e,n,()=>{i=t[$m](),Qr(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>wt(i?.return)&&i.return()})}function Qm(t,n){if(!t)throw new Error("Iterable cannot be null");return new en(e=>{Qr(e,n,()=>{let i=t[Symbol.asyncIterator]();Qr(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function r5(t,n){return Qm(Gm(t),n)}function o5(t,n){if(t!=null){if(Hm(t))return e5(t,n);if(qu(t))return n5(t,n);if(Um(t))return t5(t,n);if(qm(t))return Qm(t,n);if(Wm(t))return i5(t,n);if(Ym(t))return r5(t,n)}throw zm(t)}function Un(t,n){return n?o5(t,n):ni(t)}function yt(...t){let n=Vs(t);return Un(t,n)}function zu(t,n){let e=wt(t)?t:()=>t,i=r=>r.error(e());return new en(n?r=>n.schedule(i,0,r):i)}function Iy(t){return!!t&&(t instanceof en||wt(t.lift)&&wt(t.subscribe))}var Ca=ku(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function s5(t){return t instanceof Date&&!isNaN(t)}function kt(t,n){return tn((e,i)=>{let r=0;e.subscribe(nn(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:U4}=Array;function H4(t,n){return U4(n)?t(...n):t(n)}function $u(t){return kt(n=>H4(t,n))}var{isArray:q4}=Array,{getPrototypeOf:z4,prototype:$4,keys:W4}=Object;function Xm(t){if(t.length===1){let n=t[0];if(q4(n))return{args:n,keys:null};if(G4(n)){let e=W4(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function G4(t){return t&&typeof t=="object"&&z4(t)===$4}function Jm(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function zf(...t){let n=Vs(t),e=Bm(t),{args:i,keys:r}=Xm(t);if(i.length===0)return Un([],n);let o=new en(Y4(i,n,r?s=>Jm(r,s):Er));return e?o.pipe($u(e)):o}function Y4(t,n,e=Er){return i=>{a5(n,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)a5(n,()=>{let c=Un(t[l],n),f=!1;c.subscribe(nn(i,v=>{o[l]=v,f||(f=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function a5(t,n,e){t?Qr(e,t,n):n()}function eg(t,n,e,i,r,o,s,a){let l=[],c=0,f=0,v=!1,w=()=>{v&&!l.length&&!c&&n.complete()},h=x=>c<i?S(x):l.push(x),S=x=>{o&&n.next(x),c++;let k=!1;ni(e(x,f++)).subscribe(nn(n,D=>{r?.(D),o?h(D):n.next(D)},()=>{k=!0},void 0,()=>{if(k)try{for(c--;l.length&&c<i;){let D=l.shift();s?Qr(n,s,()=>S(D)):S(D)}w()}catch(D){n.error(D)}}))};return t.subscribe(nn(n,h,()=>{v=!0,w()})),()=>{a?.()}}function ci(t,n,e=1/0){return wt(n)?ci((i,r)=>kt((o,s)=>n(i,o,r,s))(ni(t(i,r))),e):(typeof n=="number"&&(e=n),tn((i,r)=>eg(i,r,t,e)))}function Bs(t=1/0){return ci(Er,t)}function l5(){return Bs(1)}function hl(...t){return l5()(Un(t,Vs(t)))}function tg(t){return new en(n=>{ni(t()).subscribe(n)})}function $f(...t){let n=Bm(t),{args:e,keys:i}=Xm(t),r=new en(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let f=0;f<s;f++){let v=!1;ni(e[f]).subscribe(nn(o,w=>{v||(v=!0,c--),a[f]=w},()=>l--,void 0,()=>{(!l||!v)&&(c||o.next(i?Jm(i,a):a),o.complete())}))}});return n?r.pipe($u(n)):r}var Z4=["addListener","removeListener"],K4=["addEventListener","removeEventListener"],Q4=["on","off"];function Wu(t,n,e,i){if(wt(e)&&(i=e,e=void 0),i)return Wu(t,n,e).pipe($u(i));let[r,o]=eO(t)?K4.map(s=>a=>t[s](n,a,e)):X4(t)?Z4.map(c5(t,n)):J4(t)?Q4.map(c5(t,n)):[];if(!r&&qu(t))return ci(s=>Wu(s,n,e))(ni(t));if(!r)throw new TypeError("Invalid event target");return new en(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function c5(t,n){return e=>i=>t[e](n,i)}function X4(t){return wt(t.addListener)&&wt(t.removeListener)}function J4(t){return wt(t.on)&&wt(t.off)}function eO(t){return wt(t.addEventListener)&&wt(t.removeEventListener)}function Wf(t=0,n,e=Gx){let i=-1;return n!=null&&(Vm(n)?e=n:i=n),new en(r=>{let o=s5(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ay(...t){let n=Vs(t),e=Yx(t,1/0),i=t;return i.length?i.length===1?ni(i[0]):Bs(e)(Un(i,n)):Mr}function Ri(t,n){return tn((e,i)=>{let r=0;e.subscribe(nn(i,o=>t.call(n,o,r++)&&i.next(o)))})}function ps(t){return tn((n,e)=>{let i=null,r=!1,o;i=n.subscribe(nn(e,void 0,void 0,s=>{o=ni(t(s,ps(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function u5(t,n,e,i,r){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(nn(s,f=>{let v=c++;l=a?t(l,f,v):(a=!0,f),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Sa(t,n){return wt(n)?ci(t,n,1):ci(t,1)}function pl(t){return tn((n,e)=>{let i=!1;n.subscribe(nn(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Xr(t){return t<=0?()=>Mr:tn((n,e)=>{let i=0;n.subscribe(nn(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function d5(){return tn((t,n)=>{t.subscribe(nn(n,xc))})}function Gf(t){return kt(()=>t)}function Ty(t,n){return n?e=>hl(n.pipe(Xr(1),d5()),e.pipe(Ty(t))):ci((e,i)=>ni(t(e,i)).pipe(Xr(1),Gf(e)))}function Ny(t,n=xy){let e=Wf(t,n);return Ty(()=>e)}function ng(t=tO){return tn((n,e)=>{let i=!1;n.subscribe(nn(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function tO(){return new Ca}function ky(t,n=1/0,e){return n=(n||0)<1?1/0:n,tn((i,r)=>eg(i,r,t,n,void 0,!0,e))}function Us(t){return tn((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Hs(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Ri((r,o)=>t(r,o,i)):Er,Xr(1),e?pl(n):ng(()=>new Ca))}function Gu(t){return t<=0?()=>Mr:tn((n,e)=>{let i=[];n.subscribe(nn(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Py(t,n){let e=arguments.length>=2;return i=>i.pipe(t?Ri((r,o)=>t(r,o,i)):Er,Gu(1),e?pl(n):ng(()=>new Ca))}function Oy(t,n){return tn(u5(t,n,arguments.length>=2,!0))}function Fy(t){return Ri((n,e)=>t<=e)}function Ry(...t){let n=Vs(t);return tn((e,i)=>{(n?hl(t,e,n):hl(t,e)).subscribe(i)})}function Jr(t,n){return tn((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(nn(i,l=>{r?.unsubscribe();let c=0,f=o++;ni(t(l,f)).subscribe(r=nn(i,v=>i.next(n?n(l,v,f,c++):v),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Yf(t){return tn((n,e)=>{ni(t).subscribe(nn(e,()=>e.complete(),xc)),!e.closed&&n.subscribe(e)})}function lr(t,n,e){let i=wt(t)||n||e?{next:t,error:n,complete:e}:t;return i?tn((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(nn(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Er}var tE="https://g.co/ng/security#xss",Be=class extends Error{constructor(n,e){super(Rg(n,e)),this.code=n}};function Rg(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var nE=Symbol("InputSignalNode#UNSET"),nO=qt(je({},hy),{transformFn:void 0,applyValueToInputSignal(t,n){Tm(t,n)}});function iE(t,n){let e=Object.create(nO);e.value=t,e.transformFn=n?.transform;function i(){if(Em(e),e.value===nE)throw new Be(-950,!1);return e.value}return i[fs]=e,i}function lh(t){return{toString:t}.toString()}var ig="__parameters__";function iO(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function rE(t,n,e){return lh(()=>{let i=iO(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,f){let v=l.hasOwnProperty(ig)?l[ig]:Object.defineProperty(l,ig,{value:[]})[ig];for(;v.length<=f;)v.push(null);return(v[f]=v[f]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var vo=globalThis;function Zn(t){for(let n in t)if(t[n]===Zn)return n;throw Error("Could not find renamed property on target object.")}function rO(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Br(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Br).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Jy(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var oO=Zn({__forward_ref__:Zn});function _o(t){return t.__forward_ref__=_o,t.toString=function(){return Br(this())},t}function Vr(t){return oE(t)?t():t}function oE(t){return typeof t=="function"&&t.hasOwnProperty(oO)&&t.__forward_ref__===_o}function Ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ii(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lg(t){return f5(t,aE)||f5(t,lE)}function sE(t){return Lg(t)!==null}function f5(t,n){return t.hasOwnProperty(n)?t[n]:null}function sO(t){let n=t&&(t[aE]||t[lE]);return n||null}function h5(t){return t&&(t.hasOwnProperty(p5)||t.hasOwnProperty(aO))?t[p5]:null}var aE=Zn({\u0275prov:Zn}),p5=Zn({\u0275inj:Zn}),lE=Zn({ngInjectableDef:Zn}),aO=Zn({ngInjectorDef:Zn}),st=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Ne({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function cE(t){return t&&!!t.\u0275providers}var lO=Zn({\u0275cmp:Zn}),cO=Zn({\u0275dir:Zn}),uO=Zn({\u0275pipe:Zn}),dO=Zn({\u0275mod:Zn}),gg=Zn({\u0275fac:Zn}),Zf=Zn({__NG_ELEMENT_ID__:Zn}),m5=Zn({__NG_ENV_ID__:Zn});function Nc(t){return typeof t=="string"?t:t==null?"":String(t)}function fO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nc(t)}function hO(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Be(-200,t)}function fb(t,n){throw new Be(-201,!1)}var rn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(rn||{}),e_;function uE(){return e_}function eo(t){let n=e_;return e_=t,n}function dE(t,n,e){let i=Lg(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&rn.Optional)return null;if(n!==void 0)return n;fb(t,"Injector")}var pO={},Kf=pO,t_="__NG_DI_FLAG__",vg="ngTempTokenPath",mO="ngTokenPath",gO=/\n/gm,vO="\u0275",g5="__source",Xu;function yO(){return Xu}function ml(t){let n=Xu;return Xu=t,n}function _O(t,n=rn.Default){if(Xu===void 0)throw new Be(-203,!1);return Xu===null?dE(t,void 0,n):Xu.get(t,n&rn.Optional?null:void 0,n)}function Le(t,n=rn.Default){return(uE()||_O)(Vr(t),n)}function Se(t,n=rn.Default){return Le(t,jg(n))}function jg(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function n_(t){let n=[];for(let e=0;e<t.length;e++){let i=Vr(t[e]);if(Array.isArray(i)){if(i.length===0)throw new Be(900,!1);let r,o=rn.Default;for(let s=0;s<i.length;s++){let a=i[s],l=bO(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(Le(r,o))}else n.push(Le(i))}return n}function fE(t,n){return t[t_]=n,t.prototype[t_]=n,t}function bO(t){return t[t_]}function wO(t,n,e,i){let r=t[vg];throw n[g5]&&r.unshift(n[g5]),t.message=CO(`
`+t.message,r,e,i),t[mO]=r,t[vg]=null,t}function CO(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==vO?t.slice(2):t;let r=Br(n);if(Array.isArray(n))r=n.map(Br).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Br(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(gO,`
  `)}`}var ch=fE(rE("Optional"),8);var Vg=fE(rE("SkipSelf"),4);function kc(t,n){let e=t.hasOwnProperty(gg);return e?t[gg]:null}function SO(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function xO(t){return t.flat(Number.POSITIVE_INFINITY)}function hb(t,n){t.forEach(e=>Array.isArray(e)?hb(e,n):n(e))}function hE(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function yg(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function EO(t,n){let e=[];for(let i=0;i<t;i++)e.push(n);return e}function MO(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function pb(t,n,e){let i=uh(t,n);return i>=0?t[i|1]=e:(i=~i,MO(t,i,n,e)),i}function Ly(t,n){let e=uh(t,n);if(e>=0)return t[e|1]}function uh(t,n){return DO(t,n,1)}function DO(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}var ed={},to=[],td=new st(""),pE=new st("",-1),mE=new st(""),_g=class{get(n,e=Kf){if(e===Kf){let i=new Error(`NullInjectorError: No provider for ${Br(n)}!`);throw i.name="NullInjectorError",i}return e}},gE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gE||{}),qo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qo||{}),Nn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nn||{});function IO(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function i_(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{let o=r,s=e[++i];AO(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function vE(t){return t===3||t===4||t===6}function AO(t){return t.charCodeAt(0)===64}function Qf(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?v5(t,e,r,null,n[++i]):v5(t,e,r,null,null))}}return t}function v5(t,n,e,i,r){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var yE="ng-template";function TO(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&IO(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(mb(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function mb(t){return t.type===4&&t.value!==yE}function NO(t,n,e){let i=t.type===4&&!e?yE:t.value;return n===i}function kO(t,n,e){let i=4,r=t.attrs,o=r!==null?FO(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!ms(i)&&!ms(l))return!1;if(s&&ms(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!NO(t,l,e)||l===""&&n.length===1){if(ms(i))return!1;s=!0}}else if(i&8){if(r===null||!TO(t,r,l,e)){if(ms(i))return!1;s=!0}}else{let c=n[++a],f=PO(l,r,mb(t),e);if(f===-1){if(ms(i))return!1;s=!0;continue}if(c!==""){let v;if(f>o?v="":v=r[f+1].toLowerCase(),i&2&&c!==v){if(ms(i))return!1;s=!0}}}}return ms(i)||s}function ms(t){return(t&1)===0}function PO(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let s=n[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return RO(n,t)}function _E(t,n,e=!1){for(let i=0;i<n.length;i++)if(kO(t,n[i],e))return!0;return!1}function OO(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function FO(t){for(let n=0;n<t.length;n++){let e=t[n];if(vE(e))return n}return t.length}function RO(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function LO(t,n){e:for(let e=0;e<n.length;e++){let i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function y5(t,n){return t?":not("+n.trim()+")":n}function jO(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(i&2){let a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!ms(s)&&(n+=y5(o,r),r=""),i=s,o=o||!ms(i);e++}return r!==""&&(n+=y5(o,r)),n}function VO(t){return t.map(jO).join(",")}function BO(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!ms(r))break;r=o}i++}return{attrs:n,classes:e}}function qe(t){return lh(()=>{let n=xE(t),e=qt(je({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||qo.Emulated,styles:t.styles||to,_:null,schemas:t.schemas||null,tView:null,id:""});EE(e);let i=t.dependencies;return e.directiveDefs=b5(i,!1),e.pipeDefs=b5(i,!0),e.id=qO(e),e})}function UO(t){return vl(t)||bE(t)}function HO(t){return t!==null}function ri(t){return lh(()=>({type:t.type,bootstrap:t.bootstrap||to,declarations:t.declarations||to,imports:t.imports||to,exports:t.exports||to,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _5(t,n){if(t==null)return ed;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Nn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==Nn.None?[i,a]:i,n[o]=s):e[o]=i}return e}function Ft(t){return lh(()=>{let n=xE(t);return EE(n),n})}function ud(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vl(t){return t[lO]||null}function bE(t){return t[cO]||null}function wE(t){return t[uO]||null}function CE(t){let n=vl(t)||bE(t)||wE(t);return n!==null?n.standalone:!1}function SE(t,n){let e=t[dO]||null;if(!e&&n===!0)throw new Error(`Type ${Br(t)} does not have '\u0275mod' property.`);return e}function xE(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ed,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||to,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_5(t.inputs,n),outputs:_5(t.outputs),debugInfo:null}}function EE(t){t.features?.forEach(n=>n(t))}function b5(t,n){if(!t)return null;let e=n?wE:UO;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(HO)}function qO(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Da(t){return{\u0275providers:t}}function gb(...t){return{\u0275providers:ME(!0,t),\u0275fromNgModule:!0}}function ME(t,...n){let e=[],i=new Set,r,o=s=>{e.push(s)};return hb(n,s=>{let a=s;r_(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&DE(r,o),e}function DE(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];vb(r,o=>{n(o,i)})}}function r_(t,n,e,i){if(t=Vr(t),!t)return!1;let r=null,o=h5(t),s=!o&&vl(t);if(!o&&!s){let l=t.ngModule;if(o=h5(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)r_(c,n,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{hb(o.imports,f=>{r_(f,n,e,i)&&(c||=[],c.push(f))})}finally{}c!==void 0&&DE(c,n)}if(!a){let c=kc(r)||(()=>new r);n({provide:r,useFactory:c,deps:to},r),n({provide:mE,useValue:r,multi:!0},r),n({provide:td,useValue:()=>Le(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;vb(l,f=>{n(f,c)})}}else return!1;return r!==t&&t.providers!==void 0}function vb(t,n){for(let e of t)cE(e)&&(e=e.\u0275providers),Array.isArray(e)?vb(e,n):n(e)}var zO=Zn({provide:String,useValue:Zn});function IE(t){return t!==null&&typeof t=="object"&&zO in t}function $O(t){return!!(t&&t.useExisting)}function WO(t){return!!(t&&t.useFactory)}function nd(t){return typeof t=="function"}function GO(t){return!!t.useClass}var Bg=new st(""),cg={},YO={},jy;function yb(){return jy===void 0&&(jy=new _g),jy}var Ar=class{},Xf=class extends Ar{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,s_(n,s=>this.processProvider(s)),this.records.set(pE,Yu(void 0,this)),r.has("environment")&&this.records.set(Ar,Yu(void 0,this));let o=this.records.get(Bg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mE,to,rn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=fn(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fn(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=ml(this),i=eo(void 0),r;try{return n()}finally{ml(e),eo(i)}}get(n,e=Kf,i=rn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(m5))return n[m5](this);i=jg(i);let r,o=ml(this),s=eo(void 0);try{if(!(i&rn.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=JO(n)&&Lg(n);c&&this.injectableDefInScope(c)?l=Yu(o_(n),cg):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&rn.Self?yb():this.parent;return e=i&rn.Optional&&e===Kf?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[vg]=a[vg]||[]).unshift(Br(n)),o)throw a;return wO(a,n,"R3InjectorError",this.source)}else throw a}finally{eo(s),ml(o)}}resolveInjectorInitializers(){let n=fn(null),e=ml(this),i=eo(void 0),r;try{let o=this.get(td,to,rn.Self);for(let s of o)s()}finally{ml(e),eo(i),fn(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(Br(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(n){n=Vr(n);let e=nd(n)?n:Vr(n&&n.provide),i=KO(n);if(!nd(n)&&n.multi===!0){let r=this.records.get(e);r||(r=Yu(void 0,cg,!0),r.factory=()=>n_(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=fn(null);try{return e.value===cg&&(e.value=YO,e.value=e.factory()),typeof e.value=="object"&&e.value&&XO(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{fn(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Vr(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function o_(t){let n=Lg(t),e=n!==null?n.factory:kc(t);if(e!==null)return e;if(t instanceof st)throw new Be(204,!1);if(t instanceof Function)return ZO(t);throw new Be(204,!1)}function ZO(t){if(t.length>0)throw new Be(204,!1);let e=sO(t);return e!==null?()=>e.factory(t):()=>new t}function KO(t){if(IE(t))return Yu(void 0,t.useValue);{let n=AE(t);return Yu(n,cg)}}function AE(t,n,e){let i;if(nd(t)){let r=Vr(t);return kc(r)||o_(r)}else if(IE(t))i=()=>Vr(t.useValue);else if(WO(t))i=()=>t.useFactory(...n_(t.deps||[]));else if($O(t))i=()=>Le(Vr(t.useExisting));else{let r=Vr(t&&(t.useClass||t.provide));if(QO(t))i=()=>new r(...n_(t.deps));else return kc(r)||o_(r)}return i}function Yu(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function QO(t){return!!t.deps}function XO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JO(t){return typeof t=="function"||typeof t=="object"&&t instanceof st}function s_(t,n){for(let e of t)Array.isArray(e)?s_(e,n):e&&cE(e)?s_(e.\u0275providers,n):n(e)}function bs(t,n){t instanceof Xf&&t.assertNotDestroyed();let e,i=ml(t),r=eo(void 0);try{return n()}finally{ml(i),eo(r)}}function TE(){return uE()!==void 0||yO()!=null}function NE(t){if(!TE())throw new Be(-203,!1)}function eF(t){return typeof t=="function"}var Gs=0,Pt=1,xt=2,_r=3,vs=4,bo=5,id=6,Jf=7,Dr=8,rd=9,ys=10,ui=11,eh=12,w5=13,dd=14,zo=15,dh=16,Zu=17,xa=18,Ug=19,kE=20,gl=21,ug=22,Pc=23,br=25,_b=1;var Oc=7,bg=8,od=9,Ir=10,bb=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bb||{});function Ac(t){return Array.isArray(t)&&typeof t[_b]=="object"}function Ia(t){return Array.isArray(t)&&t[_b]===!0}function wb(t){return(t.flags&4)!==0}function Hg(t){return t.componentOffset>-1}function qg(t){return(t.flags&1)===1}function Ea(t){return!!t.template}function tF(t){return(t[xt]&512)!==0}var a_=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function PE(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function ir(){return OE}function OE(t){return t.type.prototype.ngOnChanges&&(t.setInput=iF),nF}ir.ngInherit=!0;function nF(){let t=RE(this),n=t?.current;if(n){let e=t.previous;if(e===ed)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function iF(t,n,e,i,r){let o=this.declaredInputs[i],s=RE(t)||rF(t,{previous:ed,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new a_(c&&c.currentValue,e,l===ed),PE(t,n,r,e)}var FE="__ngSimpleChanges__";function RE(t){return t[FE]||null}function rF(t,n){return t[FE]=n}var C5=null;var qs=function(t,n,e){C5?.(t,n,e)},LE="svg",oF="math",sF=!1;function aF(){return sF}function $s(t){for(;Array.isArray(t);)t=t[Gs];return t}function lF(t){for(;Array.isArray(t);){if(typeof t[_b]=="object")return t;t=t[Gs]}return null}function jE(t,n){return $s(n[t])}function Wo(t,n){return $s(n[t.index])}function Cb(t,n){return t.data[n]}function Sb(t,n){return t[n]}function bl(t,n){let e=n[t];return Ac(e)?e:e[Gs]}function cF(t){return(t[xt]&4)===4}function xb(t){return(t[xt]&128)===128}function uF(t){return Ia(t[_r])}function sd(t,n){return n==null?null:t[n]}function VE(t){t[Zu]=0}function dF(t){t[xt]&1024||(t[xt]|=1024,xb(t)&&th(t))}function fF(t,n){for(;t>0;)n=n[dd],t--;return n}function Eb(t){return!!(t[xt]&9216||t[Pc]?.dirty)}function l_(t){t[ys].changeDetectionScheduler?.notify(1),Eb(t)?th(t):t[xt]&64&&(aF()?(t[xt]|=1024,th(t)):t[ys].changeDetectionScheduler?.notify())}function th(t){t[ys].changeDetectionScheduler?.notify();let n=nh(t);for(;n!==null&&!(n[xt]&8192||(n[xt]|=8192,!xb(n)));)n=nh(n)}function BE(t,n){if((t[xt]&256)===256)throw new Be(911,!1);t[gl]===null&&(t[gl]=[]),t[gl].push(n)}function hF(t,n){if(t[gl]===null)return;let e=t[gl].indexOf(n);e!==-1&&t[gl].splice(e,1)}function nh(t){let n=t[_r];return Ia(n)?n[_r]:n}var Gt={lFrame:YE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pF(){return Gt.lFrame.elementDepthCount}function mF(){Gt.lFrame.elementDepthCount++}function gF(){Gt.lFrame.elementDepthCount--}function UE(){return Gt.bindingsEnabled}function HE(){return Gt.skipHydrationRootTNode!==null}function vF(t){return Gt.skipHydrationRootTNode===t}function yF(){Gt.skipHydrationRootTNode=null}function Ot(){return Gt.lFrame.lView}function _i(){return Gt.lFrame.tView}function K(t){return Gt.lFrame.contextLView=t,t[Dr]}function Q(t){return Gt.lFrame.contextLView=null,t}function Tr(){let t=qE();for(;t!==null&&t.type===64;)t=t.parent;return t}function qE(){return Gt.lFrame.currentTNode}function _F(){let t=Gt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Bc(t,n){let e=Gt.lFrame;e.currentTNode=t,e.isParent=n}function Mb(){return Gt.lFrame.isParent}function Db(){Gt.lFrame.isParent=!1}function bF(){return Gt.lFrame.contextLView}function zg(){let t=Gt.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function wF(){return Gt.lFrame.bindingIndex}function CF(t){return Gt.lFrame.bindingIndex=t}function Uc(){return Gt.lFrame.bindingIndex++}function Ib(t){let n=Gt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function SF(){return Gt.lFrame.inI18n}function xF(t,n){let e=Gt.lFrame;e.bindingIndex=e.bindingRootIndex=t,c_(n)}function EF(){return Gt.lFrame.currentDirectiveIndex}function c_(t){Gt.lFrame.currentDirectiveIndex=t}function zE(t){let n=Gt.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function $E(){return Gt.lFrame.currentQueryIndex}function Ab(t){Gt.lFrame.currentQueryIndex=t}function MF(t){let n=t[Pt];return n.type===2?n.declTNode:n.type===1?t[bo]:null}function WE(t,n,e){if(e&rn.SkipSelf){let r=n,o=t;for(;r=r.parent,r===null&&!(e&rn.Host);)if(r=MF(o),r===null||(o=o[dd],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=Gt.lFrame=GE();return i.currentTNode=n,i.lView=t,!0}function Tb(t){let n=GE(),e=t[Pt];Gt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function GE(){let t=Gt.lFrame,n=t===null?null:t.child;return n===null?YE(t):n}function YE(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function ZE(){let t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var KE=ZE;function Nb(){let t=ZE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DF(t){return(Gt.lFrame.contextLView=fF(t,Gt.lFrame.contextLView))[Dr]}function Aa(){return Gt.lFrame.selectedIndex}function Fc(t){Gt.lFrame.selectedIndex=t}function fh(){let t=Gt.lFrame;return Cb(t.tView,t.selectedIndex)}function QE(){Gt.lFrame.currentNamespace=LE}function XE(){IF()}function IF(){Gt.lFrame.currentNamespace=null}function AF(){return Gt.lFrame.currentNamespace}var JE=!0;function $g(){return JE}function Wg(t){JE=t}function TF(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=OE(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function Gg(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),f!=null&&(t.destroyHooks??=[]).push(e,f)}}function dg(t,n,e){eM(t,n,3,e)}function fg(t,n,e,i){(t[xt]&3)===e&&eM(t,n,e,i)}function Vy(t,n){let e=t[xt];(e&3)===n&&(e&=16383,e+=1,t[xt]=e)}function eM(t,n,e,i){let r=i!==void 0?t[Zu]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(t[Zu]+=65536),(a<o||o==-1)&&(NF(t,e,n,l),t[Zu]=(t[Zu]&4294901760)+l+2),l++}function S5(t,n){qs(4,t,n);let e=fn(null);try{n.call(t)}finally{fn(e),qs(5,t,n)}}function NF(t,n,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=t[s];r?t[xt]>>14<t[Zu]>>16&&(t[xt]&3)===n&&(t[xt]+=16384,S5(a,o)):S5(a,o)}var Ju=-1,Rc=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function kF(t){return t instanceof Rc}function PF(t){return(t.flags&8)!==0}function OF(t){return(t.flags&16)!==0}function tM(t){return t!==Ju}function wg(t){return t&32767}function FF(t){return t>>16}function Cg(t,n){let e=FF(t),i=n;for(;e>0;)i=i[dd],e--;return i}var u_=!0;function Sg(t){let n=u_;return u_=t,n}var RF=256,nM=RF-1,iM=5,LF=0,zs={};function jF(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Zf)&&(i=e[Zf]),i==null&&(i=e[Zf]=LF++);let r=i&nM,o=1<<r;n.data[t+(r>>iM)]|=o}function xg(t,n){let e=rM(t,n);if(e!==-1)return e;let i=n[Pt];i.firstCreatePass&&(t.injectorIndex=n.length,By(i.data,t),By(n,null),By(i.blueprint,null));let r=kb(t,n),o=t.injectorIndex;if(tM(r)){let s=wg(r),a=Cg(r,n),l=a[Pt].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function By(t,n){t.push(0,0,0,0,0,0,0,0,n)}function rM(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function kb(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=cM(r),i===null)return Ju;if(e++,r=r[dd],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Ju}function d_(t,n,e){jF(t,n,e)}function VF(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(vE(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===n)return e[r+1];r=r+2}}}return null}function oM(t,n,e){if(e&rn.Optional||t!==void 0)return t;fb(n,"NodeInjector")}function sM(t,n,e,i){if(e&rn.Optional&&i===void 0&&(i=null),!(e&(rn.Self|rn.Host))){let r=t[rd],o=eo(void 0);try{return r?r.get(n,i,e&rn.Optional):dE(n,i,e&rn.Optional)}finally{eo(o)}}return oM(i,n,e)}function aM(t,n,e,i=rn.Default,r){if(t!==null){if(n[xt]&2048&&!(i&rn.Self)){let s=qF(t,n,e,i,zs);if(s!==zs)return s}let o=lM(t,n,e,i,zs);if(o!==zs)return o}return sM(n,e,i,r)}function lM(t,n,e,i,r){let o=UF(e);if(typeof o=="function"){if(!WE(n,t,i))return i&rn.Host?oM(r,e,i):sM(n,e,i,r);try{let s;if(s=o(i),s==null&&!(i&rn.Optional))fb(e);else return s}finally{KE()}}else if(typeof o=="number"){let s=null,a=rM(t,n),l=Ju,c=i&rn.Host?n[zo][bo]:null;for((a===-1||i&rn.SkipSelf)&&(l=a===-1?kb(t,n):n[a+8],l===Ju||!E5(i,!1)?a=-1:(s=n[Pt],a=wg(l),n=Cg(l,n)));a!==-1;){let f=n[Pt];if(x5(o,a,f.data)){let v=BF(a,n,e,s,i,c);if(v!==zs)return v}l=n[a+8],l!==Ju&&E5(i,n[Pt].data[a+8]===c)&&x5(o,a,n)?(s=f,a=wg(l),n=Cg(l,n)):a=-1}}return r}function BF(t,n,e,i,r,o){let s=n[Pt],a=s.data[t+8],l=i==null?Hg(a)&&u_:i!=s&&(a.type&3)!==0,c=r&rn.Host&&o===a,f=hg(a,s,e,l,c);return f!==null?Lc(n,s,f,a):zs}function hg(t,n,e,i,r){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,f=o>>20,v=i?a:a+f,w=r?a+f:c;for(let h=v;h<w;h++){let S=s[h];if(h<l&&e===S||h>=l&&S.type===e)return h}if(r){let h=s[l];if(h&&Ea(h)&&h.type===e)return l}return null}function Lc(t,n,e,i){let r=t[e],o=n.data;if(kF(r)){let s=r;s.resolving&&hO(fO(o[e]));let a=Sg(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?eo(s.injectImpl):null,f=WE(t,i,rn.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&TF(e,o[e],n)}finally{c!==null&&eo(c),Sg(a),s.resolving=!1,KE()}}return r}function UF(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Zf)?t[Zf]:void 0;return typeof n=="number"?n>=0?n&nM:HF:n}function x5(t,n,e){let i=1<<t;return!!(e[n+(t>>iM)]&i)}function E5(t,n){return!(t&rn.Self)&&!(t&rn.Host&&n)}var Tc=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return aM(this._tNode,this._lView,n,jg(i),e)}};function HF(){return new Tc(Tr(),Ot())}function Go(t){return lh(()=>{let n=t.prototype.constructor,e=n[gg]||f_(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[gg]||f_(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function f_(t){return oE(t)?()=>{let n=f_(Vr(t));return n&&n()}:kc(t)}function qF(t,n,e,i,r){let o=t,s=n;for(;o!==null&&s!==null&&s[xt]&2048&&!(s[xt]&512);){let a=lM(o,s,e,i|rn.Self,zs);if(a!==zs)return a;let l=o.parent;if(!l){let c=s[kE];if(c){let f=c.get(e,zs,i);if(f!==zs)return f}l=cM(s),s=s[dd]}o=l}return r}function cM(t){let n=t[Pt],e=n.type;return e===2?n.declTNode:e===1?t[bo]:null}function Pb(t){return VF(Tr(),t)}function M5(t,n=null,e=null,i){let r=uM(t,n,e,i);return r.resolveInjectorInitializers(),r}function uM(t,n=null,e=null,i,r=new Set){let o=[e||to,gb(t)];return i=i||(typeof t=="object"?void 0:Br(t)),new Xf(o,n||yb(),i||null,r)}var rr=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Kf}static{this.NULL=new _g}static create(e,i){if(Array.isArray(e))return M5({name:""},i,e,"");{let r=e.name??"";return M5({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Ne({token:t,providedIn:"any",factory:()=>Le(pE)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var zF="ngOriginalError";function Uy(t){return t[zF]}var _s=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Uy(n);for(;e&&Uy(e);)e=Uy(e);return e||null}},dM=new st("",{providedIn:"root",factory:()=>Se(_s).handleError.bind(void 0)}),Yg=(()=>{class t{static{this.__NG_ELEMENT_ID__=$F}static{this.__NG_ENV_ID__=e=>e}}return t})(),h_=class extends Yg{constructor(n){super(),this._lView=n}onDestroy(n){return BE(this._lView,n),()=>hF(this._lView,n)}};function $F(){return new h_(Ot())}function D5(t,n){return iE(t,n)}function WF(t){return iE(nE,t)}var Ob=(D5.required=WF,D5);function GF(){return fd(Tr(),Ot())}function fd(t,n){return new pt(Wo(t,n))}var pt=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=GF}}return t})();function YF(t){return t instanceof pt?t.nativeElement:t}var p_=class extends Ln{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,TE()&&(this.destroyRef=Se(Yg,{optional:!0})??void 0)}emit(n){let e=fn(null);try{super.next(n)}finally{fn(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Hy(o),r&&(r=Hy(r)),s&&(s=Hy(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof yi&&n.add(a),a}};function Hy(t){return n=>{setTimeout(t,void 0,n)}}var ht=p_;function ZF(){return this._results[Symbol.iterator]()}var m_=class t{get changes(){return this._changes??=new ht}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=t.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=ZF)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=xO(n);(this._changesDetected=!SO(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function fM(t){return(t.flags&128)===128}var hM=new Map,KF=0;function QF(){return KF++}function XF(t){hM.set(t[Ug],t)}function JF(t){hM.delete(t[Ug])}var I5="__ngContext__";function yl(t,n){Ac(n)?(t[I5]=n[Ug],XF(n)):t[I5]=n}function pM(t){return gM(t[eh])}function mM(t){return gM(t[vs])}function gM(t){for(;t!==null&&!Ia(t);)t=t[vs];return t}var g_;function vM(t){g_=t}function yM(){if(g_!==void 0)return g_;if(typeof document<"u")return document;throw new Be(210,!1)}var Fb=new st("",{providedIn:"root",factory:()=>eR}),eR="ng",Rb=new st(""),io=new st("",{providedIn:"platform",factory:()=>"unknown"});var hh=new st(""),Lb=new st("",{providedIn:"root",factory:()=>yM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tR="h",nR="b";var iR=()=>null;function jb(t,n,e=!1){return iR(t,n,e)}var _M=!1,rR=new st("",{providedIn:"root",factory:()=>_M});var rg;function oR(){if(rg===void 0&&(rg=null,vo.trustedTypes))try{rg=vo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rg}function Zg(t){return oR()?.createHTML(t)||t}var og;function bM(){if(og===void 0&&(og=null,vo.trustedTypes))try{og=vo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return og}function A5(t){return bM()?.createHTML(t)||t}function T5(t){return bM()?.createScriptURL(t)||t}var Ma=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tE})`}},v_=class extends Ma{getTypeName(){return"HTML"}},y_=class extends Ma{getTypeName(){return"Style"}},__=class extends Ma{getTypeName(){return"Script"}},b_=class extends Ma{getTypeName(){return"URL"}},w_=class extends Ma{getTypeName(){return"ResourceURL"}};function Yo(t){return t instanceof Ma?t.changingThisBreaksApplicationSecurity:t}function Ta(t,n){let e=sR(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${tE})`)}return e===n}function sR(t){return t instanceof Ma&&t.getTypeName()||null}function wM(t){return new v_(t)}function CM(t){return new y_(t)}function SM(t){return new __(t)}function xM(t){return new b_(t)}function EM(t){return new w_(t)}function aR(t){let n=new S_(t);return lR()?new C_(n):n}var C_=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(Zg(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}},S_=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=Zg(n),e}};function lR(){try{return!!new window.DOMParser().parseFromString(Zg(""),"text/html")}catch{return!1}}var cR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kg(t){return t=String(t),t.match(cR)?t:"unsafe:"+t}function Na(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function ph(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var MM=Na("area,br,col,hr,img,wbr"),DM=Na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IM=Na("rp,rt"),uR=ph(IM,DM),dR=ph(DM,Na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fR=ph(IM,Na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N5=ph(MM,dR,fR,uR),AM=Na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hR=Na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pR=Na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),mR=ph(AM,hR,pR),gR=Na("script,style,template"),x_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=_R(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=yR(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=k5(n).toLowerCase();if(!N5.hasOwnProperty(e))return this.sanitizedSomething=!0,!gR.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!mR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;AM[a]&&(l=Kg(l)),this.buf.push(" ",s,'="',P5(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=k5(n).toLowerCase();N5.hasOwnProperty(e)&&!MM.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(P5(n))}};function vR(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yR(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw TM(n);return n}function _R(t){let n=t.firstChild;if(n&&vR(t,n))throw TM(n);return n}function k5(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function TM(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var bR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wR=/([^\#-~ |!])/g;function P5(t){return t.replace(/&/g,"&amp;").replace(bR,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(wR,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sg;function Vb(t,n){let e=null;try{sg=sg||aR(t);let i=n?String(n):"";e=sg.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=sg.getInertBodyElement(i)}while(i!==o);let a=new x_().sanitizeChildren(O5(e)||e);return Zg(a)}finally{if(e){let i=O5(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function O5(t){return"content"in t&&CR(t)?t.content:null}function CR(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var wo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wo||{});function mh(t){let n=Bb();return n?A5(n.sanitize(wo.HTML,t)||""):Ta(t,"HTML")?A5(Yo(t)):Vb(yM(),Nc(t))}function Zo(t){let n=Bb();return n?n.sanitize(wo.URL,t)||"":Ta(t,"URL")?Yo(t):Kg(Nc(t))}function SR(t){let n=Bb();if(n)return T5(n.sanitize(wo.RESOURCE_URL,t)||"");if(Ta(t,"ResourceURL"))return T5(Yo(t));throw new Be(904,!1)}function xR(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?SR:Zo}function NM(t,n,e){return xR(n,e)(t)}function Bb(){let t=Ot();return t&&t[ys].sanitizer}var ER=/^>|^->|<!--|-->|--!>|<!-$/g,MR=/(<|>)/g,DR="\u200B$1\u200B";function IR(t){return t.replace(ER,n=>n.replace(MR,DR))}function gh(t){return t.ownerDocument.defaultView}function vh(t){return t.ownerDocument}function kM(t){return t instanceof Function?t():t}function AR(t){return(t??Se(rr)).get(io)==="browser"}var Ws=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ws||{}),TR;function Ub(t,n){return TR(t,n)}function Ku(t,n,e,i,r){if(i!=null){let o,s=!1;Ia(i)?o=i:Ac(i)&&(s=!0,i=i[Gs]);let a=$s(i);t===0&&e!==null?r==null?LM(n,e,a):Eg(n,e,a,r||null,!0):t===1&&e!==null?Eg(n,e,a,r||null,!0):t===2?WR(n,a,s):t===3&&n.destroyNode(a),o!=null&&YR(n,t,o,e,r)}}function NR(t,n){return t.createText(n)}function kR(t,n,e){t.setValue(n,e)}function PR(t,n){return t.createComment(IR(n))}function PM(t,n,e){return t.createElement(n,e)}function OR(t,n){OM(t,n),n[Gs]=null,n[bo]=null}function FR(t,n,e,i,r,o){i[Gs]=r,i[bo]=n,Jg(t,i,e,1,r,o)}function OM(t,n){n[ys].changeDetectionScheduler?.notify(1),Jg(t,n,n[ui],2,null,null)}function RR(t){let n=t[eh];if(!n)return qy(t[Pt],t);for(;n;){let e=null;if(Ac(n))e=n[eh];else{let i=n[Ir];i&&(e=i)}if(!e){for(;n&&!n[vs]&&n!==t;)Ac(n)&&qy(n[Pt],n),n=n[_r];n===null&&(n=t),Ac(n)&&qy(n[Pt],n),e=n&&n[vs]}n=e}}function LR(t,n,e,i){let r=Ir+i,o=e.length;i>0&&(e[r-1][vs]=n),i<o-Ir?(n[vs]=e[r],hE(e,Ir+i,n)):(e.push(n),n[vs]=null),n[_r]=e;let s=n[dh];s!==null&&e!==s&&jR(s,n);let a=n[xa];a!==null&&a.insertView(t),l_(n),n[xt]|=128}function jR(t,n){let e=t[od],r=n[_r][_r][zo];n[zo]!==r&&(t[xt]|=bb.HasTransplantedViews),e===null?t[od]=[n]:e.push(n)}function FM(t,n){let e=t[od],i=e.indexOf(n);e.splice(i,1)}function ih(t,n){if(t.length<=Ir)return;let e=Ir+n,i=t[e];if(i){let r=i[dh];r!==null&&r!==t&&FM(r,i),n>0&&(t[e-1][vs]=i[vs]);let o=yg(t,Ir+n);OR(i[Pt],i);let s=o[xa];s!==null&&s.detachView(o[Pt]),i[_r]=null,i[vs]=null,i[xt]&=-129}return i}function Qg(t,n){if(!(n[xt]&256)){let e=n[ui];e.destroyNode&&Jg(t,n,e,3,null,null),RR(n)}}function qy(t,n){if(n[xt]&256)return;let e=fn(null);try{n[xt]&=-129,n[xt]|=256,n[Pc]&&fy(n[Pc]),BR(t,n),VR(t,n),n[Pt].type===1&&n[ui].destroy();let i=n[dh];if(i!==null&&Ia(n[_r])){i!==n[_r]&&FM(i,n);let r=n[xa];r!==null&&r.detachView(t)}JF(n)}finally{fn(e)}}function VR(t,n){let e=t.cleanup,i=n[Jf];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(n[Jf]=null);let r=n[gl];if(r!==null){n[gl]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function BR(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof Rc)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];qs(4,a,l);try{l.call(a)}finally{qs(5,a,l)}}else{qs(4,r,o);try{o.call(r)}finally{qs(5,r,o)}}}}}function RM(t,n,e){return UR(t,n.parent,e)}function UR(t,n,e){let i=n;for(;i!==null&&i.type&40;)n=i,i=n.parent;if(i===null)return e[Gs];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===qo.None||o===qo.Emulated)return null}return Wo(i,e)}}function Eg(t,n,e,i,r){t.insertBefore(n,e,i,r)}function LM(t,n,e){t.appendChild(n,e)}function F5(t,n,e,i,r){i!==null?Eg(t,n,e,i,r):LM(t,n,e)}function HR(t,n,e,i){t.removeChild(n,e,i)}function Hb(t,n){return t.parentNode(n)}function qR(t,n){return t.nextSibling(n)}function jM(t,n,e){return $R(t,n,e)}function zR(t,n,e){return t.type&40?Wo(t,e):null}var $R=zR,R5;function Xg(t,n,e,i){let r=RM(t,i,n),o=n[ui],s=i.parent||n[bo],a=jM(s,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)F5(o,r,e[l],a,!1);else F5(o,r,e,a,!1);R5!==void 0&&R5(o,i,n,e,r)}function pg(t,n){if(n!==null){let e=n.type;if(e&3)return Wo(n,t);if(e&4)return E_(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return pg(t,i);{let r=t[n.index];return Ia(r)?E_(-1,r):$s(r)}}else{if(e&32)return Ub(n,t)()||$s(t[n.index]);{let i=VM(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=nh(t[zo]);return pg(r,i)}else return pg(t,n.next)}}}return null}function VM(t,n){if(n!==null){let i=t[zo][bo],r=n.projection;return i.projection[r]}return null}function E_(t,n){let e=Ir+t+1;if(e<n.length){let i=n[e],r=i[Pt].firstChild;if(r!==null)return pg(i,r)}return n[Oc]}function WR(t,n,e){let i=Hb(t,n);i&&HR(t,i,n,e)}function qb(t,n,e,i,r,o,s){for(;e!=null;){let a=i[e.index],l=e.type;if(s&&n===0&&(a&&yl($s(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)qb(t,n,e.child,i,r,o,!1),Ku(n,t,r,a,o);else if(l&32){let c=Ub(e,i),f;for(;f=c();)Ku(n,t,r,f,o);Ku(n,t,r,a,o)}else l&16?BM(t,n,i,e,r,o):Ku(n,t,r,a,o);e=s?e.projectionNext:e.next}}function Jg(t,n,e,i,r,o){qb(e,i,t.firstChild,n,r,o,!1)}function GR(t,n,e){let i=n[ui],r=RM(t,e,n),o=e.parent||n[bo],s=jM(o,e,n);BM(i,0,n,e,r,s)}function BM(t,n,e,i,r,o){let s=e[zo],l=s[bo].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let f=l[c];Ku(n,t,r,f,o)}else{let c=l,f=s[_r];fM(i)&&(c.flags|=128),qb(t,n,c,f,r,o,!0)}}function YR(t,n,e,i,r){let o=e[Oc],s=$s(e);o!==s&&Ku(n,t,i,o,r);for(let a=Ir;a<e.length;a++){let l=e[a];Jg(l[Pt],l,t,n,i,o)}}function ZR(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Ws.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ws.Important),t.setStyle(e,i,r,o))}}function KR(t,n,e){t.setAttribute(n,"style",e)}function UM(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function HM(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&i_(t,n,i),r!==null&&UM(t,n,r),o!==null&&KR(t,n,o)}var Co={};function C(t=1){qM(_i(),Ot(),Aa()+t,!1)}function qM(t,n,e,i){if(!i)if((n[xt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&dg(n,o,e)}else{let o=t.preOrderHooks;o!==null&&fg(n,o,0,e)}Fc(e)}function W(t,n=rn.Default){let e=Ot();if(e===null)return Le(t,n);let i=Tr();return aM(i,e,Vr(t),n)}function zM(){let t="invalid";throw new Error(t)}function $M(t,n,e,i,r,o){let s=fn(null);try{let a=null;r&Nn.SignalBased&&(a=n[i][fs]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Nn.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,i):PE(n,a,i,o)}finally{fn(s)}}function QR(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Fc(~r);else{let o=r,s=e[++i],a=e[++i];xF(s,o);let l=n[o];a(2,l)}}}finally{Fc(-1)}}function e0(t,n,e,i,r,o,s,a,l,c,f){let v=n.blueprint.slice();return v[Gs]=r,v[xt]=i|4|128|8|64,(c!==null||t&&t[xt]&2048)&&(v[xt]|=2048),VE(v),v[_r]=v[dd]=t,v[Dr]=e,v[ys]=s||t&&t[ys],v[ui]=a||t&&t[ui],v[rd]=l||t&&t[rd]||null,v[bo]=o,v[Ug]=QF(),v[id]=f,v[kE]=c,v[zo]=n.type==2?t[zo]:v,v}function hd(t,n,e,i,r){let o=t.data[n];if(o===null)o=XR(t,n,e,i,r),SF()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=_F();o.injectorIndex=s===null?-1:s.injectorIndex}return Bc(o,!0),o}function XR(t,n,e,i,r){let o=qE(),s=Mb(),a=s?o:o&&o.parent,l=t.data[n]=rL(t,a,e,n,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function WM(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function GM(t,n,e,i,r){let o=Aa(),s=i&2;try{Fc(-1),s&&n.length>br&&qM(t,n,br,!1),qs(s?2:0,r),e(i,r)}finally{Fc(o),qs(s?3:1,r)}}function zb(t,n,e){if(wb(n)){let i=fn(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{fn(i)}}}function $b(t,n,e){UE()&&(uL(t,n,e,Wo(e,n)),(e.flags&64)===64&&KM(t,n,e))}function Wb(t,n,e=Wo){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(n,t):t[s];t[r++]=a}}}function YM(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Gb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Gb(t,n,e,i,r,o,s,a,l,c,f){let v=br+i,w=v+r,h=JR(v,w),S=typeof c=="function"?c():c;return h[Pt]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1,ssrId:f}}function JR(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Co);return e}function eL(t,n,e,i){let o=i.get(rR,_M)||e===qo.ShadowDom,s=t.selectRootElement(n,o);return tL(s),s}function tL(t){nL(t)}var nL=()=>null;function iL(t,n,e,i){let r=JM(n);r.push(e),t.firstCreatePass&&eD(t).push(i,r.length-1)}function rL(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return HE()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function L5(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,l=Nn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?j5(i,e,c,a,l):j5(i,e,c,a)}return i}function j5(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],r!==void 0&&o.push(r)}function oL(t,n,e){let i=n.directiveStart,r=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let f=i;f<r;f++){let v=o[f],w=e?e.get(v):null,h=w?w.inputs:null,S=w?w.outputs:null;l=L5(0,v.inputs,f,l,h),c=L5(1,v.outputs,f,c,S);let x=l!==null&&s!==null&&!mb(n)?wL(l,f,s):null;a.push(x)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function sL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function t0(t,n,e,i,r,o,s,a){let l=Wo(n,e),c=n.inputs,f;!a&&c!=null&&(f=c[i])?(Zb(t,e,f,i,r),Hg(n)&&aL(e,n.index)):n.type&3?(i=sL(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)):n.type&12}function aL(t,n){let e=bl(n,t);e[xt]&16||(e[xt]|=64)}function Yb(t,n,e,i){if(UE()){let r=i===null?null:{"":-1},o=fL(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&ZM(t,n,e,s,r,a),r&&hL(e,i,r)}e.mergedAttrs=Qf(e.mergedAttrs,e.attrs)}function ZM(t,n,e,i,r,o){for(let c=0;c<i.length;c++)d_(xg(e,n),t,i[c].type);mL(e,t.data.length,i.length);for(let c=0;c<i.length;c++){let f=i[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=WM(t,n,i.length,null);for(let c=0;c<i.length;c++){let f=i[c];e.mergedAttrs=Qf(e.mergedAttrs,f.hostAttrs),gL(t,e,n,l,f),pL(l,f,r),f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let v=f.type.prototype;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}oL(t,e,o)}function lL(t,n,e,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;cL(s)!=a&&s.push(a),s.push(e,i,o)}}function cL(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function uL(t,n,e,i){let r=e.directiveStart,o=e.directiveEnd;Hg(e)&&vL(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||xg(e,n),yl(i,n);let s=e.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=Lc(n,t,a,e);if(yl(c,n),s!==null&&bL(n,a-r,c,l,e,s),Ea(l)){let f=bl(e.index,n);f[Dr]=Lc(n,t,a,e)}}}function KM(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=EF();try{Fc(o);for(let a=i;a<r;a++){let l=t.data[a],c=n[a];c_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dL(l,c)}}finally{Fc(-1),c_(s)}}function dL(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function fL(t,n){let e=t.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(_E(n,s.selectors,!1))if(i||(i=[]),Ea(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;M_(t,n,l)}else i.unshift(s),M_(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function M_(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function hL(t,n,e){if(n){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new Be(-301,!1);i.push(n[r],o)}}}function pL(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Ea(n)&&(e[""]=t)}}function mL(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function gL(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=kc(r.type,!0)),s=new Rc(o,Ea(r),W);t.blueprint[i]=s,e[i]=s,lL(t,n,i,WM(t,e,r.hostVars,Co),r)}function vL(t,n,e){let i=Wo(n,t),r=YM(e),o=t[ys].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=n0(t,e0(t,r,null,s,i,n,null,o.createRenderer(i,e),null,null,null));t[n.index]=a}function yL(t,n,e,i,r,o){let s=Wo(t,n);_L(n[ui],s,o,t.value,e,i,r)}function _L(t,n,e,i,r,o,s){if(o==null)t.removeAttribute(n,r,e);else{let a=s==null?Nc(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}function bL(t,n,e,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],f=s[a++],v=s[a++];$M(i,e,l,c,f,v)}}function wL(t,n,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function QM(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function XM(t,n){let e=t.contentQueries;if(e!==null){let i=fn(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=t.data[s];Ab(o),a.contentQueries(2,n[s],s)}}}finally{fn(i)}}}function n0(t,n){return t[eh]?t[w5][vs]=n:t[eh]=n,t[w5]=n,n}function D_(t,n,e){Ab(0);let i=fn(null);try{n(t,e)}finally{fn(i)}}function JM(t){return t[Jf]||(t[Jf]=[])}function eD(t){return t.cleanup||(t.cleanup=[])}function CL(t,n,e){return(t===null||Ea(t))&&(e=lF(e[n.index])),e[ui]}function tD(t,n){let e=t[rd],i=e?e.get(_s,null):null;i&&i.handleError(n)}function Zb(t,n,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],f=t.data[s];$M(f,c,i,a,l,r)}}function nD(t,n,e){let i=jE(n,t);kR(t[ui],i,e)}function SL(t,n){let e=bl(n,t),i=e[Pt];xL(i,e);let r=e[Gs];r!==null&&e[id]===null&&(e[id]=jb(r,e[rd])),Kb(i,e,e[Dr])}function xL(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Kb(t,n,e){Tb(n);try{let i=t.viewQuery;i!==null&&D_(1,i,e);let r=t.template;r!==null&&GM(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[xa]?.finishViewCreation(t),t.staticContentQueries&&XM(t,n),t.staticViewQueries&&D_(2,t.viewQuery,e);let o=t.components;o!==null&&EL(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[xt]&=-5,Nb()}}function EL(t,n){for(let e=0;e<n.length;e++)SL(t,n[e])}function i0(t,n,e,i){let r=fn(null);try{let o=n.tView,a=t[xt]&4096?4096:16,l=e0(t,o,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[dh]=c;let f=t[xa];return f!==null&&(l[xa]=f.createEmbeddedView(o)),Kb(o,l,e),l}finally{fn(r)}}function iD(t,n){let e=Ir+n;if(e<t.length)return t[e]}function rh(t,n){return!n||n.firstChild===null||fM(t)}function r0(t,n,e,i=!0){let r=n[Pt];if(LR(r,n,t,e),i){let s=E_(e,t),a=n[ui],l=Hb(a,t[Oc]);l!==null&&FR(r,t[bo],a,n,l,s)}let o=n[id];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rD(t,n){let e=ih(t,n);return e!==void 0&&Qg(e[Pt],e),e}function Mg(t,n,e,i,r=!1){for(;e!==null;){let o=n[e.index];o!==null&&i.push($s(o)),Ia(o)&&ML(o,i);let s=e.type;if(s&8)Mg(t,n,e.child,i);else if(s&32){let a=Ub(e,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=VM(n,e);if(Array.isArray(a))i.push(...a);else{let l=nh(n[zo]);Mg(l[Pt],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function ML(t,n){for(let e=Ir;e<t.length;e++){let i=t[e],r=i[Pt].firstChild;r!==null&&Mg(i[Pt],i,r,n)}t[Oc]!==t[Gs]&&n.push(t[Oc])}var oD=[];function DL(t){return t[Pc]??IL(t)}function IL(t){let n=oD.pop()??Object.create(TL);return n.lView=t,n}function AL(t){t.lView[Pc]!==t&&(t.lView=null,oD.push(t))}var TL=qt(je({},Hf),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{th(t.lView)},consumerOnSignalRead(){this.lView[Pc]=this}}),sD=100;function aD(t,n=!0,e=0){let i=t[ys],r=i.rendererFactory,o=!1;o||r.begin?.();try{NL(t,e)}catch(s){throw n&&tD(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function NL(t,n){I_(t,n);let e=0;for(;Eb(t);){if(e===sD)throw new Be(103,!1);e++,I_(t,1)}}function kL(t,n,e,i){let r=n[xt];if((r&256)===256)return;let o=!1;!o&&n[ys].inlineEffectRunner?.flush(),Tb(n);let s=null,a=null;!o&&PL(t)&&(a=DL(n),s=Mm(a));try{VE(n),CF(t.bindingStartIndex),e!==null&&GM(t,n,e,2,i);let l=(r&3)===3;if(!o)if(l){let v=t.preOrderCheckHooks;v!==null&&dg(n,v,null)}else{let v=t.preOrderHooks;v!==null&&fg(n,v,0,null),Vy(n,0)}if(OL(n),lD(n,0),t.contentQueries!==null&&XM(t,n),!o)if(l){let v=t.contentCheckHooks;v!==null&&dg(n,v)}else{let v=t.contentHooks;v!==null&&fg(n,v,1),Vy(n,1)}QR(t,n);let c=t.components;c!==null&&uD(n,c,0);let f=t.viewQuery;if(f!==null&&D_(2,f,i),!o)if(l){let v=t.viewCheckHooks;v!==null&&dg(n,v)}else{let v=t.viewHooks;v!==null&&fg(n,v,2),Vy(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[ug]){for(let v of n[ug])v();n[ug]=null}o||(n[xt]&=-73)}catch(l){throw th(n),l}finally{a!==null&&(Dm(a,s),AL(a)),Nb()}}function PL(t){return t.type!==2}function lD(t,n){for(let e=pM(t);e!==null;e=mM(e))for(let i=Ir;i<e.length;i++){let r=e[i];cD(r,n)}}function OL(t){for(let n=pM(t);n!==null;n=mM(n)){if(!(n[xt]&bb.HasTransplantedViews))continue;let e=n[od];for(let i=0;i<e.length;i++){let r=e[i],o=r[_r];dF(r)}}}function FL(t,n,e){let i=bl(n,t);cD(i,e)}function cD(t,n){xb(t)&&I_(t,n)}function I_(t,n){let i=t[Pt],r=t[xt],o=t[Pc],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Im(o)),o&&(o.dirty=!1),t[xt]&=-9217,s)kL(i,t,i.template,t[Dr]);else if(r&8192){lD(t,1);let a=i.components;a!==null&&uD(t,a,1)}}function uD(t,n,e){for(let i=0;i<n.length;i++)FL(t,n[i],e)}function Qb(t){for(t[ys].changeDetectionScheduler?.notify();t;){t[xt]|=64;let n=nh(t);if(tF(t)&&!n)return t;t=n}return null}var jc=class{get rootNodes(){let n=this._lView,e=n[Pt];return Mg(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dr]}set context(n){this._lView[Dr]=n}get destroyed(){return(this._lView[xt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[_r];if(Ia(n)){let e=n[bg],i=e?e.indexOf(this):-1;i>-1&&(ih(n,i),yg(e,i))}this._attachedToViewContainer=!1}Qg(this._lView[Pt],this._lView)}onDestroy(n){BE(this._lView,n)}markForCheck(){Qb(this._cdRefInjectingView||this._lView)}detach(){this._lView[xt]&=-129}reattach(){l_(this._lView),this._lView[xt]|=128}detectChanges(){this._lView[xt]|=1024,aD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,OM(this._lView[Pt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=n,l_(this._lView)}},no=(()=>{class t{static{this.__NG_ELEMENT_ID__=jL}}return t})(),RL=no,LL=class extends RL{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=i0(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new jc(r)}};function jL(){return o0(Tr(),Ot())}function o0(t,n){return t.type&4?new LL(n,t,fd(t,n)):null}var pie=new RegExp(`^(\\d+)*(${nR}|${tR})*(.*)`);var VL=()=>null;function oh(t,n){return VL(t,n)}var ad=class{},A_=class{},Dg=class{};function BL(t){let n=Error(`No component factory found for ${Br(t)}.`);return n[UL]=t,n}var UL="ngComponent";var T_=class{resolveComponentFactory(n){throw BL(n)}},wl=(()=>{class t{static{this.NULL=new T_}}return t})(),yo=class{},di=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>HL()}}return t})();function HL(){let t=Ot(),n=Tr(),e=bl(n.index,t);return(Ac(e)?e:t)[ui]}var qL=(()=>{class t{static{this.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>null})}}return t})(),zy={};var V5=new Set;function ws(t){V5.has(t)||(V5.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function B5(...t){}function zL(){let t=typeof vo.requestAnimationFrame=="function",n=vo[t?"requestAnimationFrame":"setTimeout"],e=vo[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}var hn=class t{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=zL().nativeRequestAnimationFrame,GL(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Be(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,$L,B5,B5);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},$L={};function Xb(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WL(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vo,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,N_(t),t.isCheckStableRunning=!0,Xb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),N_(t))}function GL(t){let n=()=>{WL(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(YL(a))return e.invokeTask(r,o,s,a);try{return U5(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),H5(t)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return U5(t),e.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),H5(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,N_(t),Xb(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function N_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function U5(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function H5(t){t._nesting--,Xb(t)}function YL(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Qu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qu||{}),ZL={destroy(){}};function s0(t,n){!n&&NE(s0);let e=n?.injector??Se(rr);if(!AR(e))return ZL;ws("NgAfterNextRender");let i=e.get(Jb),r=i.handler??=new P_,o=n?.phase??Qu.MixedReadWrite,s=()=>{r.unregister(l),a()},a=e.get(Yg).onDestroy(s),l=bs(e,()=>new k_(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var k_=class{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=Se(hn),this.errorHandler=Se(_s,{optional:!0}),Se(ad,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}},P_=class{constructor(){this.executingCallbacks=!1,this.buckets={[Qu.EarlyRead]:new Set,[Qu.Write]:new Set,[Qu.MixedReadWrite]:new Set,[Qu.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let e of n)e.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(let n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}},Jb=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Ig(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=Jy(r,a);else if(o==2){let l=a,c=n[++s];i=Jy(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}var Ag=class extends wl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=vl(n);return new ld(e,this.ngModule)}};function q5(t){let n=[];for(let e in t){if(!t.hasOwnProperty(e))continue;let i=t[e];i!==void 0&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}function KL(t){let n=t.toLowerCase();return n==="svg"?LE:n==="math"?oF:null}var O_=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=jg(i);let r=this.injector.get(n,zy,i);return r!==zy||e===zy?r:this.parentInjector.get(n,e,i)}},ld=class extends Dg{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=q5(n.inputs);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return q5(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=VO(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=fn(null);try{r=r||this.ngModule;let s=r instanceof Ar?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new O_(n,s):n,l=a.get(yo,null);if(l===null)throw new Be(407,!1);let c=a.get(qL,null),f=a.get(Jb,null),v=a.get(ad,null),w={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:v},h=l.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=i?eL(h,i,this.componentDef.encapsulation,a):PM(h,S,KL(S)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let D=null;x!==null&&(D=jb(x,a,!0));let Z=Gb(0,null,null,1,0,null,null,null,null,null,null),G=e0(null,Z,null,k,null,null,w,h,a,null,D);Tb(G);let H,he;try{let we=this.componentDef,ge,te=null;we.findHostDirectiveDefs?(ge=[],te=new Map,we.findHostDirectiveDefs(we,ge,te),ge.push(we)):ge=[we];let $=QL(G,x),ae=XL($,x,we,ge,G,w,h);he=Cb(Z,br),x&&t6(h,we,x,i),e!==void 0&&n6(he,this.ngContentSelectors,e),H=e6(ae,we,ge,te,G,[i6]),Kb(Z,G,null)}finally{Nb()}return new F_(this.componentType,H,fd(he,G),G,he)}finally{fn(o)}}},F_=class extends A_{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new jc(r,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;Zb(o[Pt],o,r,n,e),this.previousInputValues.set(n,e);let s=bl(this._tNode.index,o);Qb(s)}}get injector(){return new Tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function QL(t,n){let e=t[Pt],i=br;return t[i]=n,hd(e,i,2,"#host",null)}function XL(t,n,e,i,r,o,s){let a=r[Pt];JL(i,t,n,s);let l=null;n!==null&&(l=jb(n,r[rd]));let c=o.rendererFactory.createRenderer(n,e),f=16;e.signals?f=4096:e.onPush&&(f=64);let v=e0(r,YM(e),null,f,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&M_(a,t,i.length-1),n0(r,v),r[t.index]=v}function JL(t,n,e,i){for(let r of t)n.mergedAttrs=Qf(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Ig(n,n.mergedAttrs,!0),e!==null&&HM(i,e,n))}function e6(t,n,e,i,r,o){let s=Tr(),a=r[Pt],l=Wo(s,r);ZM(a,r,s,e,null,i);for(let f=0;f<e.length;f++){let v=s.directiveStart+f,w=Lc(r,a,v,s);yl(w,r)}KM(a,r,s),l&&yl(l,r);let c=Lc(r,a,s.directiveStart+s.componentOffset,s);if(t[Dr]=r[Dr]=c,o!==null)for(let f of o)f(c,n);return zb(a,s,r),c}function t6(t,n,e,i){if(i)i_(t,e,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=BO(n.selectors[0]);r&&i_(t,e,r),o&&o.length>0&&UM(t,e,o.join(" "))}}function n6(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function i6(){let t=Tr();Gg(Ot()[Pt],t)}var Nr=(()=>{class t{static{this.__NG_ELEMENT_ID__=r6}}return t})();function r6(){let t=Tr();return fD(t,Ot())}var o6=Nr,dD=class extends o6{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new Tc(this._hostTNode,this._hostLView)}get parentInjector(){let n=kb(this._hostTNode,this._hostLView);if(tM(n)){let e=Cg(n,this._hostLView),i=wg(n),r=e[Pt].data[i+8];return new Tc(r,e)}else return new Tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=z5(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=oh(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,rh(this._hostTNode,s)),a}createComponent(n,e,i,r,o){let s=n&&!eF(n),a;if(s)a=e;else{let S=e||{};a=S.index,i=S.injector,r=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let l=s?n:new ld(vl(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let x=(s?c:this.parentInjector).get(Ar,null);x&&(o=x)}let f=vl(l.componentType??{}),v=oh(this._lContainer,f?.id??null),w=v?.firstChild??null,h=l.create(c,r,w,o);return this.insertImpl(h.hostView,a,rh(this._hostTNode,v)),h}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(uF(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[_r],c=new dD(l,l[bo],l[_r]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return r0(s,r,o,i),n.attachToViewContainerRef(),hE($y(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=z5(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=ih(this._lContainer,e);i&&(yg($y(this._lContainer),e),Qg(i[Pt],i))}detach(n){let e=this._adjustIndex(n,-1),i=ih(this._lContainer,e);return i&&yg($y(this._lContainer),e)!=null?new jc(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function z5(t){return t[bg]}function $y(t){return t[bg]||(t[bg]=[])}function fD(t,n){let e,i=n[t.index];return Ia(i)?e=i:(e=QM(i,n,null,t),n[t.index]=e,n0(n,e)),a6(e,n,t,i),new dD(e,t,n)}function s6(t,n){let e=t[ui],i=e.createComment(""),r=Wo(n,t),o=Hb(e,r);return Eg(e,o,i,qR(e,r),!1),i}var a6=u6,l6=()=>!1;function c6(t,n,e){return l6(t,n,e)}function u6(t,n,e,i){if(t[Oc])return;let r;e.type&8?r=$s(i):r=s6(n,e),t[Oc]=r}var R_=class t{constructor(n){this.queryList=n,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},L_=class t{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)ew(n,e).matches!==null&&this.queries[e].setDirty()}},Tg=class{constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=y6(n):this.predicate=n}},j_=class t{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},V_=class t{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,d6(e,o)),this.matchTNodeWithReadOption(n,e,hg(e,n,o,!1,!1))}else i===no?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,hg(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===pt||r===Nr||r===no&&e.type&4)this.addMatch(e.index,-2);else{let o=hg(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function d6(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function f6(t,n){return t.type&11?fd(t,n):t.type&4?o0(t,n):null}function h6(t,n,e,i){return e===-1?f6(n,t):e===-2?p6(t,n,i):Lc(t,t[Pt],e,n)}function p6(t,n,e){if(e===pt)return fd(n,t);if(e===no)return o0(n,t);if(e===Nr)return fD(n,t)}function hD(t,n,e,i){let r=n[xa].queries[i];if(r.matches===null){let o=t.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let f=o[c];a.push(h6(n,f,s[l+1],e.metadata.read))}}r.matches=a}return r.matches}function B_(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let s=hD(t,n,r,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],f=n[-l];for(let v=Ir;v<f.length;v++){let w=f[v];w[dh]===w[_r]&&B_(w[Pt],w,c,i)}if(f[od]!==null){let v=f[od];for(let w=0;w<v.length;w++){let h=v[w];B_(h[Pt],h,c,i)}}}}}return i}function m6(t,n){return t[xa].queries[n].queryList}function pD(t,n,e){let i=new m_((e&4)===4);return iL(t,n,i,i.destroy),(n[xa]??=new L_).queries.push(new R_(i))-1}function g6(t,n,e){let i=_i();return i.firstCreatePass&&(mD(i,new Tg(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),pD(i,Ot(),n)}function v6(t,n,e,i){let r=_i();if(r.firstCreatePass){let o=Tr();mD(r,new Tg(n,e,i),o.index),_6(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return pD(r,Ot(),e)}function y6(t){return t.split(",").map(n=>n.trim())}function mD(t,n,e){t.queries===null&&(t.queries=new j_),t.queries.track(new V_(n,e))}function _6(t,n){let e=t.contentQueries||(t.contentQueries=[]),i=e.length?e[e.length-1]:-1;n!==i&&e.push(t.queries.length-1,n)}function ew(t,n){return t.queries.getByIndex(n)}function b6(t,n){let e=t[Pt],i=ew(e,n);return i.crossesNgTemplate?B_(e,t,n,[]):hD(e,t,i,n)}function w6(t){return typeof t=="function"&&t[fs]!==void 0}function Hc(t,n){ws("NgSignals");let e=Lx(t),i=e[fs];return n?.equal&&(i.equal=n.equal),e.set=r=>Tm(i,r),e.update=r=>jx(i,r),e.asReadonly=C6.bind(e),e}function C6(){let t=this[fs];if(t.readonlyFn===void 0){let n=()=>this();n[fs]=t,t.readonlyFn=n}return t.readonlyFn}function gD(t){return w6(t)&&typeof t.set=="function"}function S6(t){return Object.getPrototypeOf(t.prototype).constructor}function Ur(t){let n=S6(t.type),e=!0,i=[t];for(;n;){let r;if(Ea(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Be(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let s=t;s.inputs=ag(t.inputs),s.inputTransforms=ag(t.inputTransforms),s.declaredInputs=ag(t.declaredInputs),s.outputs=ag(t.outputs);let a=r.hostBindings;a&&I6(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&M6(t,l),c&&D6(t,c),x6(t,r),rO(t.outputs,r.outputs),Ea(r)&&r.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ur&&(e=!1)}}n=Object.getPrototypeOf(n)}E6(i)}function x6(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function E6(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Qf(r.hostAttrs,e=Qf(e,r.hostAttrs))}}function ag(t){return t===ed?{}:t===to?[]:t}function M6(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function D6(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function I6(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}function tw(t){let n=t.inputConfig,e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}t.inputTransforms=e}var _l=class{},sh=class{};var U_=class extends _l{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ag(this);let r=SE(n);this._bootstrapComponents=kM(r.bootstrap),this._r3Injector=uM(n,e,[{provide:_l,useValue:this},{provide:wl,useValue:this.componentFactoryResolver},...i],Br(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},H_=class extends sh{constructor(n){super(),this.moduleType=n}create(n){return new U_(this.moduleType,n,[])}};var Ng=class extends _l{constructor(n){super(),this.componentFactoryResolver=new Ag(this),this.instance=null;let e=new Xf([...n.providers,{provide:_l,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],n.parent||yb(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function a0(t,n,e=null){return new Ng({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var qc=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vD(t){return nw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function A6(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function nw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function iw(t,n,e){return t[n]=e}function T6(t,n){return t[n]}function $o(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function yD(t,n,e,i){let r=$o(t,n,e);return $o(t,n+1,i)||r}function N6(t){return(t.flags&32)===32}function k6(t,n,e,i,r,o,s,a,l){let c=n.consts,f=hd(n,t,4,s||null,sd(c,a));Yb(n,e,f,sd(c,l)),Gg(n,f);let v=f.tView=Gb(2,f,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,f),v.queries=n.queries.embeddedTView(f)),f}function ye(t,n,e,i,r,o,s,a){let l=Ot(),c=_i(),f=t+br,v=c.firstCreatePass?k6(f,c,l,n,e,i,r,o,s):c.data[f];Bc(v,!1);let w=P6(c,l,v,t);$g()&&Xg(c,l,w,v),yl(w,l);let h=QM(w,l,w,v);return l[f]=h,n0(l,h),c6(h,v,l),qg(v)&&$b(c,l,v),s!=null&&Wb(l,v,a),ye}var P6=O6;function O6(t,n,e,i){return Wg(!0),n[ui].createComment("")}function Xt(t,n,e,i){let r=Ot(),o=Uc();if($o(r,o,n)){let s=_i(),a=fh();yL(a,r,t,n,e,i)}return Xt}function _D(t,n,e,i){return $o(t,Uc(),e)?n+Nc(e)+i:Co}function F6(t,n,e,i,r,o){let s=wF(),a=yD(t,s,e,r);return Ib(2),a?n+Nc(e)+i+Nc(r)+o:Co}function lg(t,n){return t<<17|n<<2}function Vc(t){return t>>17&32767}function R6(t){return(t&2)==2}function L6(t,n){return t&131071|n<<17}function q_(t){return t|2}function cd(t){return(t&131068)>>2}function Wy(t,n){return t&-131069|n<<2}function j6(t){return(t&1)===1}function z_(t){return t|1}function V6(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Vc(s),l=cd(s);t[i]=e;let c=!1,f;if(Array.isArray(e)){let v=e;f=v[1],(f===null||uh(v,f)>0)&&(c=!0)}else f=e;if(r)if(l!==0){let w=Vc(t[a+1]);t[i+1]=lg(w,a),w!==0&&(t[w+1]=Wy(t[w+1],i)),t[a+1]=L6(t[a+1],i)}else t[i+1]=lg(a,0),a!==0&&(t[a+1]=Wy(t[a+1],i)),a=i;else t[i+1]=lg(l,0),a===0?a=i:t[l+1]=Wy(t[l+1],i),l=i;c&&(t[i+1]=q_(t[i+1])),$5(t,f,i,!0),$5(t,f,i,!1),B6(n,f,t,i,o),s=lg(a,l),o?n.classBindings=s:n.styleBindings=s}function B6(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&uh(o,n)>=0&&(e[i+1]=z_(e[i+1]))}function $5(t,n,e,i){let r=t[e+1],o=n===null,s=i?Vc(r):cd(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];U6(l,n)&&(a=!0,t[s+1]=i?z_(c):q_(c)),s=i?Vc(c):cd(c)}a&&(t[e+1]=i?q_(r):z_(r))}function U6(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?uh(t,n)>=0:!1}var gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H6(t){return t.substring(gs.key,gs.keyEnd)}function q6(t){return z6(t),bD(t,wD(t,0,gs.textEnd))}function bD(t,n){let e=gs.textEnd;return e===n?-1:(n=gs.keyEnd=$6(t,gs.key=n,e),wD(t,n,e))}function z6(t){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=t.length}function wD(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function $6(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function O(t,n,e){let i=Ot(),r=Uc();if($o(i,r,n)){let o=_i(),s=fh();t0(o,s,i,t,n,i[ui],e,!1)}return O}function $_(t,n,e,i,r){let o=n.inputs,s=r?"class":"style";Zb(t,e,o[s],s,i)}function So(t,n,e){return CD(t,n,e,!1),So}function Ge(t,n){return CD(t,n,null,!0),Ge}function xo(t){G6(J6,W6,t,!0)}function W6(t,n){for(let e=q6(n);e>=0;e=bD(n,e))pb(t,H6(n),!0)}function CD(t,n,e,i){let r=Ot(),o=_i(),s=Ib(2);if(o.firstUpdatePass&&xD(o,t,s,i),n!==Co&&$o(r,s,n)){let a=o.data[Aa()];ED(o,a,r,r[ui],t,r[s+1]=t8(n,e),i,s)}}function G6(t,n,e,i){let r=_i(),o=Ib(2);r.firstUpdatePass&&xD(r,null,o,i);let s=Ot();if(e!==Co&&$o(s,o,e)){let a=r.data[Aa()];if(MD(a,i)&&!SD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Jy(l,e||"")),$_(r,a,s,e,i)}else e8(r,a,s,s[ui],s[o+1],s[o+1]=X6(t,n,e),i,o)}}function SD(t,n){return n>=t.expandoStartIndex}function xD(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[Aa()],s=SD(t,e);MD(o,i)&&n===null&&!s&&(n=!1),n=Y6(r,o,n,i),V6(r,o,n,e,s,i)}}function Y6(t,n,e,i){let r=zE(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=Gy(null,t,n,e,i),e=ah(e,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==r)if(e=Gy(r,t,n,e,i),o===null){let l=Z6(t,n,i);l!==void 0&&Array.isArray(l)&&(l=Gy(null,t,n,l[1],i),l=ah(l,n.attrs,i),K6(t,n,i,l))}else o=Q6(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function Z6(t,n,e){let i=e?n.classBindings:n.styleBindings;if(cd(i)!==0)return t[Vc(i)]}function K6(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Vc(r)]=i}function Q6(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=ah(i,s,e)}return ah(i,n.attrs,e)}function Gy(t,n,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],i=ah(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function ah(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pb(t,s,e?!0:n[++o]))}return t===void 0?null:t}function X6(t,n,e){if(e==null||e==="")return to;let i=[],r=Yo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function J6(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&pb(t,i,e)}function e8(t,n,e,i,r,o,s,a){r===Co&&(r=to);let l=0,c=0,f=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;f!==null||v!==null;){let w=l<r.length?r[l+1]:void 0,h=c<o.length?o[c+1]:void 0,S=null,x;f===v?(l+=2,c+=2,w!==h&&(S=v,x=h)):v===null||f!==null&&f<v?(l+=2,S=f):(c+=2,S=v,x=h),S!==null&&ED(t,n,e,i,S,x,s,a),f=l<r.length?r[l]:null,v=c<o.length?o[c]:null}}function ED(t,n,e,i,r,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],f=j6(c)?W5(l,n,e,r,cd(c),s):void 0;if(!kg(f)){kg(o)||R6(c)&&(o=W5(l,null,e,r,a,s));let v=jE(Aa(),e);ZR(i,s,v,r,o)}}function W5(t,n,e,i,r,o){let s=n===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),f=c?l[1]:l,v=f===null,w=e[r+1];w===Co&&(w=v?to:void 0);let h=v?Ly(w,i):f===i?w:void 0;if(c&&!kg(h)&&(h=Ly(l,i)),kg(h)&&(a=h,s))return a;let S=t[r+1];r=s?Vc(S):cd(S)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Ly(l,i))}return a}function kg(t){return t!==void 0}function t8(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=Br(Yo(t)))),t}function MD(t,n){return(t.flags&(n?8:16))!==0}var W_=class{destroy(n){}updateValue(n,e){}swap(n,e){let i=Math.min(n,e),r=Math.max(n,e),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(n,e){this.attach(e,this.detach(n))}};function Yy(t,n,e,i,r){return t===e&&Object.is(n,i)?1:Object.is(r(t,n),r(e,i))?-1:0}function n8(t,n,e){let i,r,o=0,s=t.length-1;if(Array.isArray(n)){let a=n.length-1;for(;o<=s&&o<=a;){let l=t.at(o),c=n[o],f=Yy(o,l,o,c,e);if(f!==0){f<0&&t.updateValue(o,c),o++;continue}let v=t.at(s),w=n[a],h=Yy(s,v,a,w,e);if(h!==0){h<0&&t.updateValue(s,w),s--,a--;continue}let S=e(o,l),x=e(s,v),k=e(o,c);if(Object.is(k,x)){let D=e(a,w);Object.is(D,S)?(t.swap(o,s),t.updateValue(s,w),a--,s--):t.move(s,o),t.updateValue(o,c),o++;continue}if(i??=new Pg,r??=Y5(t,o,s,e),G_(t,i,o,k))t.updateValue(o,c),o++,s++;else if(r.has(k))i.set(S,t.detach(o)),s--;else{let D=t.create(o,n[o]);t.attach(o,D),o++,s++}}for(;o<=a;)G5(t,i,e,o,n[o]),o++}else if(n!=null){let a=n[Symbol.iterator](),l=a.next();for(;!l.done&&o<=s;){let c=t.at(o),f=l.value,v=Yy(o,c,o,f,e);if(v!==0)v<0&&t.updateValue(o,f),o++,l=a.next();else{i??=new Pg,r??=Y5(t,o,s,e);let w=e(o,f);if(G_(t,i,o,w))t.updateValue(o,f),o++,s++,l=a.next();else if(!r.has(w))t.attach(o,t.create(o,f)),o++,s++,l=a.next();else{let h=e(o,c);i.set(h,t.detach(o)),s--}}}for(;!l.done;)G5(t,i,e,t.length,l.value),l=a.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(a=>{t.destroy(a)})}function G_(t,n,e,i){return n!==void 0&&n.has(i)?(t.attach(e,n.get(i)),n.delete(i),!0):!1}function G5(t,n,e,i,r){if(G_(t,n,i,e(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function Y5(t,n,e,i){let r=new Set;for(let o=n;o<=e;o++)r.add(i(o,t.at(o)));return r}var Pg=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,i]of this.kvMap)if(n(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,e)}}};function pd(t,n,e){ws("NgControlFlow");let i=Ot(),r=Uc(),o=Q_(i,br+t),s=0;if($o(i,r,n)){let a=fn(null);try{if(rD(o,s),n!==-1){let l=X_(i[Pt],br+n),c=oh(o,l.tView.ssrId),f=i0(i,l,e,{dehydratedView:c});r0(o,f,s,rh(l,c))}}finally{fn(a)}}else{let a=iD(o,s);a!==void 0&&(a[Dr]=e)}}var Y_=class{constructor(n,e,i){this.lContainer=n,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-Ir}};function l0(t){return t}var Z_=class{constructor(n,e,i){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=i}};function md(t,n,e,i,r,o,s,a,l,c,f,v,w){ws("NgControlFlow");let h=l!==void 0,S=Ot(),x=a?s.bind(S[zo][Dr]):s,k=new Z_(h,x);S[br+t]=k,ye(t+1,n,e,i,r,o),h&&ye(t+2,l,c,f,v,w)}var K_=class extends W_{constructor(n,e,i){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ir}at(n){return this.getLView(n)[Dr].$implicit}attach(n,e){let i=e[id];this.needsIndexUpdate||=n!==this.length,r0(this.lContainer,e,n,rh(this.templateTNode,i))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,i8(this.lContainer,n)}create(n,e){let i=oh(this.lContainer,this.templateTNode.tView.ssrId);return i0(this.hostLView,this.templateTNode,new Y_(this.lContainer,e,n),{dehydratedView:i})}destroy(n){Qg(n[Pt],n)}updateValue(n,e){this.getLView(n)[Dr].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Dr].$index=n}getLView(n){return r8(this.lContainer,n)}};function gd(t){let n=fn(null),e=Aa();try{let i=Ot(),r=i[Pt],o=i[e];if(o.liveCollection===void 0){let a=e+1,l=Q_(i,a),c=X_(r,a);o.liveCollection=new K_(l,i,c)}else o.liveCollection.reset();let s=o.liveCollection;if(n8(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Uc(),l=s.length===0;if($o(i,a,l)){let c=e+2,f=Q_(i,c);if(l){let v=X_(r,c),w=oh(f,v.tView.ssrId),h=i0(i,v,void 0,{dehydratedView:w});r0(f,h,0,rh(v,w))}else rD(f,0)}}}finally{fn(n)}}function Q_(t,n){return t[n]}function i8(t,n){return ih(t,n)}function r8(t,n){return iD(t,n)}function X_(t,n){return Cb(t,n)}function o8(t,n,e,i,r,o){let s=n.consts,a=sd(s,r),l=hd(n,t,2,i,a);return Yb(n,e,l,sd(s,o)),l.attrs!==null&&Ig(l,l.attrs,!1),l.mergedAttrs!==null&&Ig(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function g(t,n,e,i){let r=Ot(),o=_i(),s=br+t,a=r[ui],l=o.firstCreatePass?o8(s,o,r,n,e,i):o.data[s],c=s8(o,r,l,a,n,t);r[s]=c;let f=qg(l);return Bc(l,!0),HM(a,c,l),!N6(l)&&$g()&&Xg(o,r,c,l),pF()===0&&yl(c,r),mF(),f&&($b(o,r,l),zb(o,l,r)),i!==null&&Wb(r,l),g}function p(){let t=Tr();Mb()?Db():(t=t.parent,Bc(t,!1));let n=t;vF(n)&&yF(),gF();let e=_i();return e.firstCreatePass&&(Gg(e,t),wb(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&PF(n)&&$_(e,n,Ot(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&OF(n)&&$_(e,n,Ot(),n.stylesWithoutHost,!1),p}function ze(t,n,e,i){return g(t,n,e,i),p(),ze}var s8=(t,n,e,i,r,o)=>(Wg(!0),PM(i,r,AF()));function a8(t,n,e,i,r){let o=n.consts,s=sd(o,i),a=hd(n,t,8,"ng-container",s);s!==null&&Ig(a,s,!0);let l=sd(o,r);return Yb(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Hn(t,n,e){let i=Ot(),r=_i(),o=t+br,s=r.firstCreatePass?a8(o,r,i,n,e):r.data[o];Bc(s,!0);let a=l8(r,i,s,t);return i[o]=a,$g()&&Xg(r,i,a,s),yl(a,i),qg(s)&&($b(r,i,s),zb(r,s,i)),e!=null&&Wb(i,s),Hn}function qn(){let t=Tr(),n=_i();return Mb()?Db():(t=t.parent,Bc(t,!1)),n.firstCreatePass&&(Gg(n,t),wb(t)&&n.queries.elementEnd(t)),qn}var l8=(t,n,e,i)=>(Wg(!0),PR(n[ui],""));function Re(){return Ot()}function rw(t,n,e){let i=Ot(),r=Uc();if($o(i,r,n)){let o=_i(),s=fh(),a=zE(o.data),l=CL(a,s,i);t0(o,s,i,t,n,l,e,!0)}return rw}var Ic=void 0;function c8(t){let n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var u8=["en",[["a","p"],["AM","PM"],Ic],[["AM","PM"],Ic,Ic],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ic,"{1} 'at' {0}",Ic],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",c8],Zy={};function Ko(t){let n=d8(t),e=Z5(n);if(e)return e;let i=n.split("-")[0];if(e=Z5(i),e)return e;if(i==="en")return u8;throw new Be(701,!1)}function Z5(t){return t in Zy||(Zy[t]=vo.ng&&vo.ng.common&&vo.ng.common.locales&&vo.ng.common.locales[t]),Zy[t]}var Li=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Li||{});function d8(t){return t.toLowerCase().replace(/_/g,"-")}var Og="en-US";var f8=Og;function h8(t){typeof t=="string"&&(f8=t.toLowerCase().replace(/_/g,"-"))}function j(t,n,e,i){let r=Ot(),o=_i(),s=Tr();return DD(o,r,r[ui],s,t,n,i),j}function p8(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=n[Jf],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function DD(t,n,e,i,r,o,s){let a=qg(i),c=t.firstCreatePass&&eD(t),f=n[Dr],v=JM(n),w=!0;if(i.type&3||s){let x=Wo(i,n),k=s?s(x):x,D=v.length,Z=s?H=>s($s(H[i.index])):i.index,G=null;if(!s&&a&&(G=p8(t,n,r,i.index)),G!==null){let H=G.__ngLastListenerFn__||G;H.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,w=!1}else{o=Q5(i,n,f,o,!1);let H=e.listen(k,r,o);v.push(o,H),c&&c.push(r,Z,D,D+1)}}else o=Q5(i,n,f,o,!1);let h=i.outputs,S;if(w&&h!==null&&(S=h[r])){let x=S.length;if(x)for(let k=0;k<x;k+=2){let D=S[k],Z=S[k+1],he=n[D][Z].subscribe(o),we=v.length;v.push(o,he),c&&c.push(r,i.index,we,-(we+1))}}}function K5(t,n,e,i){let r=fn(null);try{return qs(6,n,e),e(i)!==!1}catch(o){return tD(t,o),!1}finally{qs(7,n,e),fn(r)}}function Q5(t,n,e,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?bl(t.index,n):n;Qb(a);let l=K5(n,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=K5(n,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function L(t=1){return DF(t)}function m8(t,n){let e=null,i=OO(t);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){e=r;continue}if(i===null?_E(t,o,!0):LO(i,o))return r}return e}function Cl(t){let n=Ot()[zo][bo];if(!n.projection){let e=t?t.length:1,i=n.projection=EO(e,null),r=i.slice(),o=n.child;for(;o!==null;){let s=t?m8(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Sl(t,n=0,e){let i=Ot(),r=_i(),o=hd(r,br+t,16,null,e||null);o.projection===null&&(o.projection=n),Db(),(!i[id]||HE())&&(o.flags&32)!==32&&GR(r,i,o)}function ow(t,n,e){return ID(t,"",n,"",e),ow}function ID(t,n,e,i,r){let o=Ot(),s=_D(o,n,e,i);if(s!==Co){let a=_i(),l=fh();t0(a,l,o,t,s,o[ui],r,!1)}return ID}function AD(t,n,e,i){v6(t,n,e,i)}function fi(t,n,e){g6(t,n,e)}function oi(t){let n=Ot(),e=_i(),i=$E();Ab(i+1);let r=ew(e,i);if(t.dirty&&cF(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=b6(n,i);t.reset(o,YF),t.notifyOnChanges()}return!0}return!1}function si(){return m6(Ot(),$E())}function g8(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function xl(t){let n=bF();return Sb(n,br+t)}function _(t,n=""){let e=Ot(),i=_i(),r=t+br,o=i.firstCreatePass?hd(i,r,1,n,null):i.data[r],s=v8(i,e,o,n,t);e[r]=s,$g()&&Xg(i,e,s,o),Bc(o,!1)}var v8=(t,n,e,i,r)=>(Wg(!0),NR(n[ui],i));function ke(t){return nt("",t,""),ke}function nt(t,n,e){let i=Ot(),r=_D(i,t,n,e);return r!==Co&&nD(i,Aa(),r),nt}function _n(t,n,e,i,r){let o=Ot(),s=F6(o,t,n,e,i,r);return s!==Co&&nD(o,Aa(),s),_n}function Ke(t,n,e){gD(n)&&(n=n());let i=Ot(),r=Uc();if($o(i,r,n)){let o=_i(),s=fh();t0(o,s,i,t,n,i[ui],e,!1)}return Ke}function Je(t,n){let e=gD(t);return e&&t.set(n),e}function Qe(t,n){let e=Ot(),i=_i(),r=Tr();return DD(i,e,e[ui],r,t,n),Qe}function y8(t,n,e){let i=_i();if(i.firstCreatePass){let r=Ea(t);J_(e,i.data,i.blueprint,r,!0),J_(n,i.data,i.blueprint,r,!1)}}function J_(t,n,e,i,r){if(t=Vr(t),Array.isArray(t))for(let o=0;o<t.length;o++)J_(t[o],n,e,i,r);else{let o=_i(),s=Ot(),a=Tr(),l=nd(t)?t:Vr(t.provide),c=AE(t),f=a.providerIndexes&1048575,v=a.directiveStart,w=a.providerIndexes>>20;if(nd(t)||!t.multi){let h=new Rc(c,r,W),S=Qy(l,n,r?f:f+w,v);S===-1?(d_(xg(a,s),o,l),Ky(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(h),s.push(h)):(e[S]=h,s[S]=h)}else{let h=Qy(l,n,f+w,v),S=Qy(l,n,f,f+w),x=h>=0&&e[h],k=S>=0&&e[S];if(r&&!k||!r&&!x){d_(xg(a,s),o,l);let D=w8(r?b8:_8,e.length,r,i,c);!r&&k&&(e[S].providerFactory=D),Ky(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(D),s.push(D)}else{let D=TD(e[r?S:h],c,!r&&i);Ky(o,t,h>-1?h:S,D)}!r&&i&&k&&e[S].componentProviders++}}}function Ky(t,n,e,i){let r=nd(n),o=GO(n);if(r||o){let l=(o?Vr(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let f=c.indexOf(e);f===-1?c.push(e,[i,l]):c[f+1].push(i,l)}else c.push(e,l)}}}function TD(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Qy(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function _8(t,n,e,i){return eb(this.multi,[])}function b8(t,n,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Lc(e,e[Pt],this.providerFactory.index,i);o=a.slice(0,s),eb(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],eb(r,o);return o}function eb(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function w8(t,n,e,i,r){let o=new Rc(t,e,W);return o.multi=[],o.index=n,o.componentProviders=0,TD(o,r,i&&!e),o}function Eo(t,n=[]){return e=>{e.providersResolver=(i,r)=>y8(i,r?r(t):t,n)}}var C8=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=ME(!1,e.type),r=i.length>0?a0([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ne({token:t,providedIn:"environment",factory:()=>new t(Le(Ar))})}}return t})();function $e(t){ws("NgStandalone"),t.getStandaloneInjector=n=>n.get(C8).getOrCreateStandaloneInjector(t)}function cr(t,n,e){let i=zg()+t,r=Ot();return r[i]===Co?iw(r,i,e?n.call(e):n()):T6(r,i)}function bi(t,n,e,i){return kD(Ot(),zg(),t,n,e,i)}function ND(t,n){let e=t[n];return e===Co?void 0:e}function kD(t,n,e,i,r,o){let s=n+e;return $o(t,s,r)?iw(t,s+1,o?i.call(o,r):i(r)):ND(t,s+1)}function S8(t,n,e,i,r,o,s){let a=n+e;return yD(t,a,r,o)?iw(t,a+2,s?i.call(s,r,o):i(r,o)):ND(t,a+2)}function ro(t,n){let e=_i(),i,r=t+br;e.firstCreatePass?(i=x8(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=kc(i.type,!0)),s,a=eo(W);try{let l=Sg(!1),c=o();return Sg(l),g8(e,Ot(),r,c),c}finally{eo(a)}}function x8(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function c0(t,n,e){let i=t+br,r=Ot(),o=Sb(r,i);return PD(r,i)?kD(r,zg(),n,o.transform,e,o):o.transform(e)}function Cs(t,n,e,i){let r=t+br,o=Ot(),s=Sb(o,r);return PD(o,r)?S8(o,zg(),n,s.transform,e,i,s):s.transform(e,i)}function PD(t,n){return t[Pt].data[n].pure}function El(t,n){return o0(t,n)}var u0=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var OD=new st("");function zc(t){return!!t&&typeof t.then=="function"}function FD(t){return!!t&&typeof t.subscribe=="function"}var d0=new st(""),RD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Se(d0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(zc(o))e.push(o);else if(FD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yh=new st("");function E8(){Rx(()=>{throw new Be(600,!1)})}function M8(t){return t.isBoundToModule}function D8(t,n,e){try{let i=e();return zc(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var Qo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Se(dM),this.afterRenderEffectManager=Se(Jb),this.externalTestViews=new Set,this.beforeRender=new Ln,this.afterTick=new Ln,this.componentTypes=[],this.components=[],this.isStable=Se(qc).hasPendingTasks.pipe(kt(e=>!e)),this._injector=Se(Ar)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof Dg;if(!this._injector.get(RD).done){let w=!r&&CE(e),h=!1;throw new Be(405,h)}let s;r?s=e:s=this._injector.get(wl).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=M8(s)?void 0:this._injector.get(_l),l=i||s.selector,c=s.create(rr.NULL,[],l,a),f=c.location.nativeElement,v=c.injector.get(OD,null);return v?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),Xy(this.components,c),v?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new Be(101,!1);let i=fn(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,fn(i)}}detectChangesInAttachedViews(e){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===sD)throw new Be(103,!1);if(e){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)I8(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>tb(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>tb(o))))break}}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Xy(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(yh,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Xy(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Be(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xy(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function I8(t,n,e){!n&&!tb(t)||A8(t,e,n)}function tb(t){return Eb(t)}function A8(t,n,e){let i;e?(i=0,t[xt]|=1024):t[xt]&64?i=0:i=1,aD(t,n,i)}var nb=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},f0=(()=>{class t{compileModuleSync(e){return new H_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=SE(e),o=kM(r.declarations).reduce((s,a)=>{let l=vl(a);return l&&s.push(new ld(l)),s},[]);return new nb(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var T8=(()=>{class t{constructor(){this.zone=Se(hn),this.applicationRef=Se(Qo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function N8(t){return[{provide:hn,useFactory:t},{provide:td,multi:!0,useFactory:()=>{let n=Se(T8,{optional:!0});return()=>n.initialize()}},{provide:td,multi:!0,useFactory:()=>{let n=Se(F8);return()=>{n.initialize()}}},{provide:dM,useFactory:k8}]}function k8(){let t=Se(hn),n=Se(_s);return e=>t.runOutsideAngular(()=>n.handleError(e))}function P8(t){let n=N8(()=>new hn(O8(t)));return Da([[],n])}function O8(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var F8=(()=>{class t{constructor(){this.subscription=new yi,this.initialized=!1,this.zone=Se(hn),this.pendingTasks=Se(qc)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{hn.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{hn.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function R8(){return typeof $localize<"u"&&$localize.locale||Og}var h0=new st("",{providedIn:"root",factory:()=>Se(h0,rn.Optional|rn.SkipSelf)||R8()});var LD=new st("");var mg=null;function L8(t=[],n){return rr.create({name:n,providers:[{provide:Bg,useValue:"platform"},{provide:LD,useValue:new Set([()=>mg=null])},...t]})}function j8(t=[]){if(mg)return mg;let n=L8(t);return mg=n,E8(),V8(n),n}function V8(t){t.get(Rb,null)?.forEach(e=>e())}var Hr=(()=>{class t{static{this.__NG_ELEMENT_ID__=B8}}return t})();function B8(t){return U8(Tr(),Ot(),(t&16)===16)}function U8(t,n,e){if(Hg(t)&&!e){let i=bl(t.index,n);return new jc(i,i)}else if(t.type&47){let i=n[zo];return new jc(i,n)}return null}var ib=class{constructor(){}supports(n){return vD(n)}create(n){return new rb(n)}},H8=(t,n)=>n,rb=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||H8}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<X5(i,r,o)?e:i,a=X5(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,f=l-r;if(c!=f){for(let w=0;w<c;w++){let h=w<o.length?o[w]:o[w]=0,S=h+w;f<=S&&S<c&&(o[w]=h+1)}let v=s.previousIndex;o[v]=f-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!vD(n))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,A6(n,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new ob(e,i),o,r)),n}_verifyReinsertion(n,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Fg),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fg),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},ob=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sb=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Fg=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new sb,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function X5(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}var ab=class{constructor(){}supports(n){return n instanceof Map||nw(n)}create(){return new lb}},lb=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||nw(n)))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let r=this._records.get(n);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new cb(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}},cb=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function J5(){return new sw([new ib])}var sw=(()=>{class t{static{this.\u0275prov=Ne({token:t,providedIn:"root",factory:J5})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||J5()),deps:[[t,new Vg,new ch]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new Be(901,!1)}}return t})();function eE(){return new aw([new ab])}var aw=(()=>{class t{static{this.\u0275prov=Ne({token:t,providedIn:"root",factory:eE})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||eE()),deps:[[t,new Vg,new ch]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Be(901,!1)}}return t})();function jD(t){try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,r=j8(i),o=[P8(),...e||[]],a=new Ng({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(hn);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(_s,null),f;l.runOutsideAngular(()=>{f=l.onError.subscribe({next:h=>{c.handleError(h)}})});let v=()=>a.destroy(),w=r.get(LD);return w.add(v),a.onDestroy(()=>{f.unsubscribe(),w.delete(v)}),D8(c,l,()=>{let h=a.get(RD);return h.runInitializers(),h.donePromise.then(()=>{let S=a.get(h0,Og);h8(S||Og);let x=a.get(Qo);return n!==void 0&&x.bootstrap(n),x})})})}catch(n){return Promise.reject(n)}}function Ml(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function VD(t,n){ws("NgSignals");let e=Px(t);return n?.equal&&(e[fs].equal=n.equal),e}var q8=new st("",{providedIn:"root",factory:()=>Se(z8)}),z8=(()=>{class t{static{this.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>new ub})}}return t})(),ub=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Se(qc),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){let e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(n)||(this.queuedEffectCount++,i.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},db=class{constructor(n,e,i,r,o,s){this.scheduler=n,this.effectFn=e,this.creationZone=i,this.injector=o,this.watcher=Vx(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(_s,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function lw(t,n){ws("NgSignals"),!n?.injector&&NE(lw);let e=n?.injector??Se(rr),i=n?.manualCleanup!==!0?e.get(Yg):null,r=new db(e.get(q8),t,typeof Zone>"u"?null:Zone.current,i,e,n?.allowSignalWrites??!1),o=e.get(Hr,null,{optional:!0});return!o||!(o._lView[xt]&8)?r.watcher.notify():(o._lView[ug]??=[]).push(r.watcher.notify),r}function BD(t){let n=vl(t);if(!n)return null;let e=new ld(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var GD=null;function Fa(){return GD}function YD(t){GD??=t}var C0=class{};var jn=new st(""),yw=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se($8),providedIn:"platform"})}}return t})(),ZD=new st(""),$8=(()=>{class t extends yw{constructor(){super(),this._doc=Se(jn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fa().getBaseHref(this._doc)}onPopState(e){let i=Fa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Fa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function _w(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function UD(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function Pa(t){return t&&t[0]!=="?"?"?"+t:t}var Ra=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se(bw),providedIn:"root"})}}return t})(),KD=new st(""),bw=(()=>{class t extends Ra{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Se(jn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _w(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Pa(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Pa(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Pa(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(Le(yw),Le(KD,8))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),QD=(()=>{class t extends Ra{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=_w(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Pa(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Pa(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(Le(yw),Le(KD,8))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),yd=(()=>{class t{constructor(e){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=Y8(UD(HD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Pa(i))}normalize(e){return t.stripTrailingSlash(G8(this._basePath,HD(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pa(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pa(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Pa}static{this.joinWithSlash=_w}static{this.stripTrailingSlash=UD}static{this.\u0275fac=function(i){return new(i||t)(Le(Ra))}}static{this.\u0275prov=Ne({token:t,factory:()=>W8(),providedIn:"root"})}}return t})();function W8(){return new yd(Le(Ra))}function G8(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function HD(t){return t.replace(/\/index.html$/,"")}function Y8(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var qr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(qr||{}),Kn=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Kn||{}),Mo=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Mo||{}),Dl={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z8(t){return Ko(t)[Li.LocaleId]}function K8(t,n,e){let i=Ko(t),r=[i[Li.DayPeriodsFormat],i[Li.DayPeriodsStandalone]],o=Xo(r,n);return Xo(o,e)}function Q8(t,n,e){let i=Ko(t),r=[i[Li.DaysFormat],i[Li.DaysStandalone]],o=Xo(r,n);return Xo(o,e)}function X8(t,n,e){let i=Ko(t),r=[i[Li.MonthsFormat],i[Li.MonthsStandalone]],o=Xo(r,n);return Xo(o,e)}function J8(t,n){let i=Ko(t)[Li.Eras];return Xo(i,n)}function p0(t,n){let e=Ko(t);return Xo(e[Li.DateFormat],n)}function m0(t,n){let e=Ko(t);return Xo(e[Li.TimeFormat],n)}function g0(t,n){let i=Ko(t)[Li.DateTimeFormat];return Xo(i,n)}function x0(t,n){let e=Ko(t),i=e[Li.NumberSymbols][n];if(typeof i>"u"){if(n===Dl.CurrencyDecimal)return e[Li.NumberSymbols][Dl.Decimal];if(n===Dl.CurrencyGroup)return e[Li.NumberSymbols][Dl.Group]}return i}function XD(t){if(!t[Li.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Li.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function e7(t){let n=Ko(t);return XD(n),(n[Li.ExtraData][2]||[]).map(i=>typeof i=="string"?cw(i):[cw(i[0]),cw(i[1])])}function t7(t,n,e){let i=Ko(t);XD(i);let r=[i[Li.ExtraData][0],i[Li.ExtraData][1]],o=Xo(r,n)||[];return Xo(o,e)||[]}function Xo(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function cw(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var n7=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,v0={},i7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Oa=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Oa||{}),Mn=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Mn||{}),En=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(En||{});function r7(t,n,e,i){let r=h7(t);n=ka(e,n)||n;let s=[],a;for(;n;)if(a=i7.exec(n),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;n=f}else{s.push(n);break}let l=r.getTimezoneOffset();i&&(l=eI(i,l),r=f7(r,i,!0));let c="";return s.forEach(f=>{let v=u7(f);c+=v?v(r,e,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function S0(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function ka(t,n){let e=Z8(t);if(v0[e]??={},v0[e][n])return v0[e][n];let i="";switch(n){case"shortDate":i=p0(t,Mo.Short);break;case"mediumDate":i=p0(t,Mo.Medium);break;case"longDate":i=p0(t,Mo.Long);break;case"fullDate":i=p0(t,Mo.Full);break;case"shortTime":i=m0(t,Mo.Short);break;case"mediumTime":i=m0(t,Mo.Medium);break;case"longTime":i=m0(t,Mo.Long);break;case"fullTime":i=m0(t,Mo.Full);break;case"short":let r=ka(t,"shortTime"),o=ka(t,"shortDate");i=y0(g0(t,Mo.Short),[r,o]);break;case"medium":let s=ka(t,"mediumTime"),a=ka(t,"mediumDate");i=y0(g0(t,Mo.Medium),[s,a]);break;case"long":let l=ka(t,"longTime"),c=ka(t,"longDate");i=y0(g0(t,Mo.Long),[l,c]);break;case"full":let f=ka(t,"fullTime"),v=ka(t,"fullDate");i=y0(g0(t,Mo.Full),[f,v]);break}return i&&(v0[e][n]=i),i}function y0(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function Ss(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function o7(t,n){return Ss(t,3).substring(0,n)}function Wi(t,n,e=0,i=!1,r=!1){return function(o,s){let a=s7(t,o);if((e>0||a>-e)&&(a+=e),t===Mn.Hours)a===0&&e===-12&&(a=12);else if(t===Mn.FractionalSeconds)return o7(a,n);let l=x0(s,Dl.MinusSign);return Ss(a,n,l,i,r)}}function s7(t,n){switch(t){case Mn.FullYear:return n.getFullYear();case Mn.Month:return n.getMonth();case Mn.Date:return n.getDate();case Mn.Hours:return n.getHours();case Mn.Minutes:return n.getMinutes();case Mn.Seconds:return n.getSeconds();case Mn.FractionalSeconds:return n.getMilliseconds();case Mn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ai(t,n,e=qr.Format,i=!1){return function(r,o){return a7(r,o,t,n,e,i)}}function a7(t,n,e,i,r,o){switch(e){case En.Months:return X8(n,r,i)[t.getMonth()];case En.Days:return Q8(n,r,i)[t.getDay()];case En.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=e7(n),f=t7(n,r,i),v=c.findIndex(w=>{if(Array.isArray(w)){let[h,S]=w,x=s>=h.hours&&a>=h.minutes,k=s<S.hours||s===S.hours&&a<S.minutes;if(h.hours<S.hours){if(x&&k)return!0}else if(x||k)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(v!==-1)return f[v]}return K8(n,r,i)[s<12?0:1];case En.Eras:return J8(n,i)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function _0(t){return function(n,e,i){let r=-1*i,o=x0(e,Dl.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Oa.Short:return(r>=0?"+":"")+Ss(s,2,o)+Ss(Math.abs(r%60),2,o);case Oa.ShortGMT:return"GMT"+(r>=0?"+":"")+Ss(s,1,o);case Oa.Long:return"GMT"+(r>=0?"+":"")+Ss(s,2,o)+":"+Ss(Math.abs(r%60),2,o);case Oa.Extended:return i===0?"Z":(r>=0?"+":"")+Ss(s,2,o)+":"+Ss(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var l7=0,w0=4;function c7(t){let n=S0(t,l7,1).getDay();return S0(t,0,1+(n<=w0?w0:w0+7)-n)}function JD(t){let n=t.getDay(),e=n===0?-3:w0-n;return S0(t.getFullYear(),t.getMonth(),t.getDate()+e)}function uw(t,n=!1){return function(e,i){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=JD(e),s=c7(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ss(r,t,x0(i,Dl.MinusSign))}}function b0(t,n=!1){return function(e,i){let o=JD(e).getFullYear();return Ss(o,t,x0(i,Dl.MinusSign),n)}}var dw={};function u7(t){if(dw[t])return dw[t];let n;switch(t){case"G":case"GG":case"GGG":n=ai(En.Eras,Kn.Abbreviated);break;case"GGGG":n=ai(En.Eras,Kn.Wide);break;case"GGGGG":n=ai(En.Eras,Kn.Narrow);break;case"y":n=Wi(Mn.FullYear,1,0,!1,!0);break;case"yy":n=Wi(Mn.FullYear,2,0,!0,!0);break;case"yyy":n=Wi(Mn.FullYear,3,0,!1,!0);break;case"yyyy":n=Wi(Mn.FullYear,4,0,!1,!0);break;case"Y":n=b0(1);break;case"YY":n=b0(2,!0);break;case"YYY":n=b0(3);break;case"YYYY":n=b0(4);break;case"M":case"L":n=Wi(Mn.Month,1,1);break;case"MM":case"LL":n=Wi(Mn.Month,2,1);break;case"MMM":n=ai(En.Months,Kn.Abbreviated);break;case"MMMM":n=ai(En.Months,Kn.Wide);break;case"MMMMM":n=ai(En.Months,Kn.Narrow);break;case"LLL":n=ai(En.Months,Kn.Abbreviated,qr.Standalone);break;case"LLLL":n=ai(En.Months,Kn.Wide,qr.Standalone);break;case"LLLLL":n=ai(En.Months,Kn.Narrow,qr.Standalone);break;case"w":n=uw(1);break;case"ww":n=uw(2);break;case"W":n=uw(1,!0);break;case"d":n=Wi(Mn.Date,1);break;case"dd":n=Wi(Mn.Date,2);break;case"c":case"cc":n=Wi(Mn.Day,1);break;case"ccc":n=ai(En.Days,Kn.Abbreviated,qr.Standalone);break;case"cccc":n=ai(En.Days,Kn.Wide,qr.Standalone);break;case"ccccc":n=ai(En.Days,Kn.Narrow,qr.Standalone);break;case"cccccc":n=ai(En.Days,Kn.Short,qr.Standalone);break;case"E":case"EE":case"EEE":n=ai(En.Days,Kn.Abbreviated);break;case"EEEE":n=ai(En.Days,Kn.Wide);break;case"EEEEE":n=ai(En.Days,Kn.Narrow);break;case"EEEEEE":n=ai(En.Days,Kn.Short);break;case"a":case"aa":case"aaa":n=ai(En.DayPeriods,Kn.Abbreviated);break;case"aaaa":n=ai(En.DayPeriods,Kn.Wide);break;case"aaaaa":n=ai(En.DayPeriods,Kn.Narrow);break;case"b":case"bb":case"bbb":n=ai(En.DayPeriods,Kn.Abbreviated,qr.Standalone,!0);break;case"bbbb":n=ai(En.DayPeriods,Kn.Wide,qr.Standalone,!0);break;case"bbbbb":n=ai(En.DayPeriods,Kn.Narrow,qr.Standalone,!0);break;case"B":case"BB":case"BBB":n=ai(En.DayPeriods,Kn.Abbreviated,qr.Format,!0);break;case"BBBB":n=ai(En.DayPeriods,Kn.Wide,qr.Format,!0);break;case"BBBBB":n=ai(En.DayPeriods,Kn.Narrow,qr.Format,!0);break;case"h":n=Wi(Mn.Hours,1,-12);break;case"hh":n=Wi(Mn.Hours,2,-12);break;case"H":n=Wi(Mn.Hours,1);break;case"HH":n=Wi(Mn.Hours,2);break;case"m":n=Wi(Mn.Minutes,1);break;case"mm":n=Wi(Mn.Minutes,2);break;case"s":n=Wi(Mn.Seconds,1);break;case"ss":n=Wi(Mn.Seconds,2);break;case"S":n=Wi(Mn.FractionalSeconds,1);break;case"SS":n=Wi(Mn.FractionalSeconds,2);break;case"SSS":n=Wi(Mn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=_0(Oa.Short);break;case"ZZZZZ":n=_0(Oa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=_0(Oa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=_0(Oa.Long);break;default:return null}return dw[t]=n,n}function eI(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function d7(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function f7(t,n,e){let i=e?-1:1,r=t.getTimezoneOffset(),o=eI(n,r);return d7(t,i*(o-r))}function h7(t){if(qD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return S0(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(n7))return p7(i)}let n=new Date(t);if(!qD(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function p7(t){let n=new Date(0),e=0,i=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,c),n}function qD(t){return t instanceof Date&&!isNaN(t.valueOf())}function E0(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var fw=/\s+/,zD=[],ur=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=zD,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(fw):zD}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(fw):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(fw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(di))}}static{this.\u0275dir=Ft({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Nn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var hw=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},on=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new hw(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),$D(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);$D(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(W(Nr),W(no),W(sw))}}static{this.\u0275dir=Ft({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function $D(t,n){t.context.$implicit=n.item}var Mt=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new pw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){WD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){WD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(W(Nr),W(no))}}static{this.\u0275dir=Ft({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),pw=class{constructor(){this.$implicit=null,this.ngIf=null}};function WD(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Br(n)}'.`)}var tI=(()=>{class t{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Ws.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(aw),W(di))}}static{this.\u0275dir=Ft({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return t})();function nI(t,n){return new Be(2100,!1)}var iI=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw nI(t,e);return e.toUpperCase()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=ud({name:"uppercase",type:t,pure:!0,standalone:!0})}}return t})(),m7="mediumDate",g7=new st(""),v7=new st(""),Il=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??m7,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return r7(e,s,o||this.locale,a)}catch(s){throw nI(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(W(h0,16),W(g7,24),W(v7,24))}}static{this.\u0275pipe=ud({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var ct=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({})}}return t})(),ww="browser",y7="server";function _h(t){return t===ww}function M0(t){return t===y7}var rI=(()=>{class t{static{this.\u0275prov=Ne({token:t,providedIn:"root",factory:()=>_h(Se(io))?new mw(Se(jn),window):new gw})}}return t})(),mw=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=_7(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function _7(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var gw=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},vd=class{};var wh=class{},I0=class{},$c=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let r=(n.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Sw=class{encodeKey(n){return oI(n)}encodeValue(n){return oI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function C7(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var S7=/%(\d[a-f0-9])/gi,x7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oI(t){return encodeURIComponent(t).replace(S7,(n,e)=>x7[e]??n)}function D0(t){return`${t}`}var Jo=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Sw,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=C7(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],r=Array.isArray(i)?i.map(D0):[D0(i)];this.map.set(e,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(D0(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(D0(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var xw=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function E7(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function aI(t){return typeof Blob<"u"&&t instanceof Blob}function lI(t){return typeof FormData<"u"&&t instanceof FormData}function M7(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var bh=class t{constructor(n,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(E7(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new $c,this.context??=new xw,!this.params)this.params=new Jo,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sI(this.body)||aI(this.body)||lI(this.body)||M7(this.body)?this.body:this.body instanceof Jo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lI(this.body)?null:aI(this.body)?this.body.type||null:sI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,f=n.params||this.params,v=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((w,h)=>w.set(h,n.setHeaders[h]),c)),n.setParams&&(f=Object.keys(n.setParams).reduce((w,h)=>w.set(h,n.setParams[h]),f)),new t(e,i,s,{params:f,headers:c,context:v,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},_d=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_d||{}),Ch=class{constructor(n,e=N0.Ok,i="OK"){this.headers=n.headers||new $c,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ew=class t extends Ch{constructor(n={}){super(n),this.type=_d.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},A0=class t extends Ch{constructor(n={}){super(n),this.type=_d.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},T0=class extends Ch{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},N0=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(N0||{});function Cw(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var pn=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof bh)o=e;else{let l;r.headers instanceof $c?l=r.headers:l=new $c(r.headers);let c;r.params&&(r.params instanceof Jo?c=r.params:c=new Jo({fromObject:r.params})),o=new bh(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=yt(o).pipe(Sa(l=>this.handler.handle(l)));if(e instanceof bh||r.observe==="events")return s;let a=s.pipe(Ri(l=>l instanceof A0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(kt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(kt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(kt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(kt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Jo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Cw(r,i))}post(e,i,r={}){return this.request("POST",e,Cw(r,i))}put(e,i,r={}){return this.request("PUT",e,Cw(r,i))}static{this.\u0275fac=function(i){return new(i||t)(Le(wh))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();function D7(t,n){return n(t)}function I7(t,n,e){return(i,r)=>bs(e,()=>n(i,o=>t(o,r)))}var Mw=new st(""),A7=new st(""),T7=new st("");var cI=(()=>{class t extends wh{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Se(qc);let r=Se(T7,{optional:!0});this.backend=r??e}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Mw),...this.injector.get(A7,[])]));this.chain=r.reduceRight((o,s)=>I7(o,s,this.injector),D7)}let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Us(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||t)(Le(I0),Le(Ar))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();var N7=/^\)\]\}',?\n/;function k7(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var uI=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Be(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Un(i.\u0275loadImpl()):yt(null)).pipe(Jr(()=>new en(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((x,k)=>s.setRequestHeader(x,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let x=e.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(e.responseType){let x=e.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",k=new $c(s.getAllResponseHeaders()),D=k7(s)||e.url;return l=new Ew({headers:k,status:s.status,statusText:x,url:D}),l},f=()=>{let{headers:x,status:k,statusText:D,url:Z}=c(),G=null;k!==N0.NoContent&&(G=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=G?N0.Ok:0);let H=k>=200&&k<300;if(e.responseType==="json"&&typeof G=="string"){let he=G;G=G.replace(N7,"");try{G=G!==""?JSON.parse(G):null}catch(we){G=he,H&&(H=!1,G={error:we,text:G})}}H?(o.next(new A0({body:G,headers:x,status:k,statusText:D,url:Z||void 0})),o.complete()):o.error(new T0({error:G,headers:x,status:k,statusText:D,url:Z||void 0}))},v=x=>{let{url:k}=c(),D=new T0({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(D)},w=!1,h=x=>{w||(o.next(c()),w=!0);let k={type:_d.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),e.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},S=x=>{let k={type:_d.UploadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),o.next(k)};return s.addEventListener("load",f),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:_d.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",f),s.removeEventListener("timeout",v),e.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(Le(vd))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),dI=new st(""),P7="XSRF-TOKEN",O7=new st("",{providedIn:"root",factory:()=>P7}),F7="X-XSRF-TOKEN",R7=new st("",{providedIn:"root",factory:()=>F7}),k0=class{},L7=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=E0(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(Le(jn),Le(io),Le(O7))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();function j7(t,n){let e=t.url.toLowerCase();if(!Se(dI)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=Se(k0).getToken(),r=Se(R7);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}var fI=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(fI||{});function V7(t,n){return{\u0275kind:t,\u0275providers:n}}function hI(...t){let n=[pn,uI,cI,{provide:wh,useExisting:cI},{provide:I0,useExisting:uI},{provide:Mw,useValue:j7,multi:!0},{provide:dI,useValue:!0},{provide:k0,useClass:L7}];for(let e of t)n.push(...e.\u0275providers);return Da(n)}function pI(t){return V7(fI.Interceptors,t.map(n=>({provide:Mw,useValue:n,multi:!0})))}var Aw=class extends C0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tw=class t extends Aw{static makeCurrent(){YD(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=B7();return e==null?null:U7(e)}resetBaseElement(){Sh=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return E0(document.cookie,n)}},Sh=null;function B7(){return Sh=Sh||document.querySelector("base"),Sh?Sh.getAttribute("href"):null}function U7(t){return new URL(t,document.baseURI).pathname}var H7=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),Nw=new st(""),vI=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Be(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(Le(Nw),Le(hn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),P0=class{constructor(n){this._doc=n}},Dw="ng-app-id",yI=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=M0(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Dw}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Dw),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Dw,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(Le(jn),Le(Fb),Le(Lb,8),Le(io))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),Iw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pw=/%COMP%/g,_I="%COMP%",q7=`_nghost-${_I}`,z7=`_ngcontent-${_I}`,$7=!0,W7=new st("",{providedIn:"root",factory:()=>$7});function G7(t){return z7.replace(Pw,t)}function Y7(t){return q7.replace(Pw,t)}function bI(t,n){return n.map(e=>e.replace(Pw,t))}var O0=(()=>{class t{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=M0(a),this.defaultRenderer=new xh(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===qo.ShadowDom&&(i=qt(je({},i),{encapsulation:qo.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof F0?r.applyToHost(e):r instanceof Eh&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case qo.Emulated:o=new F0(l,c,i,this.appId,f,s,a,v);break;case qo.ShadowDom:return new kw(l,c,e,i,s,a,this.nonce,v);default:o=new Eh(l,c,i,f,s,a,v);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(Le(vI),Le(yI),Le(Fb),Le(W7),Le(jn),Le(io),Le(hn),Le(Lb))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),xh=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Iw[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(mI(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(mI(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new Be(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Iw[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Iw[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Ws.DashCase|Ws.Important)?n.style.setProperty(e,i,r&Ws.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Ws.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=Fa().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function mI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kw=class extends xh{constructor(n,e,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=bI(r.id,r.styles);for(let f of c){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=f,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Eh=class extends xh{constructor(n,e,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?bI(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},F0=class extends Eh{constructor(n,e,i,r,o,s,a,l){let c=r+"-"+i.id;super(n,e,i,o,s,a,l,c),this.contentAttr=G7(c),this.hostAttr=Y7(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},Z7=(()=>{class t extends P0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),gI=["alt","control","meta","shift"],K7={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},X7=(()=>{class t extends P0{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fa().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),gI.forEach(c=>{let f=i.indexOf(c);f>-1&&(i.splice(f,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=K7[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),gI.forEach(s=>{if(s!==r){let a=Q7[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();function wI(t,n){return jD(je({rootComponent:t},J7(n)))}function J7(t){return{appProviders:[...rj,...t?.providers??[]],platformProviders:ij}}function ej(){Tw.makeCurrent()}function tj(){return new _s}function nj(){return vM(document),document}var ij=[{provide:io,useValue:ww},{provide:Rb,useValue:ej,multi:!0},{provide:jn,useFactory:nj,deps:[]}];var rj=[{provide:Bg,useValue:"root"},{provide:_s,useFactory:tj,deps:[]},{provide:Nw,useClass:Z7,multi:!0,deps:[jn,hn,io]},{provide:Nw,useClass:X7,multi:!0,deps:[jn]},O0,yI,vI,{provide:yo,useExisting:O0},{provide:vd,useClass:H7,deps:[]},[]];var CI=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Mh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=Le(oj),r},providedIn:"root"})}}return t})(),oj=(()=>{class t extends Mh{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case wo.NONE:return i;case wo.HTML:return Ta(i,"HTML")?Yo(i):Vb(this._doc,String(i)).toString();case wo.STYLE:return Ta(i,"Style")?Yo(i):i;case wo.SCRIPT:if(Ta(i,"Script"))return Yo(i);throw new Be(5200,!1);case wo.URL:return Ta(i,"URL")?Yo(i):Kg(String(i));case wo.RESOURCE_URL:if(Ta(i,"ResourceURL"))return Yo(i);throw new Be(5201,!1);default:throw new Be(5202,!1)}}bypassSecurityTrustHtml(e){return wM(e)}bypassSecurityTrustStyle(e){return CM(e)}bypassSecurityTrustScript(e){return SM(e)}bypassSecurityTrustUrl(e){return xM(e)}bypassSecurityTrustResourceUrl(e){return EM(e)}static{this.\u0275fac=function(i){return new(i||t)(Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Jt="primary",Hh=Symbol("RouteTitle"),Vw=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function xd(t){return new Vw(t)}function sj(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function aj(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ys(t[e],n[e]))return!1;return!0}function Ys(t,n){let e=t?Bw(t):void 0,i=n?Bw(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!NI(t[r],n[r]))return!1;return!0}function Bw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function kI(t){return t.length>0?t[t.length-1]:null}function Pl(t){return Iy(t)?t:zc(t)?Un(Promise.resolve(t)):yt(t)}var lj={exact:OI,subset:FI},PI={exact:cj,subset:uj,ignored:()=>!0};function SI(t,n,e){return lj[e.paths](t.root,n.root,e.matrixParams)&&PI[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function cj(t,n){return Ys(t,n)}function OI(t,n,e){if(!Gc(t.segments,n.segments)||!j0(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!OI(t.children[i],n.children[i],e))return!1;return!0}function uj(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>NI(t[e],n[e]))}function FI(t,n,e){return RI(t,n,n.segments,e)}function RI(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!Gc(r,e)||n.hasChildren()||!j0(r,e,i))}else if(t.segments.length===e.length){if(!Gc(t.segments,e)||!j0(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!FI(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Gc(t.segments,r)||!j0(t.segments,r,i)||!t.children[Jt]?!1:RI(t.children[Jt],n,o,i)}}function j0(t,n,e){return n.every((i,r)=>PI[e](t[r].parameters,i.parameters))}var Al=class{constructor(n=new kn([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){return hj.serialize(this)}},kn=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return V0(this)}},Wc=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=xd(this.parameters),this._parameterMap}toString(){return jI(this)}};function dj(t,n){return Gc(t,n)&&t.every((e,i)=>Ys(e.parameters,n[i].parameters))}function Gc(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function fj(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===Jt&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Jt&&(e=e.concat(n(r,i)))}),e}var qh=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>new Ph,providedIn:"root"})}}return t})(),Ph=class{parse(n){let e=new Hw(n);return new Al(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Dh(n.root,!0)}`,i=gj(n.queryParams),r=typeof n.fragment=="string"?`#${pj(n.fragment)}`:"";return`${e}${i}${r}`}},hj=new Ph;function V0(t){return t.segments.map(n=>jI(n)).join("/")}function Dh(t,n){if(!t.hasChildren())return V0(t);if(n){let e=t.children[Jt]?Dh(t.children[Jt],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Jt&&i.push(`${r}:${Dh(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=fj(t,(i,r)=>r===Jt?[Dh(t.children[Jt],!1)]:[`${r}:${Dh(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Jt]!=null?`${V0(t)}/${e[0]}`:`${V0(t)}/(${e.join("//")})`}}function LI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function R0(t){return LI(t).replace(/%3B/gi,";")}function pj(t){return encodeURI(t)}function Uw(t){return LI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B0(t){return decodeURIComponent(t)}function xI(t){return B0(t.replace(/\+/g,"%20"))}function jI(t){return`${Uw(t.path)}${mj(t.parameters)}`}function mj(t){return Object.entries(t).map(([n,e])=>`;${Uw(n)}=${Uw(e)}`).join("")}function gj(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${R0(e)}=${R0(r)}`).join("&"):`${R0(e)}=${R0(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var vj=/^[^\/()?;#]+/;function Fw(t){let n=t.match(vj);return n?n[0]:""}var yj=/^[^\/()?;=#]+/;function _j(t){let n=t.match(yj);return n?n[0]:""}var bj=/^[^=?&#]+/;function wj(t){let n=t.match(bj);return n?n[0]:""}var Cj=/^[^&#]+/;function Sj(t){let n=t.match(Cj);return n?n[0]:""}var Hw=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Jt]=new kn(n,e)),i}parseSegment(){let n=Fw(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new Be(4009,!1);return this.capture(n),new Wc(B0(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=_j(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Fw(this.remaining);r&&(i=r,this.capture(i))}n[B0(e)]=B0(i)}parseQueryParam(n){let e=wj(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=Sj(this.remaining);s&&(i=s,this.capture(i))}let r=xI(e),o=xI(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Fw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Be(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Jt);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Jt]:new kn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new Be(4011,!1)}};function VI(t){return t.segments.length>0?new kn([],{[Jt]:t}):t}function BI(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=BI(r);if(i===Jt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new kn(t.segments,n);return xj(e)}function xj(t){if(t.numberOfChildren===1&&t.children[Jt]){let n=t.children[Jt];return new kn(t.segments.concat(n.segments),n.children)}return t}function Ed(t){return t instanceof Al}function Ej(t,n,e=null,i=null){let r=UI(t);return HI(r,n,e,i)}function UI(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new kn(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=VI(i);return n??r}function HI(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Rw(r,r,r,e,i);let o=Mj(n);if(o.toRoot())return Rw(r,r,new kn([],{}),e,i);let s=Dj(o,r,t),a=s.processChildren?Th(s.segmentGroup,s.index,o.commands):zI(s.segmentGroup,s.index,o.commands);return Rw(r,s.segmentGroup,a,e,i)}function U0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oh(t){return typeof t=="object"&&t!=null&&t.outlets}function Rw(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;t===n?s=e:s=qI(t,n,e);let a=VI(BI(s));return new Al(a,o,r)}function qI(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=qI(o,n,e)}),new kn(t.segments,i)}var H0=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&U0(i[0]))throw new Be(4003,!1);let r=i.find(Oh);if(r&&r!==kI(i))throw new Be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Mj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new H0(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new H0(e,n,i)}var Cd=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function Dj(t,n,e){if(t.isAbsolute)return new Cd(n,!0,0);if(!e)return new Cd(n,!1,NaN);if(e.parent===null)return new Cd(e,!0,0);let i=U0(t.commands[0])?0:1,r=e.segments.length-1+i;return Ij(e,r,t.numberOfDoubleDots)}function Ij(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Be(4005,!1);r=i.segments.length}return new Cd(i,!1,r-o)}function Aj(t){return Oh(t[0])?t[0].outlets:{[Jt]:t}}function zI(t,n,e){if(t??=new kn([],{}),t.segments.length===0&&t.hasChildren())return Th(t,n,e);let i=Tj(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new kn(t.segments.slice(0,i.pathIndex),{});return o.children[Jt]=new kn(t.segments.slice(i.pathIndex),t.children),Th(o,0,r)}else return i.match&&r.length===0?new kn(t.segments,{}):i.match&&!t.hasChildren()?qw(t,n,e):i.match?Th(t,0,r):qw(t,n,e)}function Th(t,n,e){if(e.length===0)return new kn(t.segments,{});{let i=Aj(e),r={};if(Object.keys(i).some(o=>o!==Jt)&&t.children[Jt]&&t.numberOfChildren===1&&t.children[Jt].segments.length===0){let o=Th(t.children[Jt],n,e);return new kn(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=zI(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new kn(t.segments,r)}}function Tj(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(Oh(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!MI(l,c,s))return o;i+=2}else{if(!MI(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function qw(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(Oh(o)){let l=Nj(o.outlets);return new kn(i,l)}if(r===0&&U0(e[0])){let l=t.segments[n];i.push(new Wc(l.path,EI(e[0]))),r++;continue}let s=Oh(o)?o.outlets[Jt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&U0(a)?(i.push(new Wc(s,EI(a))),r+=2):(i.push(new Wc(s,{})),r++)}return new kn(i,{})}function Nj(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=qw(new kn([],{}),0,i))}),n}function EI(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function MI(t,n,e){return t==e.path&&Ys(n,e.parameters)}var Nh="imperative",dr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(dr||{}),es=class{constructor(n,e){this.id=n,this.url=e}},Md=class extends es{constructor(n,e,i="imperative",r=null){super(n,e),this.type=dr.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xs=class extends es{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=dr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Io=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Io||{}),q0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(q0||{}),Tl=class extends es{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=dr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nl=class extends es{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=dr.NavigationSkipped}},Fh=class extends es{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=dr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},z0=class extends es{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=dr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zw=class extends es{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=dr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$w=class extends es{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=dr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ww=class extends es{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=dr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gw=class extends es{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=dr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yw=class{constructor(n){this.route=n,this.type=dr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zw=class{constructor(n){this.route=n,this.type=dr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kw=class{constructor(n){this.snapshot=n,this.type=dr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qw=class{constructor(n){this.snapshot=n,this.type=dr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xw=class{constructor(n){this.snapshot=n,this.type=dr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jw=class{constructor(n){this.snapshot=n,this.type=dr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$0=class{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=dr.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Rh=class{},Lh=class{constructor(n){this.url=n}};var e2=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zh,this.attachRef=null}},zh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new e2,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),W0=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=t2(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=t2(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=n2(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return n2(n,this._root).map(e=>e.value)}};function t2(t,n){if(t===n.value)return n;for(let e of n.children){let i=t2(t,e);if(i)return i}return null}function n2(t,n){if(t===n.value)return[n];for(let e of n.children){let i=n2(t,e);if(i.length)return i.unshift(n),i}return[]}var Do=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function wd(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var G0=class extends W0{constructor(n,e){super(n),this.snapshot=e,f2(this,n)}toString(){return this.snapshot.toString()}};function $I(t){let n=kj(t),e=new nr([new Wc("",{})]),i=new nr({}),r=new nr({}),o=new nr({}),s=new nr(""),a=new Zs(e,i,o,s,r,Jt,t,n.root);return a.snapshot=n.root,new G0(new Do(a,[]),n)}function kj(t){let n={},e={},i={},r="",o=new jh([],n,i,r,e,Jt,t,null,{});return new Y0("",new Do(o,[]))}var Zs=class{constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(kt(c=>c[Hh]))??yt(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(kt(n=>xd(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(kt(n=>xd(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function d2(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:je(je({},n.params),t.params),data:je(je({},n.data),t.data),resolve:je(je(je(je({},t.data),n.data),r?.data),t._resolvedData)}:i={params:je({},t.params),data:je({},t.data),resolve:je(je({},t.data),t._resolvedData??{})},r&&GI(r)&&(i.resolve[Hh]=r.title),i}var jh=class{get title(){return this.data?.[Hh]}constructor(n,e,i,r,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xd(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Y0=class extends W0{constructor(n,e){super(e),this.url=n,f2(this,e)}toString(){return WI(this._root)}};function f2(t,n){n.value._routerState=t,n.children.forEach(e=>f2(t,e))}function WI(t){let n=t.children.length>0?` { ${t.children.map(WI).join(", ")} } `:"";return`${t.value}${n}`}function Lw(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ys(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Ys(n.params,e.params)||t.paramsSubject.next(e.params),aj(n.url,e.url)||t.urlSubject.next(e.url),Ys(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function i2(t,n){let e=Ys(t.params,n.params)&&dj(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||i2(t.parent,n.parent))}function GI(t){return typeof t.title=="string"||t.title===null}var $h=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=Se(zh),this.location=Se(Nr),this.changeDetector=Se(Hr),this.environmentInjector=Se(Ar),this.inputBinder=Se(X0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Be(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new r2(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Ft({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ir]})}}return t})(),r2=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Zs?this.route:n===zh?this.childContexts:this.parent.get(n,e)}},X0=new st(""),DI=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=zf([i.queryParams,i.params,i.data]).pipe(Jr(([o,s,a],l)=>(a=je(je(je({},o),s),a),l===0?yt(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=BD(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();function Pj(t,n,e){let i=Vh(t,n._root,e?e._root:void 0);return new G0(i,n)}function Vh(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=Oj(t,n,e);return new Do(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Vh(t,a)),s}}let i=Fj(n.value),r=n.children.map(o=>Vh(t,o));return new Do(i,r)}}function Oj(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Vh(t,i,r);return Vh(t,i)})}function Fj(t){return new Zs(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}var YI="ngNavigationCancelingError";function ZI(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Ed(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=KI(!1,Io.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function KI(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[YI]=!0,e.cancellationCode=n,e}function Rj(t){return QI(t)&&Ed(t.url)}function QI(t){return!!t&&t[YI]}var Lj=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(i,r){i&1&&ze(0,"router-outlet")},dependencies:[$h],encapsulation:2})}}return t})();function jj(t,n){return t.providers&&!t._injector&&(t._injector=a0(t.providers,n,`Route: ${t.path}`)),t._injector??n}function h2(t){let n=t.children&&t.children.map(h2),e=n?qt(je({},t),{children:n}):je({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=Lj),e}function Ks(t){return t.outlet||Jt}function Vj(t,n){let e=t.filter(i=>Ks(i)===n);return e.push(...t.filter(i=>Ks(i)!==n)),e}function Wh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Bj=(t,n,e,i)=>kt(r=>(new o2(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),o2=class{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Lw(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=wd(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=wd(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=wd(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=wd(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Jw(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Qw(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(Lw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lw(a.route.value),this.activateChildRoutes(n,null,s.children)}else{let a=Wh(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}},Z0=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Sd=class{constructor(n,e){this.component=n,this.route=e}};function Uj(t,n,e){let i=t._root,r=n?n._root:null;return Ih(i,r,e,[i.value])}function Hj(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function Id(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!sE(t)?t:n.get(t):i}function Ih(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=wd(n);return t.children.forEach(s=>{qj(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>kh(a,e.getContext(s),r)),r}function qj(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=zj(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Z0(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ih(t,n,a?a.children:null,i,r):Ih(t,n,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Sd(a.outlet.component,s))}else s&&kh(n,a,r),r.canActivateChecks.push(new Z0(i)),o.component?Ih(t,null,a?a.children:null,i,r):Ih(t,null,e,i,r);return r}function zj(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Gc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Gc(t.url,n.url)||!Ys(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!i2(t,n)||!Ys(t.queryParams,n.queryParams);case"paramsChange":default:return!i2(t,n)}}function kh(t,n,e){let i=wd(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?kh(s,n.children.getContext(o),e):kh(s,null,e):kh(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Sd(n.outlet.component,r)):e.canDeactivateChecks.push(new Sd(null,r)):e.canDeactivateChecks.push(new Sd(null,r))}function Gh(t){return typeof t=="function"}function $j(t){return typeof t=="boolean"}function Wj(t){return t&&Gh(t.canLoad)}function Gj(t){return t&&Gh(t.canActivate)}function Yj(t){return t&&Gh(t.canActivateChild)}function Zj(t){return t&&Gh(t.canDeactivate)}function Kj(t){return t&&Gh(t.canMatch)}function XI(t){return t instanceof Ca||t?.name==="EmptyError"}var L0=Symbol("INITIAL_VALUE");function Dd(){return Jr(t=>zf(t.map(n=>n.pipe(Xr(1),Ry(L0)))).pipe(kt(n=>{for(let e of n)if(e!==!0){if(e===L0)return L0;if(e===!1||e instanceof Al)return e}return!0}),Ri(n=>n!==L0),Xr(1)))}function Qj(t,n){return ci(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?yt(qt(je({},e),{guardsResult:!0})):Xj(s,i,r,t).pipe(ci(a=>a&&$j(a)?Jj(i,o,t,n):yt(a)),kt(a=>qt(je({},e),{guardsResult:a})))})}function Xj(t,n,e,i){return Un(t).pipe(ci(r=>rV(r.component,r.route,e,n,i)),Hs(r=>r!==!0,!0))}function Jj(t,n,e,i){return Un(n).pipe(Sa(r=>hl(tV(r.route.parent,i),eV(r.route,i),iV(t,r.path,e),nV(t,r.route,e))),Hs(r=>r!==!0,!0))}function eV(t,n){return t!==null&&n&&n(new Xw(t)),yt(!0)}function tV(t,n){return t!==null&&n&&n(new Kw(t)),yt(!0)}function nV(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return yt(!0);let r=i.map(o=>tg(()=>{let s=Wh(n)??e,a=Id(o,s),l=Gj(a)?a.canActivate(n,t):bs(s,()=>a(n,t));return Pl(l).pipe(Hs())}));return yt(r).pipe(Dd())}function iV(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>Hj(s)).filter(s=>s!==null).map(s=>tg(()=>{let a=s.guards.map(l=>{let c=Wh(s.node)??e,f=Id(l,c),v=Yj(f)?f.canActivateChild(i,t):bs(c,()=>f(i,t));return Pl(v).pipe(Hs())});return yt(a).pipe(Dd())}));return yt(o).pipe(Dd())}function rV(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return yt(!0);let s=o.map(a=>{let l=Wh(n)??r,c=Id(a,l),f=Zj(c)?c.canDeactivate(t,n,e,i):bs(l,()=>c(t,n,e,i));return Pl(f).pipe(Hs())});return yt(s).pipe(Dd())}function oV(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return yt(!0);let o=r.map(s=>{let a=Id(s,t),l=Wj(a)?a.canLoad(n,e):bs(t,()=>a(n,e));return Pl(l)});return yt(o).pipe(Dd(),JI(i))}function JI(t){return _y(lr(n=>{if(Ed(n))throw ZI(t,n)}),kt(n=>n===!0))}function sV(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return yt(!0);let o=r.map(s=>{let a=Id(s,t),l=Kj(a)?a.canMatch(n,e):bs(t,()=>a(n,e));return Pl(l)});return yt(o).pipe(Dd(),JI(i))}var Bh=class{constructor(n){this.segmentGroup=n||null}},K0=class extends Error{constructor(n){super(),this.urlTree=n}};function bd(t){return zu(new Bh(t))}function aV(t){return zu(new Be(4e3,!1))}function lV(t){return zu(KI(!1,Io.GuardRejected))}var s2=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return yt(i);if(r.numberOfChildren>1||!r.children[Jt])return aV(n.redirectTo);r=r.children[Jt]}}applyRedirectCommands(n,e,i){let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e.startsWith("/"))throw new K0(r);return r}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new Al(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new kn(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new Be(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},a2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cV(t,n,e,i,r){let o=p2(t,n,e);return o.matched?(i=jj(n,i),sV(i,n,e,r).pipe(kt(s=>s===!0?o:je({},a2)))):yt(o)}function p2(t,n,e){if(n.path==="**")return uV(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?je({},a2):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||sj)(e,t,n);if(!r)return je({},a2);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?je(je({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function uV(t){return{matched:!0,parameters:t.length>0?kI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function II(t,n,e,i){return e.length>0&&hV(t,e,i)?{segmentGroup:new kn(n,fV(i,new kn(e,t.children))),slicedSegments:[]}:e.length===0&&pV(t,e,i)?{segmentGroup:new kn(t.segments,dV(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new kn(t.segments,t.children),slicedSegments:e}}function dV(t,n,e,i){let r={};for(let o of e)if(J0(t,n,o)&&!i[Ks(o)]){let s=new kn([],{});r[Ks(o)]=s}return je(je({},i),r)}function fV(t,n){let e={};e[Jt]=n;for(let i of t)if(i.path===""&&Ks(i)!==Jt){let r=new kn([],{});e[Ks(i)]=r}return e}function hV(t,n,e){return e.some(i=>J0(t,n,i)&&Ks(i)!==Jt)}function pV(t,n,e){return e.some(i=>J0(t,n,i))}function J0(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function mV(t,n,e,i){return Ks(t)!==i&&(i===Jt||!J0(n,e,t))?!1:p2(n,t,e).matched}function gV(t,n,e){return n.length===0&&!t.children[e]}var l2=class{};function vV(t,n,e,i,r,o,s="emptyOnly"){return new c2(t,n,e,i,r,s,o).recognize()}var yV=31,c2=class{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new s2(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Be(4002,`'${n.segmentGroup}'`)}recognize(){let n=II(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(kt(e=>{let i=new jh([],Object.freeze({}),Object.freeze(je({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,{}),r=new Do(i,e),o=new Y0("",r),s=Ej(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Jt).pipe(ps(i=>{if(i instanceof K0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Bh?this.noMatchError(i):i}))}inheritParamsAndData(n,e){let i=n.value,r=d2(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,e,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0).pipe(kt(o=>o instanceof Do?[o]:[]))}processChildren(n,e,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Un(r).pipe(Sa(o=>{let s=i.children[o],a=Vj(e,o);return this.processSegmentGroup(n,a,s,o)}),Oy((o,s)=>(o.push(...s),o)),pl(null),Py(),ci(o=>{if(o===null)return bd(i);let s=eA(o);return _V(s),yt(s)}))}processSegment(n,e,i,r,o,s){return Un(e).pipe(Sa(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,o,s).pipe(ps(l=>{if(l instanceof Bh)return yt(null);throw l}))),Hs(a=>!!a),ps(a=>{if(XI(a))return gV(i,r,o)?yt(new l2):bd(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,o,s,a){return mV(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):bd(r):bd(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=p2(e,r,o);if(!a)return bd(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yV&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,v).pipe(ci(w=>this.processSegment(n,i,e,w.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){let s=cV(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(Jr(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Jr(({routes:l})=>{let c=i._loadedInjector??n,{consumedSegments:f,remainingSegments:v,parameters:w}=a,h=new jh(f,w,Object.freeze(je({},this.urlTree.queryParams)),this.urlTree.fragment,wV(i),Ks(i),i.component??i._loadedComponent??null,i,CV(i)),{segmentGroup:S,slicedSegments:x}=II(e,f,v,l);if(x.length===0&&S.hasChildren())return this.processChildren(c,l,S).pipe(kt(D=>D===null?null:new Do(h,D)));if(l.length===0&&x.length===0)return yt(new Do(h,[]));let k=Ks(i)===o;return this.processSegment(c,l,S,x,k?Jt:o,!0).pipe(kt(D=>new Do(h,D instanceof Do?[D]:[])))}))):bd(e)))}getChildConfig(n,e,i){return e.children?yt({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?yt({routes:e._loadedRoutes,injector:e._loadedInjector}):oV(n,e,i,this.urlSerializer).pipe(ci(r=>r?this.configLoader.loadChildren(n,e).pipe(lr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):lV(e))):yt({routes:[],injector:n})}};function _V(t){t.sort((n,e)=>n.value.outlet===Jt?-1:e.value.outlet===Jt?1:n.value.outlet.localeCompare(e.value.outlet))}function bV(t){let n=t.value.routeConfig;return n&&n.path===""}function eA(t){let n=[],e=new Set;for(let i of t){if(!bV(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=eA(i.children);n.push(new Do(i.value,r))}return n.filter(i=>!e.has(i))}function wV(t){return t.data||{}}function CV(t){return t.resolve||{}}function SV(t,n,e,i,r,o){return ci(s=>vV(t,n,e,i,s.extractedUrl,r,o).pipe(kt(({state:a,tree:l})=>qt(je({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function xV(t,n){return ci(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return yt(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of tA(l))s.add(c);let a=0;return Un(s).pipe(Sa(l=>o.has(l)?EV(l,i,t,n):(l.data=d2(l,l.parent,t).resolve,yt(void 0))),lr(()=>a++),Gu(1),ci(l=>a===s.size?yt(e):Mr))})}function tA(t){let n=t.children.map(e=>tA(e)).flat();return[t,...n]}function EV(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!GI(r)&&(o[Hh]=r.title),MV(o,t,n,i).pipe(kt(s=>(t._resolvedData=s,t.data=d2(t,t.parent,e).resolve,null)))}function MV(t,n,e,i){let r=Bw(t);if(r.length===0)return yt({});let o={};return Un(r).pipe(ci(s=>DV(t[s],n,e,i).pipe(Hs(),lr(a=>{o[s]=a}))),Gu(1),Gf(o),ps(s=>XI(s)?Mr:zu(s)))}function DV(t,n,e,i){let r=Wh(n)??i,o=Id(t,r),s=o.resolve?o.resolve(n,e):bs(r,()=>o(n,e));return Pl(s)}function jw(t){return Jr(n=>{let e=t(n);return e?Un(e).pipe(kt(()=>n)):yt(n)})}var nA=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Jt);return i}getResolvedTitleForRoute(e){return e.data[Hh]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se(IV),providedIn:"root"})}}return t})(),IV=(()=>{class t extends nA{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(Le(CI))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yh=new st("",{providedIn:"root",factory:()=>({})}),Uh=new st(""),m2=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Se(f0)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return yt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Pl(e.loadComponent()).pipe(kt(iA),lr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Us(()=>{this.componentLoaders.delete(e)})),r=new ju(i,()=>new Ln).pipe(Lu());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return yt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=AV(i,this.compiler,e,this.onLoadEndListener).pipe(Us(()=>{this.childrenLoaders.delete(i)})),s=new ju(o,()=>new Ln).pipe(Lu());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AV(t,n,e,i){return Pl(t.loadChildren()).pipe(kt(iA),ci(r=>r instanceof sh||Array.isArray(r)?yt(r):Un(n.compileModuleAsync(r))),kt(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Uh,[],{optional:!0,self:!0}).flat()),{routes:s.map(h2),injector:o}}))}function TV(t){return t&&typeof t=="object"&&"default"in t}function iA(t){return TV(t)?t.default:t}var g2=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se(NV),providedIn:"root"})}}return t})(),NV=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rA=new st(""),oA=new st("");function kV(t,n,e){let i=t.get(oA),r=t.get(jn);return t.get(hn).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),PV(t))),{onViewTransitionCreated:l}=i;return l&&bs(t,()=>l({transition:a,from:n,to:e})),s})}function PV(t){return new Promise(n=>{s0(n,{injector:t})})}var v2=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ln,this.transitionAbortSubject=new Ln,this.configLoader=Se(m2),this.environmentInjector=Se(Ar),this.urlSerializer=Se(qh),this.rootContexts=Se(zh),this.location=Se(yd),this.inputBindingEnabled=Se(X0,{optional:!0})!==null,this.titleStrategy=Se(nA),this.options=Se(Yh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Se(g2),this.createViewTransition=Se(rA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>yt(void 0),this.rootComponentType=null;let e=r=>this.events.next(new Yw(r)),i=r=>this.events.next(new Zw(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(qt(je(je({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new nr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ri(o=>o.id!==0),kt(o=>qt(je({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Jr(o=>{let s=!1,a=!1;return yt(o).pipe(Jr(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Io.SupersededByNewNavigation),Mr;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?qt(je({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&f!=="reload"){let v="";return this.events.next(new Nl(l.id,this.urlSerializer.serialize(l.rawUrl),v,q0.IgnoredSameUrlNavigation)),l.resolve(null),Mr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return yt(l).pipe(Jr(v=>{let w=this.transitions?.getValue();return this.events.next(new Md(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions?.getValue()?Mr:Promise.resolve(v)}),SV(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),lr(v=>{o.targetSnapshot=v.targetSnapshot,o.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=qt(je({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let w=new z0(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:v,extractedUrl:w,source:h,restoredState:S,extras:x}=l,k=new Md(v,this.urlSerializer.serialize(w),h,S);this.events.next(k);let D=$I(this.rootComponentType).snapshot;return this.currentTransition=o=qt(je({},l),{targetSnapshot:D,urlAfterRedirects:w,extras:qt(je({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,yt(o)}else{let v="";return this.events.next(new Nl(l.id,this.urlSerializer.serialize(l.extractedUrl),v,q0.IgnoredByUrlHandlingStrategy)),l.resolve(null),Mr}}),lr(l=>{let c=new zw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),kt(l=>(this.currentTransition=o=qt(je({},l),{guards:Uj(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Qj(this.environmentInjector,l=>this.events.next(l)),lr(l=>{if(o.guardsResult=l.guardsResult,Ed(l.guardsResult))throw ZI(this.urlSerializer,l.guardsResult);let c=new $w(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ri(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Io.GuardRejected),!1)),jw(l=>{if(l.guards.canActivateChecks.length)return yt(l).pipe(lr(c=>{let f=new Ww(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),Jr(c=>{let f=!1;return yt(c).pipe(xV(this.paramsInheritanceStrategy,this.environmentInjector),lr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(c,"",Io.NoDataFromResolver)}}))}),lr(c=>{let f=new Gw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}))}),jw(l=>{let c=f=>{let v=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(f.routeConfig).pipe(lr(w=>{f.component=w}),kt(()=>{})));for(let w of f.children)v.push(...c(w));return v};return zf(c(l.targetSnapshot.root)).pipe(pl(null),Xr(1))}),jw(()=>this.afterPreactivation()),Jr(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return f?Un(f).pipe(kt(()=>o)):yt(o)}),kt(l=>{let c=Pj(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=qt(je({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),lr(()=>{this.events.next(new Rh)}),Bj(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xr(1),lr({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Yf(this.transitionAbortSubject.pipe(lr(l=>{throw l}))),Us(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Io.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ps(l=>{if(a=!0,QI(l))this.events.next(new Tl(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Rj(l)?this.events.next(new Lh(l.url)):o.resolve(!1);else{this.events.next(new Fh(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return Mr}))}))}cancelNavigationTransition(e,i,r){let o=new Tl(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function OV(t){return t!==Nh}var FV=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se(RV),providedIn:"root"})}}return t})(),u2=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},RV=(()=>{class t extends u2{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sA=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se(LV),providedIn:"root"})}}return t})(),LV=(()=>{class t extends sA{constructor(){super(...arguments),this.location=Se(yd),this.urlSerializer=Se(qh),this.options=Se(Yh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Se(g2),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Al,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$I(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Md)this.stateMemento=this.createStateMemento();else if(e instanceof Nl)this.rawUrlTree=i.initialUrl;else if(e instanceof z0){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof Rh?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof Tl&&(e.code===Io.GuardRejected||e.code===Io.NoDataFromResolver)?this.restoreHistory(i):e instanceof Fh?this.restoreHistory(i,!0):e instanceof xs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=je(je({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=je(je({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ah=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ah||{});function aA(t,n){t.events.pipe(Ri(e=>e instanceof xs||e instanceof Tl||e instanceof Fh||e instanceof Nl),kt(e=>e instanceof xs||e instanceof Nl?Ah.COMPLETE:(e instanceof Tl?e.code===Io.Redirect||e.code===Io.SupersededByNewNavigation:!1)?Ah.REDIRECTING:Ah.FAILED),Ri(e=>e!==Ah.REDIRECTING),Xr(1)).subscribe(()=>{n()})}function jV(t){throw t}var VV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Se(u0),this.stateManager=Se(sA),this.options=Se(Yh,{optional:!0})||{},this.pendingTasks=Se(qc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Se(v2),this.urlSerializer=Se(qh),this.location=Se(yd),this.urlHandlingStrategy=Se(g2),this._events=new Ln,this.errorHandler=this.options.errorHandler||jV,this.navigated=!1,this.routeReuseStrategy=Se(FV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Se(Uh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Se(X0,{optional:!0}),this.eventsSubscription=new yi,this.isNgZoneEnabled=Se(hn)instanceof hn&&hn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Tl&&i.code!==Io.Redirect&&i.code!==Io.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof xs)this.navigated=!0;else if(i instanceof Lh){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||OV(r.source)};this.scheduleNavigation(s,Nh,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}HV(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=je({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(h2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,f=null;switch(a){case"merge":f=je(je({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let v;try{let w=r?r.snapshot:this.routerState.snapshot.root;v=UI(w)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),v=this.currentUrlTree.root}return HI(v,e,f,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Ed(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Nh,null,i)}navigate(e,i={skipLocationChange:!1}){return UV(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=je({},VV):i===!1?r=je({},BV):r=i,Ed(e))return SI(this.currentUrlTree,e,r);let o=this.parseUrl(e);return SI(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((v,w)=>{a=v,l=w});let f=this.pendingTasks.add();return aA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(v=>Promise.reject(v))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UV(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new Be(4008,!1)}function HV(t){return!(t instanceof Rh)&&!(t instanceof Lh)}var kl=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ln,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof xs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e!=null?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:NM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||t)(W(zn),W(Zs),Pb("tabindex"),W(di),W(pt),W(Ra))}}static{this.\u0275dir=Ft({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&j("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Xt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Nn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ml],skipLocationChange:[Nn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ml],replaceUrl:[Nn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ml],routerLink:"routerLink"},standalone:!0,features:[tw,ir]})}}return t})(),ev=(()=>{class t{get isActive(){return this._isActive}constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ht,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof xs&&this.update()})}ngAfterContentInit(){yt(this.links.changes,yt(null)).pipe(Bs()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Un(e).pipe(Bs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=qV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||t)(W(zn),W(pt),W(di),W(Hr),W(kl,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&AD(o,kl,5),i&2){let s;oi(s=si())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ir]})}}return t})();function qV(t){return!!t.paths}var Q0=class{};var zV=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ri(e=>e instanceof xs),Sa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=a0(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Un(r).pipe(Bs())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=yt(null);let o=r.pipe(ci(s=>s===null?yt(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return Un([o,s]).pipe(Bs())}else return o})}static{this.\u0275fac=function(i){return new(i||t)(Le(zn),Le(f0),Le(Ar),Le(Q0),Le(m2))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lA=new st(""),$V=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Se(Ar),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Md?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof xs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Nl&&e.code===q0.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof $0&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>Rn(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),s0(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new $0(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){zM()}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();function cA(t,...n){return Da([{provide:Uh,multi:!0,useValue:t},[],{provide:Zs,useFactory:uA,deps:[zn]},{provide:yh,multi:!0,useFactory:dA},n.map(e=>e.\u0275providers)])}function uA(t){return t.routerState.root}function Zh(t,n){return{\u0275kind:t,\u0275providers:n}}function dA(){let t=Se(rr);return n=>{let e=t.get(Qo);if(n!==e.components[0])return;let i=t.get(zn),r=t.get(fA);t.get(y2)===1&&i.initialNavigation(),t.get(hA,null,rn.Optional)?.setUpPreloading(),t.get(lA,null,rn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var fA=new st("",{factory:()=>new Ln}),y2=new st("",{providedIn:"root",factory:()=>1});function WV(){return Zh(2,[{provide:y2,useValue:0},{provide:d0,multi:!0,deps:[rr],useFactory:n=>{let e=n.get(ZD,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=n.get(zn),o=n.get(fA);aA(r,()=>{i(!0)}),n.get(v2).afterPreactivation=()=>(i(!0),o.closed?yt(void 0):o),r.initialNavigation()}))}}])}function GV(){return Zh(3,[{provide:d0,multi:!0,useFactory:()=>{let n=Se(zn);return()=>{n.setUpLocationChangeListener()}}},{provide:y2,useValue:2}])}var hA=new st("");function YV(t){return Zh(0,[{provide:hA,useExisting:zV},{provide:Q0,useExisting:t}])}function ZV(){return Zh(8,[DI,{provide:X0,useExisting:DI}])}function KV(t){let n=[{provide:rA,useValue:kV},{provide:oA,useValue:je({skipNextTransition:!!t?.skipInitialTransition},t)}];return Zh(9,n)}var AI=new st("ROUTER_FORROOT_GUARD"),QV=[yd,{provide:qh,useClass:Ph},zn,zh,{provide:Zs,useFactory:uA,deps:[zn]},m2,[]],tv=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[QV,[],{provide:Uh,multi:!0,useValue:e},{provide:AI,useFactory:tB,deps:[[zn,new ch,new Vg]]},{provide:Yh,useValue:i||{}},i?.useHash?JV():eB(),XV(),i?.preloadingStrategy?YV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?nB(i):[],i?.bindToComponentInputs?ZV().\u0275providers:[],i?.enableViewTransitions?KV().\u0275providers:[],iB()]}}static forChild(e){return{ngModule:t,providers:[{provide:Uh,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)(Le(AI,8))}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({})}}return t})();function XV(){return{provide:lA,useFactory:()=>{let t=Se(rI),n=Se(hn),e=Se(Yh),i=Se(v2),r=Se(qh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new $V(r,i,t,n,e)}}}function JV(){return{provide:Ra,useClass:QD}}function eB(){return{provide:Ra,useClass:bw}}function tB(t){return"guarded"}function nB(t){return[t.initialNavigation==="disabled"?GV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?WV().\u0275providers:[]]}var TI=new st("");function iB(){return[{provide:TI,useFactory:dA},{provide:yh,multi:!0,useExisting:TI}]}var Yt=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Yt||{}),Qs="*";function nv(t,n){return{type:Yt.Trigger,name:t,definitions:n,options:{}}}function Es(t,n=null){return{type:Yt.Animate,styles:n,timings:t}}function C2(t,n=null){return{type:Yt.Sequence,steps:t,options:n}}function or(t){return{type:Yt.Style,styles:t,offset:null}}function Td(t,n,e){return{type:Yt.State,name:t,styles:n,options:e}}function Nd(t,n,e=null){return{type:Yt.Transition,expr:t,animation:n,options:e}}var kd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:()=>Se(rB),providedIn:"root"})}}return t})(),_2=class{},rB=(()=>{class t extends kd{constructor(e,i){super(),this.animationModuleType=Se(hh,{optional:!0}),this._nextAnimationId=0;let r={id:"0",encapsulation:qo.None,styles:[],data:{animation:[]}};if(this._renderer=e.createRenderer(i.body,r),this.animationModuleType===null&&!sB(this._renderer))throw new Be(3600,!1)}build(e){let i=this._nextAnimationId;this._nextAnimationId++;let r=Array.isArray(e)?C2(e):e;return pA(this._renderer,null,i,"register",[r]),new b2(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||t)(Le(yo),Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),b2=class extends _2{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new w2(this._id,n,e||{},this._renderer)}},w2=class{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){pA(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return oB(this._renderer)?.engine?.players[this.id]?.getPosition()??0}};function pA(t,n,e,i,r){t.setProperty(n,`@@${e}:${i}`,r)}function oB(t){let n=t.\u0275type;return n===0?t:n===1?t.animationRenderer:null}function sB(t){let n=t.\u0275type;return n===0||n===1}var Ol=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Kh=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},iv="!";function gA(t){return new Be(3e3,!1)}function aB(){return new Be(3100,!1)}function lB(){return new Be(3101,!1)}function cB(t){return new Be(3001,!1)}function uB(t){return new Be(3003,!1)}function dB(t){return new Be(3004,!1)}function fB(t,n){return new Be(3005,!1)}function hB(){return new Be(3006,!1)}function pB(){return new Be(3007,!1)}function mB(t,n){return new Be(3008,!1)}function gB(t){return new Be(3002,!1)}function vB(t,n,e,i,r){return new Be(3010,!1)}function yB(){return new Be(3011,!1)}function _B(){return new Be(3012,!1)}function bB(){return new Be(3200,!1)}function wB(){return new Be(3202,!1)}function CB(){return new Be(3013,!1)}function SB(t){return new Be(3014,!1)}function xB(t){return new Be(3015,!1)}function EB(t){return new Be(3016,!1)}function MB(t,n){return new Be(3404,!1)}function DB(t){return new Be(3502,!1)}function IB(t){return new Be(3503,!1)}function AB(){return new Be(3300,!1)}function TB(t){return new Be(3504,!1)}function NB(t){return new Be(3301,!1)}function kB(t,n){return new Be(3302,!1)}function PB(t){return new Be(3303,!1)}function OB(t,n){return new Be(3400,!1)}function FB(t){return new Be(3401,!1)}function RB(t){return new Be(3402,!1)}function LB(t,n){return new Be(3505,!1)}function Fl(t){switch(t.length){case 0:return new Ol;case 1:return t[0];default:return new Kh(t)}}function TA(t,n,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(n.forEach(l=>{let c=l.get("offset"),f=c==s,v=f&&a||new Map;l.forEach((w,h)=>{let S=h,x=w;if(h!=="offset")switch(S=t.normalizePropertyName(S,r),x){case iv:x=e.get(h);break;case Qs:x=i.get(h);break;default:x=t.normalizeStyleValue(h,S,x,r);break}v.set(S,x)}),f||o.push(v),a=v,s=c}),r.length)throw DB(r);return o}function $2(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&S2(e,"start",t)));break;case"done":t.onDone(()=>i(e&&S2(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&S2(e,"destroy",t)));break}}function S2(t,n,e){let i=e.totalTime,r=!!e.disabled,o=W2(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function W2(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function To(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function vA(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var jB=typeof document>"u"?null:document.documentElement;function G2(t){let n=t.parentNode||t.host||null;return n===jB?null:n}function VB(t){return t.substring(1,6)=="ebkit"}var Yc=null,yA=!1;function BB(t){Yc||(Yc=UB()||{},yA=Yc.style?"WebkitAppearance"in Yc.style:!1);let n=!0;return Yc.style&&!VB(t)&&(n=t in Yc.style,!n&&yA&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Yc.style)),n}function UB(){return typeof document<"u"?document.body:null}function NA(t,n){for(;n;){if(n===t)return!0;n=G2(n)}return!1}function kA(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var Y2=(()=>{class t{validateStyleProperty(e){return BB(e)}matchesElement(e,i){return!1}containsElement(e,i){return NA(e,i)}getParentElement(e){return G2(e)}query(e,i,r){return kA(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Ol(r,o)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})(),Qc=class{static{this.NOOP=new Y2}},Xc=class{};var HB=1e3,PA="{{",qB="}}",OA="ng-enter",A2="ng-leave",rv="ng-trigger",cv=".ng-trigger",_A="ng-animating",T2=".ng-animating";function La(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:N2(parseFloat(n[1]),n[2])}function N2(t,n){switch(n){case"s":return t*HB;default:return t}}function uv(t,n,e){return t.hasOwnProperty("duration")?t:zB(t,n,e)}function zB(t,n,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return n.push(gA(t)),{duration:0,delay:0,easing:""};r=N2(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=N2(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(aB()),a=!0),o<0&&(n.push(lB()),a=!0),a&&n.splice(l,0,gA(t))}return{duration:r,delay:o,easing:s}}function $B(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function Xs(t,n,e){n.forEach((i,r)=>{let o=Z2(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function Kc(t,n){n.forEach((e,i)=>{let r=Z2(i);t.style[r]=""})}function Qh(t){return Array.isArray(t)?t.length==1?t[0]:C2(t):t}function WB(t,n,e){let i=n.params||{},r=FA(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(cB(o))})}var k2=new RegExp(`${PA}\\s*(.+?)\\s*${qB}`,"g");function FA(t){let n=[];if(typeof t=="string"){let e;for(;e=k2.exec(t);)n.push(e[1]);k2.lastIndex=0}return n}function Jh(t,n,e){let i=`${t}`,r=i.replace(k2,(o,s)=>{let a=n[s];return a==null&&(e.push(uB(s)),a=""),a.toString()});return r==i?t:r}var GB=/-+([a-z0-9])/g;function Z2(t){return t.replace(GB,(...n)=>n[1].toUpperCase())}function YB(t,n){return t===0||n===0}function ZB(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(a=>s.set(a,K2(t,a)))}}return n}function Ao(t,n,e){switch(n.type){case Yt.Trigger:return t.visitTrigger(n,e);case Yt.State:return t.visitState(n,e);case Yt.Transition:return t.visitTransition(n,e);case Yt.Sequence:return t.visitSequence(n,e);case Yt.Group:return t.visitGroup(n,e);case Yt.Animate:return t.visitAnimate(n,e);case Yt.Keyframes:return t.visitKeyframes(n,e);case Yt.Style:return t.visitStyle(n,e);case Yt.Reference:return t.visitReference(n,e);case Yt.AnimateChild:return t.visitAnimateChild(n,e);case Yt.AnimateRef:return t.visitAnimateRef(n,e);case Yt.Query:return t.visitQuery(n,e);case Yt.Stagger:return t.visitStagger(n,e);default:throw dB(n.type)}}function K2(t,n){return window.getComputedStyle(t)[n]}var KB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),dv=class extends Xc{normalizePropertyName(n,e){return Z2(n)}normalizeStyleValue(n,e,i,r){let o="",s=i.toString().trim();if(KB.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(fB(n,i))}return s+o}};var fv="*";function QB(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>XB(i,e,n)):e.push(t),e}function XB(t,n,e){if(t[0]==":"){let l=JB(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(xB(t)),n;let r=i[1],o=i[2],s=i[3];n.push(bA(r,s));let a=r==fv&&s==fv;o[0]=="<"&&!a&&n.push(bA(s,r))}function JB(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(EB(t)),"* => *"}}var ov=new Set(["true","1"]),sv=new Set(["false","0"]);function bA(t,n){let e=ov.has(t)||sv.has(t),i=ov.has(n)||sv.has(n);return(r,o)=>{let s=t==fv||t==r,a=n==fv||n==o;return!s&&e&&typeof r=="boolean"&&(s=r?ov.has(t):sv.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?ov.has(n):sv.has(n)),s&&a}}var RA=":self",eU=new RegExp(`s*${RA}s*,?`,"g");function LA(t,n,e,i){return new P2(t).build(n,e,i)}var wA="",P2=class{constructor(n){this._driver=n}build(n,e,i){let r=new O2(e);return this._resetContextStyleTimingState(r),Ao(this,Qh(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=wA,n.collectedStyles=new Map,n.collectedStyles.set(wA,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return n.name.charAt(0)=="@"&&e.errors.push(hB()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Yt.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==Yt.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(pB())}),{type:Yt.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{FA(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(mB(n.name,[...o.values()]))}return{type:Yt.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=Ao(this,Qh(n.animation),e),r=QB(n.expr,e.errors);return{type:Yt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Zc(n.options)}}visitSequence(n,e){return{type:Yt.Sequence,steps:n.steps.map(i=>Ao(this,i,e)),options:Zc(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,o=n.steps.map(s=>{e.currentTime=i;let a=Ao(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Yt.Group,steps:o,options:Zc(n.options)}}visitAnimate(n,e){let i=rU(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:or({});if(o.type==Yt.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=or(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Yt.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)typeof a=="string"?a===Qs?i.push(a):e.errors.push(gB(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(PA)>=0){o=!0;break}}}),{type:Yt.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),f=c.get(l),v=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(e.errors.push(vB(l,f.startTime,f.endTime,o,r)),v=!1),o=f.startTime),v&&c.set(l,{startTime:o,endTime:r}),e.options&&WB(a,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:Yt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(yB()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,f=n.steps.map(D=>{let Z=this._makeStyleAst(D,e),G=Z.offset!=null?Z.offset:iU(Z.styles),H=0;return G!=null&&(o++,H=Z.offset=G),l=l||H<0||H>1,a=a||H<c,c=H,s.push(H),Z});l&&e.errors.push(_B()),a&&e.errors.push(bB());let v=n.steps.length,w=0;o>0&&o<v?e.errors.push(wB()):o==0&&(w=r/(v-1));let h=v-1,S=e.currentTime,x=e.currentAnimateTimings,k=x.duration;return f.forEach((D,Z)=>{let G=w>0?Z==h?1:w*Z:s[Z],H=G*k;e.currentTime=S+x.delay+H,x.duration=H,this._validateStyleAst(D,e),D.offset=G,i.styles.push(D)}),i}visitReference(n,e){return{type:Yt.Reference,animation:Ao(this,Qh(n.animation),e),options:Zc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Yt.AnimateChild,options:Zc(n.options)}}visitAnimateRef(n,e){return{type:Yt.AnimateRef,animation:this.visitReference(n.animation,e),options:Zc(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[o,s]=tU(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,To(e.collectedStyles,e.currentQuerySelector,new Map);let a=Ao(this,Qh(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Yt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Zc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(CB());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:uv(n.timings,e.errors,!0);return{type:Yt.Stagger,animation:Ao(this,Qh(n.animation),e),timings:i,options:null}}};function tU(t){let n=!!t.split(/\s*,\s*/).find(e=>e==RA);return n&&(t=t.replace(eU,"")),t=t.replace(/@\*/g,cv).replace(/@\w+/g,e=>cv+"-"+e.slice(1)).replace(/:animating/g,T2),[t,n]}function nU(t){return t?je({},t):null}var O2=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function iU(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function rU(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=uv(t,n).duration;return x2(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=x2(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=uv(e,n);return x2(r.duration,r.delay,r.easing)}function Zc(t){return t?(t=je({},t),t.params&&(t.params=nU(t.params))):t={},t}function x2(t,n,e){return{duration:t,delay:n,easing:e}}function Q2(t,n,e,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ep=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},oU=1,sU=":enter",aU=new RegExp(sU,"g"),lU=":leave",cU=new RegExp(lU,"g");function jA(t,n,e,i,r,o=new Map,s=new Map,a,l,c=[]){return new F2().buildKeyframes(t,n,e,i,r,o,s,a,l,c)}var F2=class{buildKeyframes(n,e,i,r,o,s,a,l,c,f=[]){c=c||new ep;let v=new R2(n,e,c,r,o,f,[]);v.options=l;let w=l.delay?La(l.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([s],null,v.errors,l),Ao(this,i,v);let h=v.timelines.filter(S=>S.containsAnimation());if(h.length&&a.size){let S;for(let x=h.length-1;x>=0;x--){let k=h[x];if(k.element===e){S=k;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,v.errors,l)}return h.length?h.map(S=>S.buildKeyframes()):[Q2(e,[],[],[],0,w,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let o=r?.delay;if(o){let s=typeof o=="number"?o:La(Jh(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?La(i.duration):null,a=i.delay!=null?La(i.delay):null;return s!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Ao(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Yt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hv);let s=La(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>Ao(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,o=n.options&&n.options.delay?La(n.options.delay):0;n.steps.forEach(s=>{let a=e.createSubContext(n.options);o&&a.delayNextStep(o),Ao(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?Jh(i,e.params,e.errors):i;return uv(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=n.style;o.type==Yt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?La(r.delay):0;o&&(e.previousNode.type===Yt.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hv);let s=i,a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,f)=>{e.currentQueryIndex=f;let v=e.createSubContext(n.options,c);o&&v.delayNextStep(o),c===e.element&&(l=v.currentTimeline),Ao(this,n.animation,v),v.currentTimeline.applyStylesToKeyframe();let w=v.currentTimeline.currentTime;s=Math.max(s,w)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let f=e.currentTimeline;l&&f.delayNextStep(l);let v=f.currentTime;Ao(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},hv={},R2=class t{constructor(n,e,i,r,o,s,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new pv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=La(i.duration)),i.delay!=null&&(r.delay=La(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Jh(o[a],s,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=hv,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new L2(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let a=[];if(r&&a.push(this.element),n.length>0){n=n.replace(aU,"."+this._enterClassName),n=n.replace(cU,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(SB(e)),a}},pv=class t{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oU,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Qs),this._currentKeyframe.set(e,Qs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=uU(n,this._globalTimelineStyles);for(let[a,l]of s){let c=Jh(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Qs),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((f,v)=>{f===iv?n.add(v):f===Qs&&e.add(v)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...n.values()],s=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Q2(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},L2=class extends pv{constructor(n,e,i,r,o,s,a=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",CA(a)),o.push(c);let f=n.length-1;for(let v=1;v<=f;v++){let w=new Map(n[v]),h=w.get("offset"),S=e+h*i;w.set("offset",CA(S/s)),o.push(w)}i=s,e=0,r="",n=o}return Q2(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function CA(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function uU(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let o of i)e.set(o,Qs)}else for(let[o,s]of r)e.set(o,s)}),e}function SA(t,n,e,i,r,o,s,a,l,c,f,v,w){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:f,totalTime:v,errors:w}}var E2={},mv=class{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return dU(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,a,l,c,f){let v=[],w=this.ast.options&&this.ast.options.params||E2,h=a&&a.params||E2,S=this.buildStyles(i,h,v),x=l&&l.params||E2,k=this.buildStyles(r,x,v),D=new Set,Z=new Map,G=new Map,H=r==="void",he={params:VA(x,w),delay:this.ast.options?.delay},we=f?[]:jA(n,e,this.ast.animation,o,s,S,k,he,c,v),ge=0;return we.forEach(te=>{ge=Math.max(te.duration+te.delay,ge)}),v.length?SA(e,this._triggerName,i,r,H,S,k,[],[],Z,G,ge,v):(we.forEach(te=>{let $=te.element,ae=To(Z,$,new Set);te.preStyleProps.forEach(R=>ae.add(R));let N=To(G,$,new Set);te.postStyleProps.forEach(R=>N.add(R)),$!==e&&D.add($)}),SA(e,this._triggerName,i,r,H,S,k,we,[...D.values()],Z,G,ge))}};function dU(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}function VA(t,n){let e=je({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var j2=class{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=VA(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Jh(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}};function fU(t,n,e){return new V2(t,n,e)}var V2=class{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new j2(r.style,o,i))}),xA(this.states,"true","1"),xA(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new mv(n,r,this.states))}),this.fallbackTransition=hU(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function hU(t,n,e){let i=[(s,a)=>!0],r={type:Yt.Sequence,steps:[],options:null},o={type:Yt.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new mv(t,o,n)}function xA(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var pU=new ep,B2=class{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){let i=[],r=[],o=LA(this._driver,e,i,r);if(i.length)throw IB(i);r.length&&void 0,this._animations.set(n,o)}_buildPlayer(n,e,i){let r=n.element,o=TA(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],o=this._animations.get(n),s,a=new Map;if(o?(s=jA(this._driver,e,o,OA,A2,new Map,new Map,i,pU,r),s.forEach(f=>{let v=To(a,f.element,new Map);f.postStyleProps.forEach(w=>v.set(w,null))})):(r.push(AB()),s=[]),r.length)throw TB(r);a.forEach((f,v)=>{f.forEach((w,h)=>{f.set(h,this._driver.computeStyle(v,h,Qs))})});let l=s.map(f=>{let v=a.get(f.element);return this._buildPlayer(f,new Map,v)}),c=Fl(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw NB(n);return e}listen(n,e,i,r){let o=W2(e,"","","");return $2(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(n,e,s);return}let o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},EA="ng-animate-queued",mU=".ng-animate-queued",M2="ng-animate-disabled",gU=".ng-animate-disabled",vU="ng-star-inserted",yU=".ng-star-inserted",_U=[],BA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ms="__ng_removed",tp=class{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=CU(r),i){let o=n,{value:s}=o,a=sy(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Xh="void",D2=new tp(Xh),U2=class{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ts(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw kB(i,e);if(i==null||i.length==0)throw PB(e);if(!SU(i))throw OB(i,e);let o=To(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);let a=To(this._engine.statesByElement,n,new Map);return a.has(e)||(ts(n,rv),ts(n,rv+"-"+e),a.set(e,D2)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw FB(n);return e}trigger(n,e,i,r=!0){let o=this._getTrigger(e),s=new np(this.id,e,n),a=this._engine.statesByElement.get(n);a||(ts(n,rv),ts(n,rv+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e),c=new tp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=D2),!(c.value===Xh)&&l.value===c.value){if(!MU(l.params,c.params)){let x=[],k=o.matchStyles(l.value,l.params,x),D=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Kc(n,k),Xs(n,D)})}return}let w=To(this._engine.playersByElement,n,[]);w.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let h=o.matchTransition(l.value,c.value,n,c.params),S=!1;if(!h){if(!r)return;h=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:S}),S||(ts(n,EA),s.onStart(()=>{Pd(n,EA)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);let k=this._engine.playersByElement.get(n);if(k){let D=k.indexOf(s);D>=0&&k.splice(D,1)}}),this.players.push(s),w.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,cv,!0);i.forEach(r=>{if(r[Ms])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let o=this._engine.statesByElement.get(n),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let f=this.trigger(n,c,Xh,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&Fl(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||D2,f=new tp(Xh),v=new np(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:f,player:v,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let o=n[Ms];(!o||o===BA)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){ts(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=W2(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,$2(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},H2=class{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,r){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new U2(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(n,e,i,r){if(av(e)){let o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!av(e))return;let o=e[Ms];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){let s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ts(n,M2)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Pd(n,M2))}removeNode(n,e,i){if(av(e)){this.scheduler?.notify();let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Ms]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return av(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,cv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,T2,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Fl(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[Ms];if(e&&e.setForRemoval){if(n[Ms]=BA,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(M2)&&this.markElementAsDisabled(n,!1),this.driver.query(n,gU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ts(r,vU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Fl(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw RB(n)}_flushAnimations(n,e){let i=new ep,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(oe=>{f.add(oe);let le=this.driver.query(oe,mU,!0);for(let ne=0;ne<le.length;ne++)f.add(le[ne])});let v=this.bodyNode,w=Array.from(this.statesByElement.keys()),h=IA(w,this.collectedEnterElements),S=new Map,x=0;h.forEach((oe,le)=>{let ne=OA+x++;S.set(le,ne),oe.forEach(pe=>ts(pe,ne))});let k=[],D=new Set,Z=new Set;for(let oe=0;oe<this.collectedLeaveElements.length;oe++){let le=this.collectedLeaveElements[oe],ne=le[Ms];ne&&ne.setForRemoval&&(k.push(le),D.add(le),ne.hasAnimation?this.driver.query(le,yU,!0).forEach(pe=>D.add(pe)):Z.add(le))}let G=new Map,H=IA(w,Array.from(D));H.forEach((oe,le)=>{let ne=A2+x++;G.set(le,ne),oe.forEach(pe=>ts(pe,ne))}),n.push(()=>{h.forEach((oe,le)=>{let ne=S.get(le);oe.forEach(pe=>Pd(pe,ne))}),H.forEach((oe,le)=>{let ne=G.get(le);oe.forEach(pe=>Pd(pe,ne))}),k.forEach(oe=>{this.processLeaveNode(oe)})});let he=[],we=[];for(let oe=this._namespaceList.length-1;oe>=0;oe--)this._namespaceList[oe].drainQueuedTransitions(e).forEach(ne=>{let pe=ne.player,Pe=ne.element;if(he.push(pe),this.collectedEnterElements.length){let de=Pe[Ms];if(de&&de.setForMove){if(de.previousTriggersValues&&de.previousTriggersValues.has(ne.triggerName)){let Ce=de.previousTriggersValues.get(ne.triggerName),_e=this.statesByElement.get(ne.element);if(_e&&_e.has(ne.triggerName)){let Ie=_e.get(ne.triggerName);Ie.value=Ce,_e.set(ne.triggerName,Ie)}}pe.destroy();return}}let Te=!v||!this.driver.containsElement(v,Pe),A=G.get(Pe),q=S.get(Pe),z=this._buildInstruction(ne,i,q,A,Te);if(z.errors&&z.errors.length){we.push(z);return}if(Te){pe.onStart(()=>Kc(Pe,z.fromStyles)),pe.onDestroy(()=>Xs(Pe,z.toStyles)),r.push(pe);return}if(ne.isFallbackTransition){pe.onStart(()=>Kc(Pe,z.fromStyles)),pe.onDestroy(()=>Xs(Pe,z.toStyles)),r.push(pe);return}let ie=[];z.timelines.forEach(de=>{de.stretchStartingKeyframe=!0,this.disabledNodes.has(de.element)||ie.push(de)}),z.timelines=ie,i.append(Pe,z.timelines);let ce={instruction:z,player:pe,element:Pe};s.push(ce),z.queriedElements.forEach(de=>To(a,de,[]).push(pe)),z.preStyleProps.forEach((de,Ce)=>{if(de.size){let _e=l.get(Ce);_e||l.set(Ce,_e=new Set),de.forEach((Ie,Ve)=>_e.add(Ve))}}),z.postStyleProps.forEach((de,Ce)=>{let _e=c.get(Ce);_e||c.set(Ce,_e=new Set),de.forEach((Ie,Ve)=>_e.add(Ve))})});if(we.length){let oe=[];we.forEach(le=>{oe.push(LB(le.triggerName,le.errors))}),he.forEach(le=>le.destroy()),this.reportError(oe)}let ge=new Map,te=new Map;s.forEach(oe=>{let le=oe.element;i.has(le)&&(te.set(le,le),this._beforeAnimationBuild(oe.player.namespaceId,oe.instruction,ge))}),r.forEach(oe=>{let le=oe.element;this._getPreviousPlayers(le,!1,oe.namespaceId,oe.triggerName,null).forEach(pe=>{To(ge,le,[]).push(pe),pe.destroy()})});let $=k.filter(oe=>AA(oe,l,c)),ae=new Map;DA(ae,this.driver,Z,c,Qs).forEach(oe=>{AA(oe,l,c)&&$.push(oe)});let R=new Map;h.forEach((oe,le)=>{DA(R,this.driver,new Set(oe),l,iv)}),$.forEach(oe=>{let le=ae.get(oe),ne=R.get(oe);ae.set(oe,new Map([...le?.entries()??[],...ne?.entries()??[]]))});let X=[],J=[],be={};s.forEach(oe=>{let{element:le,player:ne,instruction:pe}=oe;if(i.has(le)){if(f.has(le)){ne.onDestroy(()=>Xs(le,pe.toStyles)),ne.disabled=!0,ne.overrideTotalTime(pe.totalTime),r.push(ne);return}let Pe=be;if(te.size>1){let A=le,q=[];for(;A=A.parentNode;){let z=te.get(A);if(z){Pe=z;break}q.push(A)}q.forEach(z=>te.set(z,Pe))}let Te=this._buildAnimation(ne.namespaceId,pe,ge,o,R,ae);if(ne.setRealPlayer(Te),Pe===be)X.push(ne);else{let A=this.playersByElement.get(Pe);A&&A.length&&(ne.parentPlayer=Fl(A)),r.push(ne)}}else Kc(le,pe.fromStyles),ne.onDestroy(()=>Xs(le,pe.toStyles)),J.push(ne),f.has(le)&&r.push(ne)}),J.forEach(oe=>{let le=o.get(oe.element);if(le&&le.length){let ne=Fl(le);oe.setRealPlayer(ne)}}),r.forEach(oe=>{oe.parentPlayer?oe.syncPlayerEvents(oe.parentPlayer):oe.destroy()});for(let oe=0;oe<k.length;oe++){let le=k[oe],ne=le[Ms];if(Pd(le,A2),ne&&ne.hasAnimation)continue;let pe=[];if(a.size){let Te=a.get(le);Te&&Te.length&&pe.push(...Te);let A=this.driver.query(le,T2,!0);for(let q=0;q<A.length;q++){let z=a.get(A[q]);z&&z.length&&pe.push(...z)}}let Pe=pe.filter(Te=>!Te.destroyed);Pe.length?xU(this,le,Pe):this.processLeaveNode(le)}return k.length=0,X.forEach(oe=>{this.players.push(oe),oe.onDone(()=>{oe.destroy();let le=this.players.indexOf(oe);this.players.splice(le,1)}),oe.play()}),X}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(n);a&&(s=a)}else{let a=this.playersByElement.get(n);if(a){let l=!o||o==Xh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(n,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,f=c!==o,v=To(i,c,[]);this._getPreviousPlayers(c,f,s,a,e.toState).forEach(h=>{let S=h.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),h.destroy(),v.push(h)})}Kc(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){let a=e.triggerName,l=e.element,c=[],f=new Set,v=new Set,w=e.timelines.map(S=>{let x=S.element;f.add(x);let k=x[Ms];if(k&&k.removedBeforeQueried)return new Ol(S.duration,S.delay);let D=x!==l,Z=EU((i.get(x)||_U).map(ge=>ge.getRealPlayer())).filter(ge=>{let te=ge;return te.element?te.element===x:!1}),G=o.get(x),H=s.get(x),he=TA(this._normalizer,S.keyframes,G,H),we=this._buildPlayer(S,he,Z);if(S.subTimeline&&r&&v.add(x),D){let ge=new np(n,a,x);ge.setRealPlayer(we),c.push(ge)}return we});c.forEach(S=>{To(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>wU(this.playersByQueriedElement,S.element,S))}),f.forEach(S=>ts(S,_A));let h=Fl(w);return h.onDestroy(()=>{f.forEach(S=>Pd(S,_A)),Xs(l,e.toStyles)}),v.forEach(S=>{To(r,S,[]).push(h)}),h}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Ol(n.duration,n.delay)}},np=class{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Ol,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>$2(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){To(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function wU(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function CU(t){return t??null}function av(t){return t&&t.nodeType===1}function SU(t){return t=="start"||t=="done"}function MA(t,n){let e=t.style.display;return t.style.display=n??"none",e}function DA(t,n,e,i,r){let o=[];e.forEach(l=>o.push(MA(l)));let s=[];i.forEach((l,c)=>{let f=new Map;l.forEach(v=>{let w=n.computeStyle(c,v,r);f.set(v,w),(!w||w.length==0)&&(c[Ms]=bU,s.push(c))}),t.set(c,f)});let a=0;return e.forEach(l=>MA(l,o[a++])),s}function IA(t,n){let e=new Map;if(t.forEach(a=>e.set(a,[])),n.length==0)return e;let i=1,r=new Set(n),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return n.forEach(a=>{let l=s(a);l!==i&&e.get(l).push(a)}),e}function ts(t,n){t.classList?.add(n)}function Pd(t,n){t.classList?.remove(n)}function xU(t,n,e){Fl(e).onDone(()=>t.processLeaveNode(n))}function EU(t){let n=[];return UA(t,n),n}function UA(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof Kh?UA(i.players,n):n.push(i)}}function MU(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}function AA(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}var Od=class{constructor(n,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new H2(n.body,e,i,r),this._timelineEngine=new B2(n.body,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,r,o){let s=n+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],f=LA(this._driver,o,l,c);if(l.length)throw MB(r,l);c.length&&void 0,a=fU(r,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[o,s]=vA(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=vA(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function DU(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=I2(n[0]),n.length>1&&(i=I2(n[n.length-1]))):n instanceof Map&&(e=I2(n)),e||i?new q2(t,e,i):null}var q2=class t{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(n);r||t.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Xs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xs(this._element,this._initialStyles),this._endStyles&&(Xs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Kc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kc(this._element,this._endStyles),this._endStyles=null),Xs(this._element,this._initialStyles),this._state=3)}};function I2(t){let n=null;return t.forEach((e,i)=>{IU(i)&&(n=n||new Map,n.set(i,e))}),n}function IU(t){return t==="display"||t==="position"}var gv=class{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:K2(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},vv=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return NA(n,e)}getParentElement(n){return G2(n)}query(n,e,i){return kA(n,e,i)}computeStyle(n,e,i){return K2(n,e)}animate(n,e,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,f=s.filter(h=>h instanceof gv);YB(i,r)&&f.forEach(h=>{h.currentSnapshot.forEach((S,x)=>c.set(x,S))});let v=$B(e).map(h=>new Map(h));v=ZB(n,v,c);let w=DU(n,v);return new gv(n,v,l,w)}};var lv="@",HA="@.disabled",yv=class{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==lv&&e==HA?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},z2=class extends yv{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==lv?e.charAt(1)=="."&&e==HA?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if(e.charAt(0)==lv){let r=AU(n),o=e.slice(1),s="";return o.charAt(0)!=lv&&([o,s]=TU(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(n,e,i)}};function AU(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function TU(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var _v=class{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){let i="",r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,f=c.get(r);if(!f){let v=()=>c.delete(r);f=new yv(i,r,this.engine,v),c.set(r,f)}return f}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,n,c.name,c)};return e.data.animation.forEach(a),new z2(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var kU=(()=>{class t extends Od{constructor(e,i,r){super(e,i,r,Se(ad,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(Le(jn),Le(Qc),Le(Xc))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();function PU(){return new dv}function OU(t,n,e){return new _v(t,n,e)}var qA=[{provide:Xc,useFactory:PU},{provide:Od,useClass:kU},{provide:yo,useFactory:OU,deps:[O0,Od,hn]}],FU=[{provide:Qc,useFactory:()=>new vv},{provide:hh,useValue:"BrowserAnimations"},...qA],qre=[{provide:Qc,useClass:Y2},{provide:hh,useValue:"NoopAnimations"},...qA];function zA(){return ws("NgEagerAnimations"),[...FU]}var JA=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(W(di),W(pt))}}static{this.\u0275dir=Ft({type:t})}}return t})(),Iv=(()=>{class t extends JA{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275dir=Ft({type:t,features:[Ur]})}}return t})(),Jc=new st(""),RU={provide:Jc,useExisting:_o(()=>lp),multi:!0},lp=(()=>{class t extends Iv{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275dir=Ft({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&j("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Eo([RU]),Ur]})}}return t})(),LU={provide:Jc,useExisting:_o(()=>wn),multi:!0};function jU(){let t=Fa()?Fa().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var VU=new st(""),wn=(()=>{class t extends JA{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jU())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(W(di),W(pt),W(VU,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&j("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Eo([LU]),Ur]})}}return t})();function Rl(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function eT(t){return t!=null&&typeof t.length=="number"}var Ld=new st(""),cp=new st(""),BU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qn=class{static min(n){return UU(n)}static max(n){return HU(n)}static required(n){return tT(n)}static requiredTrue(n){return qU(n)}static email(n){return zU(n)}static minLength(n){return $U(n)}static maxLength(n){return WU(n)}static pattern(n){return GU(n)}static nullValidator(n){return wv(n)}static compose(n){return aT(n)}static composeAsync(n){return lT(n)}};function UU(t){return n=>{if(Rl(n.value)||Rl(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function HU(t){return n=>{if(Rl(n.value)||Rl(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function tT(t){return Rl(t.value)?{required:!0}:null}function qU(t){return t.value===!0?null:{required:!0}}function zU(t){return Rl(t.value)||BU.test(t.value)?null:{email:!0}}function $U(t){return n=>Rl(n.value)||!eT(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function WU(t){return n=>eT(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function GU(t){if(!t)return wv;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Rl(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function wv(t){return null}function nT(t){return t!=null}function iT(t){return zc(t)?Un(t):t}function rT(t){let n={};return t.forEach(e=>{n=e!=null?je(je({},n),e):n}),Object.keys(n).length===0?null:n}function oT(t,n){return n.map(e=>e(t))}function YU(t){return!t.validate}function sT(t){return t.map(n=>YU(n)?n:e=>n.validate(e))}function aT(t){if(!t)return null;let n=t.filter(nT);return n.length==0?null:function(e){return rT(oT(e,n))}}function tC(t){return t!=null?aT(sT(t)):null}function lT(t){if(!t)return null;let n=t.filter(nT);return n.length==0?null:function(e){let i=oT(e,n).map(iT);return $f(i).pipe(kt(rT))}}function nC(t){return t!=null?lT(sT(t)):null}function $A(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function cT(t){return t._rawValidators}function uT(t){return t._rawAsyncValidators}function X2(t){return t?Array.isArray(t)?t:[t]:[]}function Cv(t,n){return Array.isArray(t)?t.includes(n):t===n}function WA(t,n){let e=X2(n);return X2(t).forEach(r=>{Cv(e,r)||e.push(r)}),e}function GA(t,n){return X2(n).filter(e=>!Cv(t,e))}var Sv=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=tC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=nC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},ja=class extends Sv{get formDirective(){return null}get path(){return null}},Ds=class extends Sv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xv=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},soe=qt(je({},ZU),{"[class.ng-submitted]":"isSubmitted"}),Zt=(()=>{class t extends xv{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(W(Ds,2))}}static{this.\u0275dir=Ft({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ur]})}}return t})(),Ei=(()=>{class t extends xv{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(W(ja,10))}}static{this.\u0275dir=Ft({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ur]})}}return t})();var ip="VALID",bv="INVALID",Fd="PENDING",rp="DISABLED";function iC(t){return(Av(t)?t.validators:t)||null}function KU(t){return Array.isArray(t)?tC(t):t||null}function rC(t,n){return(Av(n)?n.asyncValidators:t)||null}function QU(t){return Array.isArray(t)?nC(t):t||null}function Av(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dT(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new Be(1e3,"");if(!i[e])throw new Be(1001,"")}function fT(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new Be(1002,"")})}var Rd=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ip}get invalid(){return this.status===bv}get pending(){return this.status==Fd}get disabled(){return this.status===rp}get enabled(){return this.status!==rp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(WA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(WA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(GA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(GA(n,this._rawAsyncValidators))}hasValidator(n){return Cv(this._rawValidators,n)}hasAsyncValidator(n){return Cv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Fd,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=rp,this.errors=null,this._forEachChild(i=>{i.disable(qt(je({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qt(je({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ip,this._forEachChild(i=>{i.enable(qt(je({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(qt(je({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ip||this.status===Fd)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rp:ip}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Fd,this._hasOwnPendingAsyncValidator=!0;let e=iT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?rp:this.errors?bv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fd)?Fd:this._anyControlsHaveStatus(bv)?bv:ip}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Av(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=KU(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=QU(this._rawAsyncValidators)}},Ll=class extends Rd{constructor(n,e,i){super(iC(e),rC(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){fT(this,!0,n),Object.keys(n).forEach(i=>{dT(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var J2=class extends Ll{};var jd=new st("CallSetDisabledState",{providedIn:"root",factory:()=>Tv}),Tv="always";function hT(t,n){return[...n.path,t]}function ap(t,n,e=Tv){oC(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),JU(t,n),t9(t,n),e9(t,n),XU(t,n)}function Ev(t,n,e=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Dv(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Mv(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function XU(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function oC(t,n){let e=cT(t);n.validator!==null?t.setValidators($A(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=uT(t);n.asyncValidator!==null?t.setAsyncValidators($A(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Mv(n._rawValidators,r),Mv(n._rawAsyncValidators,r)}function Dv(t,n){let e=!1;if(t!==null){if(n.validator!==null){let r=cT(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let r=uT(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==n.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Mv(n._rawValidators,i),Mv(n._rawAsyncValidators,i),e}function JU(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pT(t,n)})}function e9(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pT(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function pT(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function t9(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function mT(t,n){t==null,oC(t,n)}function n9(t,n){return Dv(t,n)}function sC(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function i9(t){return Object.getPrototypeOf(t.constructor)===Iv}function gT(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function aC(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===wn?e=o:i9(o)?i=o:r=o}),r||i||e||null}function r9(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}var o9={provide:ja,useExisting:_o(()=>zr)},op=Promise.resolve(),zr=(()=>{class t extends ja{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ht,this.form=new Ll({},tC(e),nC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){op.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ap(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){op.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){op.then(()=>{let i=this._findContainer(e.path),r=new Ll({});mT(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){op.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){op.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,gT(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(W(Ld,10),W(cp,10),W(jd,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&j("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[Nn.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Eo([o9]),Ur]})}}return t})();function YA(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function ZA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sp=class extends Rd{constructor(n=null,e,i){super(iC(e),rC(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Av(e)&&(e.nonNullable||e.initialValueIsDefault)&&(ZA(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){YA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){YA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){ZA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var s9=t=>t instanceof sp;var a9={provide:Ds,useExisting:_o(()=>bn)},KA=Promise.resolve(),bn=(()=>{class t extends Ds{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new sp,this._registered=!1,this.name="",this.update=new ht,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=aC(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ap(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){KA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Ml(i);KA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?hT(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(W(ja,9),W(Ld,10),W(cp,10),W(Jc,10),W(Hr,8),W(jd,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Nn.None,"disabled","isDisabled"],model:[Nn.None,"ngModel","model"],options:[Nn.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Eo([a9]),Ur,ir]})}}return t})(),Mi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Ft({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var lC=new st(""),l9={provide:Ds,useExisting:_o(()=>up)},up=(()=>{class t extends Ds{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new ht,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=aC(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&Ev(i,this,!1),ap(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}sC(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ev(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||t)(W(Ld,10),W(cp,10),W(Jc,10),W(lC,8),W(jd,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["","formControl",""]],inputs:{form:[Nn.None,"formControl","form"],isDisabled:[Nn.None,"disabled","isDisabled"],model:[Nn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Eo([l9]),Ur,ir]})}}return t})(),c9={provide:ja,useExisting:_o(()=>Va)},Va=(()=>{class t extends ja{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return ap(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ev(e.control||null,e,!1),r9(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,gT(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Ev(i||null,e),s9(r)&&(ap(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);mT(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&n9(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oC(this.form,this),this._oldForm&&Dv(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||t)(W(Ld,10),W(cp,10),W(jd,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&j("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[Nn.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Eo([c9]),Ur,ir]})}}return t})();var u9={provide:Ds,useExisting:_o(()=>Ba)},Ba=(()=>{class t extends Ds{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ht,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=aC(this,o)}ngOnChanges(e){this._added||this._setUpControl(),sC(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return hT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||t)(W(ja,13),W(Ld,10),W(cp,10),W(Jc,10),W(lC,8))}}static{this.\u0275dir=Ft({type:t,selectors:[["","formControlName",""]],inputs:{name:[Nn.None,"formControlName","name"],isDisabled:[Nn.None,"disabled","isDisabled"],model:[Nn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Eo([u9]),Ur,ir]})}}return t})(),d9={provide:Jc,useExisting:_o(()=>pi),multi:!0};function vT(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function f9(t){return t.split(":")[0]}var pi=(()=>{class t extends Iv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=vT(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=f9(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275dir=Ft({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&j("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Eo([d9]),Ur]})}}return t})(),Di=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(vT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(di),W(pi,9))}}static{this.\u0275dir=Ft({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),h9={provide:Jc,useExisting:_o(()=>yT),multi:!0};function QA(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function p9(t){return t.split(":")[0]}var yT=(()=>{class t extends Iv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=p9(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275dir=Ft({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&j("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Eo([h9]),Ur]})}}return t})(),Ii=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(QA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(QA(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(di),W(yT,9))}}static{this.\u0275dir=Ft({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var m9=(()=>{class t{constructor(){this._validator=wv}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):wv,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Ft({type:t,features:[ir]})}}return t})();var g9={provide:Ld,useExisting:_o(()=>eu),multi:!0};var eu=(()=>{class t extends m9{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ml,this.createValidator=e=>tT}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275dir=Ft({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Xt("required",r._enabled?"":null)},inputs:{required:"required"},features:[Eo([g9]),Ur]})}}return t})();var _T=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({})}}return t})(),eC=class extends Rd{constructor(n,e,i){super(iC(e),rC(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){fT(this,!1,n),n.forEach((i,r)=>{dT(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function XA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var jl=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return XA(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ll(r,o)}record(e,i=null){let r=this._reduceControls(e);return new J2(r,i)}control(e,i,r){let o={};return this.useNonNullable?(XA(i)?o=i:(o.validators=i,o.asyncValidators=r),new sp(e,qt(je({},o),{nonNullable:!0}))):new sp(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new eC(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof sp)return e;if(e instanceof Rd)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:jd,useValue:e.callSetDisabledState??Tv}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[_T]})}}return t})(),Js=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:lC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:jd,useValue:e.callSetDisabledState??Tv}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[_T]})}}return t})();var sn={production:!0,apiUrl:"api/"};var ln=(()=>{class t{constructor(){this.http=Se(pn),this.baseUrl=sn.apiUrl,this.currentUser=Hc(null),this.logoutTimer=null,this.roles=VD(()=>{let e=this.currentUser();if(!e?.token)return[];try{let i=JSON.parse(atob(e.token.split(".")[1])),r=i.role||i.roles||[];return Array.isArray(r)?r:[r]}catch(i){return console.error("Failed to decode JWT roles:",i),[]}})}getUserRole(){let e=this.roles();return e.length>0?e[0]:""}hasModules(){return(this.currentUser()?.modules??[]).length>0}getUserHasModules(){return this.hasModules()}login(e){return this.http.post(this.baseUrl+"account/login",e).pipe(kt(i=>(i&&this.setCurrentUser(i),i)))}setCurrentUser(e){let i=this.getTokenExpiryMs(e?.token),r=Date.now();if(!i||i<=r){this.clearStorage(),this.currentUser.set(null),this.clearLogoutTimer();return}sessionStorage.setItem("user",JSON.stringify(e)),this.currentUser.set(e),this.startAutoLogoutTimer(i-r)}logout(){this.clearStorage(),this.currentUser.set(null),this.clearLogoutTimer()}getTokenExpiryMs(e){if(!e)return null;try{let i=JSON.parse(atob(e.split(".")[1]));return typeof i.exp=="number"?i.exp*1e3:null}catch(i){return console.error("Failed to decode JWT exp:",i),null}}startAutoLogoutTimer(e){if(this.clearLogoutTimer(),e<=0){this.logout();return}this.logoutTimer=setTimeout(()=>{this.logout()},e)}clearLogoutTimer(){this.logoutTimer&&(clearTimeout(this.logoutTimer),this.logoutTimer=null)}clearStorage(){sessionStorage.removeItem("user")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bT=["toast-component",""];function v9(t,n){if(t&1){let e=Re();g(0,"button",5),j("click",function(){K(e);let r=L();return Q(r.remove())}),g(1,"span",6),_(2,"\xD7"),p()()}}function y9(t,n){if(t&1&&(Hn(0),_(1),qn()),t&2){let e=L(2);C(),nt("[",e.duplicatesCount+1,"]")}}function _9(t,n){if(t&1&&(g(0,"div"),_(1),ye(2,y9,2,1,"ng-container",4),p()),t&2){let e=L();xo(e.options.titleClass),Xt("aria-label",e.title),C(),nt(" ",e.title," "),C(),O("ngIf",e.duplicatesCount)}}function b9(t,n){if(t&1&&ze(0,"div",7),t&2){let e=L();xo(e.options.messageClass),O("innerHTML",e.message,mh)}}function w9(t,n){if(t&1&&(g(0,"div",8),_(1),p()),t&2){let e=L();xo(e.options.messageClass),Xt("aria-label",e.message),C(),nt(" ",e.message," ")}}function C9(t,n){if(t&1&&(g(0,"div"),ze(1,"div",9),p()),t&2){let e=L();C(),So("width",e.width()+"%")}}function S9(t,n){if(t&1){let e=Re();g(0,"button",5),j("click",function(){K(e);let r=L();return Q(r.remove())}),g(1,"span",6),_(2,"\xD7"),p()()}}function x9(t,n){if(t&1&&(Hn(0),_(1),qn()),t&2){let e=L(2);C(),nt("[",e.duplicatesCount+1,"]")}}function E9(t,n){if(t&1&&(g(0,"div"),_(1),ye(2,x9,2,1,"ng-container",4),p()),t&2){let e=L();xo(e.options.titleClass),Xt("aria-label",e.title),C(),nt(" ",e.title," "),C(),O("ngIf",e.duplicatesCount)}}function M9(t,n){if(t&1&&ze(0,"div",7),t&2){let e=L();xo(e.options.messageClass),O("innerHTML",e.message,mh)}}function D9(t,n){if(t&1&&(g(0,"div",8),_(1),p()),t&2){let e=L();xo(e.options.messageClass),Xt("aria-label",e.message),C(),nt(" ",e.message," ")}}function I9(t,n){if(t&1&&(g(0,"div"),ze(1,"div",9),p()),t&2){let e=L();C(),So("width",e.width()+"%")}}var cC=class{_attachedHost;component;viewContainerRef;injector;constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){let n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},uC=class{_attachedPortal;_disposeFn;attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}},dC=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ln;_activate=new Ln;_manualClose=new Ln;_resetTimeout=new Ln;_countDuplicate=new Ln;constructor(n){this._overlayRef=n}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Vd=class{toastId;config;message;title;toastType;toastRef;_onTap=new Ln;_onAction=new Ln;constructor(n,e,i,r,o,s){this.toastId=n,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}},wT={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},CT=new st("ToastConfig"),fC=class extends uC{_hostDomElement;_componentFactoryResolver;_appRef;constructor(n,e,i){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(n,e){let i=this._componentFactoryResolver.resolveComponentFactory(n.component),r;return r=i.create(n.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(n){return n.hostView.rootNodes[0]}},A9=(()=>{class t{_document=Se(jn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hC=class{_portalHost;constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}},T9=(()=>{class t{_overlayContainer=Se(A9);_componentFactoryResolver=Se(wl);_appRef=Se(Qo);_document=Se(jn);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new fC(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new hC(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rt=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,s){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=je(je({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=je(je({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===e;if((!s||l)&&a.message===i)return a.toastRef.onDuplicate(r,o),a}return null}applyConfig(e={}){return je(je({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&o.enableHtml&&(c=this.sanitizer.sanitize(wo.HTML,i));let f=new dC(l),v=new Vd(this.index,o,c,r,e,f),w=[{provide:Vd,useValue:v}],h=rr.create({providers:w,parent:this._injector}),S=new cC(o.toastComponent,h),x=l.attach(S,o.newestOnTop);f.componentInstance=x.instance;let k={toastId:this.index,title:r||"",message:i||"",toastRef:f,onShown:f.afterActivate(),onHidden:f.afterClosed(),onTap:v.onTap(),onAction:v.onAction(),portal:x};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{k.toastRef.activate()})),this.toasts.push(k),k}static \u0275fac=function(i){return new(i||t)(Le(CT),Le(T9),Le(rr),Le(Mh),Le(hn))};static \u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N9=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Hc(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Hc({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>qt(je({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>qt(je({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>qt(je({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||t)(W(Rt),W(Vd),W(hn))};static \u0275cmp=qe({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&j("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(rw("@flyInOut",r._state),xo(r.toastClasses),So("display",r.displayStyle))},standalone:!0,features:[$e],attrs:bT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&ye(0,v9,3,0,"button",0)(1,_9,3,5,"div",1)(2,b9,1,3,"div",2)(3,w9,2,4,"div",3)(4,C9,2,2,"div",4),i&2&&(O("ngIf",r.options.closeButton),C(),O("ngIf",r.title),C(),O("ngIf",r.message&&r.options.enableHtml),C(),O("ngIf",r.message&&!r.options.enableHtml),C(),O("ngIf",r.options.progressBar))},dependencies:[Mt],encapsulation:2,data:{animation:[nv("flyInOut",[Td("inactive",or({opacity:0})),Td("active",or({opacity:1})),Td("removed",or({opacity:0})),Nd("inactive => active",Es("{{ easeTime }}ms {{ easing }}")),Nd("active => removed",Es("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),k9=qt(je({},wT),{toastComponent:N9}),ST=(t={})=>Da([{provide:CT,useValue:{default:k9,config:t}}]);var P9=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Hc(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Hc("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(W(Rt),W(Vd),W(Qo))};static \u0275cmp=qe({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&j("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(xo(r.toastClasses),So("display",r.displayStyle))},standalone:!0,features:[$e],attrs:bT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&ye(0,S9,3,0,"button",0)(1,E9,3,5,"div",1)(2,M9,1,3,"div",2)(3,D9,2,4,"div",3)(4,I9,2,2,"div",4),i&2&&(O("ngIf",r.options.closeButton),C(),O("ngIf",r.title),C(),O("ngIf",r.message&&r.options.enableHtml),C(),O("ngIf",r.message&&!r.options.enableHtml),C(),O("ngIf",r.options.progressBar))},dependencies:[Mt],encapsulation:2,changeDetection:0})}return t})(),Doe=qt(je({},wT),{toastComponent:P9});function O9(t,n){if(t&1&&(g(0,"div",18),_(1),p()),t&2){let e=L();C(),ke(e.userNameError)}}function F9(t,n){if(t&1&&(g(0,"div",18),_(1),p()),t&2){let e=L();C(),ke(e.passwordError)}}var xT=(()=>{class t{constructor(){this.accountService=Se(ln),this.router=Se(zn),this.toastr=Se(Rt),this.model={},this.showPassword=!1,this.userNameError="",this.passwordError=""}login(){this.userNameError="",this.passwordError="",this.accountService.login(this.model).subscribe({next:()=>{let e=this.accountService.getUserRole();this.router.navigateByUrl(e==="Admin"?"/admin":"/notifications")},error:e=>{let i=e?.error;typeof i=="object"&&(this.userNameError=i?.userName||"",this.passwordError=i?.password||"")}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-home"]],standalone:!0,features:[$e],decls:24,vars:6,consts:[["loginForm","ngForm"],[1,"home-hero"],[1,"portal-banner"],[1,"login-card"],[1,"logo-box"],["src","assets/ufslogo2.png","alt","UFS Logo",1,"ufs-logo-top"],[1,"portal-title"],[1,"login-form",3,"ngSubmit"],[1,"mb-3","input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["name","userName","type","text","placeholder","Username","autocomplete","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger mt-1",4,"ngIf"],[1,"fas","fa-lock"],["name","password","placeholder","Password","autocomplete","current-password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100"],[1,"text-danger","mt-1"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"h1",2),_(2,"CSI HONOURS PORTAL"),p(),g(3,"div",3)(4,"div",4),ze(5,"img",5),p(),g(6,"h2",6),_(7,"Sign in with your Username and Password"),p(),g(8,"form",7,0),j("ngSubmit",function(){return K(o),Q(r.login())}),g(10,"div",8)(11,"span",9),ze(12,"i",10),p(),g(13,"input",11),Qe("ngModelChange",function(a){return K(o),Je(r.model.userName,a)||(r.model.userName=a),Q(a)}),p()(),ye(14,O9,2,1,"div",12),g(15,"div",8)(16,"span",9),ze(17,"i",13),p(),g(18,"input",14),Qe("ngModelChange",function(a){return K(o),Je(r.model.password,a)||(r.model.password=a),Q(a)}),p(),g(19,"span",15),j("click",function(){return K(o),Q(r.togglePasswordVisibility())}),ze(20,"i",16),p()(),ye(21,F9,2,1,"div",12),g(22,"button",17),_(23,"Login"),p()()()()}i&2&&(C(13),Ke("ngModel",r.model.userName),C(),O("ngIf",r.userNameError),C(4),O("type",r.showPassword?"text":"password"),Ke("ngModel",r.model.password),C(2),O("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),C(),O("ngIf",r.passwordError))},dependencies:[ct,ur,Mt,vn,Mi,wn,Zt,Ei,eu,bn,zr],styles:['.home-hero[_ngcontent-%COMP%]{--nav-height: 0px;--banner-card-gap: 40px;--card-pad-top: 10px;--card-pad-x: 32px;--card-pad-bottom: 24px;--card-min-h: auto;--logo-max-width: 390px;--logo-box-h: 200px;--logo-nudge-y: 20px;--logo-title-gap: 12px;--title-form-gap: 14px;margin-top:var(--nav-height);min-height:calc(100vh - var(--nav-height));display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;overflow:hidden;position:relative}.home-hero[_ngcontent-%COMP%]:before{content:"";position:fixed;top:var(--nav-height);right:0;bottom:0;left:0;background:url(/assets/background9.png) center/cover no-repeat;opacity:.98;pointer-events:none;z-index:0}.home-hero[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.portal-banner[_ngcontent-%COMP%]{margin:0 0 var(--banner-card-gap);text-transform:uppercase;color:#000!important;font-weight:800;text-align:center;letter-spacing:.5px;text-shadow:0 1px 0 rgba(0,0,0,.2),0 4px 10px rgba(0,0,0,.15);display:inline-block;padding-bottom:.25rem}.portal-banner[_ngcontent-%COMP%]:after{content:"";display:block;height:3px;width:100%;background:#0d6efd;border-radius:2px}.logo-box[_ngcontent-%COMP%]{width:min(100%,var(--logo-max-width));height:var(--logo-box-h);margin:0 auto var(--logo-title-gap);overflow:hidden;display:flex;align-items:center;justify-content:center}.ufs-logo-top[_ngcontent-%COMP%]{width:100%;height:auto;transform:translateY(var(--logo-nudge-y));display:block}.login-card[_ngcontent-%COMP%]{margin-top:0;width:fit-content;max-width:92vw;background:#fffffff2;border-radius:14px;box-shadow:0 10px 28px #0006;padding:var(--card-pad-top) var(--card-pad-x) var(--card-pad-bottom);display:flex;flex-direction:column;align-items:center;min-height:var(--card-min-h);justify-content:flex-start}.portal-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700!important;margin-bottom:var(--title-form-gap);color:#000!important;text-align:center;white-space:nowrap}.login-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:25px}.login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:56px;font-size:1.25rem;padding:14px 16px}.login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{height:56px}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;font-size:1.6rem;font-weight:700}@media (max-width: 992px){.home-hero[_ngcontent-%COMP%]{min-height:auto;overflow:auto}.login-card[_ngcontent-%COMP%]{max-width:92%;padding:20px 18px 22px}}[_nghost-%COMP%]{display:block;margin-top:0}']})}}return t})();function R9(t,n){if(t&1&&(g(0,"div",3),_(1),p()),t&2){let e=L();C(),nt("Please enter a ",e.label(),"")}}function L9(t,n){if(t&1&&(g(0,"div",3),_(1),p()),t&2){let e=L();C(),_n(" ",e.label()," must be at least ",e.control.errors==null?null:e.control.errors.minlength.requiredLength," characters ")}}function j9(t,n){if(t&1&&(g(0,"div",3),_(1),p()),t&2){let e=L();C(),_n(" ",e.label()," must be at most ",e.control.errors==null?null:e.control.errors.maxlength.requiredLength," characters ")}}function V9(t,n){t&1&&(g(0,"div",3),_(1," Passwords do not match "),p())}var ET=(()=>{class t{constructor(e){this.ngControl=e,this.label=Ob(""),this.type=Ob("text"),this.ngControl.valueAccessor=this}writeValue(e){}registerOnChange(e){}registerOnTouched(e){}get control(){return this.ngControl.control}static{this.\u0275fac=function(i){return new(i||t)(W(Ds,2))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-text-input"]],inputs:{label:[Nn.SignalBased,"label"],type:[Nn.SignalBased,"type"]},standalone:!0,features:[$e],decls:8,vars:10,consts:[[1,"mb-3","form-floating"],[1,"form-control",3,"type","formControl","placeholder"],["class","invalid-feedback text-start",4,"ngIf"],[1,"invalid-feedback","text-start"]],template:function(i,r){i&1&&(g(0,"div",0),ze(1,"input",1),g(2,"label"),_(3),p(),ye(4,R9,2,1,"div",2)(5,L9,2,2,"div",2)(6,j9,2,2,"div",2)(7,V9,2,0,"div",2),p()),i&2&&(C(),Ge("is-invalid",r.control.touched&&r.control.invalid),ow("placeholder",r.label()),O("type",r.type())("formControl",r.control),C(2),ke(r.label()),C(),O("ngIf",r.control.hasError("required")),C(),O("ngIf",r.control.hasError("minlength")),C(),O("ngIf",r.control.hasError("maxlength")),C(),O("ngIf",r.control.hasError("isMatching")))},dependencies:[Mt,Js,wn,Zt,up]})}}return t})();var Vl=(()=>{class t{constructor(){this.http=Se(pn),this.baseUrl=sn.apiUrl}registerUser(e){return this.http.post(`${this.baseUrl}admin/register-user`,e)}getAllUsers(){return this.http.get(`${this.baseUrl}admin/all-users`)}getUsersByRole(e){return this.http.get(`${this.baseUrl}admin/users-by-role/${e}`)}getUsersWithNoModules(){return this.http.get(`${this.baseUrl}admin/users-with-no-modules`)}updateUserModules(e,i,r){return this.http.put(`${this.baseUrl}admin/update-modules/${e}`,{semester1ModuleIds:i,semester2ModuleIds:r})}deleteUser(e){return this.http.delete(`${this.baseUrl}admin/delete-user/${e}`)}getUserWithRoles(){return this.http.get(`${this.baseUrl}admin/users-with-roles`)}updateUserRoles(e,i){return this.http.put(`${this.baseUrl}admin/update-roles/${e}`,i)}updateUser(e,i){return this.http.put(`${this.baseUrl}admin/update-user/${e}`,i)}checkUsernameExists(e){return this.http.get(`${this.baseUrl}admin/exists/${encodeURIComponent(e)}`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function B9(t,n){if(t&1&&(g(0,"li"),_(1),p()),t&2){let e=n.$implicit;C(),ke(e)}}function U9(t,n){if(t&1&&(g(0,"div",14)(1,"ul"),md(2,B9,2,1,"li",null,l0),p()()),t&2){let e=L();C(2),gd(e.validationErrors)}}var MT=(()=>{class t{constructor(){this.adminService=Se(Vl),this.fb=Se(jl),this.router=Se(zn),this.cancelRegister=new ht,this.registerForm=new Ll({})}ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.fb.group({userName:["",[Qn.required]],name:["",Qn.required],surname:["",Qn.required],email:["",[Qn.required,Qn.email]],password:["",[Qn.required,Qn.minLength(6)]],confirmPassword:["",[Qn.required,this.matchValues("password")]],role:["Student",Qn.required]}),this.registerForm.controls.password.valueChanges.subscribe(()=>{this.registerForm.controls.confirmPassword.updateValueAndValidity()})}matchValues(e){return i=>i.value===i.parent?.get(e)?.value?null:{isMatching:!0}}register(){this.registerForm.invalid||this.adminService.registerUser(this.registerForm.value).subscribe({next:e=>this.router.navigateByUrl("/admin"),error:e=>this.validationErrors=e.error?.errors||[e.message]})}cancel(){this.cancelRegister.emit(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-register"]],outputs:{cancelRegister:"cancelRegister"},standalone:!0,features:[$e],decls:26,vars:9,consts:[["autocomplete","off",3,"ngSubmit","formGroup"],[1,"text-center","text-primary"],["label","User Number",3,"formControl"],["label","Name",3,"formControl"],["label","Surname",3,"formControl"],["label","Email",3,"formControl"],[1,"form-group","mb-3"],["for","role"],["formControlName","role",1,"form-control"],["value","Student"],["value","Lecturer"],["value","Coordinator"],["label","Password","type","password",3,"formControl"],["label","Confirm Password","type","password",3,"formControl"],[1,"alert","alert-danger","text-start"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["type","button",1,"btn","btn-default","me-2",3,"click"]],template:function(i,r){i&1&&(g(0,"form",0),j("ngSubmit",function(){return r.register()}),g(1,"h2",1),_(2,"Register New User"),p(),ze(3,"hr")(4,"app-text-input",2)(5,"app-text-input",3)(6,"app-text-input",4)(7,"app-text-input",5),g(8,"div",6)(9,"label",7),_(10,"Role"),p(),g(11,"select",8)(12,"option",9),_(13,"Student"),p(),g(14,"option",10),_(15,"Lecturer"),p(),g(16,"option",11),_(17,"Coordinator"),p()()(),ze(18,"app-text-input",12)(19,"app-text-input",13),ye(20,U9,4,0,"div",14),g(21,"div",15)(22,"button",16),_(23,"Register"),p(),g(24,"button",17),j("click",function(){return r.cancel()}),_(25,"Cancel"),p()()()),i&2&&(O("formGroup",r.registerForm),C(4),O("formControl",r.registerForm.controls.userName),C(),O("formControl",r.registerForm.controls.name),C(),O("formControl",r.registerForm.controls.surname),C(),O("formControl",r.registerForm.controls.email),C(11),O("formControl",r.registerForm.controls.password),C(),O("formControl",r.registerForm.controls.confirmPassword),C(),pd(20,r.validationErrors?20:-1),C(2),O("disabled",!r.registerForm.valid))},dependencies:[Js,Mi,Di,Ii,pi,Zt,Ei,up,Va,Ba,ET]})}}return t})();var mC=class{constructor(n,e){this.open=n,this.close=e||n}isManual(){return this.open==="manual"||this.close==="manual"}},H9={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function q9(t,n=H9){let e=(t||"").trim();if(e.length===0)return[];let i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let s=n[o[0]]||o;return new mC(s[0],s[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(r.length===1&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}function DT(t,n){let e=q9(n.triggers),i=n.target;if(e.length===1&&e[0].isManual())return Function.prototype;let r=[],o=[],s=()=>{o.forEach(a=>r.push(a())),o.length=0};return e.forEach(a=>{let l=a.open===a.close,c=l?n.toggle:n.show;if(!l&&a.close&&n.hide){let f=a.close,v=n.hide,w=()=>t.listen(i,f,v);o.push(w)}c&&r.push(t.listen(i,a.open,()=>c(s)))}),()=>{r.forEach(a=>a())}}function IT(t,n){return n.outsideClick?t.listen("document","click",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}function AT(t,n){return n.outsideEsc?t.listen("document","keyup.esc",e=>{n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(i=>i.contains(e.target))||n.hide&&n.hide()}):Function.prototype}var Gi=typeof window<"u"&&window||{},Yi=Gi.document,tse=Gi.location,nse=Gi.gc?()=>Gi.gc():()=>null,ise=Gi.performance?Gi.performance:null,rse=Gi.Event,ose=Gi.MouseEvent,sse=Gi.KeyboardEvent,ase=Gi.EventTarget,lse=Gi.History,cse=Gi.Location,use=Gi.EventListener,TT=function(t){return t.isBs4="bs4",t.isBs5="bs5",t}(TT||{}),Bl;function NT(){let t=Gi.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),Gi.document.head.appendChild(t);let n=Gi.getComputedStyle(t).paddingLeft;return n&&parseFloat(n)?(Gi.document.head.removeChild(t),"bs4"):(Gi.document.head.removeChild(t),"bs5")}function z9(){return Bl||(Bl=NT()),Bl==="bs4"}function $9(){return Bl||(Bl=NT()),Bl==="bs5"}function Bd(){return{isBs4:z9(),isBs5:$9()}}function W9(){let t=Bd(),n=Object.keys(t).find(e=>t[e]);return TT[n]}var Nv=class{static reflow(n){n.offsetHeight}static getStyles(n){let e=n.ownerDocument.defaultView;return(!e||!e.opener)&&(e=Gi),e.getComputedStyle(n)}static stackOverflowConfig(){let n=W9();return{crossorigin:"anonymous",integrity:n==="bs5"?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:n==="bs5"?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}};var dse=typeof console>"u"||!("warn"in console);var G9=(()=>{class t{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();let i=this._focusTrapStack,r=i.indexOf(e);r!==-1&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gC;try{gC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gC=!1}var OT=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?_h(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||gC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||t)(Le(io))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FT=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return Z9(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=Y9(iH(e));if(i&&(kT(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=kT(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!tH(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return nH(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(i){return new(i||t)(Le(OT))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Y9(t){try{return t.frameElement}catch{return null}}function Z9(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function K9(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function Q9(t){return J9(t)&&t.type=="hidden"}function X9(t){return eH(t)&&t.hasAttribute("href")}function J9(t){return t.nodeName.toLowerCase()=="input"}function eH(t){return t.nodeName.toLowerCase()=="a"}function RT(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return n=="-32768"?!1:!!(n&&!isNaN(parseInt(n,10)))}function kT(t){if(!RT(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function tH(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function nH(t){return Q9(t)?!1:K9(t)||X9(t)||t.hasAttribute("contenteditable")||RT(t)}function iH(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}function PT(t){return t!=null&&`${t}`!="false"}var vC=class{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,e,i,r,o=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){let e=this._getFirstTabbableElement(n);return e?.focus(),!!e}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){let n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){let n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children||n.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Xr(1)).subscribe(n)}},rH=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new vC(e,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||t)(Le(FT),Le(hn),Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),LT=(()=>{class t{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=PT(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=PT(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(rH),W(jn))}}static{this.\u0275dir=Ft({type:t,selectors:[["","focusTrap",""]],inputs:{enabled:[Nn.None,"cdkTrapFocus","enabled"],autoCapture:[Nn.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[ir]})}}return t})(),yC=(()=>{class t{static forRoot(){return{ngModule:t,providers:[G9,OT,FT]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[ct]})}}return t})();var qT=function(t){return t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top",t}(qT||{}),CC=function(t){return t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top",t}(CC||{});function tu(t,n){if(t.nodeType!==1)return[];let i=t.ownerDocument.defaultView?.getComputedStyle(t,null);return n?i&&i[n]:i}function SC(t){if(!t)return document.documentElement;let n=null,e=t?.offsetParent,i;for(;e===n&&t.nextElementSibling&&i!==t.nextElementSibling;)i=t.nextElementSibling,e=i.offsetParent;let r=e&&e.nodeName;return!r||r==="BODY"||r==="HTML"?i?i.ownerDocument.documentElement:document.documentElement:e&&["TH","TD","TABLE"].indexOf(e.nodeName)!==-1&&tu(e,"position")==="static"?SC(e):e}function sH(t){let{nodeName:n}=t;return n==="BODY"?!1:n==="HTML"||SC(t.firstElementChild)===t}function _C(t){return t.parentNode!==null?_C(t.parentNode):t}function Fv(t,n){if(!t||!t.nodeType||!n||!n.nodeType)return document.documentElement;let e=t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?t:n,r=e?n:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);let s=o.commonAncestorContainer;if(t!==s&&n!==s||i.contains(r))return sH(s)?s:SC(s);let a=_C(t);return a.host?Fv(a.host,n):Fv(t,_C(n).host)}function zT(t){if(!t||!t.parentElement)return document.documentElement;let n=t.parentElement;for(;n?.parentElement&&tu(n,"transform")==="none";)n=n.parentElement;return n||document.documentElement}function jT(t,n){let e=n==="x"?"Left":"Top",i=e==="Left"?"Right":"Bottom";return parseFloat(t[`border${e}Width`])+parseFloat(t[`border${i}Width`])}function VT(t,n,e){let i=n,r=e;return Math.max(i[`offset${t}`],i[`scroll${t}`],r[`client${t}`],r[`offset${t}`],r[`scroll${t}`],0)}function $T(t){let n=t.body,e=t.documentElement;return{height:VT("Height",n,e),width:VT("Width",n,e)}}function dp(t){return qt(je({},t),{right:(t.left||0)+t.width,bottom:(t.top||0)+t.height})}function aH(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(Number(t))}function mi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function BT(t){let n=t.getBoundingClientRect();if(!(n&&mi(n.top)&&mi(n.left)&&mi(n.bottom)&&mi(n.right)))return n;let e={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},i=t.nodeName==="HTML"?$T(t.ownerDocument):void 0,r=i?.width||t.clientWidth||mi(n.right)&&mi(e.left)&&n.right-e.left||0,o=i?.height||t.clientHeight||mi(n.bottom)&&mi(e.top)&&n.bottom-e.top||0,s=t.offsetWidth-r,a=t.offsetHeight-o;if(s||a){let l=tu(t);s-=jT(l,"x"),a-=jT(l,"y"),e.width-=s,e.height-=a}return dp(e)}function xC(t,n,e=!1){let i=n.nodeName==="HTML",r=BT(t),o=BT(n),s=tu(n),a=parseFloat(s.borderTopWidth),l=parseFloat(s.borderLeftWidth);e&&i&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));let c=dp({top:(r.top??0)-(o.top??0)-a,left:(r.left??0)-(o.left??0)-l,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){let f=parseFloat(s.marginTop),v=parseFloat(s.marginLeft);mi(c.top)&&(c.top-=a-f),mi(c.bottom)&&(c.bottom-=a-f),mi(c.left)&&(c.left-=l-v),mi(c.right)&&(c.right-=l-v),c.marginTop=f,c.marginLeft=v}return c}function EC(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function WT(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body;default:}let{overflow:n,overflowX:e,overflowY:i}=tu(t);return/(auto|scroll|overlay)/.test(String(n)+String(i)+String(e))?t:WT(EC(t))}function UT(t,n="top"){let e=n==="top"?"scrollTop":"scrollLeft",i=t.nodeName;if(i==="BODY"||i==="HTML"){let r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[e]}return t[e]}function lH(t,n=!1){let e=t.ownerDocument.documentElement,i=xC(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),o=Math.max(e.clientHeight,window.innerHeight||0),s=n?0:UT(e),a=n?0:UT(e,"left"),l={top:s-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:o};return dp(l)}function GT(t){let n=t.nodeName;return n==="BODY"||n==="HTML"?!1:tu(t,"position")==="fixed"?!0:GT(EC(t))}function MC(t,n,e=0,i,r=!1){let o={top:0,left:0},s=r?zT(t):Fv(t,n);if(i==="viewport")o=lH(s,r);else{let a;i==="scrollParent"?(a=WT(EC(n)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):i==="window"?a=t.ownerDocument.documentElement:a=i;let l=xC(a,s,r);if(l&&a.nodeName==="HTML"&&!GT(s)){let{height:c,width:f}=$T(t.ownerDocument);mi(o.top)&&mi(l.top)&&mi(l.marginTop)&&(o.top+=l.top-l.marginTop),mi(o.top)&&(o.bottom=Number(c)+Number(l.top)),mi(o.left)&&mi(l.left)&&mi(l.marginLeft)&&(o.left+=l.left-l.marginLeft),mi(o.top)&&(o.right=Number(f)+Number(l.left))}else l&&(o=l)}return mi(o.left)&&(o.left+=e),mi(o.top)&&(o.top+=e),mi(o.right)&&(o.right-=e),mi(o.bottom)&&(o.bottom-=e),o}function cH({width:t,height:n}){return t*n}function YT(t,n,e,i,r=["top","bottom","right","left"],o="viewport",s=0){if(t.indexOf("auto")===-1)return t;let a=MC(e,i,s,o),l={top:{width:a?.width??0,height:(n?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(n?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(h=>qt(je({position:h},l[h]),{area:cH(l[h])})).sort((h,S)=>S.area-h.area),f=c.filter(({width:h,height:S})=>h>=e.clientWidth&&S>=e.clientHeight);f=f.filter(({position:h})=>r.some(S=>S===h));let v=f.length>0?f[0].position:c[0].position,w=t.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Bd().isBs5?CC[v]:v}`),v+(w?`-${w}`:"")}function uH(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}function dH(t){let n={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,e=>n[e])}function fH(t){return t==="right"?"left":t==="left"?"right":t}var kv=(t,n=0)=>t?parseFloat(t):n;function ZT(t){let e=t.ownerDocument.defaultView?.getComputedStyle(t),i=kv(e?.marginTop)+kv(e?.marginBottom),r=kv(e?.marginLeft)+kv(e?.marginRight);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+i}}function KT(t,n,e){let i=e?zT(t):Fv(t,n);return xC(n,i,e)}function bC(t,n,e){let i=e.split(" ")[0],r=ZT(t),o={width:r.width,height:r.height},s=["right","left"].indexOf(i)!==-1,a=s?"top":"left",l=s?"left":"top",c=s?"height":"width",f=s?"width":"height";return o[a]=(n[a]??0)+n[c]/2-r[c]/2,o[l]=i===l?(n[l]??0)-r[f]:n[dH(l)]??0,o}function QT(t,n){return!!t.modifiers[n]?.enabled}var hH={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Pv(t,n){return Bd().isBs5?hH[n].includes(t):!1}function pH(t){return Bd().isBs5?Pv(t,"end")?"ms-2":Pv(t,"start")?"me-2":Pv(t,"top")?"mb-2":Pv(t,"bottom")?"mt-2":"":""}function mH(t,n){let e=t.instance.target,i=e.className,r=Bd().isBs5?CC[t.placement]:t.placement;if(t.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),i.indexOf("popover")!==-1&&(i=i+" "+pH(r)),i.indexOf("popover")!==-1&&i.indexOf("popover-auto")===-1&&(i+=" popover-auto"),i.indexOf("tooltip")!==-1&&i.indexOf("tooltip-auto")===-1&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),n){n.setAttribute(e,"class",i);return}e.className=i}function HT(t,n,e){!t||!n||Object.keys(n).forEach(i=>{let r="";if(["width","height","top","right","bottom","left"].indexOf(i)!==-1&&aH(n[i])&&(r="px"),e){e.setStyle(t,i,`${String(n[i])}${r}`);return}t.style[i]=String(n[i])+r})}function gH(t){let n=t.offsets.target,e=t.instance.target.querySelector(".arrow");if(!e)return t;let i=["left","right"].indexOf(t.placement.split(" ")[0])!==-1,r=i?"height":"width",o=i?"Top":"Left",s=o.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=ZT(e)[r],f=t.placement.split(" ")[1];(t.offsets.host[l]??0)-c<(n[s]??0)&&(n[s]-=(n[s]??0)-((t.offsets.host[l]??0)-c)),Number(t.offsets.host[s])+Number(c)>(n[l]??0)&&(n[s]+=Number(t.offsets.host[s])+Number(c)-Number(n[l])),n=dp(n);let v=tu(t.instance.target),w=parseFloat(v[`margin${o}`])||0,h=parseFloat(v[`border${o}Width`])||0,S;if(!f)S=Number(t.offsets.host[s])+Number(t.offsets.host[r]/2-c/2);else{let k=parseFloat(v.borderRadius)||0,D=Number(w+h+k);S=s===f?Number(t.offsets.host[s])+D:Number(t.offsets.host[s])+Number(t.offsets.host[r]-D)}let x=S-(n[s]??0)-w-h;return x=Math.max(Math.min(n[r]-(c+5),x),0),t.offsets.arrow={[s]:Math.round(x),[a]:""},t.instance.arrow=e,t}function vH(t){if(t.offsets.target=dp(t.offsets.target),!QT(t.options,"flip"))return t.offsets.target=je(je({},t.offsets.target),bC(t.instance.target,t.offsets.host,t.placement)),t;let n=MC(t.instance.target,t.instance.host,0,"viewport",!1),e=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"",r=t.offsets.host,o=t.instance.target,s=t.instance.host,a=YT("auto",r,o,s,t.options.allowedPositions),l=[e,a];return l.forEach((c,f)=>{if(e!==c||l.length===f+1)return;e=t.placement.split(" ")[0];let v=e==="left"&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||e==="right"&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||e==="top"&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||e==="bottom"&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),w=Math.floor(t.offsets.target.left??0)<Math.floor(n.left??0),h=Math.floor(t.offsets.target.right??0)>Math.floor(n.right??0),S=Math.floor(t.offsets.target.top??0)<Math.floor(n.top??0),x=Math.floor(t.offsets.target.bottom??0)>Math.floor(n.bottom??0),k=e==="left"&&w||e==="right"&&h||e==="top"&&S||e==="bottom"&&x,D=["top","bottom"].indexOf(e)!==-1,Z=D&&i==="left"&&w||D&&i==="right"&&h||!D&&i==="left"&&S||!D&&i==="right"&&x;(v||k||Z)&&((v||k)&&(e=l[f+1]),Z&&(i=fH(i)),t.placement=e+(i?` ${i}`:""),t.offsets.target=je(je({},t.offsets.target),bC(t.instance.target,t.offsets.host,t.placement)))}),t}function yH(t,n,e,i){if(!t||!n)return;let r=KT(t,n);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");let o=!!e.match(/auto/g),s=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e,a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),["left right","right left","top bottom","bottom top"].indexOf(s)!==-1&&(s="auto"),s=YT(s,r,t,n,i?i.allowedPositions:void 0);let l=bC(t,r,s);return{options:i||{modifiers:{}},instance:{target:t,host:n,arrow:void 0},offsets:{target:l,host:r,arrow:void 0},positionFixed:!1,placement:s,placementAuto:o}}function _H(t){if(!QT(t.options,"preventOverflow"))return t;let n="transform",e=t.instance.target.style,{top:i,left:r,[n]:o}=e;e.top="",e.left="",e[n]="";let s=MC(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[n]=o;let a=["left","right","top","bottom"],l={primary(c){let f=t.offsets.target[c];return(t.offsets.target[c]??0)<(s[c]??0)&&(f=Math.max(t.offsets.target[c]??0,s[c]??0)),{[c]:f}},secondary(c){let f=c==="right",v=f?"left":"top",w=f?"width":"height",h=t.offsets.target[v];return(t.offsets.target[c]??0)>(s[c]??0)&&(h=Math.min(t.offsets.target[v]??0,(s[c]??0)-t.offsets.target[w])),{[v]:h}}};return a.forEach(c=>{let f=["left","top","start"].indexOf(c)!==-1?l.primary:l.secondary;t.offsets.target=je(je({},t.offsets.target),f(c))}),t}function bH(t){let n=t.placement,e=n.split(" ")[0],i=n.split(" ")[1];if(i){let{host:r,target:o}=t.offsets,s=["bottom","top"].indexOf(e)!==-1,a=s?"left":"top",l=s?"width":"height",c={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-o[l]}};t.offsets.target=qt(je({},o),{[a]:a===i?c.start[a]:c.end[a]})}return t}var wC=class{position(n,e){return this.offset(n,e)}offset(n,e){return KT(e,n)}positionElements(n,e,i,r,o){let s=[vH,bH,_H,gH],a=qT[i],l=yH(e,n,a,o);if(l)return s.reduce((c,f)=>f(c),l)}},wH=new wC;function CH(t,n,e,i,r,o){let s=wH.positionElements(t,n,e,i,r);if(!s)return;let a=uH(s);HT(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&HT(s.instance.arrow,s.offsets.arrow,o),mH(s,o)}var nu=(()=>{class t{constructor(e,i,r){this.update$$=new Ln,this.positionElements=new Map,this.isDisabled=!1,_h(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=Ay(Wu(window,"scroll",{passive:!0}),Wu(window,"resize",{passive:!0}),yt(0,Ey),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{CH(Ov(o.target),Ov(o.element),o.attachment,o.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(Ov(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(Ov(e))}setOptions(e){this.options=e}static{this.\u0275fac=function(i){return new(i||t)(Le(hn),Le(yo),Le(io))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ov(t){return typeof t=="string"?document.querySelector(t):t instanceof pt?t.nativeElement:t??null}var iu=class{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}},DC=class{constructor(n,e,i,r,o,s,a,l,c){this._viewContainerRef=n,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new ht,this.onShown=new ht,this.onBeforeHide=new ht,this.onHidden=new ht,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return this._isHiding?!1:!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);let e=rr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof pt&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),typeof this.container=="string"&&typeof this._document<"u"){let i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);let e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){if(this.isShown){this.hide();return}this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;let e=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),i=this._listenOpts.show=o=>{n.show?n.show(o):this.show(o),o()},r=o=>{this.isShown?e():i(o)};return this._renderer&&(this._unregisterListenersFn=DT(this._renderer,{target:n.target,triggers:n.triggers,show:i,hide:e,toggle:r})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,e){return n&&e&&(this._inlineViewRef=n.createEmbeddedView(e)),this}_registerOutsideClick(){if(!(!this._componentRef||!this._componentRef.location)){if(this._listenOpts.outsideClick){let n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=IT(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){let n=this._componentRef.location.nativeElement;this._globalListener=AT(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:this.container==="body"})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,e,i){if(!n)return new iu([]);if(n instanceof no){if(this._viewContainerRef){let s=this._viewContainerRef.createEmbeddedView(n,e);return s.markForCheck(),new iu([s.rootNodes],s)}let o=n.createEmbeddedView({});return this._applicationRef.attachView(o),new iu([o.rootNodes],o)}if(typeof n=="function"){let o=this._componentFactoryResolver.resolveComponentFactory(n),s=rr.create({providers:this._providers,parent:this._injector}),a=o.create(s);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new iu([[a.location.nativeElement]],a.hostView,a)}let r=this._renderer?[this._renderer.createText(`${n}`)]:[];return new iu([r])}},Ha=(()=>{class t{constructor(e,i,r,o,s,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=o,this._applicationRef=s,this._document=a}createLoader(e,i,r){return new DC(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(i){return new(i||t)(Le(wl),Le(hn),Le(rr),Le(nu),Le(Qo),Le(jn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xH=["*"],Pn=(()=>{class t{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var JT=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Rv={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},EH=new st("override-default-config"),ea={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"};var Lv={MODAL:300,BACKDROP:150},IC={BACKRDOP:"backdrop-click",ESC:"esc",BACK:"browser-back-navigation-clicked"},MH=(()=>{class t{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=Yi.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,ea.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,ea.SHOW)},this.isAnimated?Lv.BACKDROP:0),Yi&&Yi.body&&(this.bsModalService&&this.bsModalService.getModalsCount()===1&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Yi.body,ea.OPEN),this._renderer.setStyle(Yi.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){let i=e.target===this._element.nativeElement&&!this.clickStartedInContent;if(this.config.ignoreBackdropClick||this.config.backdrop==="static"||!i){this.clickStartedInContent=!1;return}this.bsModalService?.setDismissReason(IC.BACKRDOP),this.hide()}onPopState(){this.bsModalService?.setDismissReason(IC.BACK),this.hide()}onEsc(e){this.isShown&&((e.keyCode===27||e.key==="Escape")&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason(IC.ESC),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor){this.config.closeInterceptor().then(()=>this._hide(),()=>{});return}this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,ea.SHOW),setTimeout(()=>{this.isShown=!1,Yi&&Yi.body&&this.bsModalService?.getModalsCount()===1&&(this._renderer.removeClass(Yi.body,ea.OPEN),this._renderer.setStyle(Yi.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?Lv.MODAL:0)}static{this.\u0275fac=function(i){return new(i||t)(W(JT),W(pt),W(di))}}static{this.\u0275cmp=qe({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){i&1&&j("mousedown",function(s){return r.onClickStarted(s)})("click",function(s){return r.onClickStop(s)})("popstate",function(){return r.onPopState()},!1,gh)("keydown.esc",function(s){return r.onEsc(s)},!1,gh),i&2&&Xt("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:xH,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){i&1&&(Cl(),g(0,"div",0)(1,"div",1),Sl(2),p()()),i&2&&xo("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[LT],encapsulation:2})}}return t})(),DH=(()=>{class t{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,`${ea.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${ea.SHOW}`)}constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${ea.FADE}`),Nv.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(di))}}static{this.\u0275cmp=qe({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return t})();var IH=1,cn=(()=>{class t{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new ht,this.onShown=new ht,this.onHide=new ht,this.onHidden=new ht,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},Rv,r):Rv}show(e,i){this._focusEl=Yi.activeElement,this.modalsCount++,this._createLoaders();let r=i?.id||IH++;return this.config=this.modalDefaultOption?Object.assign({},Rv,this.modalDefaultOption,i):Object.assign({},Rv,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(this.modalsCount===1||e==null)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&e!=null?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?Lv.BACKDROP:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){let e=this.config.backdrop===!0||this.config.backdrop==="static",i=!this.backdropRef||!this.backdropRef.instance.isShown;this.modalsCount===1&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(DH).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;let e=this.config.animated?Lv.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),e)}_showModal(e){let i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(let s of this.config.providers)i.provide(s);let r=new Pn,o=i.provide({provide:JT,useValue:this.config}).provide({provide:Pn,useValue:r}).attach(MH).to("body");return r.hide=()=>this.hide(r.id),r.setClass=s=>{o.instance&&(o.instance.config.class=s)},r.onHidden=new ht,r.onHide=new ht,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),o.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=o.instance.config?.id),r}_hideModal(e){if(e!=null){let i=this.loaders.findIndex(o=>o.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(Yi.body,ea.OPEN),this._renderer.setStyle(Yi.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Yi.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Yi&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Yi.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Yi.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Yi.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){let e=this._renderer.createElement("div");this._renderer.addClass(e,ea.SCROLLBAR_MEASURER),this._renderer.appendChild(Yi.body,e);let i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(Yi.body,e),i}_createLoaders(){let e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(e!=null){let i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,o)=>{r.instance&&(r.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}static{this.\u0275fac=function(i){return new(i||t)(Le(yo),Le(Ha),Le(EH,8))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Gse=yC.forRoot(),eN=(()=>{class t{static forRoot(){return{ngModule:t,providers:[cn,Ha,nu]}}static forChild(){return{ngModule:t,providers:[cn,Ha,nu]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[yC]})}}return t})();var AH=["stayBtn"],TH=["discardBtn"],NH=["firstTrap"],kH=["lastTrap"],Zi=(()=>{class t{constructor(e){this.bsModalRef=e,this.title="Leave without saving?",this.message="You have unsaved changes. Do you want to discard them or stay and continue editing?",this.stayLabel="Stay and continue",this.discardLabel="Discard and leave"}ngAfterViewInit(){setTimeout(()=>this.stayBtn?.nativeElement.focus(),0),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.decideStay()}onEsc(e){e.preventDefault(),e.stopPropagation(),this.decideStay()}onTrapStart(){this.discardBtn?.nativeElement.focus()}onTrapEnd(){this.stayBtn?.nativeElement.focus()}decideStay(){try{this.onStay?.()}finally{this.forceClose()}}decideDiscard(){try{this.onDiscard?.()}finally{this.forceClose()}}forceClose(){this.originalHide()}static{this.\u0275fac=function(i){return new(i||t)(W(Pn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-confirm-close-modal"]],viewQuery:function(i,r){if(i&1&&(fi(AH,7),fi(TH,7),fi(NH,7),fi(kH,7)),i&2){let o;oi(o=si())&&(r.stayBtn=o.first),oi(o=si())&&(r.discardBtn=o.first),oi(o=si())&&(r.firstTrap=o.first),oi(o=si())&&(r.lastTrap=o.first)}},hostBindings:function(i,r){i&1&&j("keydown.escape",function(s){return r.onEsc(s)},!1,vh)},inputs:{title:"title",message:"message",stayLabel:"stayLabel",discardLabel:"discardLabel",onStay:"onStay",onDiscard:"onDiscard"},standalone:!0,features:[$e],decls:18,vars:4,consts:[["firstTrap",""],["stayBtn",""],["discardBtn",""],["lastTrap",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["tabindex","0",3,"focus"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",4)(1,"h5",5),_(2),p(),g(3,"button",6),j("click",function(){return K(o),Q(r.decideStay())}),p()(),g(4,"span",7,0),j("focus",function(){return K(o),Q(r.onTrapStart())}),p(),g(6,"div",8)(7,"p",9),_(8),p()(),g(9,"div",10)(10,"button",11,1),j("click",function(){return K(o),Q(r.decideStay())}),_(12),p(),g(13,"button",12,2),j("click",function(){return K(o),Q(r.decideDiscard())}),_(15),p()(),g(16,"span",7,3),j("focus",function(){return K(o),Q(r.onTrapEnd())}),p()}i&2&&(C(2),ke(r.title),C(6),ke(r.message),C(4),nt(" ",r.stayLabel," "),C(3),nt(" ",r.discardLabel," "))},dependencies:[ct],styles:[".modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{outline:none}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:150px}"]})}}return t})();function Ul(t,n){let e=new Jo;return t&&n&&(e=e.append("pageNumber",t),e=e.append("pageSize",n)),e}var Ud=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl}getDocumentsByModule(e){return this.http.get(`${this.baseUrl}documents/module/${e}`)}getDocumentsByModulePaged(e,i,r){let o=Ul(i,r);return this.http.get(`${this.baseUrl}documents/module/${e}/paged`,{observe:"response",params:o})}getAllModuleDocuments(){return this.http.get(`${this.baseUrl}documents/all`)}uploadModuleDocument(e){return this.http.post(`${this.baseUrl}documents/upload`,e)}deleteModuleDocument(e){return this.http.delete(`${this.baseUrl}documents/${e}`)}getInternalRepositoryDocuments(e,i){let r=Ul(e,i);return this.http.get(`${this.baseUrl}repository`,{observe:"response",params:r})}uploadRepositoryDocument(e){return this.http.post(`${this.baseUrl}repository/upload`,e)}deleteRepositoryDocument(e){return this.http.delete(`${this.baseUrl}repository/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hd=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl}getPaginatedNotifications(e,i,r="",o=""){let s=Ul(e,i);return r&&(s=s.append("TypeFilter",r)),o&&(s=s.append("ReadFilter",o)),this.http.get(`${this.baseUrl}notifications`,{observe:"response",params:s})}create(e){return this.http.post(`${this.baseUrl}notifications`,e)}delete(e){return this.http.delete(`${this.baseUrl}notifications/${e}`)}markAsRead(e){return this.http.post(`${this.baseUrl}notifications/${e}/read`,{})}markAsUnread(e){return this.http.delete(`${this.baseUrl}notifications/${e}/read`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var PH=["fileInput"],tN=t=>({"is-invalid":t});function OH(t,n){t&1&&(g(0,"div",16),_(1," Title is required. "),p())}function FH(t,n){t&1&&(g(0,"div",16),_(1," Unsupported file type. Allowed: PDF, DOCX, PPT, PPTX, XLSX, TXT. "),p())}function RH(t,n){t&1&&(g(0,"div",16),_(1," A file is required. "),p())}var jv=(()=>{class t{constructor(e,i,r,o,s,a,l){this.fb=e,this.documentService=i,this.notificationService=r,this.toastr=o,this.bsModalRef=s,this.bsModalService=a,this.elRef=l,this.onUpload=new ht,this.justSaved=!1,this.modalEl=null,this.allowedExts=new Set([".pdf",".docx",".ppt",".pptx",".xlsx",".txt"]),this.allowedMimes={".pdf":"application/pdf",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".ppt":"application/vnd.ms-powerpoint",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".txt":"text/plain"},this.fileTypeError=null,this.uploadForm=this.fb.group({title:["",Qn.required],file:[null,Qn.required]})}ngOnInit(){this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose(),this.justSaved=!1}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}ngOnChanges(e){e.formData&&this.formData&&this.formData.source==="Module"&&(!this.formData.moduleId||this.formData.moduleId<=0)&&(this.toastr.error("Upload failed: no module selected."),this.originalHide?this.originalHide():this.bsModalRef.hide())}hasUnsavedChanges(){return this.justSaved?!1:this.uploadForm.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}validateSelectedFile(e){let i=e.name||"",r=i.lastIndexOf("."),o=(r>=0?i.substring(r):"").toLowerCase(),s=(e.type||"").toLowerCase();if(!this.allowedExts.has(o))return"Unsupported file type. Allowed: PDF, DOCX, PPT, PPTX, XLSX, TXT.";if(!s||s==="application/octet-stream"||o===".txt"&&s.startsWith("text/"))return null;let a=(this.allowedMimes[o]||"").toLowerCase();return a&&s===a?null:"Unsupported file type. Allowed: PDF, DOCX, PPT, PPTX, XLSX, TXT."}onFileSelected(e){let r=e.target.files?.[0];if(!r){this.fileTypeError=null,this.uploadForm.get("file")?.setValue(null),this.uploadForm.get("file")?.updateValueAndValidity();return}let o=this.validateSelectedFile(r);if(o){this.fileTypeError=o,this.uploadForm.get("file")?.setErrors({invalidType:!0}),this.uploadForm.get("file")?.markAsTouched(),this.uploadForm.get("file")?.updateValueAndValidity(),this.fileInput?.nativeElement&&(this.fileInput.nativeElement.value=""),this.toastr.error(o);return}this.fileTypeError=null,this.uploadForm.get("file")?.setValue(r);let s=this.uploadForm.get("file")?.errors||{};delete s.invalidType,Object.keys(s).length===0?this.uploadForm.get("file")?.setErrors(null):this.uploadForm.get("file")?.setErrors(s),this.uploadForm.get("file")?.updateValueAndValidity()}upload(){if(this.uploadForm.invalid){this.fileTypeError?this.toastr.error(this.fileTypeError):this.toastr.error("Please fill in all required fields.");return}let{title:e,file:i}=this.uploadForm.value,{source:r,moduleId:o}=this.formData;if(r==="Module"&&(!o||o<=0)){this.toastr.error("Upload failed: no module selected.");return}let s=new FormData;s.append("title",e),s.append("file",i),s.append("source",r),r==="Module"&&s.append("moduleId",o.toString()),(r==="Module"?this.documentService.uploadModuleDocument(s):this.documentService.uploadRepositoryDocument(s)).subscribe({next:()=>{this.toastr.success("Document uploaded successfully."),this.onUpload.emit(),this.justSaved=!0,this.uploadForm.markAsPristine(),this.uploadForm.reset(),this.originalHide()},error:l=>{console.error("Upload error:",l);let c=typeof l?.error=="string"&&l.error||l?.error?.message||"Upload failed. Please try again.";this.toastr.error(c)}})}static{this.\u0275fac=function(i){return new(i||t)(W(jl),W(Ud),W(Hd),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-upload-document-modal"]],viewQuery:function(i,r){if(i&1&&fi(PH,5),i&2){let o;oi(o=si())&&(r.fileInput=o.first)}},inputs:{formData:"formData"},outputs:{onUpload:"onUpload"},standalone:!0,features:[ir,$e],decls:25,vars:11,consts:[["fileInput",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"mb-3"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","file",1,"form-label"],["type","file","id","file","accept",".pdf,.docx,.ppt,.pptx,.xlsx,.txt",1,"form-control",3,"change","ngClass"],[1,"form-text"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"h5",2),_(2,"Upload Document"),p(),g(3,"button",3),j("click",function(){return K(o),Q(r.attemptClose())}),p()(),g(4,"form",4),j("ngSubmit",function(){return K(o),Q(r.upload())}),g(5,"div",5)(6,"div",6)(7,"label",7),_(8,"Document Title"),p(),ze(9,"input",8),ye(10,OH,2,0,"div",9),p(),g(11,"div",6)(12,"label",10),_(13,"Select File"),p(),g(14,"input",11,0),j("change",function(a){return K(o),Q(r.onFileSelected(a))}),p(),ye(16,FH,2,0,"div",9)(17,RH,2,0,"div",9),g(18,"div",12),_(19,"Accepted formats: PDF, DOCX, PPT, PPTX, XLSX, TXT"),p()()(),g(20,"div",13)(21,"button",14),j("click",function(){return K(o),Q(r.attemptClose())}),_(22,"Cancel"),p(),g(23,"button",15),_(24,"Upload"),p()()()}if(i&2){let o,s,a,l,c;C(4),O("formGroup",r.uploadForm),C(5),O("ngClass",bi(7,tN,((o=r.uploadForm.get("title"))==null?null:o.invalid)&&((o=r.uploadForm.get("title"))==null?null:o.touched))),C(),O("ngIf",((s=r.uploadForm.get("title"))==null?null:s.invalid)&&((s=r.uploadForm.get("title"))==null?null:s.touched)),C(4),O("ngClass",bi(9,tN,((a=r.uploadForm.get("file"))==null?null:a.touched)&&(((a=r.uploadForm.get("file"))==null?null:a.invalid)||r.fileTypeError))),C(2),O("ngIf",((l=r.uploadForm.get("file"))==null?null:l.touched)&&((l=r.uploadForm.get("file"))==null?null:l.hasError("invalidType"))),C(),O("ngIf",((c=r.uploadForm.get("file"))==null?null:c.touched)&&((c=r.uploadForm.get("file"))==null?null:c.hasError("required"))&&!((c=r.uploadForm.get("file"))!=null&&c.hasError("invalidType"))),C(6),O("disabled",r.uploadForm.invalid)}},dependencies:[Js,Mi,wn,Zt,Ei,Va,Ba,Mt,ur],styles:[".modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6}"]})}}return t})();var Vv=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl+"repository"}getExternalRepositories(e,i){let r=Ul(e,i);return this.http.get(`${this.baseUrl}/external`,{observe:"response",params:r})}addExternalRepository(e,i=!1){let r=new FormData;return r.append("label",e.label),r.append("linkUrl",e.linkUrl),r.append("useDefault",i.toString()),e.image&&!i&&r.append("image",e.image),this.http.post(`${this.baseUrl}/external`,r)}deleteExternalRepository(e){return this.http.delete(`${this.baseUrl}/external/${e}`)}getInternalRepositoryDocs(e,i){let r=Ul(e,i);return this.http.get(`${this.baseUrl}`,{observe:"response",params:r})}uploadToRepository(e){return this.http.post(`${this.baseUrl}/upload`,e)}deleteRepositoryDocument(e){return this.http.delete(`${this.baseUrl}/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var iN=(()=>{class t{constructor(e,i,r,o,s,a){this.bsModalRef=e,this.fb=i,this.repoService=r,this.toastr=o,this.bsModalService=s,this.elRef=a,this.imageFile=null,this.onAdd=new ht,this.justSaved=!1,this.modalEl=null,this.form=this.fb.group({label:["",Qn.required],linkUrl:["",[Qn.required,Qn.pattern(/^https?:\/\/.+/)]]}),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:this.form?.dirty||!!this.imageFile}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}onFileSelected(e){let i=e.target;i.files&&i.files.length>0?this.imageFile=i.files[0]:this.imageFile=null}submit(){if(this.form.invalid)return;let e={id:0,label:this.form.get("label")?.value,linkUrl:this.form.get("linkUrl")?.value,image:this.imageFile||void 0},i=!this.imageFile;this.repoService.addExternalRepository(e,i).subscribe({next:()=>{this.toastr.success("External repository added successfully."),this.onAdd.emit(),this.justSaved=!0,this.form.markAsPristine(),this.originalHide()},error:()=>this.toastr.error("Failed to add external repository.")})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(W(Pn),W(jl),W(Vv),W(Rt),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-add-repository-modal"]],outputs:{onAdd:"onAdd"},standalone:!0,features:[$e],decls:28,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","label",1,"form-label"],["type","text","id","label","formControlName","label","placeholder","e.g., SpringerLink",1,"form-control"],["for","image",1,"form-label"],["type","file","id","image","accept",".png, .jpg, .jpeg",1,"form-control",3,"change"],[1,"form-text","text-muted"],["for","linkUrl",1,"form-label"],["type","url","id","linkUrl","formControlName","linkUrl","placeholder","e.g., https://link.springer.com/",1,"form-control"],[1,"modal-footer","px-0"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h5",1),_(2,"Add External Repository"),p(),g(3,"button",2),j("click",function(){return r.cancel()}),p()(),g(4,"div",3)(5,"form",4),j("ngSubmit",function(){return r.submit()}),g(6,"div",5)(7,"label",6),_(8,"Repository Name"),p(),ze(9,"input",7),p(),g(10,"div",5)(11,"label",8),_(12,"Repository Image"),p(),g(13,"input",9),j("change",function(s){return r.onFileSelected(s)}),p(),g(14,"div",10),_(15," Optional. If no image is selected, "),g(16,"code"),_(17,"/assets/database.png"),p(),_(18," will be used by default. "),p()(),g(19,"div",5)(20,"label",11),_(21,"Repository Link"),p(),ze(22,"input",12),p(),g(23,"div",13)(24,"button",14),j("click",function(){return r.cancel()}),_(25,"Cancel"),p(),g(26,"button",15),_(27,"Add"),p()()()()),i&2&&(C(5),O("formGroup",r.form),C(21),O("disabled",r.form.invalid))},dependencies:[ct,Js,Mi,wn,Zt,Ei,Va,Ba],styles:["input.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.modal-body[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:1.25rem}"]})}}return t})();var qa=(()=>{class t{constructor(e){this.bsModalRef=e,this.title="Confirm Deletion",this.message="Are you sure you want to delete this item?",this.confirmText="Delete",this.cancelText="No",this.onConfirm=()=>{}}confirm(){this.bsModalRef.hide(),this.onConfirm&&this.onConfirm()}cancel(){this.bsModalRef.hide()}static{this.\u0275fac=function(i){return new(i||t)(W(Pn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-confirm-delete-modal"]],inputs:{title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",onConfirm:"onConfirm"},standalone:!0,features:[$e],decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h5",1),_(2),p(),g(3,"button",2),j("click",function(){return r.cancel()}),p()(),g(4,"div",3)(5,"p"),_(6),p()(),g(7,"div",4)(8,"button",5),j("click",function(){return r.cancel()}),_(9),p(),g(10,"button",6),j("click",function(){return r.confirm()}),_(11),p()()),i&2&&(C(2),ke(r.title),C(4),ke(r.message),C(3),ke(r.cancelText),C(2),ke(r.confirmText))},dependencies:[ct],styles:[".modal-title[_ngcontent-%COMP%]{font-weight:600}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}"]})}}return t})();var LH=["*"],jH=t=>({dropdown:t}),VH=(()=>{class t{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ru=(()=>{class t{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new ht,this.isDisabledChange=new ht,this.toggleClick=new ht,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),BH="220ms cubic-bezier(0, 0, 0.2, 1)",rN=[or({height:0,overflow:"hidden"}),Es(BH,or({height:"*",overflow:"hidden"}))],UH=(()=>{class t{get direction(){return this._state.direction}constructor(e,i,r,o,s){this._state=e,this.cd=i,this._renderer=r,this._element=o,this.isOpen=!1,this._factoryDropDownAnimation=s.build(rN),this._subscription=e.isOpenChange.subscribe(a=>{this.isOpen=a;let l=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),l&&(this._renderer.addClass(l,"show"),(l.classList.contains("dropdown-menu-right")||l.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(l,"left","auto"),this._renderer.setStyle(l,"right","0")),this.direction==="up"&&(this._renderer.setStyle(l,"top","auto"),this._renderer.setStyle(l,"transform","translateY(-101%)"))),l&&this._state.isAnimated&&this._factoryDropDownAnimation.create(l).play(),this.cd.markForCheck(),this.cd.detectChanges()})}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(W(ru),W(Hr),W(di),W(pt),W(kd))}}static{this.\u0275cmp=qe({type:t,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:LH,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(i,r){i&1&&(Cl(),g(0,"div",0),Sl(1),p()),i&2&&(Ge("dropup",r.direction==="up")("show",r.isOpen)("open",r.isOpen),O("ngClass",bi(7,jH,r.direction==="down")))},dependencies:[ur],encapsulation:2,changeDetection:0})}}return t})(),za=(()=>{class t{set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get _showInline(){return!this.container}constructor(e,i,r,o,s,a,l){this._elementRef=e,this._renderer=i,this._viewContainerRef=r,this._cis=o,this._state=s,this._config=a,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=l.build(rN),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:ru,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(Ri(e=>e)).subscribe(()=>this.hide())))}show(){if(!(this.isOpen||this.isDisabled)){if(this._showInline){this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),this.playAnimation();return}this._state.dropdownMenu.then(e=>{let i=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=i?"up":"down";let r=this.placement||(i?"top start":"bottom start");this._dropdown.attach(UH).to(this.container).position({attachment:r}).show({content:e.templateRef,placement:r}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){let i=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!i)return;let r=this._elementRef.nativeElement.ownerDocument.activeElement,o=i.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&o[--this._state.counts].focus();break;case 40:this._state.counts+1<o.length&&(r.classList!==o[this._state.counts].classList?o[this._state.counts].focus():o[++this._state.counts].focus());break;default:}e.preventDefault()}ngOnDestroy(){for(let e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){let e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(di),W(Nr),W(Ha),W(ru),W(VH),W(kd))}}static{this.\u0275dir=Ft({type:t,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(i,r){i&1&&j("keydown.arrowDown",function(s){return r.navigationClick(s)})("keydown.arrowUp",function(s){return r.navigationClick(s)}),i&2&&Ge("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[Eo([ru])]})}}return t})(),Hl=(()=>{class t{constructor(e,i,r){e.resolveDropdownMenu({templateRef:r,viewContainer:i})}static{this.\u0275fac=function(i){return new(i||t)(W(ru),W(Nr),W(no))}}static{this.\u0275dir=Ft({type:t,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]})}}return t})(),ql=(()=>{class t{constructor(e,i,r,o,s){this._changeDetectorRef=e,this._dropdown=i,this._element=r,this._renderer=o,this._state=s,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(a=>{this.isOpen=a,a?(this._documentClickListener=this._renderer.listen("document","click",l=>{this._state.autoClose&&l.button!==2&&!this._element.nativeElement.contains(l.target)&&!(this._state.insideClick&&this._dropdown._contains(l))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(a=>this.isDisabled=a||void 0))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(let e of this._subscriptions)e.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(W(Hr),W(za),W(pt),W(di),W(ru))}}static{this.\u0275dir=Ft({type:t,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(i,r){i&1&&j("click",function(s){return r.onClick(s)}),i&2&&Xt("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]})}}return t})(),zl=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Ha,nu,ru]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[ct]})}}return t})();var oN=()=>[];function HH(t,n){if(t&1){let e=Re();g(0,"button",12),j("click",function(){K(e);let r=L();return Q(r.openAddRepositoryModal())}),_(1," + Add Repository "),p()}}function qH(t,n){if(t&1){let e=Re();g(0,"button",21),j("click",function(){K(e);let r=L().$implicit,o=L();return Q(o.deleteExternalRepository(r.id))}),_(1," \xD7 "),p()}}function zH(t,n){if(t&1&&(Hn(0),g(1,"div",13)(2,"div",14)(3,"a",15),ze(4,"img",16),g(5,"div",17)(6,"h5",18),_(7),p(),g(8,"p",19),_(9),p()()(),ye(10,qH,2,0,"button",20),p()(),qn()),t&2){let e=n.$implicit,i=L();C(3),O("href",e.linkUrl,Zo),C(),O("src",e.imageUrl||"/assets/database.png",Zo)("alt",e.label+" logo"),C(3),ke(e.label),C(2),nt("Visit ",e.label,""),C(),O("ngIf",i.hasRepoManagementRights())}}function $H(t,n){if(t&1){let e=Re();g(0,"li",24)(1,"a",25),j("click",function(){let r=K(e).index,o=L(2);return Q(o.pageChangedExternal(r+1))}),_(2),p()()}if(t&2){let e=n.index,i=L(2);Ge("active",i.externalPagination.currentPage===e+1),C(2),ke(e+1)}}function WH(t,n){if(t&1){let e=Re();g(0,"nav",22)(1,"ul",23)(2,"li",24)(3,"a",25),j("click",function(){K(e);let r=L();return Q(r.pageChangedExternal(r.externalPagination.currentPage-1))}),_(4,"Previous"),p()(),ye(5,$H,3,3,"li",26),g(6,"li",24)(7,"a",25),j("click",function(){K(e);let r=L();return Q(r.pageChangedExternal(r.externalPagination.currentPage+1))}),_(8,"Next"),p()()()()}if(t&2){let e=L();C(2),Ge("disabled",e.externalPagination.currentPage===1),C(3),O("ngForOf",cr(5,oN).constructor(e.externalPagination.totalPages)),C(),Ge("disabled",e.externalPagination.currentPage===e.externalPagination.totalPages)}}function GH(t,n){if(t&1){let e=Re();g(0,"button",27),j("click",function(){K(e);let r=L();return Q(r.openUploadModal())}),_(1," Upload Document "),p()}}function YH(t,n){if(t&1){let e=Re();g(0,"ul",41)(1,"li")(2,"button",42),j("click",function(){K(e);let r=L(2).$implicit,o=L();return Q(o.confirmDeleteInternalDoc(r.id))}),_(3,"Delete"),p()()()}}function ZH(t,n){t&1&&(g(0,"div",37)(1,"button",38),ze(2,"i",39),p(),ye(3,YH,4,0,"ul",40),p())}function KH(t,n){if(t&1&&(g(0,"div",28),ye(1,ZH,4,0,"div",29),g(2,"div",17)(3,"div",30)(4,"small"),_(5),p(),g(6,"span",31),_(7,"|"),p(),g(8,"small"),_(9),ro(10,"date"),ro(11,"date"),p()(),g(12,"div",32),ze(13,"img",33),g(14,"div",34),_(15),p(),g(16,"a",35),ze(17,"i",36),p()()()()),t&2){let e=n.$implicit,i=L();C(),O("ngIf",i.canDelete(e)),C(4),nt("Uploaded by: ",e.uploadedBy,""),C(4),_n(" ",Cs(10,8,e.uploadedAt,"mediumDate"),", ",Cs(11,11,e.uploadedAt,"h:mm a")," "),C(4),O("src",i.getIconPath(e),Zo),C(),O("title",e.title),C(),ke(e.title),C(),O("href",e.filePath,Zo)}}function QH(t,n){t&1&&(g(0,"div",43),_(1," No documents found. "),p())}function XH(t,n){if(t&1){let e=Re();g(0,"li",24)(1,"a",25),j("click",function(){let r=K(e).index,o=L(2);return Q(o.pageChangedInternal(r+1))}),_(2),p()()}if(t&2){let e=n.index,i=L(2);Ge("active",i.internalPagination.currentPage===e+1),C(2),ke(e+1)}}function JH(t,n){if(t&1){let e=Re();g(0,"nav",22)(1,"ul",23)(2,"li",24)(3,"a",25),j("click",function(){K(e);let r=L();return Q(r.pageChangedInternal(r.internalPagination.currentPage-1))}),_(4,"Previous"),p()(),ye(5,XH,3,3,"li",26),g(6,"li",24)(7,"a",25),j("click",function(){K(e);let r=L();return Q(r.pageChangedInternal(r.internalPagination.currentPage+1))}),_(8,"Next"),p()()()()}if(t&2){let e=L();C(2),Ge("disabled",e.internalPagination.currentPage===1),C(3),O("ngForOf",cr(5,oN).constructor(e.internalPagination.totalPages)),C(),Ge("disabled",e.internalPagination.currentPage===e.internalPagination.totalPages)}}var sN=(()=>{class t{constructor(e,i,r,o,s,a){this.router=e,this.documentService=i,this.repositoryService=r,this.modalService=o,this.accountService=s,this.toastr=a,this.externalRepos=[],this.internalDocuments=[],this.externalPagination=null,this.internalPagination=null,this.externalPageNumber=1,this.internalPageNumber=1,this.pageSize=6,this.roles=[],this.currentUserName=""}ngOnInit(){this.roles=this.accountService.roles(),this.currentUserName=this.accountService.currentUser()?.userName??"",this.loadInternalDocuments(),this.loadExternalRepositories()}loadInternalDocuments(){this.documentService.getInternalRepositoryDocuments(this.internalPageNumber,this.pageSize).subscribe({next:e=>{this.internalDocuments=e.body??[];let i=e.headers.get("Pagination");i&&(this.internalPagination=JSON.parse(i))},error:e=>{console.error("Failed to load internal documents",e),this.toastr.error("Failed to load internal documents.")}})}loadExternalRepositories(){this.repositoryService.getExternalRepositories(this.externalPageNumber,this.pageSize).subscribe({next:e=>{this.externalRepos=e.body??[];let i=e.headers.get("Pagination");i&&(this.externalPagination=JSON.parse(i))},error:e=>{console.error("Failed to load external repositories",e),this.toastr.error("Failed to load external repositories.")}})}pageChangedExternal(e){this.externalPageNumber=e,this.loadExternalRepositories()}pageChangedInternal(e){this.internalPageNumber=e,this.loadInternalDocuments()}openUploadModal(){let e={formData:{source:"Repository",moduleId:null}};this.bsModalRef=this.modalService.show(jv,{initialState:e}),this.bsModalRef.content.onUpload.subscribe(()=>this.loadInternalDocuments())}openAddRepositoryModal(){this.bsModalRef=this.modalService.show(iN),this.bsModalRef.content.onAdd.subscribe(()=>this.loadExternalRepositories())}canDelete(e){let i=e?.uploadedByUserName;return!!i&&i===this.currentUserName}confirmDeleteInternalDoc(e){let i={title:"Confirm Deletion",message:"Are you sure you want to delete this document?",confirmText:"Delete",cancelText:"No",onConfirm:()=>this.deleteDocument(e)};this.bsModalRef=this.modalService.show(qa,{initialState:i})}deleteDocument(e){this.documentService.deleteRepositoryDocument(e).subscribe({next:()=>{this.internalDocuments=this.internalDocuments.filter(i=>i.id!==e),this.loadInternalDocuments()},error:i=>{console.error("Failed to delete document",i),i.status===403||i.status===500?this.toastr.error("You are not authorized to delete this document."):this.toastr.error("Failed to delete the document. Please try again later.")}})}deleteExternalRepository(e){if(!this.hasRepoManagementRights())return;let i={title:"Confirm Repository Deletion",message:"Are you sure you want to delete this external repository?",onConfirm:()=>{this.repositoryService.deleteExternalRepository(e).subscribe({next:()=>{this.toastr.success("Repository removed successfully."),this.externalRepos.length===1&&this.externalPageNumber>1&&this.externalPageNumber--,this.loadExternalRepositories()},error:r=>{console.error("Failed to delete repository",r),this.toastr.error("Failed to delete repository.")}})}};this.bsModalRef=this.modalService.show(qa,{initialState:i})}hasUploadRights(){return this.roles.includes("Lecturer")||this.roles.includes("Coordinator")||this.roles.includes("Admin")}hasRepoManagementRights(){return this.roles.includes("Coordinator")||this.roles.includes("Admin")}openInternalRepository(){this.router.navigate(["/repository"])}fileExt(e){let r=(e?.split("?")[0]??"").split("#")[0]??"",o=r.lastIndexOf(".");return o>=0?r.substring(o).toLowerCase():""}getIconPath(e){switch(this.fileExt(e.filePath)){case".pdf":return"assets/pdffile.png";case".doc":case".docx":return"assets/docxfile.png";case".ppt":case".pptx":return"assets/pptfile.png";case".xls":case".xlsx":return"assets/excelfile.png";case".txt":return"assets/txtfile.png";default:return"assets/docxfile.png"}}static{this.\u0275fac=function(i){return new(i||t)(W(zn),W(Ud),W(Vv),W(cn),W(ln),W(Rt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-repository"]],standalone:!0,features:[$e],decls:19,vars:7,consts:[[1,"container","mt-4","repo-page"],[1,"mb-0"],[1,"d-flex","justify-content-between","align-items-center","mb-3","section-heading"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"row","repo-grid"],[4,"ngFor","ngForOf"],["class","mt-3 d-flex justify-content-center",4,"ngIf"],[1,"mt-5"],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"doc-card-grid"],["class","card doc-card shadow-sm",4,"ngFor","ngForOf"],["class","text-center text-muted py-5",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"col-md-4","mb-4"],[1,"card","h-100","text-center","shadow-sm","position-relative"],["target","_blank","rel","noopener noreferrer",1,"text-decoration-none","text-dark",3,"href"],[1,"card-img-top","mx-auto","d-block","p-3",2,"max-height","120px",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text","text-muted"],["class","btn-delete-top-right position-absolute top-0 end-0 m-2","type","button","aria-label","Delete Repository",3,"click",4,"ngIf"],["type","button","aria-label","Delete Repository",1,"btn-delete-top-right","position-absolute","top-0","end-0","m-2",3,"click"],[1,"mt-3","d-flex","justify-content-center"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card","doc-card","shadow-sm"],["class","kebab","dropdown","",4,"ngIf"],[1,"meta-row","neon-meta","d-flex","justify-content-center","align-items-center","mb-2"],[1,"mx-2"],[1,"top-row","d-flex","align-items-center"],["alt","file type",1,"doc-logo",3,"src"],[1,"doc-title","flex-grow-1",3,"title"],["target","_blank","rel","noopener noreferrer","download","","aria-label","Download document","title","Download",1,"download-icon",3,"href"],[1,"bi","bi-download"],["dropdown","",1,"kebab"],["dropdownToggle","","type","button","title","More actions",1,"btn","btn-sm","btn-outline-secondary","kebab-btn"],[1,"bi","bi-three-dots-vertical"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"text-center","text-muted","py-5"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h2",1),_(2,"Repository"),p(),g(3,"div",2)(4,"h5",1),_(5,"External Repository Links"),p(),ye(6,HH,2,0,"button",3),p(),g(7,"div",4),ye(8,zH,11,6,"ng-container",5),p(),ye(9,WH,9,6,"nav",6),g(10,"div",7)(11,"div",2)(12,"h5",1),_(13,"Internal Repository Documents"),p(),ye(14,GH,2,0,"button",8),p(),g(15,"div",9),ye(16,KH,18,14,"div",10)(17,QH,2,0,"div",11),p(),ye(18,JH,9,6,"nav",6),p()()),i&2&&(C(6),O("ngIf",r.hasRepoManagementRights()),C(2),O("ngForOf",r.externalRepos),C(),O("ngIf",r.externalPagination),C(5),O("ngIf",r.hasUploadRights()),C(2),O("ngForOf",r.internalDocuments),C(),O("ngIf",r.internalDocuments.length===0),C(),O("ngIf",r.internalPagination))},dependencies:[ct,on,Mt,Il,zl,Hl,ql,za],styles:['.doc-card[_ngcontent-%COMP%]{--bs-card-border-radius: 0 !important;border-radius:0!important}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);transition:transform .2s ease-in-out}.card[_ngcontent-%COMP%]{box-shadow:0 .25rem .5rem #0000000d}.card-img-top[_ngcontent-%COMP%]{object-fit:scale-down;height:100px}.btn-delete-top-right[_ngcontent-%COMP%]{background-color:#fff;border:none;color:#000;font-weight:700;font-size:.85rem;line-height:1;width:26px;height:26px;border-radius:5px;padding:0;display:flex;justify-content:center;align-items:center}.btn-delete-top-right[_ngcontent-%COMP%]:hover{background-color:#0b5ed7}.repo-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .repo-page[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{margin-bottom:2rem!important;display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.repo-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.repo-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{margin-top:1.25rem}.repo-page[_ngcontent-%COMP%]   .repo-grid[_ngcontent-%COMP%]{--bs-gutter-x: 1.25rem;--bs-gutter-y: 1.25rem}.repo-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#000!important;font-weight:700!important}[_nghost-%COMP%]{--doc-logo-size: 100px;--download-icon-size: 2rem;--download-hitpad: 8px;--kebab-offset: 44px;--card-vpad: 1px;--meta-gap: 1px;--date-neon: #5c5c5c;--date-neon-shadow: 0 0 2px rgba(85, 147, 239, .1), 0 0 2px rgba(13, 110, 253, .1)}.doc-card-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.doc-card[_ngcontent-%COMP%]{position:relative}.doc-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:var(--card-vpad) 16px}.top-row[_ngcontent-%COMP%]{gap:12px;padding-right:calc(var(--kebab-offset) + 6px);margin-top:1px}.doc-logo[_ngcontent-%COMP%]{width:var(--doc-logo-size);height:var(--doc-logo-size);object-fit:contain;flex:0 0 auto}.doc-title[_ngcontent-%COMP%]{font-weight:600;color:#111;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:8px}.download-icon[_ngcontent-%COMP%]{font-size:var(--download-icon-size);line-height:1;display:inline-flex;align-items:center;justify-content:center;padding:var(--download-hitpad);border-radius:8px;text-decoration:none!important}.download-icon[_ngcontent-%COMP%]:hover{background:#0d6efd1a}.meta-row[_ngcontent-%COMP%]{margin-top:var(--meta-gap);margin-bottom:var(--meta-gap)!important}.kebab[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;z-index:1}.kebab-btn[_ngcontent-%COMP%]{padding:2px 6px}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{cursor:pointer}.neon-meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .neon-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--date-neon)!important;text-shadow:var(--date-neon-shadow);font-weight:600}']})}}return t})();var Uv=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl}getAllFaqs(e){let i=new Jo().set("pageNumber",e.pageNumber.toString()).set("pageSize",e.pageSize.toString());return this.http.get(`${this.baseUrl}faq`,{observe:"response",params:i})}createFaq(e){return this.http.post(`${this.baseUrl}faq/create`,e)}updateFaq(e,i){return this.http.put(`${this.baseUrl}faq/update/${e}`,i)}deleteFaq(e){return this.http.delete(`${this.baseUrl}faq/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eq=["faqForm"];function tq(t,n){t&1&&(g(0,"div",15),_(1," Question cannot be empty or whitespace. "),p())}function nq(t,n){if(t&1&&(g(0,"div",15),_(1),p()),t&2){let e=L();C(),nt(" Minimum ",e.MIN_CHARS," characters required. ")}}function iq(t,n){if(t&1&&(g(0,"div",15),_(1),p()),t&2){let e=L();C(),nt(" Maximum ",e.MAX_CHARS," characters allowed. ")}}function rq(t,n){t&1&&(g(0,"div",15),_(1," Answer cannot be empty or whitespace. "),p())}function oq(t,n){if(t&1&&(g(0,"div",15),_(1),p()),t&2){let e=L();C(),nt(" Minimum ",e.MIN_CHARS," characters required. ")}}function sq(t,n){if(t&1&&(g(0,"div",15),_(1),p()),t&2){let e=L();C(),nt(" Maximum ",e.MAX_CHARS," characters allowed. ")}}var lN=(()=>{class t{constructor(e,i,r,o,s){this.bsModalRef=e,this.faqService=i,this.toastr=r,this.bsModalService=o,this.elRef=s,this.mode="create",this.question="",this.answer="",this.justSaved=!1,this.modalEl=null,this.MIN_CHARS=5,this.MAX_CHARS=5e3}ngOnInit(){this.mode==="edit"&&this.faq&&(this.question=this.faq.question,this.answer=this.faq.answer),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:!!this.faqForm?.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}charCount(e){return(e||"").trim().length}get questionBlank(){return this.charCount(this.question)===0}get answerBlank(){return this.charCount(this.answer)===0}get questionTooShort(){let e=this.charCount(this.question);return e>0&&e<this.MIN_CHARS}get answerTooShort(){let e=this.charCount(this.answer);return e>0&&e<this.MIN_CHARS}get questionTooLong(){return this.charCount(this.question)>this.MAX_CHARS}get answerTooLong(){return this.charCount(this.answer)>this.MAX_CHARS}get formInvalid(){return this.questionBlank||this.answerBlank||this.questionTooShort||this.answerTooShort||this.questionTooLong||this.answerTooLong}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(this.formInvalid){this.toastr.error("Please fix the highlighted errors before submitting.");return}let e={question:this.question.trim(),answer:this.answer.trim()};this.mode==="edit"&&this.faq?this.faqService.updateFaq(this.faq.id,e).subscribe({next:()=>{this.toastr.success("FAQ updated successfully."),this.justSaved=!0,this.originalHide()},error:i=>this.toastr.error(i?.error??"Failed to update FAQ.")}):this.faqService.createFaq(e).subscribe({next:()=>{this.toastr.success("FAQ created successfully."),this.justSaved=!0,this.originalHide()},error:i=>this.toastr.error(i?.error??"Failed to create FAQ.")})}static{this.\u0275fac=function(i){return new(i||t)(W(Pn),W(Uv),W(Rt),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-faq-modal"]],viewQuery:function(i,r){if(i&1&&fi(eq,5),i&2){let o;oi(o=si())&&(r.faqForm=o.first)}},inputs:{mode:"mode",faq:"faq"},standalone:!0,features:[$e],decls:28,vars:11,consts:[["faqForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["novalidate",""],[1,"mb-3"],["for","question",1,"form-label"],["id","question","rows","3","name","question","placeholder","Type your question...",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-1 small text-danger",4,"ngIf"],["for","answer",1,"form-label"],["id","answer","rows","4","name","answer","placeholder","Type your answer...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-end"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"mt-1","small","text-danger"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"h5",2),_(2),p(),g(3,"button",3),j("click",function(){return K(o),Q(r.attemptClose())}),p()(),g(4,"div",4)(5,"form",5,0)(7,"div",6)(8,"label",7)(9,"strong"),_(10,"Question"),p()(),g(11,"textarea",8),Qe("ngModelChange",function(a){return K(o),Je(r.question,a)||(r.question=a),Q(a)}),p(),ye(12,tq,2,0,"div",9)(13,nq,2,1,"div",9)(14,iq,2,1,"div",9),p(),g(15,"div",6)(16,"label",10)(17,"strong"),_(18,"Answer"),p()(),g(19,"textarea",11),Qe("ngModelChange",function(a){return K(o),Je(r.answer,a)||(r.answer=a),Q(a)}),p(),ye(20,rq,2,0,"div",9)(21,oq,2,1,"div",9)(22,sq,2,1,"div",9),p(),g(23,"div",12)(24,"button",13),j("click",function(){return K(o),Q(r.attemptClose())}),_(25,"Cancel"),p(),g(26,"button",14),j("click",function(){return K(o),Q(r.submit())}),_(27),p()()()()}i&2&&(C(2),nt(" ",r.mode==="edit"?"Edit FAQ":"Add New FAQ"," "),C(9),Ke("ngModel",r.question),C(),O("ngIf",r.questionBlank),C(),O("ngIf",!r.questionBlank&&r.questionTooShort),C(),O("ngIf",r.questionTooLong),C(5),Ke("ngModel",r.answer),C(),O("ngIf",r.answerBlank),C(),O("ngIf",!r.answerBlank&&r.answerTooShort),C(),O("ngIf",r.answerTooLong),C(4),O("disabled",r.formInvalid),C(),nt(" ",r.mode==="edit"?"Update FAQ":"Add FAQ"," "))},dependencies:[ct,Mt,vn,Mi,wn,Zt,Ei,bn,zr]})}}return t})();var aq=()=>[];function lq(t,n){if(t&1){let e=Re();g(0,"div",12)(1,"button",13),j("click",function(){K(e);let r=L();return Q(r.openEditModal())}),_(2,"Add FAQ"),p()()}}function cq(t,n){if(t&1&&(g(0,"div")(1,"p",23),_(2),p()()),t&2){let e=L(2).$implicit;C(2),ke(e.answer)}}function uq(t,n){t&1&&(g(0,"p",24),_(1,"No answer yet"),p())}function dq(t,n){if(t&1){let e=Re();g(0,"div",25)(1,"button",26),j("click",function(){K(e);let r=L(2).$implicit,o=L();return Q(o.openEditModal(r))}),_(2,"\u270F\uFE0F Edit"),p(),g(3,"button",27),j("click",function(){K(e);let r=L(2).$implicit,o=L();return Q(o.deleteFaq(r.id))}),_(4,"\u{1F5D1}\uFE0F Delete"),p()()}}function fq(t,n){if(t&1){let e=Re();g(0,"div",20),j("click",function(r){return K(e),Q(r.stopPropagation())}),ye(1,cq,3,1,"div",21)(2,uq,2,0,"ng-template",null,0,El)(4,dq,5,0,"div",22),p()}if(t&2){let e=xl(3),i=L().$implicit,r=L();C(),O("ngIf",i.answer)("ngIfElse",e),C(3),O("ngIf",r.isAdmin())}}function hq(t,n){if(t&1){let e=Re();g(0,"div",14),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.toggleFaq(r.id))}),g(1,"div",15)(2,"div",16),_(3),p(),g(4,"div",17),ze(5,"i",18),p()(),ye(6,fq,5,3,"div",19),p()}if(t&2){let e=n.$implicit,i=L();C(3),nt(" ",e.question," "),C(2),O("ngClass",i.openFaqId===e.id?"bi-chevron-up":"bi-chevron-down"),C(),O("ngIf",i.openFaqId===e.id)}}function pq(t,n){if(t&1){let e=Re();g(0,"li",29)(1,"a",30),j("click",function(){let r=K(e).index,o=L(2);return Q(o.pageChanged(r+1))}),_(2),p()()}if(t&2){let e=n.index,i=L(2);Ge("active",i.pagination.currentPage===e+1),C(2),ke(e+1)}}function mq(t,n){if(t&1){let e=Re();g(0,"nav")(1,"ul",28)(2,"li",29)(3,"a",30),j("click",function(){K(e);let r=L();return Q(r.pageChanged(r.pagination.currentPage-1))}),_(4,"Previous"),p()(),ye(5,pq,3,3,"li",31),g(6,"li",29)(7,"a",30),j("click",function(){K(e);let r=L();return Q(r.pageChanged(r.pagination.currentPage+1))}),_(8,"Next"),p()()()()}if(t&2){let e=L();C(2),Ge("disabled",e.pagination.currentPage===1),C(3),O("ngForOf",cr(5,aq).constructor(e.pagination.totalPages)),C(),Ge("disabled",e.pagination.currentPage===e.pagination.totalPages)}}var cN=(()=>{class t{constructor(e,i,r,o){this.faqService=e,this.toastr=i,this.modalService=r,this.accountService=o,this.faqs=[],this.filteredFaqs=[],this.pagination=null,this.pageNumber=1,this.pageSize=20,this.userRole="",this.openFaqId=null,this.searchTerm=""}ngOnInit(){this.userRole=this.accountService.getUserRole(),this.loadFaqs()}loadFaqs(){if(this.searchTerm.trim().length>0){this.loadAllFaqsForSearch();return}this.faqService.getAllFaqs({pageNumber:this.pageNumber,pageSize:this.pageSize}).subscribe({next:i=>{this.faqs=i.body??[],this.applyFilter();let r=i.headers.get("Pagination");r&&(this.pagination=JSON.parse(r))},error:()=>this.toastr.error("Failed to load FAQs")})}loadAllFaqsForSearch(){this.faqService.getAllFaqs({pageNumber:1,pageSize:this.pageSize}).subscribe({next:e=>{let i=e.headers.get("Pagination"),r=e.body??[];if(!i){this.faqs=r,this.pagination=null,this.applyFilter();return}let s=JSON.parse(i).totalPages||1;if(s===1){this.faqs=r,this.pagination=null,this.applyFilter();return}let a=[];for(let l=2;l<=s;l++)a.push(this.faqService.getAllFaqs({pageNumber:l,pageSize:this.pageSize}));$f(a).subscribe({next:l=>{let c=l.flatMap(f=>f.body??[]);this.faqs=[...r,...c],this.pagination=null,this.applyFilter()},error:()=>{this.faqs=r,this.pagination=null,this.applyFilter(),this.toastr.error("Some results could not be loaded while searching.")}})},error:()=>this.toastr.error("Failed to load FAQs")})}pageChanged(e){this.pagination&&(e<1||e>this.pagination.totalPages||(this.pageNumber=e,this.loadFaqs()))}openEditModal(e){let i=e?{faq:e,mode:"edit"}:{mode:"create"};this.bsModalRef=this.modalService.show(lN,{initialState:i}),this.bsModalRef.onHidden?.subscribe(()=>{this.loadFaqs()})}deleteFaq(e){let i={title:"Confirm Deletion",message:"Are you sure you want to delete this FAQ entry?",onConfirm:()=>{this.faqService.deleteFaq(e).subscribe({next:()=>{this.toastr.success("FAQ deleted"),this.loadFaqs()},error:()=>this.toastr.error("Failed to delete FAQ")})}};this.bsModalRef=this.modalService.show(qa,{initialState:i})}toggleFaq(e){this.openFaqId=this.openFaqId===e?null:e}isAdmin(){return this.userRole==="Admin"}onSearchChange(){this.loadFaqs(),this.openFaqId&&!this.filteredFaqs.some(e=>e.id===this.openFaqId)&&(this.openFaqId=null)}clearSearch(){this.searchTerm="",this.pageNumber=1,this.loadFaqs()}applyFilter(){let e=this.searchTerm.trim().toLowerCase();if(!e){this.filteredFaqs=[...this.faqs];return}this.filteredFaqs=this.faqs.filter(i=>[i.question??"",i.answer??"",i.createdByName??"",i.authorName??"",i.createdBy??"",i.author??""].join(" ").toLowerCase().includes(e))}static{this.\u0275fac=function(i){return new(i||t)(W(Uv),W(Rt),W(cn),W(ln))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-faq"]],standalone:!0,features:[$e],decls:12,vars:4,consts:[["noAnswer",""],[1,"faq-shell"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"faq-title","mb-0"],[1,"search-wrap"],[1,"input-group","search-group"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"input-group-text","search-icon"],[1,"bi","bi-search"],["class","mb-3 text-end",4,"ngIf"],["class","faq-item card mb-3",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mb-3","text-end"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"faq-item","card","mb-3",3,"click"],[1,"faq-row"],[1,"faq-question"],[1,"faq-chevron"],[1,"bi",3,"ngClass"],["class","faq-body",3,"click",4,"ngIf"],[1,"faq-body",3,"click"],[4,"ngIf","ngIfElse"],["class","faq-actions",4,"ngIf"],[1,"mb-0"],[1,"mb-0","text-muted","fst-italic"],[1,"faq-actions"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(g(0,"div",1)(1,"div",2)(2,"h1",3),_(3,"FAQ"),p(),g(4,"div",4)(5,"div",5)(6,"input",6),Qe("ngModelChange",function(s){return Je(r.searchTerm,s)||(r.searchTerm=s),s}),j("input",function(){return r.onSearchChange()}),p(),g(7,"span",7),ze(8,"i",8),p()()()(),ye(9,lq,3,0,"div",9)(10,hq,7,3,"div",10)(11,mq,9,6,"nav",11),p()),i&2&&(C(6),Ke("ngModel",r.searchTerm),C(3),O("ngIf",r.isAdmin()),C(),O("ngForOf",r.filteredFaqs),C(),O("ngIf",r.pagination))},dependencies:[ct,ur,on,Mt,vn,wn,Zt,bn,tv],styles:['.faq-shell[_ngcontent-%COMP%]{max-width:980px;margin:0 auto;background:#f6f6f6;padding:24px;border-radius:18px;box-shadow:0 10px 20px #0000000f}.faq-title[_ngcontent-%COMP%]{font-weight:800;letter-spacing:.5px;color:#000!important;display:inline-block;position:relative;padding-bottom:.25rem}.faq-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.search-wrap[_ngcontent-%COMP%]{min-width:320px}.search-group[_ngcontent-%COMP%]{border-radius:28px;overflow:hidden;background:#fff;box-shadow:inset 0 0 0 1px #e6e6e6}.search-input[_ngcontent-%COMP%]{border:none!important;background:transparent!important;padding:12px 16px}.search-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.search-icon[_ngcontent-%COMP%]{border:none;background:transparent}.faq-item.card[_ngcontent-%COMP%]{border:none;border-radius:16px;background:#fff;box-shadow:0 8px 18px #00000012;cursor:pointer;transition:transform .08s ease,box-shadow .2s ease}.faq-item.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 22px #00000014}.faq-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px;padding:16px 20px}.faq-question[_ngcontent-%COMP%]{font-weight:700;color:#1e1e1e;font-size:1.2rem}.faq-chevron[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;color:#8b8b8b}.faq-body[_ngcontent-%COMP%]{position:relative;padding:16px 20px 56px;border-top:1px solid #f0f0f0;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px}.faq-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.6}.faq-actions[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:12px}.btn.btn-sm[_ngcontent-%COMP%]{padding:4px 10px;font-size:.85rem}@media (max-width: 576px){.search-wrap[_ngcontent-%COMP%]{min-width:0;width:100%}.faq-shell[_ngcontent-%COMP%]{padding:16px}.faq-row[_ngcontent-%COMP%]{padding:14px 16px}.faq-body[_ngcontent-%COMP%]{padding:14px 16px 56px}}']})}}return t})();var Uk=ay(ly());var Is=Uint8Array,No=Uint16Array,FC=Int32Array,RC=new Is([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LC=new Is([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uN=new Is([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pN=function(t,n){for(var e=new No(31),i=0;i<31;++i)e[i]=n+=1<<t[i-1];for(var r=new FC(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)r[o]=o-e[i]<<5|i;return{b:e,r}},mN=pN(RC,2),gq=mN.b,kC=mN.r;gq[28]=258,kC[258]=28;var gN=pN(LC,0),ole=gN.b,dN=gN.r,PC=new No(32768);for(Dn=0;Dn<32768;++Dn)$a=(Dn&43690)>>1|(Dn&21845)<<1,$a=($a&52428)>>2|($a&13107)<<2,$a=($a&61680)>>4|($a&3855)<<4,PC[Dn]=(($a&65280)>>8|($a&255)<<8)>>1;var $a,Dn,pp=function(t,n,e){for(var i=t.length,r=0,o=new No(n);r<i;++r)t[r]&&++o[t[r]-1];var s=new No(n);for(r=1;r<n;++r)s[r]=s[r-1]+o[r-1]<<1;var a;if(e){a=new No(1<<n);var l=15-n;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],f=n-t[r],v=s[t[r]-1]++<<f,w=v|(1<<f)-1;v<=w;++v)a[PC[v]>>l]=c}else for(a=new No(i),r=0;r<i;++r)t[r]&&(a[r]=PC[s[t[r]-1]++]>>15-t[r]);return a},ou=new Is(288);for(Dn=0;Dn<144;++Dn)ou[Dn]=8;var Dn;for(Dn=144;Dn<256;++Dn)ou[Dn]=9;var Dn;for(Dn=256;Dn<280;++Dn)ou[Dn]=7;var Dn;for(Dn=280;Dn<288;++Dn)ou[Dn]=8;var Dn,Hv=new Is(32);for(Dn=0;Dn<32;++Dn)Hv[Dn]=5;var Dn,vq=pp(ou,9,0);var yq=pp(Hv,5,0);var vN=function(t){return(t+7)/8|0},_q=function(t,n,e){return(n==null||n<0)&&(n=0),(e==null||e>t.length)&&(e=t.length),new Is(t.subarray(n,e))};var Wa=function(t,n,e){e<<=n&7;var i=n/8|0;t[i]|=e,t[i+1]|=e>>8},fp=function(t,n,e){e<<=n&7;var i=n/8|0;t[i]|=e,t[i+1]|=e>>8,t[i+2]|=e>>16},NC=function(t,n){for(var e=[],i=0;i<t.length;++i)t[i]&&e.push({s:i,f:t[i]});var r=e.length,o=e.slice();if(!r)return{t:_N,l:0};if(r==1){var s=new Is(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(he,we){return he.f-we.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,f=1,v=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=r-1;)a=e[e[c].f<e[v].f?c++:v++],l=e[c!=f&&e[c].f<e[v].f?c++:v++],e[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var w=o[0].s,i=1;i<r;++i)o[i].s>w&&(w=o[i].s);var h=new No(w+1),S=OC(e[f-1],h,0);if(S>n){var i=0,x=0,k=S-n,D=1<<k;for(o.sort(function(we,ge){return h[ge.s]-h[we.s]||we.f-ge.f});i<r;++i){var Z=o[i].s;if(h[Z]>n)x+=D-(1<<S-h[Z]),h[Z]=n;else break}for(x>>=k;x>0;){var G=o[i].s;h[G]<n?x-=1<<n-h[G]++-1:++i}for(;i>=0&&x;--i){var H=o[i].s;h[H]==n&&(--h[H],++x)}S=n}return{t:new Is(h),l:S}},OC=function(t,n,e){return t.s==-1?Math.max(OC(t.l,n,e+1),OC(t.r,n,e+1)):n[t.s]=e},fN=function(t){for(var n=t.length;n&&!t[--n];);for(var e=new No(++n),i=0,r=t[0],o=1,s=function(l){e[i++]=l},a=1;a<=n;++a)if(t[a]==r&&a!=n)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=t[a]}return{c:e.subarray(0,i),n}},hp=function(t,n){for(var e=0,i=0;i<n.length;++i)e+=t[i]*n[i];return e},yN=function(t,n,e){var i=e.length,r=vN(n+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var o=0;o<i;++o)t[r+o+4]=e[o];return(r+4+i)*8},hN=function(t,n,e,i,r,o,s,a,l,c,f){Wa(n,f++,e),++r[256];for(var v=NC(r,15),w=v.t,h=v.l,S=NC(o,15),x=S.t,k=S.l,D=fN(w),Z=D.c,G=D.n,H=fN(x),he=H.c,we=H.n,ge=new No(19),te=0;te<Z.length;++te)++ge[Z[te]&31];for(var te=0;te<he.length;++te)++ge[he[te]&31];for(var $=NC(ge,7),ae=$.t,N=$.l,R=19;R>4&&!ae[uN[R-1]];--R);var X=c+5<<3,J=hp(r,ou)+hp(o,Hv)+s,be=hp(r,w)+hp(o,x)+s+14+3*R+hp(ge,ae)+2*ge[16]+3*ge[17]+7*ge[18];if(l>=0&&X<=J&&X<=be)return yN(n,f,t.subarray(l,l+c));var oe,le,ne,pe;if(Wa(n,f,1+(be<J)),f+=2,be<J){oe=pp(w,h,0),le=w,ne=pp(x,k,0),pe=x;var Pe=pp(ae,N,0);Wa(n,f,G-257),Wa(n,f+5,we-1),Wa(n,f+10,R-4),f+=14;for(var te=0;te<R;++te)Wa(n,f+3*te,ae[uN[te]]);f+=3*R;for(var Te=[Z,he],A=0;A<2;++A)for(var q=Te[A],te=0;te<q.length;++te){var z=q[te]&31;Wa(n,f,Pe[z]),f+=ae[z],z>15&&(Wa(n,f,q[te]>>5&127),f+=q[te]>>12)}}else oe=vq,le=ou,ne=yq,pe=Hv;for(var te=0;te<a;++te){var ie=i[te];if(ie>255){var z=ie>>18&31;fp(n,f,oe[z+257]),f+=le[z+257],z>7&&(Wa(n,f,ie>>23&31),f+=RC[z]);var ce=ie&31;fp(n,f,ne[ce]),f+=pe[ce],ce>3&&(fp(n,f,ie>>5&8191),f+=LC[ce])}else fp(n,f,oe[ie]),f+=le[ie]}return fp(n,f,oe[256]),f+le[256]},bq=new FC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_N=new Is(0),wq=function(t,n,e,i,r,o){var s=o.z||t.length,a=new Is(i+s+5*(1+Math.ceil(s/7e3))+r),l=a.subarray(i,a.length-r),c=o.l,f=(o.r||0)&7;if(n){f&&(l[0]=o.r>>3);for(var v=bq[n-1],w=v>>13,h=v&8191,S=(1<<e)-1,x=o.p||new No(32768),k=o.h||new No(S+1),D=Math.ceil(e/3),Z=2*D,G=function(xe){return(t[xe]^t[xe+1]<<D^t[xe+2]<<Z)&S},H=new FC(25e3),he=new No(288),we=new No(32),ge=0,te=0,$=o.i||0,ae=0,N=o.w||0,R=0;$+2<s;++$){var X=G($),J=$&32767,be=k[X];if(x[J]=be,k[X]=J,N<=$){var oe=s-$;if((ge>7e3||ae>24576)&&(oe>423||!c)){f=hN(t,l,0,H,he,we,te,ae,R,$-R,f),ae=ge=te=0,R=$;for(var le=0;le<286;++le)he[le]=0;for(var le=0;le<30;++le)we[le]=0}var ne=2,pe=0,Pe=h,Te=J-be&32767;if(oe>2&&X==G($-Te))for(var A=Math.min(w,oe)-1,q=Math.min(32767,$),z=Math.min(258,oe);Te<=q&&--Pe&&J!=be;){if(t[$+ne]==t[$+ne-Te]){for(var ie=0;ie<z&&t[$+ie]==t[$+ie-Te];++ie);if(ie>ne){if(ne=ie,pe=Te,ie>A)break;for(var ce=Math.min(Te,ie-2),de=0,le=0;le<ce;++le){var Ce=$-Te+le&32767,_e=x[Ce],Ie=Ce-_e&32767;Ie>de&&(de=Ie,be=Ce)}}}J=be,be=x[J],Te+=J-be&32767}if(pe){H[ae++]=268435456|kC[ne]<<18|dN[pe];var Ve=kC[ne]&31,Ze=dN[pe]&31;te+=RC[Ve]+LC[Ze],++he[257+Ve],++we[Ze],N=$+ne,++ge}else H[ae++]=t[$],++he[t[$]]}}for($=Math.max($,N);$<s;++$)H[ae++]=t[$],++he[t[$]];f=hN(t,l,c,H,he,we,te,ae,R,$-R,f),c||(o.r=f&7|l[f/8|0]<<3,f-=7,o.h=k,o.p=x,o.i=$,o.w=N)}else{for(var $=o.w||0;$<s+c;$+=65535){var Xe=$+65535;Xe>=s&&(l[f/8|0]=c,Xe=s),f=yN(l,f+1,t.subarray($,Xe))}o.i=s}return _q(a,0,i+vN(f)+r)};var bN=function(){var t=1,n=0;return{p:function(e){for(var i=t,r=n,o=e.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)r+=i+=e[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,n=r},d:function(){return t%=65521,n%=65521,(t&255)<<24|(t&65280)<<8|(n&255)<<8|n>>8}}},Cq=function(t,n,e,i,r){if(!r&&(r={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),s=new Is(o.length+t.length);s.set(o),s.set(t,o.length),t=s,r.w=o.length}return wq(t,n.level==null?6:n.level,n.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+n.mem,e,i,r)};var wN=function(t,n,e){for(;e;++n)t[n]=e,e>>>=8};var Sq=function(t,n){var e=n.level,i=e==0?0:e<6?1:e==9?3:2;if(t[0]=120,t[1]=i<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var r=bN();r.p(n.dictionary),wN(t,2,r.d())}};function qv(t,n){n||(n={});var e=bN();e.p(t);var i=Cq(t,n,n.dictionary?6:2,4);return Sq(i,n),wN(i,i.length-4,e.d()),i}var xq=typeof TextDecoder<"u"&&new TextDecoder,Eq=0;try{xq.decode(_N,{stream:!0}),Eq=1}catch{}function CN(t){if(Array.isArray(t))return t}function SN(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(e=e.call(t)).next,n===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=o.call(e)).done)&&(a.push(i.value),a.length!==n);l=!0);}catch(f){c=!0,r=f}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function jC(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}function xN(t,n){if(t){if(typeof t=="string")return jC(t,n);var e={}.toString.call(t).slice(8,-1);return e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set"?Array.from(t):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?jC(t,n):void 0}}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VC(t,n){return CN(t)||SN(t,n)||xN(t,n)||EN()}function BC(t,n="utf8"){return new TextDecoder(n).decode(t)}var Mq=new TextEncoder;function MN(t){return Mq.encode(t)}var Dq=1024*8,Iq=(()=>{let t=new Uint8Array(4),n=new Uint32Array(t.buffer);return!((n[0]=1)&t[0])})(),UC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},mp=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=Dq,e={}){let i=!1;typeof n=="number"?n=new ArrayBuffer(n):(i=!0,this.lastWrittenByte=n.byteLength);let r=e.offset?e.offset>>>0:0,o=n.byteLength-r,s=r;(ArrayBuffer.isView(n)||n instanceof t)&&(n.byteLength!==n.buffer.byteLength&&(s=n.byteOffset+r),n=n.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=n,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){let i=(this.offset+n)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,e){let i=UC[e].BYTES_PER_ELEMENT*n,r=this.byteOffset+this.offset,o=this.buffer.slice(r,r+i);if(this.littleEndian===Iq&&e!=="uint8"&&e!=="int8"){let a=new Uint8Array(this.buffer.slice(r,r+i));a.reverse();let l=new UC[e](a.buffer);return this.offset+=i,l.reverse(),l}let s=new UC[e](o);return this.offset+=i,s}readInt16(){let n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){let n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){let n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){let n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){let n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){let n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){let n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){let n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let e="";for(let i=0;i<n;i++)e+=this.readChar();return e}readUtf8(n=1){return BC(this.readBytes(n))}decodeText(n=1,e="utf8"){return BC(this.readBytes(n),e)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let e=0;e<n.length;e++)this._data.setUint8(this.offset++,n[e]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let e=0;e<n.length;e++)this.writeUint8(n.charCodeAt(e));return this}writeUtf8(n){return this.writeBytes(MN(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Yd(t){let n=t.length;for(;--n>=0;)t[n]=0}var Aq=0,d3=1,Tq=2,Nq=3,kq=258,dS=29,Tp=256,Cp=Tp+1+dS,$d=30,fS=19,f3=2*Cp+1,su=15,HC=16,Pq=7,hS=256,h3=16,p3=17,m3=18,nS=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Zv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Oq=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),g3=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fq=512,Ya=new Array((Cp+2)*2);Yd(Ya);var _p=new Array($d*2);Yd(_p);var Sp=new Array(Fq);Yd(Sp);var xp=new Array(kq-Nq+1);Yd(xp);var pS=new Array(dS);Yd(pS);var Kv=new Array($d);Yd(Kv);function qC(t,n,e,i,r){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}var v3,y3,_3;function zC(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}var b3=t=>t<256?Sp[t]:Sp[256+(t>>>7)],Ep=(t,n)=>{t.pending_buf[t.pending++]=n&255,t.pending_buf[t.pending++]=n>>>8&255},so=(t,n,e)=>{t.bi_valid>HC-e?(t.bi_buf|=n<<t.bi_valid&65535,Ep(t,t.bi_buf),t.bi_buf=n>>HC-t.bi_valid,t.bi_valid+=e-HC):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)},na=(t,n,e)=>{so(t,e[n*2],e[n*2+1])},w3=(t,n)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--n>0);return e>>>1},Rq=t=>{t.bi_valid===16?(Ep(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Lq=(t,n)=>{let e=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,o=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,a=n.stat_desc.extra_base,l=n.stat_desc.max_length,c,f,v,w,h,S,x=0;for(w=0;w<=su;w++)t.bl_count[w]=0;for(e[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<f3;c++)f=t.heap[c],w=e[e[f*2+1]*2+1]+1,w>l&&(w=l,x++),e[f*2+1]=w,!(f>i)&&(t.bl_count[w]++,h=0,f>=a&&(h=s[f-a]),S=e[f*2],t.opt_len+=S*(w+h),o&&(t.static_len+=S*(r[f*2+1]+h)));if(x!==0){do{for(w=l-1;t.bl_count[w]===0;)w--;t.bl_count[w]--,t.bl_count[w+1]+=2,t.bl_count[l]--,x-=2}while(x>0);for(w=l;w!==0;w--)for(f=t.bl_count[w];f!==0;)v=t.heap[--c],!(v>i)&&(e[v*2+1]!==w&&(t.opt_len+=(w-e[v*2+1])*e[v*2],e[v*2+1]=w),f--)}},C3=(t,n,e)=>{let i=new Array(su+1),r=0,o,s;for(o=1;o<=su;o++)r=r+e[o-1]<<1,i[o]=r;for(s=0;s<=n;s++){let a=t[s*2+1];a!==0&&(t[s*2]=w3(i[a]++,a))}},jq=()=>{let t,n,e,i,r,o=new Array(su+1);for(e=0,i=0;i<dS-1;i++)for(pS[i]=e,t=0;t<1<<nS[i];t++)xp[e++]=i;for(xp[e-1]=i,r=0,i=0;i<16;i++)for(Kv[i]=r,t=0;t<1<<Zv[i];t++)Sp[r++]=i;for(r>>=7;i<$d;i++)for(Kv[i]=r<<7,t=0;t<1<<Zv[i]-7;t++)Sp[256+r++]=i;for(n=0;n<=su;n++)o[n]=0;for(t=0;t<=143;)Ya[t*2+1]=8,t++,o[8]++;for(;t<=255;)Ya[t*2+1]=9,t++,o[9]++;for(;t<=279;)Ya[t*2+1]=7,t++,o[7]++;for(;t<=287;)Ya[t*2+1]=8,t++,o[8]++;for(C3(Ya,Cp+1,o),t=0;t<$d;t++)_p[t*2+1]=5,_p[t*2]=w3(t,5);v3=new qC(Ya,nS,Tp+1,Cp,su),y3=new qC(_p,Zv,0,$d,su),_3=new qC(new Array(0),Oq,0,fS,Pq)},S3=t=>{let n;for(n=0;n<Cp;n++)t.dyn_ltree[n*2]=0;for(n=0;n<$d;n++)t.dyn_dtree[n*2]=0;for(n=0;n<fS;n++)t.bl_tree[n*2]=0;t.dyn_ltree[hS*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x3=t=>{t.bi_valid>8?Ep(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},DN=(t,n,e,i)=>{let r=n*2,o=e*2;return t[r]<t[o]||t[r]===t[o]&&i[n]<=i[e]},$C=(t,n,e)=>{let i=t.heap[e],r=e<<1;for(;r<=t.heap_len&&(r<t.heap_len&&DN(n,t.heap[r+1],t.heap[r],t.depth)&&r++,!DN(n,i,t.heap[r],t.depth));)t.heap[e]=t.heap[r],e=r,r<<=1;t.heap[e]=i},IN=(t,n,e)=>{let i,r,o=0,s,a;if(t.sym_next!==0)do i=t.pending_buf[t.sym_buf+o++]&255,i+=(t.pending_buf[t.sym_buf+o++]&255)<<8,r=t.pending_buf[t.sym_buf+o++],i===0?na(t,r,n):(s=xp[r],na(t,s+Tp+1,n),a=nS[s],a!==0&&(r-=pS[s],so(t,r,a)),i--,s=b3(i),na(t,s,e),a=Zv[s],a!==0&&(i-=Kv[s],so(t,i,a)));while(o<t.sym_next);na(t,hS,n)},iS=(t,n)=>{let e=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,o=n.stat_desc.elems,s,a,l=-1,c;for(t.heap_len=0,t.heap_max=f3,s=0;s<o;s++)e[s*2]!==0?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):e[s*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,e[c*2]=1,t.depth[c]=0,t.opt_len--,r&&(t.static_len-=i[c*2+1]);for(n.max_code=l,s=t.heap_len>>1;s>=1;s--)$C(t,e,s);c=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],$C(t,e,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,e[c*2]=e[s*2]+e[a*2],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,e[s*2+1]=e[a*2+1]=c,t.heap[1]=c++,$C(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Lq(t,n),C3(e,l,t.bl_count)},AN=(t,n,e)=>{let i,r=-1,o,s=n[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),n[(e+1)*2+1]=65535,i=0;i<=e;i++)o=s,s=n[(i+1)*2+1],!(++a<l&&o===s)&&(a<c?t.bl_tree[o*2]+=a:o!==0?(o!==r&&t.bl_tree[o*2]++,t.bl_tree[h3*2]++):a<=10?t.bl_tree[p3*2]++:t.bl_tree[m3*2]++,a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},TN=(t,n,e)=>{let i,r=-1,o,s=n[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),i=0;i<=e;i++)if(o=s,s=n[(i+1)*2+1],!(++a<l&&o===s)){if(a<c)do na(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==r&&(na(t,o,t.bl_tree),a--),na(t,h3,t.bl_tree),so(t,a-3,2)):a<=10?(na(t,p3,t.bl_tree),so(t,a-3,3)):(na(t,m3,t.bl_tree),so(t,a-11,7));a=0,r=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},Vq=t=>{let n;for(AN(t,t.dyn_ltree,t.l_desc.max_code),AN(t,t.dyn_dtree,t.d_desc.max_code),iS(t,t.bl_desc),n=fS-1;n>=3&&t.bl_tree[g3[n]*2+1]===0;n--);return t.opt_len+=3*(n+1)+5+5+4,n},Bq=(t,n,e,i)=>{let r;for(so(t,n-257,5),so(t,e-1,5),so(t,i-4,4),r=0;r<i;r++)so(t,t.bl_tree[g3[r]*2+1],3);TN(t,t.dyn_ltree,n-1),TN(t,t.dyn_dtree,e-1)},Uq=t=>{let n=4093624447,e;for(e=0;e<=31;e++,n>>>=1)if(n&1&&t.dyn_ltree[e*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(e=32;e<Tp;e++)if(t.dyn_ltree[e*2]!==0)return 1;return 0},NN=!1,Hq=t=>{NN||(jq(),NN=!0),t.l_desc=new zC(t.dyn_ltree,v3),t.d_desc=new zC(t.dyn_dtree,y3),t.bl_desc=new zC(t.bl_tree,_3),t.bi_buf=0,t.bi_valid=0,S3(t)},E3=(t,n,e,i)=>{so(t,(Aq<<1)+(i?1:0),3),x3(t),Ep(t,e),Ep(t,~e),e&&t.pending_buf.set(t.window.subarray(n,n+e),t.pending),t.pending+=e},qq=t=>{so(t,d3<<1,3),na(t,hS,Ya),Rq(t)},zq=(t,n,e,i)=>{let r,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=Uq(t)),iS(t,t.l_desc),iS(t,t.d_desc),s=Vq(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=e+5,e+4<=r&&n!==-1?E3(t,n,e,i):t.strategy===4||o===r?(so(t,(d3<<1)+(i?1:0),3),IN(t,Ya,_p)):(so(t,(Tq<<1)+(i?1:0),3),Bq(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),IN(t,t.dyn_ltree,t.dyn_dtree)),S3(t),i&&x3(t)},$q=(t,n,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=n,t.pending_buf[t.sym_buf+t.sym_next++]=n>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,n===0?t.dyn_ltree[e*2]++:(t.matches++,n--,t.dyn_ltree[(xp[e]+Tp+1)*2]++,t.dyn_dtree[b3(n)*2]++),t.sym_next===t.sym_end),Wq=Hq,Gq=E3,Yq=zq,Zq=$q,Kq=qq,Qq={_tr_init:Wq,_tr_stored_block:Gq,_tr_flush_block:Yq,_tr_tally:Zq,_tr_align:Kq},Xq=(t,n,e,i)=>{let r=t&65535|0,o=t>>>16&65535|0,s=0;for(;e!==0;){s=e>2e3?2e3:e,e-=s;do r=r+n[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0},Mp=Xq,Jq=()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n},ez=new Uint32Array(Jq()),tz=(t,n,e,i)=>{let r=ez,o=i+e;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[(t^n[s])&255];return t^-1},fr=tz,cu={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:nz,_tr_stored_block:rS,_tr_flush_block:iz,_tr_tally:Gl,_tr_align:rz}=Qq,{Z_NO_FLUSH:Yl,Z_PARTIAL_FLUSH:oz,Z_FULL_FLUSH:sz,Z_FINISH:ns,Z_BLOCK:kN,Z_OK:wr,Z_STREAM_END:PN,Z_STREAM_ERROR:ia,Z_DATA_ERROR:az,Z_BUF_ERROR:WC,Z_DEFAULT_COMPRESSION:lz,Z_FILTERED:cz,Z_HUFFMAN_ONLY:zv,Z_RLE:uz,Z_FIXED:dz,Z_DEFAULT_STRATEGY:fz,Z_UNKNOWN:hz,Z_DEFLATED:Jv}=Zd,pz=9,mz=15,gz=8,vz=29,yz=256,oS=yz+1+vz,_z=30,bz=19,wz=2*oS+1,Cz=15,mn=3,Wl=258,ra=Wl+mn+1,Sz=32,Wd=42,mS=57,sS=69,aS=73,lS=91,cS=103,au=113,vp=666,Wr=1,Kd=2,uu=3,Qd=4,xz=3,lu=(t,n)=>(t.msg=cu[n],n),ON=t=>t*2-(t>4?9:0),$l=t=>{let n=t.length;for(;--n>=0;)t[n]=0},Ez=t=>{let n,e,i,r=t.w_size;n=t.hash_size,i=n;do e=t.head[--i],t.head[i]=e>=r?e-r:0;while(--n);n=r,i=n;do e=t.prev[--i],t.prev[i]=e>=r?e-r:0;while(--n)},Mz=(t,n,e)=>(n<<t.hash_shift^e)&t.hash_mask,Zl=Mz,ko=t=>{let n=t.state,e=n.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+e),t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,n.pending===0&&(n.pending_out=0))},Po=(t,n)=>{iz(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,ko(t.strm)},In=(t,n)=>{t.pending_buf[t.pending++]=n},gp=(t,n)=>{t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=n&255},uS=(t,n,e,i)=>{let r=t.avail_in;return r>i&&(r=i),r===0?0:(t.avail_in-=r,n.set(t.input.subarray(t.next_in,t.next_in+r),e),t.state.wrap===1?t.adler=Mp(t.adler,n,r,e):t.state.wrap===2&&(t.adler=fr(t.adler,n,r,e)),t.next_in+=r,t.total_in+=r,r)},M3=(t,n)=>{let e=t.max_chain_length,i=t.strstart,r,o,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-ra?t.strstart-(t.w_size-ra):0,c=t.window,f=t.w_mask,v=t.prev,w=t.strstart+Wl,h=c[i+s-1],S=c[i+s];t.prev_length>=t.good_match&&(e>>=2),a>t.lookahead&&(a=t.lookahead);do if(r=n,!(c[r+s]!==S||c[r+s-1]!==h||c[r]!==c[i]||c[++r]!==c[i+1])){i+=2,r++;do;while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<w);if(o=Wl-(w-i),i=w-Wl,o>s){if(t.match_start=n,s=o,o>=a)break;h=c[i+s-1],S=c[i+s]}}while((n=v[n&f])>l&&--e!==0);return s<=t.lookahead?s:t.lookahead},Gd=t=>{let n=t.w_size,e,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-ra)&&(t.window.set(t.window.subarray(n,n+n-i),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,t.insert>t.strstart&&(t.insert=t.strstart),Ez(t),i+=n),t.strm.avail_in===0)break;if(e=uS(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=e,t.lookahead+t.insert>=mn)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=Zl(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=Zl(t,t.ins_h,t.window[r+mn-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<mn)););}while(t.lookahead<ra&&t.strm.avail_in!==0)},D3=(t,n)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,r,o,s=0,a=t.strm.avail_in;do{if(i=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,r=t.strstart-t.block_start,i>r+t.strm.avail_in&&(i=r+t.strm.avail_in),i>o&&(i=o),i<e&&(i===0&&n!==ns||n===Yl||i!==r+t.strm.avail_in)))break;s=n===ns&&i===r+t.strm.avail_in?1:0,rS(t,0,0,s),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,ko(t.strm),r&&(r>i&&(r=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,i-=r),i&&(uS(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Qd:n!==Yl&&n!==ns&&t.strm.avail_in===0&&t.strstart===t.block_start?Kd:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(uS(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,e=o>t.w_size?t.w_size:o,r=t.strstart-t.block_start,(r>=e||(r||n===ns)&&n!==Yl&&t.strm.avail_in===0&&r<=o)&&(i=r>o?o:r,s=n===ns&&t.strm.avail_in===0&&i===r?1:0,rS(t,t.block_start,i,s),t.block_start+=i,ko(t.strm)),s?uu:Wr)},GC=(t,n)=>{let e,i;for(;;){if(t.lookahead<ra){if(Gd(t),t.lookahead<ra&&n===Yl)return Wr;if(t.lookahead===0)break}if(e=0,t.lookahead>=mn&&(t.ins_h=Zl(t,t.ins_h,t.window[t.strstart+mn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-ra&&(t.match_length=M3(t,e)),t.match_length>=mn)if(i=Gl(t,t.strstart-t.match_start,t.match_length-mn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=mn){t.match_length--;do t.strstart++,t.ins_h=Zl(t,t.ins_h,t.window[t.strstart+mn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Zl(t,t.ins_h,t.window[t.strstart+1]);else i=Gl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(Po(t,!1),t.strm.avail_out===0))return Wr}return t.insert=t.strstart<mn-1?t.strstart:mn-1,n===ns?(Po(t,!0),t.strm.avail_out===0?uu:Qd):t.sym_next&&(Po(t,!1),t.strm.avail_out===0)?Wr:Kd},qd=(t,n)=>{let e,i,r;for(;;){if(t.lookahead<ra){if(Gd(t),t.lookahead<ra&&n===Yl)return Wr;if(t.lookahead===0)break}if(e=0,t.lookahead>=mn&&(t.ins_h=Zl(t,t.ins_h,t.window[t.strstart+mn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=mn-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-ra&&(t.match_length=M3(t,e),t.match_length<=5&&(t.strategy===cz||t.match_length===mn&&t.strstart-t.match_start>4096)&&(t.match_length=mn-1)),t.prev_length>=mn&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-mn,i=Gl(t,t.strstart-1-t.prev_match,t.prev_length-mn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=Zl(t,t.ins_h,t.window[t.strstart+mn-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=mn-1,t.strstart++,i&&(Po(t,!1),t.strm.avail_out===0))return Wr}else if(t.match_available){if(i=Gl(t,0,t.window[t.strstart-1]),i&&Po(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Wr}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Gl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<mn-1?t.strstart:mn-1,n===ns?(Po(t,!0),t.strm.avail_out===0?uu:Qd):t.sym_next&&(Po(t,!1),t.strm.avail_out===0)?Wr:Kd},Dz=(t,n)=>{let e,i,r,o,s=t.window;for(;;){if(t.lookahead<=Wl){if(Gd(t),t.lookahead<=Wl&&n===Yl)return Wr;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=mn&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+Wl;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=Wl-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=mn?(e=Gl(t,1,t.match_length-mn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Gl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(Po(t,!1),t.strm.avail_out===0))return Wr}return t.insert=0,n===ns?(Po(t,!0),t.strm.avail_out===0?uu:Qd):t.sym_next&&(Po(t,!1),t.strm.avail_out===0)?Wr:Kd},Iz=(t,n)=>{let e;for(;;){if(t.lookahead===0&&(Gd(t),t.lookahead===0)){if(n===Yl)return Wr;break}if(t.match_length=0,e=Gl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(Po(t,!1),t.strm.avail_out===0))return Wr}return t.insert=0,n===ns?(Po(t,!0),t.strm.avail_out===0?uu:Qd):t.sym_next&&(Po(t,!1),t.strm.avail_out===0)?Wr:Kd};function ta(t,n,e,i,r){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=i,this.func=r}var yp=[new ta(0,0,0,0,D3),new ta(4,4,8,4,GC),new ta(4,5,16,8,GC),new ta(4,6,32,32,GC),new ta(4,4,16,16,qd),new ta(8,16,32,32,qd),new ta(8,16,128,128,qd),new ta(8,32,128,256,qd),new ta(32,128,258,1024,qd),new ta(32,258,258,4096,qd)],Az=t=>{t.window_size=2*t.w_size,$l(t.head),t.max_lazy_match=yp[t.level].max_lazy,t.good_match=yp[t.level].good_length,t.nice_match=yp[t.level].nice_length,t.max_chain_length=yp[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=mn-1,t.match_available=0,t.ins_h=0};function Tz(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Jv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(wz*2),this.dyn_dtree=new Uint16Array((2*_z+1)*2),this.bl_tree=new Uint16Array((2*bz+1)*2),$l(this.dyn_ltree),$l(this.dyn_dtree),$l(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Cz+1),this.heap=new Uint16Array(2*oS+1),$l(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*oS+1),$l(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Np=t=>{if(!t)return 1;let n=t.state;return!n||n.strm!==t||n.status!==Wd&&n.status!==mS&&n.status!==sS&&n.status!==aS&&n.status!==lS&&n.status!==cS&&n.status!==au&&n.status!==vp?1:0},I3=t=>{if(Np(t))return lu(t,ia);t.total_in=t.total_out=0,t.data_type=hz;let n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?mS:n.wrap?Wd:au,t.adler=n.wrap===2?0:1,n.last_flush=-2,nz(n),wr},A3=t=>{let n=I3(t);return n===wr&&Az(t.state),n},Nz=(t,n)=>Np(t)||t.state.wrap!==2?ia:(t.state.gzhead=n,wr),T3=(t,n,e,i,r,o)=>{if(!t)return ia;let s=1;if(n===lz&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>pz||e!==Jv||i<8||i>15||n<0||n>9||o<0||o>dz||i===8&&s!==1)return lu(t,ia);i===8&&(i=9);let a=new Tz;return t.state=a,a.strm=t,a.status=Wd,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+mn-1)/mn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=n,a.strategy=o,a.method=e,A3(t)},kz=(t,n)=>T3(t,n,Jv,mz,gz,fz),Pz=(t,n)=>{if(Np(t)||n>kN||n<0)return t?lu(t,ia):ia;let e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===vp&&n!==ns)return lu(t,t.avail_out===0?WC:ia);let i=e.last_flush;if(e.last_flush=n,e.pending!==0){if(ko(t),t.avail_out===0)return e.last_flush=-1,wr}else if(t.avail_in===0&&ON(n)<=ON(i)&&n!==ns)return lu(t,WC);if(e.status===vp&&t.avail_in!==0)return lu(t,WC);if(e.status===Wd&&e.wrap===0&&(e.status=au),e.status===Wd){let r=Jv+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=zv||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,r|=o<<6,e.strstart!==0&&(r|=Sz),r+=31-r%31,gp(e,r),e.strstart!==0&&(gp(e,t.adler>>>16),gp(e,t.adler&65535)),t.adler=1,e.status=au,ko(t),e.pending!==0)return e.last_flush=-1,wr}if(e.status===mS){if(t.adler=0,In(e,31),In(e,139),In(e,8),e.gzhead)In(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),In(e,e.gzhead.time&255),In(e,e.gzhead.time>>8&255),In(e,e.gzhead.time>>16&255),In(e,e.gzhead.time>>24&255),In(e,e.level===9?2:e.strategy>=zv||e.level<2?4:0),In(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(In(e,e.gzhead.extra.length&255),In(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=fr(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=sS;else if(In(e,0),In(e,0),In(e,0),In(e,0),In(e,0),In(e,e.level===9?2:e.strategy>=zv||e.level<2?4:0),In(e,xz),e.status=au,ko(t),e.pending!==0)return e.last_flush=-1,wr}if(e.status===sS){if(e.gzhead.extra){let r=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let a=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(t.adler=fr(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=a,ko(t),e.pending!==0)return e.last_flush=-1,wr;r=0,o-=a}let s=new Uint8Array(e.gzhead.extra);e.pending_buf.set(s.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>r&&(t.adler=fr(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=aS}if(e.status===aS){if(e.gzhead.name){let r=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(t.adler=fr(t.adler,e.pending_buf,e.pending-r,r)),ko(t),e.pending!==0)return e.last_flush=-1,wr;r=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,In(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>r&&(t.adler=fr(t.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=lS}if(e.status===lS){if(e.gzhead.comment){let r=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(t.adler=fr(t.adler,e.pending_buf,e.pending-r,r)),ko(t),e.pending!==0)return e.last_flush=-1,wr;r=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,In(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>r&&(t.adler=fr(t.adler,e.pending_buf,e.pending-r,r))}e.status=cS}if(e.status===cS){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(ko(t),e.pending!==0))return e.last_flush=-1,wr;In(e,t.adler&255),In(e,t.adler>>8&255),t.adler=0}if(e.status=au,ko(t),e.pending!==0)return e.last_flush=-1,wr}if(t.avail_in!==0||e.lookahead!==0||n!==Yl&&e.status!==vp){let r=e.level===0?D3(e,n):e.strategy===zv?Iz(e,n):e.strategy===uz?Dz(e,n):yp[e.level].func(e,n);if((r===uu||r===Qd)&&(e.status=vp),r===Wr||r===uu)return t.avail_out===0&&(e.last_flush=-1),wr;if(r===Kd&&(n===oz?rz(e):n!==kN&&(rS(e,0,0,!1),n===sz&&($l(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),ko(t),t.avail_out===0))return e.last_flush=-1,wr}return n!==ns?wr:e.wrap<=0?PN:(e.wrap===2?(In(e,t.adler&255),In(e,t.adler>>8&255),In(e,t.adler>>16&255),In(e,t.adler>>24&255),In(e,t.total_in&255),In(e,t.total_in>>8&255),In(e,t.total_in>>16&255),In(e,t.total_in>>24&255)):(gp(e,t.adler>>>16),gp(e,t.adler&65535)),ko(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?wr:PN)},Oz=t=>{if(Np(t))return ia;let n=t.state.status;return t.state=null,n===au?lu(t,az):wr},Fz=(t,n)=>{let e=n.length;if(Np(t))return ia;let i=t.state,r=i.wrap;if(r===2||r===1&&i.status!==Wd||i.lookahead)return ia;if(r===1&&(t.adler=Mp(t.adler,n,e,0)),i.wrap=0,e>=i.w_size){r===0&&($l(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(n.subarray(e-i.w_size,e),0),n=l,e=i.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=e,t.next_in=0,t.input=n,Gd(i);i.lookahead>=mn;){let l=i.strstart,c=i.lookahead-(mn-1);do i.ins_h=Zl(i,i.ins_h,i.window[l+mn-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=mn-1,Gd(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=mn-1,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,wr},Rz=kz,Lz=T3,jz=A3,Vz=I3,Bz=Nz,Uz=Pz,Hz=Oz,qz=Fz,zz="pako deflate (from Nodeca project)",bp={deflateInit:Rz,deflateInit2:Lz,deflateReset:jz,deflateResetKeep:Vz,deflateSetHeader:Bz,deflate:Uz,deflateEnd:Hz,deflateSetDictionary:qz,deflateInfo:zz},$z=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),Wz=function(t){let n=Array.prototype.slice.call(arguments,1);for(;n.length;){let e=n.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let i in e)$z(e,i)&&(t[i]=e[i])}}return t},Gz=t=>{let n=0;for(let i=0,r=t.length;i<r;i++)n+=t[i].length;let e=new Uint8Array(n);for(let i=0,r=0,o=t.length;i<o;i++){let s=t[i];e.set(s,r),r+=s.length}return e},e1={assign:Wz,flattenChunks:Gz},N3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N3=!1}var Dp=new Uint8Array(256);for(let t=0;t<256;t++)Dp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Dp[254]=Dp[254]=1;var Yz=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let n,e,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)e=t.charCodeAt(r),(e&64512)===55296&&r+1<s&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(a),o=0,r=0;o<a;r++)e=t.charCodeAt(r),(e&64512)===55296&&r+1<s&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?n[o++]=e:e<2048?(n[o++]=192|e>>>6,n[o++]=128|e&63):e<65536?(n[o++]=224|e>>>12,n[o++]=128|e>>>6&63,n[o++]=128|e&63):(n[o++]=240|e>>>18,n[o++]=128|e>>>12&63,n[o++]=128|e>>>6&63,n[o++]=128|e&63);return n},Zz=(t,n)=>{if(n<65534&&t.subarray&&N3)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let e="";for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return e},Kz=(t,n)=>{let e=n||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,n));let i,r,o=new Array(e*2);for(r=0,i=0;i<e;){let s=t[i++];if(s<128){o[r++]=s;continue}let a=Dp[s];if(a>4){o[r++]=65533,i+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&i<e;)s=s<<6|t[i++]&63,a--;if(a>1){o[r++]=65533;continue}s<65536?o[r++]=s:(s-=65536,o[r++]=55296|s>>10&1023,o[r++]=56320|s&1023)}return Zz(o,r)},Qz=(t,n)=>{n=n||t.length,n>t.length&&(n=t.length);let e=n-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?n:e+Dp[t[e]]>n?e:n},Ip={string2buf:Yz,buf2string:Kz,utf8border:Qz};function Xz(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var k3=Xz,P3=Object.prototype.toString,{Z_NO_FLUSH:Jz,Z_SYNC_FLUSH:e$,Z_FULL_FLUSH:t$,Z_FINISH:n$,Z_OK:Qv,Z_STREAM_END:i$,Z_DEFAULT_COMPRESSION:r$,Z_DEFAULT_STRATEGY:o$,Z_DEFLATED:s$}=Zd;function kp(t){this.options=e1.assign({level:r$,method:s$,chunkSize:16384,windowBits:15,memLevel:8,strategy:o$},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k3,this.strm.avail_out=0;let e=bp.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==Qv)throw new Error(cu[e]);if(n.header&&bp.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Ip.string2buf(n.dictionary):P3.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,e=bp.deflateSetDictionary(this.strm,i),e!==Qv)throw new Error(cu[e]);this._dict_set=!0}}kp.prototype.push=function(t,n){let e=this.strm,i=this.options.chunkSize,r,o;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?n$:Jz,typeof t=="string"?e.input=Ip.string2buf(t):P3.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(o===e$||o===t$)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=bp.deflate(e,o),r===i$)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=bp.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Qv;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};kp.prototype.onData=function(t){this.chunks.push(t)};kp.prototype.onEnd=function(t){t===Qv&&(this.result=e1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function gS(t,n){let e=new kp(n);if(e.push(t,!0),e.err)throw e.msg||cu[e.err];return e.result}function a$(t,n){return n=n||{},n.raw=!0,gS(t,n)}function l$(t,n){return n=n||{},n.gzip=!0,gS(t,n)}var c$=kp,u$=gS,d$=a$,f$=l$,h$=Zd,p$={Deflate:c$,deflate:u$,deflateRaw:d$,gzip:f$,constants:h$},$v=16209,m$=16191,g$=function(n,e){let i,r,o,s,a,l,c,f,v,w,h,S,x,k,D,Z,G,H,he,we,ge,te,$,ae,N=n.state;i=n.next_in,$=n.input,r=i+(n.avail_in-5),o=n.next_out,ae=n.output,s=o-(e-n.avail_out),a=o+(n.avail_out-257),l=N.dmax,c=N.wsize,f=N.whave,v=N.wnext,w=N.window,h=N.hold,S=N.bits,x=N.lencode,k=N.distcode,D=(1<<N.lenbits)-1,Z=(1<<N.distbits)-1;e:do{S<15&&(h+=$[i++]<<S,S+=8,h+=$[i++]<<S,S+=8),G=x[h&D];t:for(;;){if(H=G>>>24,h>>>=H,S-=H,H=G>>>16&255,H===0)ae[o++]=G&65535;else if(H&16){he=G&65535,H&=15,H&&(S<H&&(h+=$[i++]<<S,S+=8),he+=h&(1<<H)-1,h>>>=H,S-=H),S<15&&(h+=$[i++]<<S,S+=8,h+=$[i++]<<S,S+=8),G=k[h&Z];n:for(;;){if(H=G>>>24,h>>>=H,S-=H,H=G>>>16&255,H&16){if(we=G&65535,H&=15,S<H&&(h+=$[i++]<<S,S+=8,S<H&&(h+=$[i++]<<S,S+=8)),we+=h&(1<<H)-1,we>l){n.msg="invalid distance too far back",N.mode=$v;break e}if(h>>>=H,S-=H,H=o-s,we>H){if(H=we-H,H>f&&N.sane){n.msg="invalid distance too far back",N.mode=$v;break e}if(ge=0,te=w,v===0){if(ge+=c-H,H<he){he-=H;do ae[o++]=w[ge++];while(--H);ge=o-we,te=ae}}else if(v<H){if(ge+=c+v-H,H-=v,H<he){he-=H;do ae[o++]=w[ge++];while(--H);if(ge=0,v<he){H=v,he-=H;do ae[o++]=w[ge++];while(--H);ge=o-we,te=ae}}}else if(ge+=v-H,H<he){he-=H;do ae[o++]=w[ge++];while(--H);ge=o-we,te=ae}for(;he>2;)ae[o++]=te[ge++],ae[o++]=te[ge++],ae[o++]=te[ge++],he-=3;he&&(ae[o++]=te[ge++],he>1&&(ae[o++]=te[ge++]))}else{ge=o-we;do ae[o++]=ae[ge++],ae[o++]=ae[ge++],ae[o++]=ae[ge++],he-=3;while(he>2);he&&(ae[o++]=ae[ge++],he>1&&(ae[o++]=ae[ge++]))}}else if(H&64){n.msg="invalid distance code",N.mode=$v;break e}else{G=k[(G&65535)+(h&(1<<H)-1)];continue n}break}}else if(H&64)if(H&32){N.mode=m$;break e}else{n.msg="invalid literal/length code",N.mode=$v;break e}else{G=x[(G&65535)+(h&(1<<H)-1)];continue t}break}}while(i<r&&o<a);he=S>>3,i-=he,S-=he<<3,h&=(1<<S)-1,n.next_in=i,n.next_out=o,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=o<a?257+(a-o):257-(o-a),N.hold=h,N.bits=S},zd=15,FN=852,RN=592,LN=0,YC=1,jN=2,v$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),y$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),b$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),w$=(t,n,e,i,r,o,s,a)=>{let l=a.bits,c=0,f=0,v=0,w=0,h=0,S=0,x=0,k=0,D=0,Z=0,G,H,he,we,ge,te=null,$,ae=new Uint16Array(zd+1),N=new Uint16Array(zd+1),R=null,X,J,be;for(c=0;c<=zd;c++)ae[c]=0;for(f=0;f<i;f++)ae[n[e+f]]++;for(h=l,w=zd;w>=1&&ae[w]===0;w--);if(h>w&&(h=w),w===0)return r[o++]=1<<24|64<<16|0,r[o++]=1<<24|64<<16|0,a.bits=1,0;for(v=1;v<w&&ae[v]===0;v++);for(h<v&&(h=v),k=1,c=1;c<=zd;c++)if(k<<=1,k-=ae[c],k<0)return-1;if(k>0&&(t===LN||w!==1))return-1;for(N[1]=0,c=1;c<zd;c++)N[c+1]=N[c]+ae[c];for(f=0;f<i;f++)n[e+f]!==0&&(s[N[n[e+f]]++]=f);if(t===LN?(te=R=s,$=20):t===YC?(te=v$,R=y$,$=257):(te=_$,R=b$,$=0),Z=0,f=0,c=v,ge=o,S=h,x=0,he=-1,D=1<<h,we=D-1,t===YC&&D>FN||t===jN&&D>RN)return 1;for(;;){X=c-x,s[f]+1<$?(J=0,be=s[f]):s[f]>=$?(J=R[s[f]-$],be=te[s[f]-$]):(J=96,be=0),G=1<<c-x,H=1<<S,v=H;do H-=G,r[ge+(Z>>x)+H]=X<<24|J<<16|be|0;while(H!==0);for(G=1<<c-1;Z&G;)G>>=1;if(G!==0?(Z&=G-1,Z+=G):Z=0,f++,--ae[c]===0){if(c===w)break;c=n[e+s[f]]}if(c>h&&(Z&we)!==he){for(x===0&&(x=h),ge+=v,S=c-x,k=1<<S;S+x<w&&(k-=ae[S+x],!(k<=0));)S++,k<<=1;if(D+=1<<S,t===YC&&D>FN||t===jN&&D>RN)return 1;he=Z&we,r[he]=h<<24|S<<16|ge-o|0}}return Z!==0&&(r[ge+Z]=c-x<<24|64<<16|0),a.bits=h,0},wp=w$,C$=0,O3=1,F3=2,{Z_FINISH:VN,Z_BLOCK:S$,Z_TREES:Wv,Z_OK:du,Z_STREAM_END:x$,Z_NEED_DICT:E$,Z_STREAM_ERROR:is,Z_DATA_ERROR:R3,Z_MEM_ERROR:L3,Z_BUF_ERROR:M$,Z_DEFLATED:BN}=Zd,t1=16180,UN=16181,HN=16182,qN=16183,zN=16184,$N=16185,WN=16186,GN=16187,YN=16188,ZN=16189,Xv=16190,Ga=16191,ZC=16192,KN=16193,KC=16194,QN=16195,XN=16196,JN=16197,e3=16198,Gv=16199,Yv=16200,t3=16201,n3=16202,i3=16203,r3=16204,o3=16205,QC=16206,s3=16207,a3=16208,gi=16209,j3=16210,V3=16211,D$=852,I$=592,A$=15,T$=A$,l3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function N$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var fu=t=>{if(!t)return 1;let n=t.state;return!n||n.strm!==t||n.mode<t1||n.mode>V3?1:0},B3=t=>{if(fu(t))return is;let n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=t1,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(D$),n.distcode=n.distdyn=new Int32Array(I$),n.sane=1,n.back=-1,du},U3=t=>{if(fu(t))return is;let n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,B3(t)},H3=(t,n)=>{let e;if(fu(t))return is;let i=t.state;return n<0?(e=0,n=-n):(e=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?is:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=e,i.wbits=n,U3(t))},q3=(t,n)=>{if(!t)return is;let e=new N$;t.state=e,e.strm=t,e.window=null,e.mode=t1;let i=H3(t,n);return i!==du&&(t.state=null),i},k$=t=>q3(t,T$),c3=!0,XC,JC,P$=t=>{if(c3){XC=new Int32Array(512),JC=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(wp(O3,t.lens,0,288,XC,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;wp(F3,t.lens,0,32,JC,0,t.work,{bits:5}),c3=!1}t.lencode=XC,t.lenbits=9,t.distcode=JC,t.distbits=5},z3=(t,n,e,i)=>{let r,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(n.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(n.subarray(e-i,e-i+r),o.wnext),i-=r,i?(o.window.set(n.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},O$=(t,n)=>{let e,i,r,o,s,a,l,c,f,v,w,h,S,x,k=0,D,Z,G,H,he,we,ge,te,$=new Uint8Array(4),ae,N,R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fu(t)||!t.output||!t.input&&t.avail_in!==0)return is;e=t.state,e.mode===Ga&&(e.mode=ZC),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,c=e.hold,f=e.bits,v=a,w=l,te=du;e:for(;;)switch(e.mode){case t1:if(e.wrap===0){e.mode=ZC;break}for(;f<16;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,$[0]=c&255,$[1]=c>>>8&255,e.check=fr(e.check,$,2,0),c=0,f=0,e.mode=UN;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",e.mode=gi;break}if((c&15)!==BN){t.msg="unknown compression method",e.mode=gi;break}if(c>>>=4,f-=4,ge=(c&15)+8,e.wbits===0&&(e.wbits=ge),ge>15||ge>e.wbits){t.msg="invalid window size",e.mode=gi;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=c&512?ZN:Ga,c=0,f=0;break;case UN:for(;f<16;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(e.flags=c,(e.flags&255)!==BN){t.msg="unknown compression method",e.mode=gi;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=gi;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,e.check=fr(e.check,$,2,0)),c=0,f=0,e.mode=HN;case HN:for(;f<32;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,$[2]=c>>>16&255,$[3]=c>>>24&255,e.check=fr(e.check,$,4,0)),c=0,f=0,e.mode=qN;case qN:for(;f<16;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,e.check=fr(e.check,$,2,0)),c=0,f=0,e.mode=zN;case zN:if(e.flags&1024){for(;f<16;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&($[0]=c&255,$[1]=c>>>8&255,e.check=fr(e.check,$,2,0)),c=0,f=0}else e.head&&(e.head.extra=null);e.mode=$N;case $N:if(e.flags&1024&&(h=e.length,h>a&&(h=a),h&&(e.head&&(ge=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+h),ge)),e.flags&512&&e.wrap&4&&(e.check=fr(e.check,i,h,o)),a-=h,o+=h,e.length-=h),e.length))break e;e.length=0,e.mode=WN;case WN:if(e.flags&2048){if(a===0)break e;h=0;do ge=i[o+h++],e.head&&ge&&e.length<65536&&(e.head.name+=String.fromCharCode(ge));while(ge&&h<a);if(e.flags&512&&e.wrap&4&&(e.check=fr(e.check,i,h,o)),a-=h,o+=h,ge)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=GN;case GN:if(e.flags&4096){if(a===0)break e;h=0;do ge=i[o+h++],e.head&&ge&&e.length<65536&&(e.head.comment+=String.fromCharCode(ge));while(ge&&h<a);if(e.flags&512&&e.wrap&4&&(e.check=fr(e.check,i,h,o)),a-=h,o+=h,ge)break e}else e.head&&(e.head.comment=null);e.mode=YN;case YN:if(e.flags&512){for(;f<16;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(e.wrap&4&&c!==(e.check&65535)){t.msg="header crc mismatch",e.mode=gi;break}c=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Ga;break;case ZN:for(;f<32;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}t.adler=e.check=l3(c),c=0,f=0,e.mode=Xv;case Xv:if(e.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=c,e.bits=f,E$;t.adler=e.check=1,e.mode=Ga;case Ga:if(n===S$||n===Wv)break e;case ZC:if(e.last){c>>>=f&7,f-=f&7,e.mode=QC;break}for(;f<3;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}switch(e.last=c&1,c>>>=1,f-=1,c&3){case 0:e.mode=KN;break;case 1:if(P$(e),e.mode=Gv,n===Wv){c>>>=2,f-=2;break e}break;case 2:e.mode=XN;break;case 3:t.msg="invalid block type",e.mode=gi}c>>>=2,f-=2;break;case KN:for(c>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",e.mode=gi;break}if(e.length=c&65535,c=0,f=0,e.mode=KC,n===Wv)break e;case KC:e.mode=QN;case QN:if(h=e.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;r.set(i.subarray(o,o+h),s),a-=h,o+=h,l-=h,s+=h,e.length-=h;break}e.mode=Ga;break;case XN:for(;f<14;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(e.nlen=(c&31)+257,c>>>=5,f-=5,e.ndist=(c&31)+1,c>>>=5,f-=5,e.ncode=(c&15)+4,c>>>=4,f-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=gi;break}e.have=0,e.mode=JN;case JN:for(;e.have<e.ncode;){for(;f<3;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}e.lens[R[e.have++]]=c&7,c>>>=3,f-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,ae={bits:e.lenbits},te=wp(C$,e.lens,0,19,e.lencode,0,e.work,ae),e.lenbits=ae.bits,te){t.msg="invalid code lengths set",e.mode=gi;break}e.have=0,e.mode=e3;case e3:for(;e.have<e.nlen+e.ndist;){for(;k=e.lencode[c&(1<<e.lenbits)-1],D=k>>>24,Z=k>>>16&255,G=k&65535,!(D<=f);){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(G<16)c>>>=D,f-=D,e.lens[e.have++]=G;else{if(G===16){for(N=D+2;f<N;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(c>>>=D,f-=D,e.have===0){t.msg="invalid bit length repeat",e.mode=gi;break}ge=e.lens[e.have-1],h=3+(c&3),c>>>=2,f-=2}else if(G===17){for(N=D+3;f<N;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}c>>>=D,f-=D,ge=0,h=3+(c&7),c>>>=3,f-=3}else{for(N=D+7;f<N;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}c>>>=D,f-=D,ge=0,h=11+(c&127),c>>>=7,f-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=gi;break}for(;h--;)e.lens[e.have++]=ge}}if(e.mode===gi)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=gi;break}if(e.lenbits=9,ae={bits:e.lenbits},te=wp(O3,e.lens,0,e.nlen,e.lencode,0,e.work,ae),e.lenbits=ae.bits,te){t.msg="invalid literal/lengths set",e.mode=gi;break}if(e.distbits=6,e.distcode=e.distdyn,ae={bits:e.distbits},te=wp(F3,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,ae),e.distbits=ae.bits,te){t.msg="invalid distances set",e.mode=gi;break}if(e.mode=Gv,n===Wv)break e;case Gv:e.mode=Yv;case Yv:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=c,e.bits=f,g$(t,w),s=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,c=e.hold,f=e.bits,e.mode===Ga&&(e.back=-1);break}for(e.back=0;k=e.lencode[c&(1<<e.lenbits)-1],D=k>>>24,Z=k>>>16&255,G=k&65535,!(D<=f);){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(Z&&!(Z&240)){for(H=D,he=Z,we=G;k=e.lencode[we+((c&(1<<H+he)-1)>>H)],D=k>>>24,Z=k>>>16&255,G=k&65535,!(H+D<=f);){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}c>>>=H,f-=H,e.back+=H}if(c>>>=D,f-=D,e.back+=D,e.length=G,Z===0){e.mode=o3;break}if(Z&32){e.back=-1,e.mode=Ga;break}if(Z&64){t.msg="invalid literal/length code",e.mode=gi;break}e.extra=Z&15,e.mode=t3;case t3:if(e.extra){for(N=e.extra;f<N;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=n3;case n3:for(;k=e.distcode[c&(1<<e.distbits)-1],D=k>>>24,Z=k>>>16&255,G=k&65535,!(D<=f);){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(!(Z&240)){for(H=D,he=Z,we=G;k=e.distcode[we+((c&(1<<H+he)-1)>>H)],D=k>>>24,Z=k>>>16&255,G=k&65535,!(H+D<=f);){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}c>>>=H,f-=H,e.back+=H}if(c>>>=D,f-=D,e.back+=D,Z&64){t.msg="invalid distance code",e.mode=gi;break}e.offset=G,e.extra=Z&15,e.mode=i3;case i3:if(e.extra){for(N=e.extra;f<N;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=gi;break}e.mode=r3;case r3:if(l===0)break e;if(h=w-l,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=gi;break}h>e.wnext?(h-=e.wnext,S=e.wsize-h):S=e.wnext-h,h>e.length&&(h=e.length),x=e.window}else x=r,S=s-e.offset,h=e.length;h>l&&(h=l),l-=h,e.length-=h;do r[s++]=x[S++];while(--h);e.length===0&&(e.mode=Yv);break;case o3:if(l===0)break e;r[s++]=e.length,l--,e.mode=Yv;break;case QC:if(e.wrap){for(;f<32;){if(a===0)break e;a--,c|=i[o++]<<f,f+=8}if(w-=l,t.total_out+=w,e.total+=w,e.wrap&4&&w&&(t.adler=e.check=e.flags?fr(e.check,r,w,s-w):Mp(e.check,r,w,s-w)),w=l,e.wrap&4&&(e.flags?c:l3(c))!==e.check){t.msg="incorrect data check",e.mode=gi;break}c=0,f=0}e.mode=s3;case s3:if(e.wrap&&e.flags){for(;f<32;){if(a===0)break e;a--,c+=i[o++]<<f,f+=8}if(e.wrap&4&&c!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=gi;break}c=0,f=0}e.mode=a3;case a3:te=x$;break e;case gi:te=R3;break e;case j3:return L3;case V3:default:return is}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,e.hold=c,e.bits=f,(e.wsize||w!==t.avail_out&&e.mode<gi&&(e.mode<QC||n!==VN))&&z3(t,t.output,t.next_out,w-t.avail_out),v-=t.avail_in,w-=t.avail_out,t.total_in+=v,t.total_out+=w,e.total+=w,e.wrap&4&&w&&(t.adler=e.check=e.flags?fr(e.check,r,w,t.next_out-w):Mp(e.check,r,w,t.next_out-w)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Ga?128:0)+(e.mode===Gv||e.mode===KC?256:0),(v===0&&w===0||n===VN)&&te===du&&(te=M$),te},F$=t=>{if(fu(t))return is;let n=t.state;return n.window&&(n.window=null),t.state=null,du},R$=(t,n)=>{if(fu(t))return is;let e=t.state;return e.wrap&2?(e.head=n,n.done=!1,du):is},L$=(t,n)=>{let e=n.length,i,r,o;return fu(t)||(i=t.state,i.wrap!==0&&i.mode!==Xv)?is:i.mode===Xv&&(r=1,r=Mp(r,n,e,0),r!==i.check)?R3:(o=z3(t,n,e,e),o?(i.mode=j3,L3):(i.havedict=1,du))},j$=U3,V$=H3,B$=B3,U$=k$,H$=q3,q$=O$,z$=F$,$$=R$,W$=L$,G$="pako inflate (from Nodeca project)",Za={inflateReset:j$,inflateReset2:V$,inflateResetKeep:B$,inflateInit:U$,inflateInit2:H$,inflate:q$,inflateEnd:z$,inflateGetHeader:$$,inflateSetDictionary:W$,inflateInfo:G$};function Y$(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Z$=Y$,$3=Object.prototype.toString,{Z_NO_FLUSH:K$,Z_FINISH:Q$,Z_OK:Ap,Z_STREAM_END:eS,Z_NEED_DICT:tS,Z_STREAM_ERROR:X$,Z_DATA_ERROR:u3,Z_MEM_ERROR:J$}=Zd;function Pp(t){this.options=e1.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k3,this.strm.avail_out=0;let e=Za.inflateInit2(this.strm,n.windowBits);if(e!==Ap)throw new Error(cu[e]);if(this.header=new Z$,Za.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Ip.string2buf(n.dictionary):$3.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=Za.inflateSetDictionary(this.strm,n.dictionary),e!==Ap)))throw new Error(cu[e])}Pp.prototype.push=function(t,n){let e=this.strm,i=this.options.chunkSize,r=this.options.dictionary,o,s,a;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?Q$:K$,$3.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=Za.inflate(e,s),o===tS&&r&&(o=Za.inflateSetDictionary(e,r),o===Ap?o=Za.inflate(e,s):o===u3&&(o=tS));e.avail_in>0&&o===eS&&e.state.wrap>0&&t[e.next_in]!==0;)Za.inflateReset(e),o=Za.inflate(e,s);switch(o){case X$:case u3:case tS:case J$:return this.onEnd(o),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||o===eS))if(this.options.to==="string"){let l=Ip.utf8border(e.output,e.next_out),c=e.next_out-l,f=Ip.buf2string(e.output,l);e.next_out=c,e.avail_out=i-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(f)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Ap&&a===0)){if(o===eS)return o=Za.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Pp.prototype.onData=function(t){this.chunks.push(t)};Pp.prototype.onEnd=function(t){t===Ap&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function vS(t,n){let e=new Pp(n);if(e.push(t),e.err)throw e.msg||cu[e.err];return e.result}function eW(t,n){return n=n||{},n.raw=!0,vS(t,n)}var tW=Pp,nW=vS,iW=eW,rW=vS,oW=Zd,sW={Inflate:tW,inflate:nW,inflateRaw:iW,ungzip:rW,constants:oW},{Deflate:wle,deflate:Cle,deflateRaw:Sle,gzip:xle}=p$,{Inflate:aW,inflate:lW,inflateRaw:Ele,ungzip:Mle}=sW;var yS=aW,W3=lW;var Y3=[];for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)n&1?n=3988292384^n>>>1:n=n>>>1;Y3[t]=n}var G3=4294967295;function cW(t,n,e){let i=t;for(let r=0;r<e;r++)i=Y3[(i^n[r])&255]^i>>>8;return i}function uW(t,n){return(cW(G3,t,n)^G3)>>>0}function _S(t,n,e){let i=t.readUint32(),r=uW(new Uint8Array(t.buffer,t.byteOffset+t.offset-n-4,n),n);if(r!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${r}`)}function n1(t,n,e){for(let i=0;i<e;i++)n[i]=t[i]}function i1(t,n,e,i){let r=0;for(;r<i;r++)n[r]=t[r];for(;r<e;r++)n[r]=t[r]+n[r-i]&255}function r1(t,n,e,i){let r=0;if(e.length===0)for(;r<i;r++)n[r]=t[r];else for(;r<i;r++)n[r]=t[r]+e[r]&255}function o1(t,n,e,i,r){let o=0;if(e.length===0){for(;o<r;o++)n[o]=t[o];for(;o<i;o++)n[o]=t[o]+(n[o-r]>>1)&255}else{for(;o<r;o++)n[o]=t[o]+(e[o]>>1)&255;for(;o<i;o++)n[o]=t[o]+(n[o-r]+e[o]>>1)&255}}function s1(t,n,e,i,r){let o=0;if(e.length===0){for(;o<r;o++)n[o]=t[o];for(;o<i;o++)n[o]=t[o]+n[o-r]&255}else{for(;o<r;o++)n[o]=t[o]+e[o]&255;for(;o<i;o++)n[o]=t[o]+dW(n[o-r],e[o],e[o-r])&255}}function dW(t,n,e){let i=t+n-e,r=Math.abs(i-t),o=Math.abs(i-n),s=Math.abs(i-e);return r<=o&&r<=s?t:o<=s?n:e}function Z3(t,n,e,i,r,o){switch(t){case 0:n1(n,e,r);break;case 1:i1(n,e,r,o);break;case 2:r1(n,e,i,r);break;case 3:o1(n,e,i,r,o);break;case 4:s1(n,e,i,r,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}var fW=new Uint16Array([255]),hW=new Uint8Array(fW.buffer),pW=hW[0]===255;function K3(t){let{data:n,width:e,height:i,channels:r,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*r,l=new Uint8Array(i*e*a),c=0;for(let f=0;f<7;f++){let v=s[f],w=Math.ceil((e-v.x)/v.xStep),h=Math.ceil((i-v.y)/v.yStep);if(w<=0||h<=0)continue;let S=w*a,x=new Uint8Array(S);for(let k=0;k<h;k++){let D=n[c++],Z=n.subarray(c,c+S);c+=S;let G=new Uint8Array(S);Z3(D,Z,G,x,S,a),x.set(G);for(let H=0;H<w;H++){let he=v.x+H*v.xStep,we=v.y+k*v.yStep;if(!(he>=e||we>=i))for(let ge=0;ge<a;ge++)l[(we*e+he)*a+ge]=G[H*a+ge]}}}if(o===16){let f=new Uint16Array(l.buffer);if(pW)for(let v=0;v<f.length;v++)f[v]=mW(f[v]);return f}else return l}function mW(t){return(t&255)<<8|t>>8&255}var gW=new Uint16Array([255]),vW=new Uint8Array(gW.buffer),yW=vW[0]===255,_W=new Uint8Array(0);function bS(t){let{data:n,width:e,height:i,channels:r,depth:o}=t,s=Math.ceil(o/8)*r,a=Math.ceil(o/8*r*e),l=new Uint8Array(i*a),c=_W,f=0,v,w;for(let h=0;h<i;h++){switch(v=n.subarray(f+1,f+1+a),w=l.subarray(h*a,(h+1)*a),n[f]){case 0:n1(v,w,a);break;case 1:i1(v,w,a,s);break;case 2:r1(v,w,c,a);break;case 3:o1(v,w,c,a,s);break;case 4:s1(v,w,c,a,s);break;default:throw new Error(`Unsupported filter: ${n[f]}`)}c=w,f+=a+1}if(o===16){let h=new Uint16Array(l.buffer);if(yW)for(let S=0;S<h.length;S++)h[S]=bW(h[S]);return h}else return l}function bW(t){return(t&255)<<8|t>>8&255}var a1=Uint8Array.of(137,80,78,71,13,10,26,10);function wS(t){if(!Q3(t.readBytes(a1.length)))throw new Error("wrong PNG signature")}function Q3(t){if(t.length<a1.length)return!1;for(let n=0;n<a1.length;n++)if(t[n]!==a1[n])return!1;return!0}var X3="tEXt",CW=0,J3=new TextDecoder("latin1");function SW(t){if(EW(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}var xW=/^[\u0000-\u00FF]*$/;function EW(t){if(!xW.test(t))throw new Error("invalid latin1 text")}function ek(t,n,e){let i=CS(n);t[i]=MW(n,e-i.length-1)}function CS(t){for(t.mark();t.readByte()!==CW;);let n=t.offset;t.reset();let e=J3.decode(t.readBytes(n-t.offset-1));return t.skip(1),SW(e),e}function MW(t,n){return J3.decode(t.readBytes(n))}var Gr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Op={UNKNOWN:-1,DEFLATE:0},l1={UNKNOWN:-1,ADAPTIVE:0},Fp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rp={NONE:0,BACKGROUND:1,PREVIOUS:2},c1={SOURCE:0,OVER:1};var u1=class extends mp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,e={}){super(n);let{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new yS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Op.UNKNOWN,this._filterMethod=l1.UNKNOWN,this._interlaceMethod=Fp.UNKNOWN,this._colorType=Gr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wS(this);!this._end;){let n=this.readUint32(),e=this.readChars(4);this.decodeChunk(n,e)}return this.decodeImage(),this._png}decodeApng(){for(wS(this);!this._end;){let n=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(n,e)}return this.decodeApngImage(),this._apng}decodeChunk(n,e){let i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case X3:ek(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?_S(this,n+4,e):this.skip(4)}decodeApngChunk(n,e){let i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,e),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?_S(this,n+4,e):this.skip(4)}decodeIHDR(){let n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=DW(this.readUint8());let e=this.readUint8();this._colorType=e;let i;switch(e){case Gr.GREYSCALE:i=1;break;case Gr.TRUECOLOUR:i=3;break;case Gr.INDEXED_COLOUR:i=1;break;case Gr.GREYSCALE_ALPHA:i=2;break;case Gr.TRUECOLOUR_ALPHA:i=4;break;case Gr.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Op.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);let e=n/3;this._hasPalette=!0;let i=[];this._palette=i;for(let r=0;r<e;r++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;let e=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let e=n,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Gr.GREYSCALE:case Gr.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let e=0;e<n/2;e++)this._transparency[e]=this.readUint16();break}case Gr.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let e=0;for(;e<n;e++){let i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case Gr.UNKNOWN:case Gr.GREYSCALE_ALPHA:case Gr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){let e=CS(this),i=this.readUint8();if(i!==Op.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);let r=this.readBytes(n-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:W3(r)}}decodepHYs(){let n=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){let e={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=bS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{let r=this._apng.frames.at(n-1);this.disposeFrame(i,r,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(n,e,i){switch(n.disposeOp){case Rp.NONE:break;case Rp.BACKGROUND:for(let r=0;r<this._png.height;r++)for(let o=0;o<this._png.width;o++){let s=(r*n.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)i.data[s+a]=0}break;case Rp.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,e){let i=1<<this._png.depth,r=(o,s)=>{let a=((o+e.yOffset)*this._png.width+e.xOffset+s)*this._png.channels,l=(o*e.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(e.blendOp){case c1.SOURCE:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++)n.data[a+c]=e.data[l+c]}break;case c1.OVER:for(let o=0;o<e.height;o++)for(let s=0;s<e.width;s++){let{index:a,frameIndex:l}=r(o,s);for(let c=0;c<this._png.channels;c++){let f=e.data[l+this._png.channels-1]/i,v=c%(this._png.channels-1)===0?1:e.data[l+c],w=Math.floor(f*v+(1-f)*n.data[a+c]);n.data[a+c]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==l1.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fp.NO_INTERLACE)this._png.data=bS({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fp.ADAM7)this._png.data=K3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let n=this._inflator.result,e=this._frames.at(-1);e?e.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rp.NONE,blendOp:c1.SOURCE,data:n}),this._inflator=new yS,this._writingDataChunks=!1}};function DW(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}function tk(t,n){return new u1(t,n).decode()}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function SS(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var Xn={log:SS,warn:function(t){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):SS.call(null,arguments))},error:function(t){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):SS(t))}};function xS(t,n,e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){hu(i.response,n,e)},i.onerror=function(){Xn.error("could not download file")},i.send()}function nk(t){var n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function d1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var hu=Dt.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,n,e){var i=Dt.URL||Dt.webkitURL,r=document.createElement("a");n=n||t.name||"download",r.download=n,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?nk(r.href)?xS(t,n,e):d1(r,r.target="_blank"):d1(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){d1(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,e){if(n=n||t.name||"download",typeof t=="string")if(nk(t))xS(t,n,e);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){d1(i)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:Bn(o)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,e),n)}:function(t,n,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return xS(t,n,e);var r=t.type==="application/octet-stream",o=/constructor/i.test(Dt.HTMLElement)||Dt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},a.readAsDataURL(t)}else{var l=Dt.URL||Dt.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Mk(t){var n;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,o=e[i].process,s=r.exec(t);s&&(n=o(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var m1=Dt.atob.bind(Dt),ik=Dt.btoa.bind(Dt);function ES(t,n){var e=t[0],i=t[1],r=t[2],o=t[3];e=kr(e,i,r,o,n[0],7,-680876936),o=kr(o,e,i,r,n[1],12,-389564586),r=kr(r,o,e,i,n[2],17,606105819),i=kr(i,r,o,e,n[3],22,-1044525330),e=kr(e,i,r,o,n[4],7,-176418897),o=kr(o,e,i,r,n[5],12,1200080426),r=kr(r,o,e,i,n[6],17,-1473231341),i=kr(i,r,o,e,n[7],22,-45705983),e=kr(e,i,r,o,n[8],7,1770035416),o=kr(o,e,i,r,n[9],12,-1958414417),r=kr(r,o,e,i,n[10],17,-42063),i=kr(i,r,o,e,n[11],22,-1990404162),e=kr(e,i,r,o,n[12],7,1804603682),o=kr(o,e,i,r,n[13],12,-40341101),r=kr(r,o,e,i,n[14],17,-1502002290),e=Pr(e,i=kr(i,r,o,e,n[15],22,1236535329),r,o,n[1],5,-165796510),o=Pr(o,e,i,r,n[6],9,-1069501632),r=Pr(r,o,e,i,n[11],14,643717713),i=Pr(i,r,o,e,n[0],20,-373897302),e=Pr(e,i,r,o,n[5],5,-701558691),o=Pr(o,e,i,r,n[10],9,38016083),r=Pr(r,o,e,i,n[15],14,-660478335),i=Pr(i,r,o,e,n[4],20,-405537848),e=Pr(e,i,r,o,n[9],5,568446438),o=Pr(o,e,i,r,n[14],9,-1019803690),r=Pr(r,o,e,i,n[3],14,-187363961),i=Pr(i,r,o,e,n[8],20,1163531501),e=Pr(e,i,r,o,n[13],5,-1444681467),o=Pr(o,e,i,r,n[2],9,-51403784),r=Pr(r,o,e,i,n[7],14,1735328473),e=Or(e,i=Pr(i,r,o,e,n[12],20,-1926607734),r,o,n[5],4,-378558),o=Or(o,e,i,r,n[8],11,-2022574463),r=Or(r,o,e,i,n[11],16,1839030562),i=Or(i,r,o,e,n[14],23,-35309556),e=Or(e,i,r,o,n[1],4,-1530992060),o=Or(o,e,i,r,n[4],11,1272893353),r=Or(r,o,e,i,n[7],16,-155497632),i=Or(i,r,o,e,n[10],23,-1094730640),e=Or(e,i,r,o,n[13],4,681279174),o=Or(o,e,i,r,n[0],11,-358537222),r=Or(r,o,e,i,n[3],16,-722521979),i=Or(i,r,o,e,n[6],23,76029189),e=Or(e,i,r,o,n[9],4,-640364487),o=Or(o,e,i,r,n[12],11,-421815835),r=Or(r,o,e,i,n[15],16,530742520),e=Fr(e,i=Or(i,r,o,e,n[2],23,-995338651),r,o,n[0],6,-198630844),o=Fr(o,e,i,r,n[7],10,1126891415),r=Fr(r,o,e,i,n[14],15,-1416354905),i=Fr(i,r,o,e,n[5],21,-57434055),e=Fr(e,i,r,o,n[12],6,1700485571),o=Fr(o,e,i,r,n[3],10,-1894986606),r=Fr(r,o,e,i,n[10],15,-1051523),i=Fr(i,r,o,e,n[1],21,-2054922799),e=Fr(e,i,r,o,n[8],6,1873313359),o=Fr(o,e,i,r,n[15],10,-30611744),r=Fr(r,o,e,i,n[6],15,-1560198380),i=Fr(i,r,o,e,n[13],21,1309151649),e=Fr(e,i,r,o,n[4],6,-145523070),o=Fr(o,e,i,r,n[11],10,-1120210379),r=Fr(r,o,e,i,n[2],15,718787259),i=Fr(i,r,o,e,n[9],21,-343485551),t[0]=Ql(e,t[0]),t[1]=Ql(i,t[1]),t[2]=Ql(r,t[2]),t[3]=Ql(o,t[3])}function C1(t,n,e,i,r,o){return n=Ql(Ql(n,t),Ql(i,o)),Ql(n<<r|n>>>32-r,e)}function kr(t,n,e,i,r,o,s){return C1(n&e|~n&i,t,n,r,o,s)}function Pr(t,n,e,i,r,o,s){return C1(n&i|e&~i,t,n,r,o,s)}function Or(t,n,e,i,r,o,s){return C1(n^e^i,t,n,r,o,s)}function Fr(t,n,e,i,r,o,s){return C1(e^(n|~i),t,n,r,o,s)}function Dk(t){var n,e=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)ES(i,IW(t.substring(n-64,n)));t=t.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)r[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),n>55)for(ES(i,r),n=0;n<16;n++)r[n]=0;return r[14]=8*e,ES(i,r),i}function IW(t){var n,e=[];for(n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}var rk="0123456789abcdef".split("");function AW(t){for(var n="",e=0;e<4;e++)n+=rk[t>>8*e+4&15]+rk[t>>8*e&15];return n}function TW(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function NS(t){return Dk(t).map(TW).join("")}var NW=function(t){for(var n=0;n<t.length;n++)t[n]=AW(t[n]);return t.join("")}(Dk("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ql(t,n){if(NW){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}return t+n&4294967295}function kS(t,n){var e,i,r,o;if(t!==e){for(var s=(r=t,o=1+(256/t.length|0),new Array(o+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var f=a[l];c=(c+f+s.charCodeAt(l))%256,a[l]=a[c],a[c]=f}e=t,i=a}else a=i;var v=n.length,w=0,h=0,S="";for(l=0;l<v;l++)h=(h+(f=a[w=(w+1)%256]))%256,a[w]=a[h],a[h]=f,s=a[(a[w]+a[h])%256],S+=String.fromCharCode(n.charCodeAt(l)^s);return S}var ok={print:4,modify:8,copy:16,"annot-forms":32};function ef(t,n,e,i){this.v=1,this.r=2;var r=192;t.forEach(function(a){if(ok.perm!==void 0)throw new Error("Invalid permission: "+a);r+=ok[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(n+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=NS(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=kS(this.encryptionKey,this.padding)}function tf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var n="",e=t.length,i=0;i<e;i++){var r=t.charCodeAt(i);n+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return n}function sk(t){if(Bn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(e)||(n[e]={});var o=Math.random().toString(35);return n[e][o]=[i,!!r],o},this.unsubscribe=function(e){for(var i in n)if(n[i][e])return delete n[i][e],Object.keys(n[i]).length===0&&delete n[i],!0;return!1},this.publish=function(e){if(n.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in n[e]){var s=n[e][o];try{s[0].apply(t,i)}catch(a){Dt.console&&Xn.error("jsPDF PubSub Error",a.message,a)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function b1(t){if(!(this instanceof b1))return new b1(t);var n="opacity,stroke-opacity".split(",");for(var e in t)t.hasOwnProperty(e)&&n.indexOf(e)>=0&&(this[e]=t[e]);this.id="",this.objectNumber=-1}function Ik(t,n){this.gState=t,this.matrix=n,this.id="",this.objectNumber=-1}function pu(t,n,e,i,r){if(!(this instanceof pu))return new pu(t,n,e,i,r);this.type=t==="axial"?2:3,this.coords=n,this.colors=e,Ik.call(this,i,r)}function nf(t,n,e,i,r){if(!(this instanceof nf))return new nf(t,n,e,i,r);this.boundingBox=t,this.xStep=n,this.yStep=e,this.stream="",this.cloneIndex=0,Ik.call(this,i,r)}function ot(t){var n,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",f=null;Bn(t=t||{})==="object"&&(e=t.orientation,i=t.unit||i,r=t.format||r,o=t.compress||t.compressPdf||o,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(n=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",e=(""+(e||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,w={},h={internal:{},__private__:{}};h.__private__.PubSub=sk;var S="1.3",x=h.__private__.getPdfVersion=function(){return S};h.__private__.setPdfVersion=function(m){S=m};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return k};var D=h.__private__.getPageFormat=function(m){return k[m]};r=r||"a4";var Z="compat",G="advanced",H=Z;function he(){this.saveGraphicsState(),Y(new St(Et,0,0,-Et,0,dc()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),c="n",H=G}function we(){this.restoreGraphicsState(),c="S",H=Z}var ge=h.__private__.combineFontStyleAndFontWeight=function(m,E){if(m=="bold"&&E=="normal"||m=="bold"&&E==400||m=="normal"&&E=="italic"||m=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(m=E==400||E==="normal"?m==="italic"?"italic":"normal":E!=700&&E!=="bold"||m!=="normal"?(E==700?"bold":E)+""+m:"bold"),m};h.advancedAPI=function(m){var E=H===Z;return E&&he.call(this),typeof m!="function"||(m(this),E&&we.call(this)),this},h.compatAPI=function(m){var E=H===G;return E&&we.call(this),typeof m!="function"||(m(this),E&&he.call(this)),this},h.isAdvancedAPI=function(){return H===G};var te,$=function(m){if(H!==G)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ae=h.roundToPrecision=h.__private__.roundToPrecision=function(m,E){var U=n||E;if(isNaN(m)||isNaN(U))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(U).replace(/0+$/,"")};te=h.hpf=h.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(m,16)};var N=h.f2=h.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return ae(m,2)},R=h.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return ae(m,3)},X=h.scale=h.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return H===Z?m*Et:H===G?m:void 0},J=function(m){return X(function(E){return H===Z?dc()-E:H===G?E:void 0}(m))};h.__private__.setPrecision=h.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(n=parseInt(m,10))};var be,oe="00000000000000000000000000000000",le=h.__private__.getFileId=function(){return oe},ne=h.__private__.setFileId=function(m){return oe=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ni=new ef(f.userPermissions,f.userPassword,f.ownerPassword,oe)),oe};h.setFileId=function(m){return ne(m),this},h.getFileId=function(){return le()};var pe=h.__private__.convertDateToPDFDate=function(m){var E=m.getTimezoneOffset(),U=E<0?"+":"-",ee=Math.floor(Math.abs(E/60)),ue=Math.abs(E%60),De=[U,z(ee),"'",z(ue),"'"].join("");return["D:",m.getFullYear(),z(m.getMonth()+1),z(m.getDate()),z(m.getHours()),z(m.getMinutes()),z(m.getSeconds()),De].join("")},Pe=h.__private__.convertPDFDateToDate=function(m){var E=parseInt(m.substr(2,4),10),U=parseInt(m.substr(6,2),10)-1,ee=parseInt(m.substr(8,2),10),ue=parseInt(m.substr(10,2),10),De=parseInt(m.substr(12,2),10),Fe=parseInt(m.substr(14,2),10);return new Date(E,U,ee,ue,De,Fe,0)},Te=h.__private__.setCreationDate=function(m){var E;if(m===void 0&&(m=new Date),m instanceof Date)E=pe(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=m}return be=E},A=h.__private__.getCreationDate=function(m){var E=be;return m==="jsDate"&&(E=Pe(be)),E};h.setCreationDate=function(m){return Te(m),this},h.getCreationDate=function(m){return A(m)};var q,z=h.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},ie=h.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ce=0,de=[],Ce=[],_e=0,Ie=[],Ve=[],Ze=!1,Xe=Ce;h.__private__.setCustomOutputDestination=function(m){Ze=!0,Xe=m};var xe=function(m){Ze||(Xe=m)};h.__private__.resetCustomOutputDestination=function(){Ze=!1,Xe=Ce};var Y=h.__private__.out=function(m){return m=m.toString(),_e+=m.length+1,Xe.push(m),Xe},an=h.__private__.write=function(m){return Y(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},zt=h.__private__.getArrayBuffer=function(m){for(var E=m.length,U=new ArrayBuffer(E),ee=new Uint8Array(U);E--;)ee[E]=m.charCodeAt(E);return U},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return bt};var He=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(m){return He=H===G?m/Et:m,this};var mt,Ye=h.__private__.getFontSize=h.getFontSize=function(){return H===Z?He:He*Et},$t=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(m){return $t=m,this},h.__private__.getR2L=h.getR2L=function(){return $t};var _t,Cn=h.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))mt=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');mt=m}else mt=parseInt(m,10)};h.__private__.getZoomMode=function(){return mt};var jt,Vt=h.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');_t=m};h.__private__.getPageMode=function(){return _t};var Vn=h.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');jt=m};h.__private__.getLayoutMode=function(){return jt},h.__private__.setDisplayMode=h.setDisplayMode=function(m,E,U){return Cn(m),Vn(E),Vt(U),this};var Wt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(m){if(Object.keys(Wt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Wt[m]},h.__private__.getDocumentProperties=function(){return Wt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(m){for(var E in Wt)Wt.hasOwnProperty(E)&&m[E]&&(Wt[E]=m[E]);return this},h.__private__.setDocumentProperty=function(m,E){if(Object.keys(Wt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Wt[m]=E};var gt,Et,vt,Jn,Sn,dt={},Bt={},$n=[],Ct={},un={},Ut={},Ti={},Ki=null,Wn=0,At=[],An=new sk(h),Jl=t.hotfixes||[],Cr={},la={},ks=[],St=function m(E,U,ee,ue,De,Fe){if(!(this instanceof m))return new m(E,U,ee,ue,De,Fe);isNaN(E)&&(E=1),isNaN(U)&&(U=0),isNaN(ee)&&(ee=0),isNaN(ue)&&(ue=1),isNaN(De)&&(De=0),isNaN(Fe)&&(Fe=0),this._matrix=[E,U,ee,ue,De,Fe]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(te).join(m)},St.prototype.multiply=function(m){var E=m.sx*this.sx+m.shy*this.shx,U=m.sx*this.shy+m.shy*this.sy,ee=m.shx*this.sx+m.sy*this.shx,ue=m.shx*this.shy+m.sy*this.sy,De=m.tx*this.sx+m.ty*this.shx+this.tx,Fe=m.tx*this.shy+m.ty*this.sy+this.ty;return new St(E,U,ee,ue,De,Fe)},St.prototype.decompose=function(){var m=this.sx,E=this.shy,U=this.shx,ee=this.sy,ue=this.tx,De=this.ty,Fe=Math.sqrt(m*m+E*E),rt=(m/=Fe)*U+(E/=Fe)*ee;U-=m*rt,ee-=E*rt;var ut=Math.sqrt(U*U+ee*ee);return rt/=ut,m*(ee/=ut)<E*(U/=ut)&&(m=-m,E=-E,rt=-rt,Fe=-Fe),{scale:new St(Fe,0,0,ut,0,0),translate:new St(1,0,0,1,ue,De),rotate:new St(m,E,-E,m,0,0),skew:new St(1,0,rt,1,0,0)}},St.prototype.toString=function(m){return this.join(" ")},St.prototype.inversed=function(){var m=this.sx,E=this.shy,U=this.shx,ee=this.sy,ue=this.tx,De=this.ty,Fe=1/(m*ee-E*U),rt=ee*Fe,ut=-E*Fe,It=-U*Fe,Nt=m*Fe;return new St(rt,ut,It,Nt,-rt*ue-It*De,-ut*ue-Nt*De)},St.prototype.applyToPoint=function(m){var E=m.x*this.sx+m.y*this.shx+this.tx,U=m.x*this.shy+m.y*this.sy+this.ty;return new cc(E,U)},St.prototype.applyToRectangle=function(m){var E=this.applyToPoint(m),U=this.applyToPoint(new cc(m.x+m.w,m.y+m.h));return new Cf(E.x,E.y,U.x-E.x,U.y-E.y)},St.prototype.clone=function(){var m=this.sx,E=this.shy,U=this.shx,ee=this.sy,ue=this.tx,De=this.ty;return new St(m,E,U,ee,ue,De)},h.Matrix=St;var ca=h.matrixMult=function(m,E){return E.multiply(m)},ua=new St(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ua;var Oo=function(m,E){if(!un[m]){var U=(E instanceof pu?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);E.id=U,un[m]=U,Ct[U]=E,An.publish("addPattern",E)}};h.ShadingPattern=pu,h.TilingPattern=nf,h.addShadingPattern=function(m,E){return $("addShadingPattern()"),Oo(m,E),this},h.beginTilingPattern=function(m){$("beginTilingPattern()"),Sf(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},h.endTilingPattern=function(m,E){$("endTilingPattern()"),E.stream=Ve[q].join(`
`),Oo(m,E),An.publish("endTilingPattern",E),ks.pop().restore()};var Fo,wi=h.__private__.newObject=function(){var m=sr();return pr(m,!0),m},sr=h.__private__.newObjectDeferred=function(){return ce++,de[ce]=function(){return _e},ce},pr=function(m,E){return E=typeof E=="boolean"&&E,de[m]=_e,E&&Y(m+" 0 obj"),m},ec=h.__private__.newAdditionalObject=function(){var m={objId:sr(),content:""};return Ie.push(m),m},Ka=sr(),os=sr(),Ps=h.__private__.decodeColorString=function(m){var E=m.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length!==5||E[4]!=="k"&&E[4]!=="K"||(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var U=parseFloat(E[0]);E=[U,U,U,"r"]}for(var ee="#",ue=0;ue<3;ue++)ee+=("0"+Math.floor(255*parseFloat(E[ue])).toString(16)).slice(-2);return ee},ss=h.__private__.encodeColorString=function(m){var E;typeof m=="string"&&(m={ch1:m});var U=m.ch1,ee=m.ch2,ue=m.ch3,De=m.ch4,Fe=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof U=="string"&&U.charAt(0)!=="#"){var rt=new Mk(U);if(rt.ok)U=rt.toHex();else if(!/^\d*\.?\d*$/.test(U))throw new Error('Invalid color "'+U+'" passed to jsPDF.encodeColorString.')}if(typeof U=="string"&&/^#[0-9A-Fa-f]{3}$/.test(U)&&(U="#"+U[1]+U[1]+U[2]+U[2]+U[3]+U[3]),typeof U=="string"&&/^#[0-9A-Fa-f]{6}$/.test(U)){var ut=parseInt(U.substr(1),16);U=ut>>16&255,ee=ut>>8&255,ue=255&ut}if(ee===void 0||De===void 0&&U===ee&&ee===ue)E=typeof U=="string"?U+" "+Fe[0]:m.precision===2?N(U/255)+" "+Fe[0]:R(U/255)+" "+Fe[0];else if(De===void 0||Bn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return["1.","1.","1.",Fe[1]].join(" ");E=typeof U=="string"?[U,ee,ue,Fe[1]].join(" "):m.precision===2?[N(U/255),N(ee/255),N(ue/255),Fe[1]].join(" "):[R(U/255),R(ee/255),R(ue/255),Fe[1]].join(" ")}else E=typeof U=="string"?[U,ee,ue,De,Fe[2]].join(" "):m.precision===2?[N(U),N(ee),N(ue),N(De),Fe[2]].join(" "):[R(U),R(ee),R(ue),R(De),Fe[2]].join(" ");return E},as=h.__private__.getFilters=function(){return s},Ro=h.__private__.putStream=function(m){var E=(m=m||{}).data||"",U=m.filters||as(),ee=m.alreadyAppliedFilters||[],ue=m.addLength1||!1,De=E.length,Fe=m.objectId,rt=function(Qi){return Qi};if(f!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(rt=Ni.encryptor(Fe,0));var ut={};U===!0&&(U=["FlateEncode"]);var It=m.additionalKeyValues||[],Nt=(ut=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(E,U):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(ut.data.length!==0&&(It.push({key:"Length",value:ut.data.length}),ue===!0&&It.push({key:"Length1",value:De})),Nt.length!=0)if(Nt.split("/").length-1==1)It.push({key:"Filter",value:Nt});else{It.push({key:"Filter",value:"["+Nt+"]"});for(var xn=0;xn<It.length;xn+=1)if(It[xn].key==="DecodeParms"){for(var vi=[],zi=0;zi<ut.reverseChain.split("/").length-1;zi+=1)vi.push("null");vi.push(It[xn].value),It[xn].value="["+vi.join(" ")+"]"}}Y("<<");for(var ei=0;ei<It.length;ei++)Y("/"+It[ei].key+" "+It[ei].value);Y(">>"),ut.data.length!==0&&(Y("stream"),Y(rt(ut.data)),Y("endstream"))},tc=h.__private__.putPage=function(m){var E=m.number,U=m.data,ee=m.objId,ue=m.contentsObjId;pr(ee,!0),Y("<</Type /Page"),Y("/Parent "+m.rootDictionaryObjId+" 0 R"),Y("/Resources "+m.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(te(m.mediaBox.bottomLeftX))+" "+parseFloat(te(m.mediaBox.bottomLeftY))+" "+te(m.mediaBox.topRightX)+" "+te(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&Y("/CropBox ["+te(m.cropBox.bottomLeftX)+" "+te(m.cropBox.bottomLeftY)+" "+te(m.cropBox.topRightX)+" "+te(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&Y("/BleedBox ["+te(m.bleedBox.bottomLeftX)+" "+te(m.bleedBox.bottomLeftY)+" "+te(m.bleedBox.topRightX)+" "+te(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&Y("/TrimBox ["+te(m.trimBox.bottomLeftX)+" "+te(m.trimBox.bottomLeftY)+" "+te(m.trimBox.topRightX)+" "+te(m.trimBox.topRightY)+"]"),m.artBox!==null&&Y("/ArtBox ["+te(m.artBox.bottomLeftX)+" "+te(m.artBox.bottomLeftY)+" "+te(m.artBox.topRightX)+" "+te(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&Y("/UserUnit "+m.userUnit),An.publish("putPage",{objId:ee,pageContext:At[E],pageNumber:E,page:U}),Y("/Contents "+ue+" 0 R"),Y(">>"),Y("endobj");var De=U.join(`
`);return H===G&&(De+=`
Q`),pr(ue,!0),Ro({data:De,filters:as(),objectId:ue}),Y("endobj"),ee},Os=h.__private__.putPages=function(){var m,E,U=[];for(m=1;m<=Wn;m++)At[m].objId=sr(),At[m].contentsObjId=sr();for(m=1;m<=Wn;m++)U.push(tc({number:m,data:Ve[m],objId:At[m].objId,contentsObjId:At[m].contentsObjId,mediaBox:At[m].mediaBox,cropBox:At[m].cropBox,bleedBox:At[m].bleedBox,trimBox:At[m].trimBox,artBox:At[m].artBox,userUnit:At[m].userUnit,rootDictionaryObjId:Ka,resourceDictionaryObjId:os}));pr(Ka,!0),Y("<</Type /Pages");var ee="/Kids [";for(E=0;E<Wn;E++)ee+=U[E]+" 0 R ";Y(ee+"]"),Y("/Count "+Wn),Y(">>"),Y("endobj"),An.publish("postPutPages")},nc=function(m){An.publish("putFont",{font:m,out:Y,newObject:wi,putStream:Ro}),m.isAlreadyPutted!==!0&&(m.objectNumber=wi(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+tf(m.postScriptName)),Y("/Subtype /Type1"),typeof m.encoding=="string"&&Y("/Encoding /"+m.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},yu=function(m){m.objectNumber=wi();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[te(m.x),te(m.y),te(m.x+m.width),te(m.y+m.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var U=m.pages[1].join(`
`);Ro({data:U,additionalKeyValues:E,objectId:m.objectNumber}),Y("endobj")},_u=function(m,E){E||(E=21);var U=wi(),ee=function(Fe,rt){var ut,It=[],Nt=1/(rt-1);for(ut=0;ut<1;ut+=Nt)It.push(ut);if(It.push(1),Fe[0].offset!=0){var xn={offset:0,color:Fe[0].color};Fe.unshift(xn)}if(Fe[Fe.length-1].offset!=1){var vi={offset:1,color:Fe[Fe.length-1].color};Fe.push(vi)}for(var zi="",ei=0,Qi=0;Qi<It.length;Qi++){for(ut=It[Qi];ut>Fe[ei+1].offset;)ei++;var $i=Fe[ei].offset,mr=(ut-$i)/(Fe[ei+1].offset-$i),jo=Fe[ei].color,Yr=Fe[ei+1].color;zi+=ie(Math.round((1-mr)*jo[0]+mr*Yr[0]).toString(16))+ie(Math.round((1-mr)*jo[1]+mr*Yr[1]).toString(16))+ie(Math.round((1-mr)*jo[2]+mr*Yr[2]).toString(16))}return zi.trim()}(m.colors,E),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+E+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ro({data:ee,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:U}),Y("endobj"),m.objectNumber=wi(),Y("<< /ShadingType "+m.type),Y("/ColorSpace /DeviceRGB");var De="/Coords ["+te(parseFloat(m.coords[0]))+" "+te(parseFloat(m.coords[1]))+" ";m.type===2?De+=te(parseFloat(m.coords[2]))+" "+te(parseFloat(m.coords[3])):De+=te(parseFloat(m.coords[2]))+" "+te(parseFloat(m.coords[3]))+" "+te(parseFloat(m.coords[4]))+" "+te(parseFloat(m.coords[5])),Y(De+="]"),m.matrix&&Y("/Matrix ["+m.matrix.toString()+"]"),Y("/Function "+U+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},bu=function(m,E){var U=sr(),ee=wi();E.push({resourcesOid:U,objectOid:ee}),m.objectNumber=ee;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+m.boundingBox.map(te).join(" ")+"]"}),ue.push({key:"XStep",value:te(m.xStep)}),ue.push({key:"YStep",value:te(m.yStep)}),ue.push({key:"Resources",value:U+" 0 R"}),m.matrix&&ue.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Ro({data:m.stream,additionalKeyValues:ue,objectId:m.objectNumber}),Y("endobj")},I1=function(m){for(var E in m.objectNumber=wi(),Y("<<"),m)switch(E){case"opacity":Y("/ca "+N(m[E]));break;case"stroke-opacity":Y("/CA "+N(m[E]))}Y(">>"),Y("endobj")},ff=function(m){pr(m.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var E in Y("/Font <<"),dt)dt.hasOwnProperty(E)&&(v===!1||v===!0&&w.hasOwnProperty(E))&&Y("/"+E+" "+dt[E].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(Ct).length>0){for(var E in Y("/Shading <<"),Ct)Ct.hasOwnProperty(E)&&Ct[E]instanceof pu&&Ct[E].objectNumber>=0&&Y("/"+E+" "+Ct[E].objectNumber+" 0 R");An.publish("putShadingPatternDict"),Y(">>")}}(),function(E){if(Object.keys(Ct).length>0){for(var U in Y("/Pattern <<"),Ct)Ct.hasOwnProperty(U)&&Ct[U]instanceof h.TilingPattern&&Ct[U].objectNumber>=0&&Ct[U].objectNumber<E&&Y("/"+U+" "+Ct[U].objectNumber+" 0 R");An.publish("putTilingPatternDict"),Y(">>")}}(m.objectOid),function(){if(Object.keys(Ut).length>0){var E;for(E in Y("/ExtGState <<"),Ut)Ut.hasOwnProperty(E)&&Ut[E].objectNumber>=0&&Y("/"+E+" "+Ut[E].objectNumber+" 0 R");An.publish("putGStateDict"),Y(">>")}}(),function(){for(var E in Y("/XObject <<"),Cr)Cr.hasOwnProperty(E)&&Cr[E].objectNumber>=0&&Y("/"+E+" "+Cr[E].objectNumber+" 0 R");An.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Hp=function(m){Bt[m.fontName]=Bt[m.fontName]||{},Bt[m.fontName][m.fontStyle]=m.id},qp=function(m,E,U,ee,ue){var De={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:m,fontName:E,fontStyle:U,encoding:ee,isStandardFont:ue||!1,metadata:{}};return An.publish("addFont",{font:De,instance:this}),dt[De.id]=De,Hp(De),De.id},Lo=h.__private__.pdfEscape=h.pdfEscape=function(m,E){return function(U,ee){var ue,De,Fe,rt,ut,It,Nt,xn,vi;if(Fe=(ee=ee||{}).sourceEncoding||"Unicode",ut=ee.outputEncoding,(ee.autoencode||ut)&&dt[gt].metadata&&dt[gt].metadata[Fe]&&dt[gt].metadata[Fe].encoding&&(rt=dt[gt].metadata[Fe].encoding,!ut&&dt[gt].encoding&&(ut=dt[gt].encoding),!ut&&rt.codePages&&(ut=rt.codePages[0]),typeof ut=="string"&&(ut=rt[ut]),ut)){for(Nt=!1,It=[],ue=0,De=U.length;ue<De;ue++)(xn=ut[U.charCodeAt(ue)])?It.push(String.fromCharCode(xn)):It.push(U[ue]),It[ue].charCodeAt(0)>>8&&(Nt=!0);U=It.join("")}for(ue=U.length;Nt===void 0&&ue!==0;)U.charCodeAt(ue-1)>>8&&(Nt=!0),ue--;if(!Nt)return U;for(It=ee.noBOM?[]:[254,255],ue=0,De=U.length;ue<De;ue++){if((vi=(xn=U.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(vi),It.push(xn-(vi<<8))}return String.fromCharCode.apply(void 0,It)}(m,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hf=h.__private__.beginPage=function(m){Ve[++Wn]=[],At[Wn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},$p(Wn),xe(Ve[q])},zp=function(m,E){var U,ee,ue;switch(e=E||e,typeof m=="string"&&(U=D(m.toLowerCase()),Array.isArray(U)&&(ee=U[0],ue=U[1])),Array.isArray(m)&&(ee=m[0]*Et,ue=m[1]*Et),isNaN(ee)&&(ee=r[0],ue=r[1]),(ee>14400||ue>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),ue=Math.min(14400,ue)),r=[ee,ue],e.substr(0,1)){case"l":ue>ee&&(r=[ue,ee]);break;case"p":ee>ue&&(r=[ue,ee])}hf(r),L1(yf),Y(Cu),bf!==0&&Y(bf+" J"),wf!==0&&Y(wf+" j"),An.publish("addPage",{pageNumber:Wn})},pf=function(m){m>0&&m<=Wn&&(Ve.splice(m,1),At.splice(m,1),Wn--,q>Wn&&(q=Wn),this.setPage(q))},$p=function(m){m>0&&m<=Wn&&(q=m)},Wp=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ve.length-1},Gp=function(m,E,U){var ee,ue=void 0;return U=U||{},m=m!==void 0?m:dt[gt].fontName,E=E!==void 0?E:dt[gt].fontStyle,ee=m.toLowerCase(),Bt[ee]!==void 0&&Bt[ee][E]!==void 0?ue=Bt[ee][E]:Bt[m]!==void 0&&Bt[m][E]!==void 0?ue=Bt[m][E]:U.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+m+"', '"+E+"'. Refer to getFontList() for available fonts."),ue||U.noFallback||(ue=Bt.times[E])==null&&(ue=Bt.times.normal),ue},wu=h.__private__.putInfo=function(){var m=wi(),E=function(ee){return ee};for(var U in f!==null&&(E=Ni.encryptor(m,0)),Y("<<"),Y("/Producer ("+Lo(E("jsPDF "+ot.version))+")"),Wt)Wt.hasOwnProperty(U)&&Wt[U]&&Y("/"+U.substr(0,1).toUpperCase()+U.substr(1)+" ("+Lo(E(Wt[U]))+")");Y("/CreationDate ("+Lo(E(be))+")"),Y(">>"),Y("endobj")},A1=h.__private__.putCatalog=function(m){var E=(m=m||{}).rootDictionaryObjId||Ka;switch(wi(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+E+" 0 R"),mt||(mt="fullwidth"),mt){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var U=""+mt;U.substr(U.length-1)==="%"&&(mt=parseInt(mt)/100),typeof mt=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+N(mt)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}_t&&Y("/PageMode /"+_t),An.publish("putCatalog"),Y(">>"),Y("endobj")},qi=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ce+1)),Y("/Root "+ce+" 0 R"),Y("/Info "+(ce-1)+" 0 R"),f!==null&&Y("/Encrypt "+Ni.oid+" 0 R"),Y("/ID [ <"+oe+"> <"+oe+"> ]"),Y(">>")},Yp=h.__private__.putHeader=function(){Y("%PDF-"+S),Y("%\xBA\xDF\xAC\xE0")},Zp=h.__private__.putXRef=function(){var m="0000000000";Y("xref"),Y("0 "+(ce+1)),Y("0000000000 65535 f ");for(var E=1;E<=ce;E++)typeof de[E]=="function"?Y((m+de[E]()).slice(-10)+" 00000 n "):de[E]!==void 0?Y((m+de[E]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},da=h.__private__.buildDocument=function(){var m;ce=0,_e=0,Ce=[],de=[],Ie=[],Ka=sr(),os=sr(),xe(Ce),An.publish("buildDocument"),Yp(),Os(),function(){An.publish("putAdditionalObjects");for(var U=0;U<Ie.length;U++){var ee=Ie[U];pr(ee.objId,!0),Y(ee.content),Y("endobj")}An.publish("postPutAdditionalObjects")}(),m=[],function(){for(var U in dt)dt.hasOwnProperty(U)&&(v===!1||v===!0&&w.hasOwnProperty(U))&&nc(dt[U])}(),function(){var U;for(U in Ut)Ut.hasOwnProperty(U)&&I1(Ut[U])}(),function(){for(var U in Cr)Cr.hasOwnProperty(U)&&yu(Cr[U])}(),function(U){var ee;for(ee in Ct)Ct.hasOwnProperty(ee)&&(Ct[ee]instanceof pu?_u(Ct[ee]):Ct[ee]instanceof nf&&bu(Ct[ee],U))}(m),An.publish("putResources"),m.forEach(ff),ff({resourcesOid:os,objectOid:Number.MAX_SAFE_INTEGER}),An.publish("postPutResources"),f!==null&&(Ni.oid=wi(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Ni.v),Y("/R "+Ni.r),Y("/U <"+Ni.toHexString(Ni.U)+">"),Y("/O <"+Ni.toHexString(Ni.O)+">"),Y("/P "+Ni.P),Y(">>"),Y("endobj")),wu(),A1();var E=_e;return Zp(),qi(),Y("startxref"),Y(""+E),Y("%%EOF"),xe(Ve[q]),Ce.join(`
`)},ic=h.__private__.getBlob=function(m){return new Blob([zt(m)],{type:"application/pdf"})},ls=h.output=h.__private__.output=(Fo=function(m,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",m){case void 0:return da();case"save":h.save(E.filename);break;case"arraybuffer":return zt(da());case"blob":return ic(da());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(ic(da()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var U="",ee=da();try{U=ik(ee)}catch{U=ik(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+E.filename+";base64,"+U;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(ue=E.pdfObjectUrl,De="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",rt=Dt.open();return rt!==null&&rt.document.write(Fe),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',It=Dt.open();if(It!==null){It.document.write(ut);var Nt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=E.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',vi=Dt.open();if(vi!==null&&(vi.document.write(xn),vi.document.title=E.filename),vi||typeof safari>"u")return vi;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",E);default:return null}},Fo.foo=function(){try{return Fo.apply(this,arguments)}catch(U){var m=U.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var E="Error in function "+m.split(`
`)[0].split("<")[0]+": "+U.message;if(!Dt.console)throw new Error(E);Dt.console.error(E,U),Dt.alert&&alert(E)}},Fo.foo.bar=Fo,Fo.foo),rc=function(m){return Array.isArray(Jl)===!0&&Jl.indexOf(m)>-1};switch(i){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=rc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Et=i}var Ni=null;Te(),ne();var mf=h.__private__.getPageInfo=h.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[m].objId,pageNumber:m,pageContext:At[m]}},T1=h.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in At)if(At[E].objId===m)break;return mf(E)},N1=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:At[q].objId,pageNumber:q,pageContext:At[q]}};h.addPage=function(){return zp.apply(this,arguments),this},h.setPage=function(){return $p.apply(this,arguments),xe.call(this,Ve[q]),this},h.insertPage=function(m){return this.addPage(),this.movePage(q,m),this},h.movePage=function(m,E){var U,ee;if(m>E){U=Ve[m],ee=At[m];for(var ue=m;ue>E;ue--)Ve[ue]=Ve[ue-1],At[ue]=At[ue-1];Ve[E]=U,At[E]=ee,this.setPage(E)}else if(m<E){U=Ve[m],ee=At[m];for(var De=m;De<E;De++)Ve[De]=Ve[De+1],At[De]=At[De+1];Ve[E]=U,At[E]=ee,this.setPage(E)}return this},h.deletePage=function(){return pf.apply(this,arguments),this},h.__private__.text=h.text=function(m,E,U,ee,ue){var De,Fe,rt,ut,It,Nt,xn,vi,zi,ei=(ee=ee||{}).scope||this;if(typeof m=="number"&&typeof E=="number"&&(typeof U=="string"||Array.isArray(U))){var Qi=U;U=E,E=m,m=Qi}if(arguments[3]instanceof St==0?(rt=arguments[4],ut=arguments[5],Bn(xn=arguments[3])==="object"&&xn!==null||(typeof rt=="string"&&(ut=rt,rt=null),typeof xn=="string"&&(ut=xn,xn=null),typeof xn=="number"&&(rt=xn,xn=null),ee={flags:xn,angle:rt,align:ut})):($("The transform parameter of text() with a Matrix value"),zi=ue),isNaN(E)||isNaN(U)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return ei;var $i,mr="",jo=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:sc,Yr=ei.internal.scaleFactor;function im(Tn){return Tn=Tn.split("	").join(Array(ee.TabLen||9).join(" ")),Lo(Tn,xn)}function Mu(Tn){for(var Gn,Pi=Tn.concat(),Xi=[],ya=Pi.length;ya--;)typeof(Gn=Pi.shift())=="string"?Xi.push(Gn):Array.isArray(Tn)&&(Gn.length===1||Gn[1]===void 0&&Gn[2]===void 0)?Xi.push(Gn[0]):Xi.push([Gn[0],Gn[1],Gn[2]]);return Xi}function fc(Tn,Gn){var Pi;if(typeof Tn=="string")Pi=Gn(Tn)[0];else if(Array.isArray(Tn)){for(var Xi,ya,Pf=Tn.concat(),Au=[],sm=Pf.length;sm--;)typeof(Xi=Pf.shift())=="string"?Au.push(Gn(Xi)[0]):Array.isArray(Xi)&&typeof Xi[0]=="string"&&(ya=Gn(Xi[0],Xi[1],Xi[2]),Au.push([ya[0],ya[1],ya[2]]));Pi=Au}return Pi}var Ja=!1,hc=!0;if(typeof m=="string")Ja=!0;else if(Array.isArray(m)){var pc=m.concat();Fe=[];for(var mc,Sr=pc.length;Sr--;)(typeof(mc=pc.shift())!="string"||Array.isArray(mc)&&typeof mc[0]!="string")&&(hc=!1);Ja=hc}if(Ja===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var gc=He/ei.internal.scaleFactor,vc=gc*(jo-1);switch(ee.baseline){case"bottom":U-=vc;break;case"top":U+=gc-vc;break;case"hanging":U+=gc-2*vc;break;case"middle":U+=gc/2-vc}if((Nt=ee.maxWidth||0)>0&&(typeof m=="string"?m=ei.splitTextToSize(m,Nt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Tn,Gn){return Tn.concat(ei.splitTextToSize(Gn,Nt))},[]))),De={text:m,x:E,y:U,options:ee,mutex:{pdfEscape:Lo,activeFontKey:gt,fonts:dt,activeFontSize:He}},An.publish("preProcessText",De),m=De.text,rt=(ee=De.options).angle,zi instanceof St==0&&rt&&typeof rt=="number"){rt*=Math.PI/180,ee.rotationDirection===0&&(rt=-rt),H===G&&(rt=-rt);var xf=Math.cos(rt),Ef=Math.sin(rt);zi=new St(xf,Ef,-Ef,xf,0,0)}else rt&&rt instanceof St&&(zi=rt);H!==G||zi||(zi=ua),(It=ee.charSpace||xu)!==void 0&&(mr+=te(X(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vi=ee.horizontalScale)!==void 0&&(mr+=te(100*vi)+` Tz
`),ee.lang;var Ci=-1,ga=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Du=ei.internal.getCurrentPageInfo().pageContext;switch(ga){case 0:case!1:case"fill":Ci=0;break;case 1:case!0:case"stroke":Ci=1;break;case 2:case"fillThenStroke":Ci=2;break;case 3:case"invisible":Ci=3;break;case 4:case"fillAndAddForClipping":Ci=4;break;case 5:case"strokeAndAddPathForClipping":Ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ci=6;break;case 7:case"addToPathForClipping":Ci=7}var rm=Du.usedRenderingMode!==void 0?Du.usedRenderingMode:-1;Ci!==-1?mr+=Ci+` Tr
`:rm!==-1&&(mr+=`0 Tr
`),Ci!==-1&&(Du.usedRenderingMode=Ci),ut=ee.align||"left";var Vo,yc=He*jo,Mf=ei.internal.pageSize.getWidth(),Df=dt[gt];It=ee.charSpace||xu,Nt=ee.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var el=[],_c=function(Tn){return ei.getStringUnitWidth(Tn,{font:Df,charSpace:It,fontSize:He,doKerning:!1})*He/Yr};if(Object.prototype.toString.call(m)==="[object Array]"){var lo;Fe=Mu(m),ut!=="left"&&(Vo=Fe.map(_c));var co,tl=0;if(ut==="right"){E-=Vo[0],m=[],Sr=Fe.length;for(var va=0;va<Sr;va++)va===0?(co=fa(E),lo=ha(U)):(co=X(tl-Vo[va]),lo=-yc),m.push([Fe[va],co,lo]),tl=Vo[va]}else if(ut==="center"){E-=Vo[0]/2,m=[],Sr=Fe.length;for(var nl=0;nl<Sr;nl++)nl===0?(co=fa(E),lo=ha(U)):(co=X((tl-Vo[nl])/2),lo=-yc),m.push([Fe[nl],co,lo]),tl=Vo[nl]}else if(ut==="left"){m=[],Sr=Fe.length;for(var If=0;If<Sr;If++)m.push(Fe[If])}else if(ut==="justify"&&Df.encoding==="Identity-H"){m=[],Sr=Fe.length,Nt=Nt!==0?Nt:Mf;for(var Iu=0,ki=0;ki<Sr;ki++)if(lo=ki===0?ha(U):-yc,co=ki===0?fa(E):Iu,ki<Sr-1){var om=X((Nt-Vo[ki])/(Fe[ki].split(" ").length-1)),Rs=Fe[ki].split(" ");m.push([Rs[0]+" ",co,lo]),Iu=0;for(var Ls=1;Ls<Rs.length;Ls++){var Af=(_c(Rs[Ls-1]+" "+Rs[Ls])-_c(Rs[Ls]))*Yr+om;Ls==Rs.length-1?m.push([Rs[Ls],Af,0]):m.push([Rs[Ls]+" ",Af,0]),Iu-=Af}}else m.push([Fe[ki],co,lo]);m.push(["",Iu,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Sr=Fe.length,Nt=Nt!==0?Nt:Mf,ki=0;ki<Sr;ki++){lo=ki===0?ha(U):-yc,co=ki===0?fa(E):0;var Tf=Fe[ki].split(" ").length-1,Nf=Tf>0?(Nt-Vo[ki])/Tf:0;ki<Sr-1?el.push(te(X(Nf))):el.push(0),m.push([Fe[ki],co,lo])}}}(typeof ee.R2L=="boolean"?ee.R2L:$t)===!0&&(m=fc(m,function(Tn,Gn,Pi){return[Tn.split("").reverse().join(""),Gn,Pi]})),De={text:m,x:E,y:U,options:ee,mutex:{pdfEscape:Lo,activeFontKey:gt,fonts:dt,activeFontSize:He}},An.publish("postProcessText",De),m=De.text,$i=De.mutex.isHex||!1;var kf=dt[gt].encoding;kf!=="WinAnsiEncoding"&&kf!=="StandardEncoding"||(m=fc(m,function(Tn,Gn,Pi){return[im(Tn),Gn,Pi]})),Fe=Mu(m),m=[];for(var il,rl,ol,bc=Array.isArray(Fe[0])?1:0,sl="",wc=function(Tn,Gn,Pi){var Xi="";return Pi instanceof St?(Pi=typeof ee.angle=="number"?ca(Pi,new St(1,0,0,1,Tn,Gn)):ca(new St(1,0,0,1,Tn,Gn),Pi),H===G&&(Pi=ca(new St(1,0,0,-1,0,0),Pi)),Xi=Pi.join(" ")+` Tm
`):Xi=te(Tn)+" "+te(Gn)+` Td
`,Xi},Bo=0;Bo<Fe.length;Bo++){switch(sl="",bc){case 1:ol=($i?"<":"(")+Fe[Bo][0]+($i?">":")"),il=parseFloat(Fe[Bo][1]),rl=parseFloat(Fe[Bo][2]);break;case 0:ol=($i?"<":"(")+Fe[Bo]+($i?">":")"),il=fa(E),rl=ha(U)}el!==void 0&&el[Bo]!==void 0&&(sl=el[Bo]+` Tw
`),Bo===0?m.push(sl+wc(il,rl,zi)+ol):bc===0?m.push(sl+ol):bc===1&&m.push(sl+wc(il,rl,zi)+ol)}m=bc===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var js=`BT
/`;return js+=gt+" "+He+` Tf
`,js+=te(He*jo)+` TL
`,js+=ac+`
`,js+=mr,js+=m,Y(js+="ET"),w[gt]=!0,ei};var k1=h.__private__.clip=h.clip=function(m){return Y(m==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return k1("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Fs=h.__private__.isValidStyle=function(m){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(E=!0),E};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(m){return Fs(m)&&(c=m),this};var Kp=h.__private__.getStyle=h.getStyle=function(m){var E=c;switch(m){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=m}return E},Qp=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(m){return Qa("f",m),this},h.fillEvenOdd=function(m){return Qa("f*",m),this},h.fillStroke=function(m){return Qa("B",m),this},h.fillStrokeEvenOdd=function(m){return Qa("B*",m),this};var Qa=function(m,E){Bn(E)==="object"?O1(E,m):Y(m)},gf=function(m){m===null||H===G&&m===void 0||(m=Kp(m),Y(m))};function P1(m,E,U,ee,ue){var De=new nf(E||this.boundingBox,U||this.xStep,ee||this.yStep,this.gState,ue||this.matrix);De.stream=this.stream;var Fe=m+"$$"+this.cloneIndex+++"$$";return Oo(Fe,De),De}var O1=function(m,E){var U=un[m.key],ee=Ct[U];if(ee instanceof pu)Y("q"),Y(F1(E)),ee.gState&&h.setGState(ee.gState),Y(m.matrix.toString()+" cm"),Y("/"+U+" sh"),Y("Q");else if(ee instanceof nf){var ue=new St(1,0,0,-1,0,dc());m.matrix&&(ue=ue.multiply(m.matrix||ua),U=P1.call(ee,m.key,m.boundingBox,m.xStep,m.yStep,ue).id),Y("q"),Y("/Pattern cs"),Y("/"+U+" scn"),ee.gState&&h.setGState(ee.gState),Y(E),Y("Q")}},F1=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vf=h.moveTo=function(m,E){return Y(te(X(m))+" "+te(J(E))+" m"),this},oc=h.lineTo=function(m,E){return Y(te(X(m))+" "+te(J(E))+" l"),this},Xa=h.curveTo=function(m,E,U,ee,ue,De){return Y([te(X(m)),te(J(E)),te(X(U)),te(J(ee)),te(X(ue)),te(J(De)),"c"].join(" ")),this};h.__private__.line=h.line=function(m,E,U,ee,ue){if(isNaN(m)||isNaN(E)||isNaN(U)||isNaN(ee)||!Fs(ue))throw new Error("Invalid arguments passed to jsPDF.line");return H===Z?this.lines([[U-m,ee-E]],m,E,[1,1],ue||"S"):this.lines([[U-m,ee-E]],m,E,[1,1]).stroke()},h.__private__.lines=h.lines=function(m,E,U,ee,ue,De){var Fe,rt,ut,It,Nt,xn,vi,zi,ei,Qi,$i,mr;if(typeof m=="number"&&(mr=U,U=E,E=m,m=mr),ee=ee||[1,1],De=De||!1,isNaN(E)||isNaN(U)||!Array.isArray(m)||!Array.isArray(ee)||!Fs(ue)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vf(E,U),Fe=ee[0],rt=ee[1],It=m.length,Qi=E,$i=U,ut=0;ut<It;ut++)(Nt=m[ut]).length===2?(Qi=Nt[0]*Fe+Qi,$i=Nt[1]*rt+$i,oc(Qi,$i)):(xn=Nt[0]*Fe+Qi,vi=Nt[1]*rt+$i,zi=Nt[2]*Fe+Qi,ei=Nt[3]*rt+$i,Qi=Nt[4]*Fe+Qi,$i=Nt[5]*rt+$i,Xa(xn,vi,zi,ei,Qi,$i));return De&&Qp(),gf(ue),this},h.path=function(m){for(var E=0;E<m.length;E++){var U=m[E],ee=U.c;switch(U.op){case"m":vf(ee[0],ee[1]);break;case"l":oc(ee[0],ee[1]);break;case"c":Xa.apply(this,ee);break;case"h":Qp()}}return this},h.__private__.rect=h.rect=function(m,E,U,ee,ue){if(isNaN(m)||isNaN(E)||isNaN(U)||isNaN(ee)||!Fs(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return H===Z&&(ee=-ee),Y([te(X(m)),te(J(E)),te(X(U)),te(X(ee)),"re"].join(" ")),gf(ue),this},h.__private__.triangle=h.triangle=function(m,E,U,ee,ue,De,Fe){if(isNaN(m)||isNaN(E)||isNaN(U)||isNaN(ee)||isNaN(ue)||isNaN(De)||!Fs(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[U-m,ee-E],[ue-U,De-ee],[m-ue,E-De]],m,E,[1,1],Fe,!0),this},h.__private__.roundedRect=h.roundedRect=function(m,E,U,ee,ue,De,Fe){if(isNaN(m)||isNaN(E)||isNaN(U)||isNaN(ee)||isNaN(ue)||isNaN(De)||!Fs(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*U),De=Math.min(De,.5*ee),this.lines([[U-2*ue,0],[ue*rt,0,ue,De-De*rt,ue,De],[0,ee-2*De],[0,De*rt,-ue*rt,De,-ue,De],[2*ue-U,0],[-ue*rt,0,-ue,-De*rt,-ue,-De],[0,2*De-ee],[0,-De*rt,ue*rt,-De,ue,-De]],m+ue,E,[1,1],Fe,!0),this},h.__private__.ellipse=h.ellipse=function(m,E,U,ee,ue){if(isNaN(m)||isNaN(E)||isNaN(U)||isNaN(ee)||!Fs(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*U,Fe=4/3*(Math.SQRT2-1)*ee;return vf(m+U,E),Xa(m+U,E-Fe,m+De,E-ee,m,E-ee),Xa(m-De,E-ee,m-U,E-Fe,m-U,E),Xa(m-U,E+Fe,m-De,E+ee,m,E+ee),Xa(m+De,E+ee,m+U,E+Fe,m+U,E),gf(ue),this},h.__private__.circle=h.circle=function(m,E,U,ee){if(isNaN(m)||isNaN(E)||isNaN(U)||!Fs(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,E,U,U,ee)},h.setFont=function(m,E,U){return U&&(E=ge(E,U)),gt=Gp(m,E,{disableWarning:!1}),this};var R1=h.__private__.getFont=h.getFont=function(){return dt[Gp.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var m,E,U={};for(m in Bt)if(Bt.hasOwnProperty(m))for(E in U[m]=[],Bt[m])Bt[m].hasOwnProperty(E)&&U[m].push(E);return U},h.addFont=function(m,E,U,ee,ue){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(U=ge(U,ee)),qp.call(this,m,E,U,ue=ue||"Identity-H")};var sc,yf=t.lineWidth||.200025,Tt=h.__private__.getLineWidth=h.getLineWidth=function(){return yf},L1=h.__private__.setLineWidth=h.setLineWidth=function(m){return yf=m,Y(te(X(m))+" w"),this};h.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(m,E){if(m=m||[],E=E||0,isNaN(E)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(U){return te(X(U))}).join(" "),E=te(X(E)),Y("["+m+"] "+E+" d"),this};var j1=h.__private__.getLineHeight=h.getLineHeight=function(){return He*sc};h.__private__.getLineHeight=h.getLineHeight=function(){return He*sc};var V1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(sc=m),this},B1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return sc};V1(t.lineHeight);var fa=h.__private__.getHorizontalCoordinate=function(m){return X(m)},ha=h.__private__.getVerticalCoordinate=function(m){return H===G?m:At[q].mediaBox.topRightY-At[q].mediaBox.bottomLeftY-X(m)},U1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(m){return te(fa(m))},H1=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(m){return te(ha(m))},Cu=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ps(Cu)},h.__private__.setStrokeColor=h.setDrawColor=function(m,E,U,ee){return Cu=ss({ch1:m,ch2:E,ch3:U,ch4:ee,pdfColorType:"draw",precision:2}),Y(Cu),this};var _f=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ps(_f)},h.__private__.setFillColor=h.setFillColor=function(m,E,U,ee){return _f=ss({ch1:m,ch2:E,ch3:U,ch4:ee,pdfColorType:"fill",precision:2}),Y(_f),this};var ac=t.textColor||"0 g",Su=h.__private__.getTextColor=h.getTextColor=function(){return Ps(ac)};h.__private__.setTextColor=h.setTextColor=function(m,E,U,ee){return ac=ss({ch1:m,ch2:E,ch3:U,ch4:ee,pdfColorType:"text",precision:3}),this};var xu=t.charSpace,q1=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(xu||0)};h.__private__.setCharSpace=h.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xu=m,this};var bf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(m){var E=h.CapJoinStyles[m];if(E===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bf=E,Y(E+" J"),this};var wf=0;h.__private__.setLineJoin=h.setLineJoin=function(m){var E=h.CapJoinStyles[m];if(E===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wf=E,Y(E+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(te(X(m))+" M"),this},h.GState=b1,h.setGState=function(m){(m=typeof m=="string"?Ut[Ti[m]]:lc(null,m)).equals(Ki)||(Y("/"+m.id+" gs"),Ki=m)};var lc=function(m,E){if(!m||!Ti[m]){var U=!1;for(var ee in Ut)if(Ut.hasOwnProperty(ee)&&Ut[ee].equals(E)){U=!0;break}if(U)E=Ut[ee];else{var ue="GS"+(Object.keys(Ut).length+1).toString(10);Ut[ue]=E,E.id=ue}return m&&(Ti[m]=E.id),An.publish("addGState",E),E}};h.addGState=function(m,E){return lc(m,E),this},h.saveGraphicsState=function(){return Y("q"),$n.push({key:gt,size:He,color:ac}),this},h.restoreGraphicsState=function(){Y("Q");var m=$n.pop();return gt=m.key,He=m.size,ac=m.color,Ki=null,this},h.setCurrentTransformationMatrix=function(m){return Y(m.toString()+" cm"),this},h.comment=function(m){return Y("#"+m),this};var cc=function(m,E){var U=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return U},set:function(De){isNaN(De)||(U=parseFloat(De))}});var ee=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(De){isNaN(De)||(ee=parseFloat(De))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(De){ue=De.toString()}}),this},Cf=function(m,E,U,ee){cc.call(this,m,E),this.type="rect";var ue=U||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Fe){isNaN(Fe)||(ue=parseFloat(Fe))}});var De=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(Fe){isNaN(Fe)||(De=parseFloat(Fe))}}),this},Eu=function(){this.page=Wn,this.currentPage=q,this.pages=Ve.slice(0),this.pagesContext=At.slice(0),this.x=vt,this.y=Jn,this.matrix=Sn,this.width=Xp(q),this.height=pa(q),this.outputDestination=Xe,this.id="",this.objectNumber=-1};Eu.prototype.restore=function(){Wn=this.page,q=this.currentPage,At=this.pagesContext,Ve=this.pages,vt=this.x,Jn=this.y,Sn=this.matrix,Jp(q,this.width),ma(q,this.height),Xe=this.outputDestination};var Sf=function(m,E,U,ee,ue){ks.push(new Eu),Wn=q=0,Ve=[],vt=m,Jn=E,Sn=ue,hf([U,ee])};for(var uc in h.beginFormObject=function(m,E,U,ee,ue){return Sf(m,E,U,ee,ue),this},h.endFormObject=function(m){return function(E){if(la[E])ks.pop().restore();else{var U=new Eu,ee="Xo"+(Object.keys(Cr).length+1).toString(10);U.id=ee,la[E]=ee,Cr[ee]=U,An.publish("addFormObject",U),ks.pop().restore()}}(m),this},h.doFormObject=function(m,E){var U=Cr[la[m]];return Y("q"),Y(E.toString()+" cm"),Y("/"+U.id+" Do"),Y("Q"),this},h.getFormObject=function(m){var E=Cr[la[m]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},h.save=function(m,E){return m=m||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(hu(ic(da()),m),typeof hu.unload=="function"&&Dt.setTimeout&&setTimeout(hu.unload,911),this):new Promise(function(U,ee){try{var ue=hu(ic(da()),m);typeof hu.unload=="function"&&Dt.setTimeout&&setTimeout(hu.unload,911),U(ue)}catch(De){ee(De.message)}})},ot.API)ot.API.hasOwnProperty(uc)&&(uc==="events"&&ot.API.events.length?function(m,E){var U,ee,ue;for(ue=E.length-1;ue!==-1;ue--)U=E[ue][0],ee=E[ue][1],m.subscribe.apply(m,[U].concat(typeof ee=="function"?[ee]:ee))}(An,ot.API.events):h[uc]=ot.API[uc]);function Xp(m){return At[m].mediaBox.topRightX-At[m].mediaBox.bottomLeftX}function Jp(m,E){At[m].mediaBox.topRightX=E+At[m].mediaBox.bottomLeftX}function pa(m){return At[m].mediaBox.topRightY-At[m].mediaBox.bottomLeftY}function ma(m,E){At[m].mediaBox.topRightY=E+At[m].mediaBox.bottomLeftY}var em=h.getPageWidth=function(m){return Xp(m=m||q)/Et},tm=h.setPageWidth=function(m,E){Jp(m,E*Et)},dc=h.getPageHeight=function(m){return pa(m=m||q)/Et},nm=h.setPageHeight=function(m,E){ma(m,E*Et)};return h.internal={pdfEscape:Lo,getStyle:Kp,getFont:R1,getFontSize:Ye,getCharSpace:q1,getTextColor:Su,getLineHeight:j1,getLineHeightFactor:B1,getLineWidth:Tt,write:an,getHorizontalCoordinate:fa,getVerticalCoordinate:ha,getCoordinateString:U1,getVerticalCoordinateString:H1,collections:{},newObject:wi,newAdditionalObject:ec,newObjectDeferred:sr,newObjectDeferredBegin:pr,getFilters:as,putStream:Ro,events:An,scaleFactor:Et,pageSize:{getWidth:function(){return em(q)},setWidth:function(m){tm(q,m)},getHeight:function(){return dc(q)},setHeight:function(m){nm(q,m)}},encryptionOptions:f,encryption:Ni,getEncryptor:function(m){return f!==null?Ni.encryptor(m,0):function(E){return E}},output:ls,getNumberOfPages:Wp,pages:Ve,out:Y,f2:N,f3:R,getPageInfo:mf,getPageInfoByObjId:T1,getCurrentPageInfo:N1,getPDFVersion:x,Point:cc,Rectangle:Cf,Matrix:St,hasHotfix:rc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return em(q)},set:function(m){tm(q,m)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return dc(q)},set:function(m){nm(q,m)},enumerable:!0,configurable:!0}),function(m){for(var E=0,U=bt.length;E<U;E++){var ee=qp.call(this,m[E][0],m[E][1],m[E][2],bt[E][3],!0);v===!1&&(w[ee]=!0);var ue=m[E][0].split("-");Hp({id:ee,fontName:ue[0],fontStyle:ue[1]||""})}An.publish("addFonts",{fonts:dt,dictionary:Bt})}.call(h,bt),gt="F1",zp(r,e),An.publish("initialized"),h}ef.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ef.prototype.toHexString=function(t){return t.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ef.prototype.hexToBytes=function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(String.fromCharCode(parseInt(t.substr(e,2),16)));return n.join("")},ef.prototype.processOwnerPassword=function(t,n){return kS(NS(n).substr(0,5),t)},ef.prototype.encryptor=function(t,n){var e=NS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&n,n>>8&255)).substr(0,10);return function(i){return kS(e,i)}},b1.prototype.equals=function(t){var n,e="id,objectNumber,equals";if(!t||Bn(t)!==Bn(this))return!1;var i=0;for(n in this)if(!(e.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!t.hasOwnProperty(n)||this[n]!==t[n])return!1;i++}for(n in t)t.hasOwnProperty(n)&&e.indexOf(n)<0&&i--;return i===0},ot.API={events:[]},ot.version="3.0.3";var Ai=ot.API,FS=1,gu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(t){return t.toFixed(2)},Kl=function(t){return t.toFixed(5)};Ai.__acroform__={};var ao=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t},ak=function(t){return t*FS},oa=function(t){var n=new Tk,e=it.internal.getHeight(t)||0,i=it.internal.getWidth(t)||0;return n.BBox=[0,0,Number(Lt(i)),Number(Lt(e))],n},kW=Ai.__acroform__.setBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<n},PW=Ai.__acroform__.clearBit=function(t,n){if(t=t||0,n=n||0,isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<n)},OW=Ai.__acroform__.getBit=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<n?1:0},Bi=Ai.__acroform__.getBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OW(t,n-1)},Ui=Ai.__acroform__.setBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kW(t,n-1)},Hi=Ai.__acroform__.clearBitForPdf=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PW(t,n-1)},FW=Ai.__acroform__.calculateCoordinates=function(t,n){var e=n.internal.getHorizontalCoordinate,i=n.internal.getVerticalCoordinate,r=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=e(r+s)||0,l.upperRight_Y=i(o)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},RW=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var n=[],e=t._V||t.DV,i=PS(t,e),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(t.scope.__private__.encodeColorString(t.color)),n.push("/"+r+" "+Lt(i.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC");var o=oa(t);return o.scope=t.scope,o.stream=n.join(`
`),o}},PS=function(t,n){var e=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");r=t.multiline?r.map(function(N){return N.split(`
`)}):r.map(function(N){return[N]});var o=e,s=it.internal.getHeight(t)||0;s=s<0?-s:s;var a=it.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(N,R,X){if(N+1<r.length){var J=R+" "+r[N+1][0];return f1(J,t,X).width<=a-4}return!1};o++;e:for(;o>0;){n="",o--;var c,f,v=f1("3",t,o).height,w=t.multiline?s-o:(s-v)/2,h=w+=2,S=0,x=0,k=0;if(o<=0){n=`(...) Tj
`,n+="% Width of Text: "+f1(n,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var D="",Z=0,G=0;G<r.length;G++)if(r.hasOwnProperty(G)){var H=!1;if(r[G].length!==1&&k!==r[G].length-1){if((v+2)*(Z+2)+2>s)continue e;D+=r[G][k],H=!0,x=G,G--}else{D=(D+=r[G][k]+" ").substr(D.length-1)==" "?D.substr(0,D.length-1):D;var he=parseInt(G),we=l(he,D,o),ge=G>=r.length-1;if(we&&!ge){D+=" ",k=0;continue}if(we||ge){if(ge)x=he;else if(t.multiline&&(v+2)*(Z+2)+2>s)continue e}else{if(!t.multiline||(v+2)*(Z+2)+2>s)continue e;x=he}}for(var te="",$=S;$<=x;$++){var ae=r[$];if(t.multiline){if($===x){te+=ae[k]+" ",k=(k+1)%ae.length;continue}if($===S){te+=ae[ae.length-1]+" ";continue}}te+=ae[0]+" "}switch(te=te.substr(te.length-1)==" "?te.substr(0,te.length-1):te,f=f1(te,t,o).width,t.textAlign){case"right":c=a-f-2;break;case"center":c=(a-f)/2;break;default:c=2}n+=Lt(c)+" "+Lt(h)+` Td
`,n+="("+gu(te)+`) Tj
`,n+=-Lt(c)+` 0 Td
`,h=-(o+2),f=0,S=H?x:x+1,Z++,D=""}break}return i.text=n,i.fontSize=o,i},f1=function(t,n,e){var i=n.scope.internal.getFont(n.fontName,n.fontStyle),r=n.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:n.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},LW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jW=function(t,n){var e={type:"reference",object:t};n.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},VW=function(t,n){if(n.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ts.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(LW)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");FS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Nk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&jW(o,e)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(e){(function(i,r){var o=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=FW(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=it.createDefaultAppearanceStream(a),Bn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=RW(a);l.push({key:"AP",value:"<</N "+f+">>"}),r.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var v="";for(var w in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(w)){var h=a.appearanceStreamContent[w];if(v+="/"+w+" ",v+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var S=h[s];typeof S=="function"&&(S=S.call(r,a)),v+="/"+s+" "+S+" ",r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S)}}else typeof(S=h)=="function"&&(S=S.call(r,a)),v+="/"+s+" "+S,r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S);v+=">>"}l.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}o&&function(x,k){for(var D in x)if(x.hasOwnProperty(D)){var Z=D,G=x[D];k.internal.newObjectDeferredBegin(G.objId,!0),Bn(G)==="object"&&typeof G.putStream=="function"&&G.putStream(),delete x[Z]}}(r.internal.acroformPlugin.xForms,r)})(e,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ak=Ai.__acroform__.arrayToPdfArray=function(t,n,e){var i=function(s){return s};if(Array.isArray(t)){for(var r="[",o=0;o<t.length;o++)switch(o!==0&&(r+=" "),Bn(t[o])){case"boolean":case"number":case"object":r+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(n!==void 0&&e&&(i=e.internal.getEncryptor(n)),r+="("+gu(i(t[o].toString()))+")"):r+=t[o].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},MS=function(t,n,e){var i=function(r){return r};return n!==void 0&&e&&(i=e.internal.getEncryptor(n)),(t=t||"").toString(),"("+gu(i(t))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var t=[],n=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in n)if(Object.getOwnPropertyDescriptor(this,n[e]).configurable===!1){var i=n[e],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:Ak(r,this.objId,this.scope)}):r instanceof sa?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var Tk=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};ao(Tk,sa);var Nk=function(){sa.call(this);var t,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+gu(e(t))+")"}},set:function(e){t=e}})};ao(Nk,sa);var Ts=function t(){sa.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute F supplied.');n=D}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bi(n,3)},set:function(D){D?this.F=Ui(n,3):this.F=Hi(n,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(D){if(isNaN(D))throw new Error('Invalid value "'+D+'" for attribute Ff supplied.');e=D}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(D){i=D!==void 0?D:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(D){i[0]=D}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(D){i[1]=D}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(D){i[2]=D}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(D){i[3]=D}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(D){switch(D){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=D;break;default:throw new Error('Invalid value "'+D+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof w1)return;o="FieldObject"+t.FieldNum++}var D=function(Z){return Z};return this.scope&&(D=this.scope.internal.getEncryptor(this.objId)),"("+gu(D(o))+")"},set:function(D){o=D.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(D){o=D}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(D){s=D}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(D){a=D}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(D){l=D}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/FS:c},set:function(D){c=D}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(D){f=D}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof w1||this instanceof mu))return MS(v,this.objId,this.scope)},set:function(D){D=D.toString(),v=D}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof hr==0?MS(w,this.objId,this.scope):w},set:function(D){D=D.toString(),w=this instanceof hr==0?D.substr(0,1)==="("?Xd(D.substr(1,D.length-2)):Xd(D):D}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr==1?Xd(w.substr(1,w.length-1)):w},set:function(D){D=D.toString(),w=this instanceof hr==1?"/"+D:D}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(D){this.V=D}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof hr==0?MS(h,this.objId,this.scope):h},set:function(D){D=D.toString(),h=this instanceof hr==0?D.substr(0,1)==="("?Xd(D.substr(1,D.length-2)):Xd(D):D}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr==1?Xd(h.substr(1,h.length-1)):h},set:function(D){D=D.toString(),h=this instanceof hr==1?"/"+D:D}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(D){D=!!D,x=D}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(D){S=D}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,1)},set:function(D){D?this.Ff=Ui(this.Ff,1):this.Ff=Hi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,2)},set:function(D){D?this.Ff=Ui(this.Ff,2):this.Ff=Hi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,3)},set:function(D){D?this.Ff=Ui(this.Ff,3):this.Ff=Hi(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(D){if([0,1,2].indexOf(D)===-1)throw new Error('Invalid value "'+D+'" for attribute Q supplied.');k=D}}),Object.defineProperty(this,"textAlign",{get:function(){var D;switch(k){case 0:default:D="left";break;case 1:D="center";break;case 2:D="right"}return D},configurable:!0,enumerable:!0,set:function(D){switch(D){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};ao(Ts,sa);var rf=function(){Ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ak(n,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),n=r}}),this.getOptions=function(){return n},this.setOptions=function(e){n=e,this.sort&&n.sort()},this.addOption=function(e){e=(e=e||"").toString(),n.push(e),this.sort&&n.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();n.indexOf(e)!==-1&&(n.splice(n.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,18)},set:function(e){e?this.Ff=Ui(this.Ff,18):this.Ff=Hi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Ui(this.Ff,19):this.Ff=Hi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,20)},set:function(e){e?(this.Ff=Ui(this.Ff,20),n.sort()):this.Ff=Hi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,22)},set:function(e){e?this.Ff=Ui(this.Ff,22):this.Ff=Hi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(e){e?this.Ff=Ui(this.Ff,23):this.Ff=Hi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,27)},set:function(e){e?this.Ff=Ui(this.Ff,27):this.Ff=Hi(this.Ff,27)}}),this.hasAppearanceStream=!1};ao(rf,Ts);var of=function(){rf.call(this),this.fontName="helvetica",this.combo=!1};ao(of,rf);var sf=function(){of.call(this),this.combo=!0};ao(sf,of);var g1=function(){sf.call(this),this.edit=!0};ao(g1,sf);var hr=function(){Ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,15)},set:function(e){e?this.Ff=Ui(this.Ff,15):this.Ff=Hi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,16)},set:function(e){e?this.Ff=Ui(this.Ff,16):this.Ff=Hi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,17)},set:function(e){e?this.Ff=Ui(this.Ff,17):this.Ff=Hi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(e){e?this.Ff=Ui(this.Ff,26):this.Ff=Hi(this.Ff,26)}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var i,r=[];for(i in r.push("<<"),n)r.push("/"+i+" ("+gu(e(n[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Bn(e)==="object"&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){typeof e=="string"&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};ao(hr,Ts);var v1=function(){hr.call(this),this.pushButton=!0};ao(v1,hr);var af=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n!==void 0?n:[]}})};ao(af,hr);var w1=function(){var t,n;Ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(r){n=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+gu(r(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Bn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ao(w1,Ts),af.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var e=this.Kids[n];e.appearanceStreamContent=t.createAppearanceStream(e.optionName),e.caption=t.getCA()}},af.prototype.createOption=function(t){var n=new w1;return n.Parent=this,n.optionName=t,this.Kids.push(n),BW.call(this.scope,n),n};var y1=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};ao(y1,hr);var mu=function(){Ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,13)},set:function(n){n?this.Ff=Ui(this.Ff,13):this.Ff=Hi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,21)},set:function(n){n?this.Ff=Ui(this.Ff,21):this.Ff=Hi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(n){n?this.Ff=Ui(this.Ff,23):this.Ff=Hi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,24)},set:function(n){n?this.Ff=Ui(this.Ff,24):this.Ff=Hi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,25)},set:function(n){n?this.Ff=Ui(this.Ff,25):this.Ff=Hi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(n){n?this.Ff=Ui(this.Ff,26):this.Ff=Hi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){Number.isInteger(n)&&(t=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ao(mu,Ts);var _1=function(){mu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,14)},set:function(t){t?this.Ff=Ui(this.Ff,14):this.Ff=Hi(this.Ff,14)}}),this.password=!0};ao(_1,mu);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var n=oa(t);n.scope=t.scope;var e=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),o=PS(t,t.caption);return e.push("0.749023 g"),e.push("0 0 "+Lt(it.internal.getWidth(t))+" "+Lt(it.internal.getHeight(t))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Lt(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),n.stream=e.join(`
`),n},YesNormal:function(t){var n=oa(t);n.scope=t.scope;var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],o=it.internal.getHeight(t),s=it.internal.getWidth(t),a=PS(t,t.caption);return r.push("1 g"),r.push("0 0 "+Lt(s)+" "+Lt(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Lt(s-1)+" "+Lt(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Lt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(t){var n=oa(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Lt(it.internal.getWidth(t))+" "+Lt(it.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(t){var n={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return n.N[t]=it.RadioButton.Circle.YesNormal,n.D[t]=it.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(t){var n=oa(t);n.scope=t.scope;var e=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=it.internal.Bezier_C,o=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Kl(it.internal.getWidth(t)/2)+" "+Kl(it.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join(`
`),n},YesPushDown:function(t){var n=oa(t);n.scope=t.scope;var e=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5)),s=Number((i*it.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Kl(it.internal.getWidth(t)/2)+" "+Kl(it.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Kl(it.internal.getWidth(t)/2)+" "+Kl(it.internal.getHeight(t)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join(`
`),n},OffPushDown:function(t){var n=oa(t);n.scope=t.scope;var e=[],i=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Kl(it.internal.getWidth(t)/2)+" "+Kl(it.internal.getHeight(t)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),n.stream=e.join(`
`),n}},Cross:{createAppearanceStream:function(t){var n={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return n.N[t]=it.RadioButton.Cross.YesNormal,n.D[t]=it.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(t){var n=oa(t);n.scope=t.scope;var e=[],i=it.internal.calculateCross(t);return e.push("q"),e.push("1 1 "+Lt(it.internal.getWidth(t)-2)+" "+Lt(it.internal.getHeight(t)-2)+" re"),e.push("W"),e.push("n"),e.push(Lt(i.x1.x)+" "+Lt(i.x1.y)+" m"),e.push(Lt(i.x2.x)+" "+Lt(i.x2.y)+" l"),e.push(Lt(i.x4.x)+" "+Lt(i.x4.y)+" m"),e.push(Lt(i.x3.x)+" "+Lt(i.x3.y)+" l"),e.push("s"),e.push("Q"),n.stream=e.join(`
`),n},YesPushDown:function(t){var n=oa(t);n.scope=t.scope;var e=it.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Lt(it.internal.getWidth(t))+" "+Lt(it.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Lt(it.internal.getWidth(t)-2)+" "+Lt(it.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Lt(e.x1.x)+" "+Lt(e.x1.y)+" m"),i.push(Lt(e.x2.x)+" "+Lt(e.x2.y)+" l"),i.push(Lt(e.x4.x)+" "+Lt(e.x4.y)+" m"),i.push(Lt(e.x3.x)+" "+Lt(e.x3.y)+" l"),i.push("s"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(t){var n=oa(t);n.scope=t.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Lt(it.internal.getWidth(t))+" "+Lt(it.internal.getHeight(t))+" re"),e.push("f"),n.stream=e.join(`
`),n}}},createDefaultAppearanceStream:function(t){var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,e=t.scope.__private__.encodeColorString(t.color);return"/"+n+" "+t.fontSize+" Tf "+e}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var n=it.internal.getWidth(t),e=it.internal.getHeight(t),i=Math.min(n,e);return{x1:{x:(n-i)/2,y:(e-i)/2+i},x2:{x:(n-i)/2+i,y:(e-i)/2},x3:{x:(n-i)/2,y:(e-i)/2},x4:{x:(n-i)/2+i,y:(e-i)/2+i}}}},it.internal.getWidth=function(t){var n=0;return Bn(t)==="object"&&(n=ak(t.Rect[2])),n},it.internal.getHeight=function(t){var n=0;return Bn(t)==="object"&&(n=ak(t.Rect[3])),n};var BW=Ai.addField=function(t){if(VW(this,t),!(t instanceof Ts))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=t).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=rf,Ai.AcroFormListBox=of,Ai.AcroFormComboBox=sf,Ai.AcroFormEditBox=g1,Ai.AcroFormButton=hr,Ai.AcroFormPushButton=v1,Ai.AcroFormRadioButton=af,Ai.AcroFormCheckBox=y1,Ai.AcroFormTextField=mu,Ai.AcroFormPasswordField=_1,Ai.AcroFormAppearance=it,Ai.AcroForm={ChoiceField:rf,ListBox:of,ComboBox:sf,EditBox:g1,Button:hr,PushButton:v1,RadioButton:af,CheckBox:y1,TextField:mu,PasswordField:_1,Appearance:it},ot.AcroForm={ChoiceField:rf,ListBox:of,ComboBox:sf,EditBox:g1,Button:hr,PushButton:v1,RadioButton:af,CheckBox:y1,TextField:mu,PasswordField:_1,Appearance:it};var bce=ot.AcroForm;function kk(t){return t.reduce(function(n,e,i){return n[e]=i,n},{})}(function(t){var n="addImage_";t.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(N,R){var X,J,be,oe,le,ne=e;if((R=R||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(we(N))for(le in i)for(be=i[le],X=0;X<be.length;X+=1){for(oe=!0,J=0;J<be[X].length;J+=1)if(be[X][J]!==void 0&&be[X][J]!==N[J]){oe=!1;break}if(oe===!0){ne=le;break}}else for(le in i)for(be=i[le],X=0;X<be.length;X+=1){for(oe=!0,J=0;J<be[X].length;J+=1)if(be[X][J]!==void 0&&be[X][J]!==N.charCodeAt(J)){oe=!1;break}if(oe===!0){ne=le;break}}return ne===e&&R!==e&&(ne=R),ne},o=function N(R){for(var X=this.internal.write,J=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:R.width}),oe.push({key:"Height",value:R.height}),R.colorSpace===D.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===D.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var le="",ne=0,pe=R.transparency.length;ne<pe;ne++)le+=R.transparency[ne]+" "+R.transparency[ne]+" ";oe.push({key:"Mask",value:"["+le+"]"})}R.sMask!==void 0&&oe.push({key:"SMask",value:R.objectId+1+" 0 R"});var Pe=R.filter!==void 0?["/"+R.filter]:void 0;if(J({data:R.data,additionalKeyValues:oe,alreadyAppliedFilters:Pe,objectId:R.objectId}),X("endobj"),"sMask"in R&&R.sMask!==void 0){var Te,A=(Te=R.sMaskBitsPerComponent)!==null&&Te!==void 0?Te:R.bitsPerComponent,q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:R.sMask};"filter"in R&&(q.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(R.width),q.filter=R.filter),N.call(this,q)}if(R.colorSpace===D.INDEXED){var z=this.internal.newObject();J({data:te(new Uint8Array(R.palette)),objectId:z}),X("endobj")}},s=function(){var N=this.internal.collections[n+"images"];for(var R in N)o.call(this,N[R])},a=function(){var N,R=this.internal.collections[n+"images"],X=this.internal.write;for(var J in R)X("/I"+(N=R[J]).index,N.objectId,"0","R")},l=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var N=this.internal.collections[n+"images"];return l.call(this),N},f=function(){return Object.keys(this.internal.collections[n+"images"]).length},v=function(N){return typeof t["process"+N.toUpperCase()]=="function"},w=function(N){return Bn(N)==="object"&&N.nodeType===1},h=function(N,R){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var X=""+N.getAttribute("src");if(X.indexOf("data:image/")===0)return m1(unescape(X).split("base64,").pop());var J=t.loadFile(X,!0);if(J!==void 0)return J}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var be;switch(R){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return m1(N.toDataURL(be,1).split("base64,").pop())}},S=function(N){var R=this.internal.collections[n+"images"];if(R){for(var X in R)if(N===R[X].alias)return R[X]}},x=function(N,R,X){return N||R||(N=-96,R=-96),N<0&&(N=-1*X.width*72/N/this.internal.scaleFactor),R<0&&(R=-1*X.height*72/R/this.internal.scaleFactor),N===0&&(N=R*X.width/X.height),R===0&&(R=N*X.height/X.width),[N,R]},k=function(N,R,X,J,be,oe){var le=x.call(this,X,J,be),ne=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Pe=c.call(this);if(X=le[0],J=le[1],Pe[be.index]=be,oe){oe*=Math.PI/180;var Te=Math.cos(oe),A=Math.sin(oe),q=function(ie){return ie.toFixed(4)},z=[q(Te),q(A),q(-1*A),q(Te),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,ne(N),pe(R+J),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([ne(X),"0","0",ne(J),"0","0","cm"].join(" "))):this.internal.write([ne(X),"0","0",ne(J),ne(N),pe(R+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},D=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},G=t.__addimage__.sHashCode=function(N){var R,X,J=0;if(typeof N=="string")for(X=N.length,R=0;R<X;R++)J=(J<<5)-J+N.charCodeAt(R),J|=0;else if(we(N))for(X=N.byteLength/2,R=0;R<X;R++)J=(J<<5)-J+N[R],J|=0;return J},H=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var R=!0;return N.length===0&&(R=!1),N.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(R=!1),R},he=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var R=N.indexOf(",");return R<0?null:N.substring(0,R).trim().endsWith("base64")?N.substring(R+1):null};t.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var we=t.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},ge=t.__addimage__.binaryStringToUint8Array=function(N){for(var R=N.length,X=new Uint8Array(R),J=0;J<R;J++)X[J]=N.charCodeAt(J);return X},te=t.__addimage__.arrayBufferToBinaryString=function(N){for(var R="",X=we(N)?N:new Uint8Array(N),J=0;J<X.length;J+=8192)R+=String.fromCharCode.apply(null,X.subarray(J,J+8192));return R};t.addImage=function(){var N,R,X,J,be,oe,le,ne,pe;if(typeof arguments[1]=="number"?(R=e,X=arguments[1],J=arguments[2],be=arguments[3],oe=arguments[4],le=arguments[5],ne=arguments[6],pe=arguments[7]):(R=arguments[1],X=arguments[2],J=arguments[3],be=arguments[4],oe=arguments[5],le=arguments[6],ne=arguments[7],pe=arguments[8]),Bn(N=arguments[0])==="object"&&!w(N)&&"imageData"in N){var Pe=N;N=Pe.imageData,R=Pe.format||R||e,X=Pe.x||X||0,J=Pe.y||J||0,be=Pe.w||Pe.width||be,oe=Pe.h||Pe.height||oe,le=Pe.alias||le,ne=Pe.compression||ne,pe=Pe.rotation||Pe.angle||pe}var Te=this.internal.getFilters();if(ne===void 0&&Te.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(X)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var A=$.call(this,N,R,le,ne);return k.call(this,X,J,be,oe,A,pe),this};var $=function(N,R,X,J){var be,oe,le;if(typeof N=="string"&&r(N)===e){N=unescape(N);var ne=ae(N,!1);(ne!==""||(ne=t.loadFile(N,!0))!==void 0)&&(N=ne)}if(w(N)&&(N=h(N,R)),R=r(N,R),!v(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((le=X)==null||le.length===0)&&(X=function(pe){return typeof pe=="string"||we(pe)?G(pe):we(pe.data)?G(pe.data):null}(N)),(be=S.call(this,X))||(N instanceof Uint8Array||R==="RGBA"||(oe=N,N=ge(N)),be=this["process"+R.toUpperCase()](N,f.call(this),X,function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in t.image_compression?pe:Z.NONE}(J),oe)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},ae=t.__addimage__.convertBase64ToBinaryString=function(N,R){R=typeof R!="boolean"||R;var X,J="";if(typeof N=="string"){var be;X=(be=he(N))!==null&&be!==void 0?be:N;try{J=m1(X)}catch(oe){if(R)throw H(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(N){var R,X,J="";if(w(N)&&(N=h(N)),typeof N=="string"&&r(N)===e&&((J=ae(N,!1))===""&&(J=t.loadFile(N)||""),N=J),X=r(N),!v(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(N instanceof Uint8Array||(N=ge(N)),!(R=this["process"+X.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=X,R}})(ot.API),function(t){var n=function(e){if(e!==void 0&&e!="")return!0};ot.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(e){for(var i,r,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,f=!1,v=0;v<c.length&&!f;v++)switch((i=c[v]).type){case"link":(n(i.options.url)||n(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var w=0;w<c.length;w++){i=c[w];var h=this.internal.pdfEscape,S=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),D=this.internal.getEncryptor(x.objId),Z=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+h(D(i.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+h(D(Z))+") >>",x.content=o;var G=x.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+G,i.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(x.objId,"0 R",k.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var H=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(S(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var he=this.annotations._nameMap[i.options.name];i.options.pageNumber=he.page,i.options.top=he.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var we=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+we+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},t.link=function(e,i,r,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+r),h:c(i+o)},options:s,type:"link"})},t.textWithLink=function(e,i,r,o){var s,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var f=this.splitTextToSize(e,a).length;s=Math.ceil(c*f)}else a=l,s=c;return this.text(e,i,r,o),r+=.2*c,o.align==="center"&&(i-=l/2),o.align==="right"&&(i-=l),this.link(i,r-c,a,s,o),l},t.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ot.API),function(t){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(x){return n[x.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&o(x)&&n[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&r.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&o(x)&&n[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&o(x)&&n[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&o(x)&&n[x.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&o(x)&&n[x.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(x){var k=0,D=e,Z="",G=0;for(k=0;k<x.length;k+=1)D[x.charCodeAt(k)]!==void 0?(G++,typeof(D=D[x.charCodeAt(k)])=="number"&&(Z+=String.fromCharCode(D),D=e,G=0),k===x.length-1&&(D=e,Z+=x.charAt(k-(G-1)),k-=G-1,G=0)):(D=e,Z+=x.charAt(k-G),k-=G,G=0);return Z};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&i[x.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(x,k,D){return s(x)?o(x)===!1?-1:!c(x)||!s(k)&&!s(D)||!s(D)&&a(k)||a(x)&&!s(k)||a(x)&&l(k)||a(x)&&a(k)?0:f(x)&&s(k)&&!a(k)&&s(D)&&c(D)?3:a(x)||!s(D)?1:2:-1},h=function(x){var k=0,D=0,Z=0,G="",H="",he="",we=(x=x||"").split("\\s+"),ge=[];for(k=0;k<we.length;k+=1){for(ge.push(""),D=0;D<we[k].length;D+=1)G=we[k][D],H=we[k][D-1],he=we[k][D+1],s(G)?(Z=w(G,H,he),ge[k]+=Z!==-1?String.fromCharCode(n[G.charCodeAt(0)][Z]):G):ge[k]+=G;ge[k]=v(ge[k])}return ge.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var x,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,D=[];if(Array.isArray(k)){var Z=0;for(D=[],Z=0;Z<k.length;Z+=1)Array.isArray(k[Z])?D.push([h(k[Z][0]),k[Z][1],k[Z][2]]):D.push([h(k[Z])]);x=D}else x=h(k);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",S])}(ot.API),ot.API.autoPrint=function(t){var n;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},function(t){var n=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(ot.API),function(t){var n={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(x){w=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(x){S=x}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){i.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),v=c.font||this.getFont(),w=c.scaleFactor||this.internal.scaleFactor,h=0,S=0,x=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var D=c.maxWidth;D>0?typeof l=="string"?l=this.splitTextToSize(l,D):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(G,H){return G.concat(k.splitTextToSize(H,D))},[])):l=Array.isArray(l)?l:[l];for(var Z=0;Z<l.length;Z++)h<(x=this.getStringUnitWidth(l[Z],{font:v})*f)&&(h=x);return h!==0&&(S=l.length),{w:h/=w,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,v=this.internal.__cell__.margins||n,w=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=v.top,h&&w&&(this.printHeaderRow(l.lineNumber,!0),l.y+=w[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,f,v,w){if(i.call(this),!f)throw new Error("No data for PDF table.");var h,S,x,k,D=[],Z=[],G=[],H={},he={},we=[],ge=[],te=(w=w||{}).autoSize||!1,$=w.printHeaders!==!1,ae=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,N=w.margins||Object.assign({width:this.getPageWidth()},n),R=typeof w.padding=="number"?w.padding:3,X=w.headerBackgroundColor||"#c8c8c8",J=w.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=J,this.setFontSize(ae),v==null)Z=D=Object.keys(f[0]),G=D.map(function(){return"left"});else if(Array.isArray(v)&&Bn(v[0])==="object")for(D=v.map(function(Pe){return Pe.name}),Z=v.map(function(Pe){return Pe.prompt||Pe.name||""}),G=v.map(function(Pe){return Pe.align||"left"}),h=0;h<v.length;h+=1)he[v[h].name]=.7499990551181103*v[h].width;else Array.isArray(v)&&typeof v[0]=="string"&&(Z=D=v,G=D.map(function(){return"left"}));if(te||Array.isArray(v)&&typeof v[0]=="string")for(h=0;h<D.length;h+=1){for(H[k=D[h]]=f.map(function(Pe){return Pe[k]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(Z[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=H[k],this.setFont(void 0,"normal"),x=0;x<S.length;x+=1)we.push(this.getTextDimensions(S[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);he[k]=Math.max.apply(null,we)+R+R,we=[]}if($){var be={};for(h=0;h<D.length;h+=1)be[D[h]]={},be[D[h]].text=Z[h],be[D[h]].align=G[h];var oe=a.call(this,be,he);ge=D.map(function(Pe){return new o(l,c,he[Pe],oe,be[Pe].text,void 0,be[Pe].align)}),this.setTableHeaderRow(ge),this.printHeaderRow(1,!1)}var le=v.reduce(function(Pe,Te){return Pe[Te.name]=Te.align,Pe},{});for(h=0;h<f.length;h+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:h,data:f[h]},this);var ne=a.call(this,f[h],he);for(x=0;x<D.length;x+=1){var pe=f[h][D[x]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:h,col:x,data:pe},this),s.call(this,new o(l,c,he[D[x]],ne,pe,h+2,le[D[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var f=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(l).map(function(h){var S=l[h];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,c[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*v/w+f+f},this).reduce(function(h,S){return Math.max(h,S)},0)};t.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,w.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(ot.API);var Pk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ok=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],OS=kk(Ok),Fk=[100,200,300,400,500,600,700,800,900],UW=kk(Fk);function DS(t){var n=t.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return Pk[o=o||"normal"]?o:"normal"}(t.style),i=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),r=function(o){return typeof OS[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:n,style:e,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:n,style:[r,e,i].join(" ")}}}function lk(t,n,e,i){var r;for(r=e;r>=0&&r<n.length;r+=i)if(t[n[r]])return t[n[r]];for(r=e;r>=0&&r<n.length;r-=i)if(t[n[r]])return t[n[r]]}var HW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ck={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dk(t){return t.trimLeft()}function qW(t,n){for(var e=0;e<t.length;){if(t.charAt(e)===n)return[t.substring(0,e),t.substring(e+1)];e+=1}return null}function zW(t){var n=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],t.substring(n[0].length)]}var h1,fk,hk,Jd,p1,pk,mk,gk,IS=["times"];function vk(t,n,e,i,r){var o=4,s=_k;switch(r){case ot.API.image_compression.FAST:o=1,s=yk;break;case ot.API.image_compression.MEDIUM:o=6,s=bk;break;case ot.API.image_compression.SLOW:o=9,s=wk}t=function(l,c,f,v){for(var w,h=l.length/c,S=new Uint8Array(l.length+h),x=[$W,yk,_k,bk,wk],k=0;k<h;k+=1){var D=k*c,Z=l.subarray(D,D+c);if(v)S.set(v(Z,f,w),D+k);else{for(var G=x.length,H=[],he=0;he<G;he+=1)H[he]=x[he](Z,f,w);var we=GW(H.concat());S.set(H[we],D+k)}w=Z}return S}(t,n,Math.ceil(e*i/8),s);var a=qv(t,{level:o});return ot.API.__addimage__.arrayBufferToBinaryString(a)}function $W(t){var n=Array.apply([],t);return n.unshift(0),n}function yk(t,n){var e=t.length,i=[];i[0]=1;for(var r=0;r<e;r+=1){var o=t[r-n]||0;i[r+1]=t[r]-o+256&255}return i}function _k(t,n,e){var i=t.length,r=[];r[0]=2;for(var o=0;o<i;o+=1){var s=e&&e[o]||0;r[o+1]=t[o]-s+256&255}return r}function bk(t,n,e){var i=t.length,r=[];r[0]=3;for(var o=0;o<i;o+=1){var s=t[o-n]||0,a=e&&e[o]||0;r[o+1]=t[o]+256-(s+a>>>1)&255}return r}function wk(t,n,e){var i=t.length,r=[];r[0]=4;for(var o=0;o<i;o+=1){var s=WW(t[o-n]||0,e&&e[o]||0,e&&e[o-n]||0);r[o+1]=t[o]-s+256&255}return r}function WW(t,n,e){if(t===n&&n===e)return t;var i=Math.abs(n-e),r=Math.abs(t-e),o=Math.abs(t+n-e-e);return i<=r&&i<=o?t:r<=o?n:e}function GW(t){var n=t.map(function(e){return e.reduce(function(i,r){return i+Math.abs(r)},0)});return n.indexOf(Math.min.apply(null,n))}function AS(t,n,e){var i=n*e,r=Math.floor(i/8),o=16-(i-8*r+e),s=(1<<e)-1;return Rk(t,r)>>o&s}function Ck(t,n,e,i){var r=e*i,o=Math.floor(r/8),s=16-(r-8*o+i),a=(1<<i)-1,l=(n&a)<<s;(function(c,f,v){if(f+1<c.byteLength)c.setUint16(f,v,!1);else{var w=v>>8&255;c.setUint8(f,w)}})(t,o,Rk(t,o)&~(a<<s)&65535|l)}function Rk(t,n){return n+1<t.byteLength?t.getUint16(n,!1):t.getUint8(n)<<8}function YW(t){var n=0;if(t[n++]!==71||t[n++]!==73||t[n++]!==70||t[n++]!==56||(t[n++]+1&253)!=56||t[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=t[n++]|t[n++]<<8,i=t[n++]|t[n++]<<8,r=t[n++],o=r>>7,s=1<<1+(7&r);t[n++],t[n++];var a=null,l=null;o&&(a=n,l=s,n+=3*s);var c=!0,f=[],v=0,w=null,h=0,S=null;for(this.width=e,this.height=i;c&&n<t.length;)switch(t[n++]){case 33:switch(t[n++]){case 255:if(t[n]!==11||t[n+1]==78&&t[n+2]==69&&t[n+3]==84&&t[n+4]==83&&t[n+5]==67&&t[n+6]==65&&t[n+7]==80&&t[n+8]==69&&t[n+9]==50&&t[n+10]==46&&t[n+11]==48&&t[n+12]==3&&t[n+13]==1&&t[n+16]==0)n+=14,S=t[n++]|t[n++]<<8,n++;else for(n+=12;;){if(!((N=t[n++])>=0))throw Error("Invalid block size");if(N===0)break;n+=N}break;case 249:if(t[n++]!==4||t[n+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[n++];v=t[n++]|t[n++]<<8,w=t[n++],1&x||(w=null),h=x>>2&7,n++;break;case 254:for(;;){if(!((N=t[n++])>=0))throw Error("Invalid block size");if(N===0)break;n+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[n-1].toString(16))}break;case 44:var k=t[n++]|t[n++]<<8,D=t[n++]|t[n++]<<8,Z=t[n++]|t[n++]<<8,G=t[n++]|t[n++]<<8,H=t[n++],he=H>>6&1,we=1<<1+(7&H),ge=a,te=l,$=!1;H>>7&&($=!0,ge=n,te=we,n+=3*we);var ae=n;for(n++;;){var N;if(!((N=t[n++])>=0))throw Error("Invalid block size");if(N===0)break;n+=N}f.push({x:k,y:D,width:Z,height:G,has_local_palette:$,palette_offset:ge,palette_size:te,data_offset:ae,data_length:n-ae,transparent_index:w,interlaced:!!he,delay:v,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[n-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,X){var J=this.frameInfo(R),be=J.width*J.height,oe=new Uint8Array(be);Sk(t,J.data_offset,oe,be);var le=J.palette_offset,ne=J.transparent_index;ne===null&&(ne=256);var pe=J.width,Pe=e-pe,Te=pe,A=4*(J.y*e+J.x),q=4*((J.y+J.height)*e+J.x),z=A,ie=4*Pe;J.interlaced===!0&&(ie+=4*e*7);for(var ce=8,de=0,Ce=oe.length;de<Ce;++de){var _e=oe[de];if(Te===0&&(Te=pe,(z+=ie)>=q&&(ie=4*Pe+4*e*(ce-1),z=A+(pe+Pe)*(ce<<1),ce>>=1)),_e===ne)z+=4;else{var Ie=t[le+3*_e],Ve=t[le+3*_e+1],Ze=t[le+3*_e+2];X[z++]=Ze,X[z++]=Ve,X[z++]=Ie,X[z++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(R,X){var J=this.frameInfo(R),be=J.width*J.height,oe=new Uint8Array(be);Sk(t,J.data_offset,oe,be);var le=J.palette_offset,ne=J.transparent_index;ne===null&&(ne=256);var pe=J.width,Pe=e-pe,Te=pe,A=4*(J.y*e+J.x),q=4*((J.y+J.height)*e+J.x),z=A,ie=4*Pe;J.interlaced===!0&&(ie+=4*e*7);for(var ce=8,de=0,Ce=oe.length;de<Ce;++de){var _e=oe[de];if(Te===0&&(Te=pe,(z+=ie)>=q&&(ie=4*Pe+4*e*(ce-1),z=A+(pe+Pe)*(ce<<1),ce>>=1)),_e===ne)z+=4;else{var Ie=t[le+3*_e],Ve=t[le+3*_e+1],Ze=t[le+3*_e+2];X[z++]=Ie,X[z++]=Ve,X[z++]=Ze,X[z++]=255}--Te}}}function Sk(t,n,e,i){for(var r=t[n++],o=1<<r,s=o+1,a=s+1,l=r+1,c=(1<<l)-1,f=0,v=0,w=0,h=t[n++],S=new Int32Array(4096),x=null;;){for(;f<16&&h!==0;)v|=t[n++]<<f,f+=8,h===1?h=t[n++]:--h;if(f<l)break;var k=v&c;if(v>>=l,f-=l,k!==o){if(k===s)break;for(var D=k<a?k:x,Z=0,G=D;G>o;)G=S[G]>>8,++Z;var H=G;if(w+Z+(D!==k?1:0)>i)return void Xn.log("Warning, gif stream longer than expected.");e[w++]=H;var he=w+=Z;for(D!==k&&(e[w++]=H),G=D;Z--;)G=S[G],e[--he]=255&G,G>>=8;x!==null&&a<4096&&(S[a++]=x<<8|H,a>=c+1&&l<12&&(++l,c=c<<1|1)),x=k}else a=s+1,c=(1<<(l=r+1))-1,x=null}return w!==i&&Xn.log("Warning, gif stream shorter than expected."),e}function TS(t){var n,e,i,r,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),v=new Array(65535),w=new Array(65535),h=new Array(64),S=new Array(64),x=[],k=0,D=7,Z=new Array(64),G=new Array(64),H=new Array(64),he=new Array(256),we=new Array(2048),ge=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(A,q){for(var z=0,ie=0,ce=new Array,de=1;de<=16;de++){for(var Ce=1;Ce<=A[de];Ce++)ce[q[ie]]=[],ce[q[ie]][0]=z,ce[q[ie]][1]=de,ie++,z++;z*=2}return ce}function le(A){for(var q=A[0],z=A[1]-1;z>=0;)q&1<<z&&(k|=1<<D),z--,--D<0&&(k==255?(ne(255),ne(0)):ne(k),D=7,k=0)}function ne(A){x.push(A)}function pe(A){ne(A>>8&255),ne(255&A)}function Pe(A,q,z,ie,ce){for(var de,Ce=ce[0],_e=ce[240],Ie=function(He,mt){var Ye,$t,_t,Cn,jt,Vt,Vn,Wt,gt,Et,vt=0;for(gt=0;gt<8;++gt){Ye=He[vt],$t=He[vt+1],_t=He[vt+2],Cn=He[vt+3],jt=He[vt+4],Vt=He[vt+5],Vn=He[vt+6];var Jn=Ye+(Wt=He[vt+7]),Sn=Ye-Wt,dt=$t+Vn,Bt=$t-Vn,$n=_t+Vt,Ct=_t-Vt,un=Cn+jt,Ut=Cn-jt,Ti=Jn+un,Ki=Jn-un,Wn=dt+$n,At=dt-$n;He[vt]=Ti+Wn,He[vt+4]=Ti-Wn;var An=.707106781*(At+Ki);He[vt+2]=Ki+An,He[vt+6]=Ki-An;var Jl=.382683433*((Ti=Ut+Ct)-(At=Bt+Sn)),Cr=.5411961*Ti+Jl,la=1.306562965*At+Jl,ks=.707106781*(Wn=Ct+Bt),St=Sn+ks,ca=Sn-ks;He[vt+5]=ca+Cr,He[vt+3]=ca-Cr,He[vt+1]=St+la,He[vt+7]=St-la,vt+=8}for(vt=0,gt=0;gt<8;++gt){Ye=He[vt],$t=He[vt+8],_t=He[vt+16],Cn=He[vt+24],jt=He[vt+32],Vt=He[vt+40],Vn=He[vt+48];var ua=Ye+(Wt=He[vt+56]),Oo=Ye-Wt,Fo=$t+Vn,wi=$t-Vn,sr=_t+Vt,pr=_t-Vt,ec=Cn+jt,Ka=Cn-jt,os=ua+ec,Ps=ua-ec,ss=Fo+sr,as=Fo-sr;He[vt]=os+ss,He[vt+32]=os-ss;var Ro=.707106781*(as+Ps);He[vt+16]=Ps+Ro,He[vt+48]=Ps-Ro;var tc=.382683433*((os=Ka+pr)-(as=wi+Oo)),Os=.5411961*os+tc,nc=1.306562965*as+tc,yu=.707106781*(ss=pr+wi),_u=Oo+yu,bu=Oo-yu;He[vt+40]=bu+Os,He[vt+24]=bu-Os,He[vt+8]=_u+nc,He[vt+56]=_u-nc,vt++}for(gt=0;gt<64;++gt)Et=He[gt]*mt[gt],h[gt]=Et>0?Et+.5|0:Et-.5|0;return h}(A,q),Ve=0;Ve<64;++Ve)S[ge[Ve]]=Ie[Ve];var Ze=S[0]-z;z=S[0],Ze==0?le(ie[0]):(le(ie[w[de=32767+Ze]]),le(v[de]));for(var Xe=63;Xe>0&&S[Xe]==0;)Xe--;if(Xe==0)return le(Ce),z;for(var xe,Y=1;Y<=Xe;){for(var an=Y;S[Y]==0&&Y<=Xe;)++Y;var zt=Y-an;if(zt>=16){xe=zt>>4;for(var bt=1;bt<=xe;++bt)le(_e);zt&=15}de=32767+S[Y],le(ce[(zt<<4)+w[de]]),le(v[de]),Y++}return Xe!=63&&le(Ce),z}function Te(A){A=Math.min(Math.max(A,1),100),o!=A&&(function(q){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ce=s((z[ie]*q+50)/100);ce=Math.min(Math.max(ce,1),255),a[ge[ie]]=ce}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var _e=s((de[Ce]*q+50)/100);_e=Math.min(Math.max(_e,1),255),l[ge[Ce]]=_e}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Ze=0;Ze<8;Ze++)for(var Xe=0;Xe<8;Xe++)c[Ve]=1/(a[ge[Ve]]*Ie[Ze]*Ie[Xe]*8),f[Ve]=1/(l[ge[Ve]]*Ie[Ze]*Ie[Xe]*8),Ve++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),o=A)}this.encode=function(A,q){q&&Te(q),x=new Array,k=0,D=7,pe(65496),pe(65504),pe(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),pe(1),pe(1),ne(0),ne(0),function(){pe(65499),pe(132),ne(0);for(var $t=0;$t<64;$t++)ne(a[$t]);ne(1);for(var _t=0;_t<64;_t++)ne(l[_t])}(),function($t,_t){pe(65472),pe(17),ne(8),pe(_t),pe($t),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(A.width,A.height),function(){pe(65476),pe(418),ne(0);for(var $t=0;$t<16;$t++)ne(te[$t+1]);for(var _t=0;_t<=11;_t++)ne($[_t]);ne(16);for(var Cn=0;Cn<16;Cn++)ne(ae[Cn+1]);for(var jt=0;jt<=161;jt++)ne(N[jt]);ne(1);for(var Vt=0;Vt<16;Vt++)ne(R[Vt+1]);for(var Vn=0;Vn<=11;Vn++)ne(X[Vn]);ne(17);for(var Wt=0;Wt<16;Wt++)ne(J[Wt+1]);for(var gt=0;gt<=161;gt++)ne(be[gt])}(),pe(65498),pe(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var z=0,ie=0,ce=0;k=0,D=7,this.encode.displayName="_encode_";for(var de,Ce,_e,Ie,Ve,Ze,Xe,xe,Y,an=A.data,zt=A.width,bt=A.height,He=4*zt,mt=0;mt<bt;){for(de=0;de<He;){for(Ve=He*mt+de,Xe=-1,xe=0,Y=0;Y<64;Y++)Ze=Ve+(xe=Y>>3)*He+(Xe=4*(7&Y)),mt+xe>=bt&&(Ze-=He*(mt+1+xe-bt)),de+Xe>=He&&(Ze-=de+Xe-He+4),Ce=an[Ze++],_e=an[Ze++],Ie=an[Ze++],Z[Y]=(we[Ce]+we[_e+256|0]+we[Ie+512|0]>>16)-128,G[Y]=(we[Ce+768|0]+we[_e+1024|0]+we[Ie+1280|0]>>16)-128,H[Y]=(we[Ce+1280|0]+we[_e+1536|0]+we[Ie+1792|0]>>16)-128;z=Pe(Z,c,z,n,i),ie=Pe(G,f,ie,e,r),ce=Pe(H,f,ce,e,r),de+=32}mt+=8}if(D>=0){var Ye=[];Ye[1]=D+1,Ye[0]=(1<<D+1)-1,le(Ye)}return pe(65497),new Uint8Array(x)},t=t||50,function(){for(var A=String.fromCharCode,q=0;q<256;q++)he[q]=A(q)}(),n=oe(te,$),e=oe(R,X),i=oe(ae,N),r=oe(J,be),function(){for(var A=1,q=2,z=1;z<=15;z++){for(var ie=A;ie<q;ie++)w[32767+ie]=z,v[32767+ie]=[],v[32767+ie][1]=z,v[32767+ie][0]=ie;for(var ce=-(q-1);ce<=-A;ce++)w[32767+ce]=z,v[32767+ce]=[],v[32767+ce][1]=z,v[32767+ce][0]=q-1+ce;A<<=1,q<<=1}}(),function(){for(var A=0;A<256;A++)we[A]=19595*A,we[A+256|0]=38470*A,we[A+512|0]=7471*A+32768,we[A+768|0]=-11059*A,we[A+1024|0]=-21709*A,we[A+1280|0]=32768*A+8421375,we[A+1536|0]=-27439*A,we[A+1792|0]=-5329*A}(),Te(t)}function As(t,n){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xk(t){function n($){if(!$)throw Error("assert :P")}function e($,ae,N){for(var R=0;4>R;R++)if($[ae+R]!=N.charCodeAt(R))return!0;return!1}function i($,ae,N,R,X){for(var J=0;J<X;J++)$[ae+J]=N[R+J]}function r($,ae,N,R){for(var X=0;X<R;X++)$[ae+X]=N}function o($){return new Int32Array($)}function s($,ae){for(var N=[],R=0;R<$;R++)N.push(new ae);return N}function a($,ae){var N=[];return function R(X,J,be){for(var oe=be[J],le=0;le<oe&&(X.push(be.length>J+1?[]:new ae),!(be.length<J+1));le++)R(X[le],J+1,be)}(N,0,$),N}var l=function(){var $=this;function ae(u,d){for(var y=1<<d-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function N(u,d,y,b,M){n(!(b%y));do u[d+(b-=y)]=M;while(0<b)}function R(u,d,y,b,M){if(n(2328>=M),512>=M)var I=o(512);else if((I=o(M))==null)return 0;return function(T,P,F,V,re,ve){var B,se,fe=P,Ee=1<<F,me=o(16),Me=o(16);for(n(re!=0),n(V!=null),n(T!=null),n(0<F),se=0;se<re;++se){if(15<V[se])return 0;++me[V[se]]}if(me[0]==re)return 0;for(Me[1]=0,B=1;15>B;++B){if(me[B]>1<<B)return 0;Me[B+1]=Me[B]+me[B]}for(se=0;se<re;++se)B=V[se],0<V[se]&&(ve[Me[B]++]=se);if(Me[15]==1)return(V=new X).g=0,V.value=ve[0],N(T,fe,1,Ee,V),Ee;var Ae,Ue=-1,Oe=Ee-1,ft=0,tt=1,Kt=1,at=1<<F;for(se=0,B=1,re=2;B<=F;++B,re<<=1){if(tt+=Kt<<=1,0>(Kt-=me[B]))return 0;for(;0<me[B];--me[B])(V=new X).g=B,V.value=ve[se++],N(T,fe+ft,re,at,V),ft=ae(ft,B)}for(B=F+1,re=2;15>=B;++B,re<<=1){if(tt+=Kt<<=1,0>(Kt-=me[B]))return 0;for(;0<me[B];--me[B]){if(V=new X,(ft&Oe)!=Ue){for(fe+=at,Ae=1<<(Ue=B)-F;15>Ue&&!(0>=(Ae-=me[Ue]));)++Ue,Ae<<=1;Ee+=at=1<<(Ae=Ue-F),T[P+(Ue=ft&Oe)].g=Ae+F,T[P+Ue].value=fe-P-Ue}V.g=B-F,V.value=ve[se++],N(T,fe+(ft>>F),re,at,V),ft=ae(ft,B)}}return tt!=2*Me[15]-1?0:Ee}(u,d,y,b,M,I)}function X(){this.value=this.g=0}function J(){this.value=this.g=0}function be(){this.G=s(5,X),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(_c,J)}function oe(u,d,y,b){n(u!=null),n(d!=null),n(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=y,u.Jd=d,u.Yc=y+b,u.Zc=4<=b?y+b-4+1:y,Ce(u)}function le(u,d){for(var y=0;0<d--;)y|=Ie(u,128)<<d;return y}function ne(u,d){var y=le(u,d);return _e(u)?-y:y}function pe(u,d,y,b){var M,I=0;for(n(u!=null),n(d!=null),n(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),M=0;M<b;++M)I+=d[y+M]<<8*M;u.Ra=I,u.bb=b,u.oa=d,u.pa=y}function Pe(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<tl-8>>>0,++u.bb,u.u-=8;ie(u)&&(u.h=1,u.u=0)}function Te(u,d){if(n(0<=d),!u.h&&d<=co){var y=z(u)&lo[d];return u.u+=d,Pe(u),y}return u.h=1,u.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(u){return u.Ra>>>(u.u&tl-1)>>>0}function ie(u){return n(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>tl}function ce(u,d){u.u=d,u.h=ie(u)}function de(u){u.u>=va&&(n(u.u>=va),Pe(u))}function Ce(u){n(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(n(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function _e(u){return le(u,1)}function Ie(u,d){var y=u.Ca;0>u.b&&Ce(u);var b=u.b,M=y*d>>>8,I=(u.I>>>b>M)+0;for(I?(y-=M,u.I-=M+1<<b>>>0):y=M+1,b=y,M=0;256<=b;)M+=8,b>>=8;return b=7^M+nl[b],u.b-=b,u.Ca=(y<<b)-1,I}function Ve(u,d,y){u[d+0]=y>>24&255,u[d+1]=y>>16&255,u[d+2]=y>>8&255,u[d+3]=255&y}function Ze(u,d){return u[d+0]|u[d+1]<<8}function Xe(u,d){return Ze(u,d)|u[d+2]<<16}function xe(u,d){return Ze(u,d)|Ze(u,d+2)<<16}function Y(u,d){var y=1<<d;return n(u!=null),n(0<d),u.X=o(y),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function an(u,d){n(u!=null),n(d!=null),n(u.Xa==d.Xa),i(d.X,0,u.X,0,1<<d.Xa)}function zt(){this.X=[],this.Xa=this.Mb=0}function bt(u,d,y,b){n(y!=null),n(b!=null);var M=y[0],I=b[0];return M==0&&(M=(u*I+d/2)/d),I==0&&(I=(d*M+u/2)/u),0>=M||0>=I?0:(y[0]=M,b[0]=I,1)}function He(u,d){return u+(1<<d)-1>>>d}function mt(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function Ye(u,d){$[d]=function(y,b,M,I,T,P,F){var V;for(V=0;V<T;++V){var re=$[u](P[F+V-1],M,I+V);P[F+V]=mt(y[b+V],re)}}}function $t(){this.ud=this.hd=this.jd=0}function _t(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function Cn(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function jt(u,d){return Cn(u+(u-d+.5>>1))}function Vt(u,d,y){return Math.abs(d-y)-Math.abs(u-y)}function Vn(u,d,y,b,M,I,T){for(b=I[T-1],y=0;y<M;++y)I[T+y]=b=mt(u[d+y],b)}function Wt(u,d,y,b,M){var I;for(I=0;I<y;++I){var T=u[d+I],P=T>>8&255,F=16711935&(F=(F=16711935&T)+((P<<16)+P));b[M+I]=(4278255360&T)+F>>>0}}function gt(u,d){d.jd=255&u,d.hd=u>>8&255,d.ud=u>>16&255}function Et(u,d,y,b,M,I){var T;for(T=0;T<b;++T){var P=d[y+T],F=P>>>8,V=P,re=255&(re=(re=P>>>16)+((u.jd<<24>>24)*(F<<24>>24)>>>5));V=255&(V=(V+=(u.hd<<24>>24)*(F<<24>>24)>>>5)+((u.ud<<24>>24)*(re<<24>>24)>>>5)),M[I+T]=(4278255360&P)+(re<<16)+V}}function vt(u,d,y,b,M){$[d]=function(I,T,P,F,V,re,ve,B,se){for(F=ve;F<B;++F)for(ve=0;ve<se;++ve)V[re++]=M(P[b(I[T++])])},$[u]=function(I,T,P,F,V,re,ve){var B=8>>I.b,se=I.Ea,fe=I.K[0],Ee=I.w;if(8>B)for(I=(1<<I.b)-1,Ee=(1<<B)-1;T<P;++T){var me,Me=0;for(me=0;me<se;++me)me&I||(Me=b(F[V++])),re[ve++]=M(fe[Me&Ee]),Me>>=B}else $["VP8LMapColor"+y](F,V,fe,Ee,re,ve,T,P,se)}}function Jn(u,d,y,b,M){for(y=d+y;d<y;){var I=u[d++];b[M++]=I>>16&255,b[M++]=I>>8&255,b[M++]=255&I}}function Sn(u,d,y,b,M){for(y=d+y;d<y;){var I=u[d++];b[M++]=I>>16&255,b[M++]=I>>8&255,b[M++]=255&I,b[M++]=I>>24&255}}function dt(u,d,y,b,M){for(y=d+y;d<y;){var I=(T=u[d++])>>16&240|T>>12&15,T=240&T|T>>28&15;b[M++]=I,b[M++]=T}}function Bt(u,d,y,b,M){for(y=d+y;d<y;){var I=(T=u[d++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;b[M++]=I,b[M++]=T}}function $n(u,d,y,b,M){for(y=d+y;d<y;){var I=u[d++];b[M++]=255&I,b[M++]=I>>8&255,b[M++]=I>>16&255}}function Ct(u,d,y,b,M,I){if(I==0)for(y=d+y;d<y;)Ve(b,((I=u[d++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),M+=32;else i(b,M,u,d,y)}function un(u,d){$[d][0]=$[u+"0"],$[d][1]=$[u+"1"],$[d][2]=$[u+"2"],$[d][3]=$[u+"3"],$[d][4]=$[u+"4"],$[d][5]=$[u+"5"],$[d][6]=$[u+"6"],$[d][7]=$[u+"7"],$[d][8]=$[u+"8"],$[d][9]=$[u+"9"],$[d][10]=$[u+"10"],$[d][11]=$[u+"11"],$[d][12]=$[u+"12"],$[d][13]=$[u+"13"],$[d][14]=$[u+"0"],$[d][15]=$[u+"0"]}function Ut(u){return u==W1||u==G1||u==fm||u==Y1}function Ti(){this.eb=[],this.size=this.A=this.fb=0}function Ki(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ti,this.f.kb=new Ki,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function An(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jl(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Cr(u,d){var y=u.T,b=d.ba.f.RGBA,M=b.eb,I=b.fb+u.ka*b.A,T=Ho[d.ba.S],P=u.y,F=u.O,V=u.f,re=u.N,ve=u.ea,B=u.W,se=d.cc,fe=d.dc,Ee=d.Mc,me=d.Nc,Me=u.ka,Ae=u.ka+u.T,Ue=u.U,Oe=Ue+1>>1;for(Me==0?T(P,F,null,null,V,re,ve,B,V,re,ve,B,M,I,null,null,Ue):(T(d.ec,d.fc,P,F,se,fe,Ee,me,V,re,ve,B,M,I-b.A,M,I,Ue),++y);Me+2<Ae;Me+=2)se=V,fe=re,Ee=ve,me=B,re+=u.Rc,B+=u.Rc,I+=2*b.A,T(P,(F+=2*u.fa)-u.fa,P,F,se,fe,Ee,me,V,re,ve,B,M,I-b.A,M,I,Ue);return F+=u.fa,u.j+Ae<u.o?(i(d.ec,d.fc,P,F,Ue),i(d.cc,d.dc,V,re,Oe),i(d.Mc,d.Nc,ve,B,Oe),y--):1&Ae||T(P,F,null,null,V,re,ve,B,V,re,ve,B,M,I+b.A,null,null,Ue),y}function la(u,d,y){var b=u.F,M=[u.J];if(b!=null){var I=u.U,T=d.ba.S,P=T==dm||T==fm;d=d.ba.f.RGBA;var F=[0],V=u.ka;F[0]=u.T,u.Kb&&(V==0?--F[0]:(--V,M[0]-=u.width),u.j+u.ka+u.T==u.o&&(F[0]=u.o-u.j-V));var re=d.eb;V=d.fb+V*d.A,u=ZS(b,M[0],u.width,I,F,re,V+(P?0:3),d.A),n(y==F),u&&Ut(T)&&Of(re,V,P,I,F,d.A)}return 0}function ks(u){var d=u.ma,y=d.ba.S,b=11>y,M=y==cm||y==um||y==dm||y==$1||y==12||Ut(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Mf(d.Oa,u,M?11:12))return 0;if(M&&Ut(y)&&im(),u.da)alert("todo:use_scaling");else{if(b){if(d.Ib=Jl,u.Kb){if(y=u.U+1>>1,d.memory=o(u.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=Cr,im()}}else alert("todo:EmitYUV");M&&(d.Jb=la,b&&jo())}if(b&&!fx){for(u=0;256>u;++u)n4[u]=89858*(u-128)+pm>>hm,o4[u]=-22014*(u-128)+pm,r4[u]=-45773*(u-128),i4[u]=113618*(u-128)+pm>>hm;for(u=Rf;u<Q1;++u)d=76283*(u-16)+pm>>hm,s4[u-Rf]=Ci(d,255),a4[u-Rf]=Ci(d+8>>4,15);fx=1}return 1}function St(u){var d=u.ma,y=u.U,b=u.T;return n(!(1&u.ka)),0>=y||0>=b?0:(y=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,y),d.Dc+=y,1)}function ca(u){u.ma.memory=null}function ua(u,d,y,b){return Te(u,8)!=47?0:(d[0]=Te(u,14)+1,y[0]=Te(u,14)+1,b[0]=Te(u,1),Te(u,3)!=0?0:!u.h)}function Oo(u,d){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+Te(d,y)+1}function Fo(u,d){return 120<d?d-120:1<=(y=((y=HP[d-1])>>4)*u+(8-(15&y)))?y:1;var y}function wi(u,d,y){var b=z(y),M=u[d+=255&b].g-8;return 0<M&&(ce(y,y.u+8),b=z(y),d+=u[d].value,d+=b&(1<<M)-1),ce(y,y.u+u[d].g),u[d].value}function sr(u,d,y){return y.g+=u.g,y.value+=u.value<<d>>>0,n(8>=y.g),u.g}function pr(u,d,y){var b=u.xc;return n((d=b==0?0:u.vc[u.md*(y>>b)+(d>>b)])<u.Wb),u.Ya[d]}function ec(u,d,y,b){var M=u.ab,I=u.c*d,T=u.C;d=T+d;var P=y,F=b;for(b=u.Ta,y=u.Ua;0<M--;){var V=u.gc[M],re=T,ve=d,B=P,se=F,fe=(F=b,P=y,V.Ea);switch(n(re<ve),n(ve<=V.nc),V.hc){case 2:ki(B,se,(ve-re)*fe,F,P);break;case 0:var Ee=re,me=ve,Me=F,Ae=P,Ue=(at=V).Ea;Ee==0&&(If(B,se,null,null,1,Me,Ae),Vn(B,se+1,0,0,Ue-1,Me,Ae+1),se+=Ue,Ae+=Ue,++Ee);for(var Oe=1<<at.b,ft=Oe-1,tt=He(Ue,at.b),Kt=at.K,at=at.w+(Ee>>at.b)*tt;Ee<me;){var dn=Kt,Ji=at,Qt=1;for(Iu(B,se,Me,Ae-Ue,1,Me,Ae);Qt<Ue;){var lt=(Qt&~ft)+Oe;lt>Ue&&(lt=Ue),(0,Tf[dn[Ji++]>>8&15])(B,se+ +Qt,Me,Ae+Qt-Ue,lt-Qt,Me,Ae+Qt),Qt=lt}se+=Ue,Ae+=Ue,++Ee&ft||(at+=tt)}ve!=V.nc&&i(F,P-fe,F,P+(ve-re-1)*fe,fe);break;case 1:for(fe=B,me=se,Ue=(B=V.Ea)-(Ae=B&~(Me=(se=1<<V.b)-1)),Ee=He(B,V.b),Oe=V.K,V=V.w+(re>>V.b)*Ee;re<ve;){for(ft=Oe,tt=V,Kt=new $t,at=me+Ae,dn=me+B;me<at;)gt(ft[tt++],Kt),Nf(Kt,fe,me,se,F,P),me+=se,P+=se;me<dn&&(gt(ft[tt++],Kt),Nf(Kt,fe,me,Ue,F,P),me+=Ue,P+=Ue),++re&Me||(V+=Ee)}break;case 3:if(B==F&&se==P&&0<V.b){for(me=F,B=fe=P+(ve-re)*fe-(Ae=(ve-re)*He(V.Ea,V.b)),se=F,Me=P,Ee=[],Ae=(Ue=Ae)-1;0<=Ae;--Ae)Ee[Ae]=se[Me+Ae];for(Ae=Ue-1;0<=Ae;--Ae)me[B+Ae]=Ee[Ae];om(V,re,ve,F,fe,F,P)}else om(V,re,ve,B,se,F,P)}P=b,F=y}F!=y&&i(b,y,P,F,I)}function Ka(u,d){var y=u.V,b=u.Ba+u.c*u.C,M=d-u.C;if(n(d<=u.l.o),n(16>=M),0<M){var I=u.l,T=u.Ta,P=u.Ua,F=I.width;if(ec(u,M,y,b),M=P=[P],n((y=u.C)<(b=d)),n(I.v<I.va),b>I.o&&(b=I.o),y<I.j){var V=I.j-y;y=I.j,M[0]+=V*F}if(y>=b?y=0:(M[0]+=4*I.v,I.ka=y-I.j,I.U=I.va-I.v,I.T=b-y,y=1),y){if(P=P[0],11>(y=u.ca).S){var re=y.f.RGBA,ve=(b=y.S,M=I.U,I=I.T,V=re.eb,re.A),B=I;for(re=re.fb+u.Ma*re.A;0<B--;){var se=T,fe=P,Ee=M,me=V,Me=re;switch(b){case lm:kf(se,fe,Ee,me,Me);break;case cm:il(se,fe,Ee,me,Me);break;case W1:il(se,fe,Ee,me,Me),Of(me,Me,0,Ee,1,0);break;case nx:bc(se,fe,Ee,me,Me);break;case um:Ct(se,fe,Ee,me,Me,1);break;case G1:Ct(se,fe,Ee,me,Me,1),Of(me,Me,0,Ee,1,0);break;case dm:Ct(se,fe,Ee,me,Me,0);break;case fm:Ct(se,fe,Ee,me,Me,0),Of(me,Me,1,Ee,1,0);break;case $1:rl(se,fe,Ee,me,Me);break;case Y1:rl(se,fe,Ee,me,Me),YS(me,Me,Ee,1,0);break;case ix:ol(se,fe,Ee,me,Me);break;default:n(0)}P+=F,re+=ve}u.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");n(u.Ma<=y.height)}}u.C=d,n(u.C<=u.i)}function os(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var y=u.Ya[d].G,b=u.Ya[d].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ps(u,d,y,b,M,I){if(u.Z!=0){var T=u.qd,P=u.rd;for(n(ll[u.Z]!=null);d<y;++d)ll[u.Z](T,P,b,M,b,M,I),T=b,P=M,M+=I;u.qd=T,u.rd=P}}function ss(u,d){var y=u.l.ma,b=y.Z==0||y.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,n(d<=u.l.o),d>b){var M=u.l.width,I=y.ca,T=y.tb+M*b,P=u.V,F=u.Ba+u.c*b,V=u.gc;n(u.ab==1),n(V[0].hc==3),Ls(V[0],b,d,P,F,I,T),Ps(y,b,d,I,T,M)}u.C=u.Ma=d}function as(u,d,y,b,M,I,T){var P=u.$/b,F=u.$%b,V=u.m,re=u.s,ve=y+u.$,B=ve;M=y+b*M;var se=y+b*I,fe=280+re.ua,Ee=u.Pb?P:16777216,me=0<re.ua?re.Wa:null,Me=re.wc,Ae=ve<se?pr(re,F,P):null;n(u.C<I),n(se<=M);var Ue=!1;e:for(;;){for(;Ue||ve<se;){var Oe=0;if(P>=Ee){var ft=ve-y;n((Ee=u).Pb),Ee.wd=Ee.m,Ee.xd=ft,0<Ee.s.ua&&an(Ee.s.Wa,Ee.s.vb),Ee=P+zP}if(F&Me||(Ae=pr(re,F,P)),n(Ae!=null),Ae.Qb&&(d[ve]=Ae.qb,Ue=!0),!Ue)if(de(V),Ae.jc){Oe=V,ft=d;var tt=ve,Kt=Ae.pd[z(Oe)&_c-1];n(Ae.jc),256>Kt.g?(ce(Oe,Oe.u+Kt.g),ft[tt]=Kt.value,Oe=0):(ce(Oe,Oe.u+Kt.g-256),n(256<=Kt.value),Oe=Kt.value),Oe==0&&(Ue=!0)}else Oe=wi(Ae.G[0],Ae.H[0],V);if(V.h)break;if(Ue||256>Oe){if(!Ue)if(Ae.nd)d[ve]=(Ae.qb|Oe<<8)>>>0;else{if(de(V),Ue=wi(Ae.G[1],Ae.H[1],V),de(V),ft=wi(Ae.G[2],Ae.H[2],V),tt=wi(Ae.G[3],Ae.H[3],V),V.h)break;d[ve]=(tt<<24|Ue<<16|Oe<<8|ft)>>>0}if(Ue=!1,++ve,++F>=b&&(F=0,++P,T!=null&&P<=I&&!(P%16)&&T(u,P),me!=null))for(;B<ve;)Oe=d[B++],me.X[(506832829*Oe&4294967295)>>>me.Mb]=Oe}else if(280>Oe){if(Oe=Oo(Oe-256,V),ft=wi(Ae.G[4],Ae.H[4],V),de(V),ft=Fo(b,ft=Oo(ft,V)),V.h)break;if(ve-y<ft||M-ve<Oe)break e;for(tt=0;tt<Oe;++tt)d[ve+tt]=d[ve+tt-ft];for(ve+=Oe,F+=Oe;F>=b;)F-=b,++P,T!=null&&P<=I&&!(P%16)&&T(u,P);if(n(ve<=M),F&Me&&(Ae=pr(re,F,P)),me!=null)for(;B<ve;)Oe=d[B++],me.X[(506832829*Oe&4294967295)>>>me.Mb]=Oe}else{if(!(Oe<fe))break e;for(Ue=Oe-280,n(me!=null);B<ve;)Oe=d[B++],me.X[(506832829*Oe&4294967295)>>>me.Mb]=Oe;Oe=ve,n(!(Ue>>>(ft=me).Xa)),d[Oe]=ft.X[Ue],Ue=!0}Ue||n(V.h==ie(V))}if(u.Pb&&V.h&&ve<M)n(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&an(u.s.vb,u.s.Wa);else{if(V.h)break e;T?.(u,P>I?I:P),u.a=0,u.$=ve-y}return 1}return u.a=3,0}function Ro(u){n(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,n(u!=null)}function tc(){var u=new ut;return u==null?null:(u.a=0,u.xb=sx,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),ki=Wt,Nf=Et,kf=Jn,il=Sn,rl=dt,ol=Bt,bc=$n,$.VP8LMapColor32b=Rs,$.VP8LMapColor8b=Af,u)}function Os(u,d,y,b,M){var I=1,T=[u],P=[d],F=b.m,V=b.s,re=null,ve=0;e:for(;;){if(y)for(;I&&Te(F,1);){var B=T,se=P,fe=b,Ee=1,me=fe.m,Me=fe.gc[fe.ab],Ae=Te(me,2);if(fe.Oc&1<<Ae)I=0;else{switch(fe.Oc|=1<<Ae,Me.hc=Ae,Me.Ea=B[0],Me.nc=se[0],Me.K=[null],++fe.ab,n(4>=fe.ab),Ae){case 0:case 1:Me.b=Te(me,3)+2,Ee=Os(He(Me.Ea,Me.b),He(Me.nc,Me.b),0,fe,Me.K),Me.K=Me.K[0];break;case 3:var Ue,Oe=Te(me,8)+1,ft=16<Oe?0:4<Oe?1:2<Oe?2:3;if(B[0]=He(Me.Ea,ft),Me.b=ft,Ue=Ee=Os(Oe,1,0,fe,Me.K)){var tt,Kt=Oe,at=Me,dn=1<<(8>>at.b),Ji=o(dn);if(Ji==null)Ue=0;else{var Qt=at.K[0],lt=at.w;for(Ji[0]=at.K[0][0],tt=1;tt<1*Kt;++tt)Ji[tt]=mt(Qt[lt+tt],Ji[tt-1]);for(;tt<4*dn;++tt)Ji[tt]=0;at.K[0]=null,at.K[0]=Ji,Ue=1}}Ee=Ue;break;case 2:break;default:n(0)}I=Ee}}if(T=T[0],P=P[0],I&&Te(F,1)&&!(I=1<=(ve=Te(F,4))&&11>=ve)){b.a=3;break e}var We;if(We=I)t:{var Oi,Ht,gn,li=b,gr=T,Rr=P,Si=ve,xr=y,Lr=li.m,er=li.s,yn=[null],On=1,xi=0,Fn=qP[Si];n:for(;;){if(xr&&Te(Lr,1)){var vr=Te(Lr,3)+2,us=He(gr,vr),Fi=He(Rr,vr),Zr=us*Fi;if(!Os(us,Fi,0,li,yn))break n;for(yn=yn[0],er.xc=vr,Oi=0;Oi<Zr;++Oi){var Yn=yn[Oi]>>8&65535;yn[Oi]=Yn,Yn>=On&&(On=Yn+1)}}if(Lr.h)break n;for(Ht=0;5>Ht;++Ht){var tr=rx[Ht];!Ht&&0<Si&&(tr+=1<<Si),xi<tr&&(xi=tr)}var fo=s(On*Fn,X),jr=On,ho=s(jr,be);if(ho==null)var po=null;else n(65536>=jr),po=ho;var Kr=o(xi);if(po==null||Kr==null||fo==null){li.a=1;break n}var mo=fo;for(Oi=gn=0;Oi<On;++Oi){var ti=po[Oi],go=ti.G,ds=ti.H,Cc=0,ba=1,yr=0;for(Ht=0;5>Ht;++Ht){tr=rx[Ht],go[Ht]=mo,ds[Ht]=gn,!Ht&&0<Si&&(tr+=1<<Si);r:{var gm,X1=tr,vm=li,Lf=Kr,u4=mo,d4=gn,J1=0,cl=vm.m,f4=Te(cl,1);if(r(Lf,0,0,X1),f4){var h4=Te(cl,1)+1,p4=Te(cl,1),mx=Te(cl,p4==0?1:8);Lf[mx]=1,h4==2&&(Lf[mx=Te(cl,8)]=1);var ym=1}else{var gx=o(19),vx=Te(cl,4)+4;if(19<vx){vm.a=3;var _m=0;break r}for(gm=0;gm<vx;++gm)gx[UP[gm]]=Te(cl,3);var ey=void 0,jf=void 0,yx=vm,m4=gx,bm=X1,_x=Lf,ty=0,ul=yx.m,bx=8,wx=s(128,X);i:for(;R(wx,0,7,m4,19);){if(Te(ul,1)){var g4=2+2*Te(ul,3);if((ey=2+Te(ul,g4))>bm)break i}else ey=bm;for(jf=0;jf<bm&&ey--;){de(ul);var Cx=wx[0+(127&z(ul))];ce(ul,ul.u+Cx.g);var Tu=Cx.value;if(16>Tu)_x[jf++]=Tu,Tu!=0&&(bx=Tu);else{var v4=Tu==16,Sx=Tu-16,y4=VP[Sx],xx=Te(ul,jP[Sx])+y4;if(jf+xx>bm)break i;for(var _4=v4?bx:0;0<xx--;)_x[jf++]=_4}}ty=1;break i}ty||(yx.a=3),ym=ty}(ym=ym&&!cl.h)&&(J1=R(u4,d4,8,Lf,X1)),ym&&J1!=0?_m=J1:(vm.a=3,_m=0)}if(_m==0)break n;if(ba&&BP[Ht]==1&&(ba=mo[gn].g==0),Cc+=mo[gn].g,gn+=_m,3>=Ht){var Vf,ny=Kr[0];for(Vf=1;Vf<tr;++Vf)Kr[Vf]>ny&&(ny=Kr[Vf]);yr+=ny}}if(ti.nd=ba,ti.Qb=0,ba&&(ti.qb=(go[3][ds[3]+0].value<<24|go[1][ds[1]+0].value<<16|go[2][ds[2]+0].value)>>>0,Cc==0&&256>go[0][ds[0]+0].value&&(ti.Qb=1,ti.qb+=go[0][ds[0]+0].value<<8)),ti.jc=!ti.Qb&&6>yr,ti.jc){var wm,wa=ti;for(wm=0;wm<_c;++wm){var dl=wm,fl=wa.pd[dl],Cm=wa.G[0][wa.H[0]+dl];256<=Cm.value?(fl.g=Cm.g+256,fl.value=Cm.value):(fl.g=0,fl.value=0,dl>>=sr(Cm,8,fl),dl>>=sr(wa.G[1][wa.H[1]+dl],16,fl),dl>>=sr(wa.G[2][wa.H[2]+dl],0,fl),sr(wa.G[3][wa.H[3]+dl],24,fl))}}}er.vc=yn,er.Wb=On,er.Ya=po,er.yc=fo,We=1;break t}We=0}if(!(I=We)){b.a=3;break e}if(0<ve){if(V.ua=1<<ve,!Y(V.Wa,ve)){b.a=1,I=0;break e}}else V.ua=0;var iy=b,Ex=T,b4=P,ry=iy.s,oy=ry.xc;if(iy.c=Ex,iy.i=b4,ry.md=He(Ex,oy),ry.wc=oy==0?-1:(1<<oy)-1,y){b.xb=QP;break e}if((re=o(T*P))==null){b.a=1,I=0;break e}I=(I=as(b,re,0,T,P,P,null))&&!F.h;break e}return I?(M!=null?M[0]=re:(n(re==null),n(y)),b.$=0,y||Ro(V)):Ro(V),I}function nc(u,d){var y=u.c*u.i,b=y+d+16*d;return n(u.c<=d),u.V=o(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+d,1)}function yu(u,d){var y=u.C,b=d-y,M=u.V,I=u.Ba+u.c*y;for(n(d<=u.l.o);0<b;){var T=16<b?16:b,P=u.l.ma,F=u.l.width,V=F*T,re=P.ca,ve=P.tb+F*y,B=u.Ta,se=u.Ua;ec(u,T,M,I),KS(B,se,re,ve,V),Ps(P,y,y+T,re,ve,F),b-=T,M+=T*u.c,y+=T}n(y==d),u.C=u.Ma=d}function _u(){this.ub=this.yd=this.td=this.Rb=0}function bu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function I1(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ff(){this.Yb=function(){var u=[];return function d(y,b,M){for(var I=M[b],T=0;T<I&&(y.push(M.length>b+1?[]:0),!(M.length<b+1));T++)d(y[T],b+1,M)}(u,0,[3,11]),u}()}function Hp(){this.jb=o(3),this.Wc=a([4,8],ff),this.Xc=a([4,17],ff)}function qp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Lo(){this.ld=this.La=this.dd=this.tc=0}function hf(){this.Na=this.la=0}function zp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pf(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $p(){this.uc=this.M=this.Nb=0,this.wa=Array(new Lo),this.Y=0,this.ya=Array(new pf),this.aa=0,this.l=new wu}function Wp(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Gp(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new _u,this.Kc=new bu,this.ed=new qp,this.Qa=new I1,this.Ic=this.$c=this.Aa=0,this.D=new $p,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,A),this.ia=0,this.pb=s(4,zp),this.Pa=new Hp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wp),this.Hd=0,this.rb=Array(new hf),this.sb=0,this.wa=Array(new Lo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pf),this.L=this.aa=0,this.gd=a([4,2],Lo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function A1(){var u=new Gp;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ff||(Ff=da)),u}function qi(u,d,y){return u.a==0&&(u.a=d,u.sc=y,u.cb=0),0}function Yp(u,d,y){return 3<=y&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function Zp(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return qi(u,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,b=d.w,M=d.ha;if(4>M)return qi(u,7,"Truncated header.");var I=y[b+0]|y[b+1]<<8|y[b+2]<<16,T=u.Od;if(T.Rb=!(1&I),T.td=I>>1&7,T.yd=I>>4&1,T.ub=I>>5,3<T.td)return qi(u,3,"Incorrect keyframe parameters.");if(!T.yd)return qi(u,4,"Frame not displayable.");b+=3,M-=3;var P=u.Kc;if(T.Rb){if(7>M)return qi(u,7,"cannot parse picture header");if(!Yp(y,b,M))return qi(u,3,"Bad code word");P.c=16383&(y[b+4]<<8|y[b+3]),P.Td=y[b+4]>>6,P.i=16383&(y[b+6]<<8|y[b+5]),P.Ud=y[b+6]>>6,b+=7,M-=7,u.za=P.c+15>>4,u.Ub=P.i+15>>4,d.width=P.c,d.height=P.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,r((I=u.Pa).jb,0,255,I.jb.length),n((I=u.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,r(I.Zb,0,0,I.Zb.length),r(I.Lb,0,0,I.Lb)}if(T.ub>M)return qi(u,7,"bad partition length");oe(I=u.m,y,b,T.ub),b+=T.ub,M-=T.ub,T.Rb&&(P.Ld=_e(I),P.Kd=_e(I)),P=u.Qa;var F,V=u.Pa;if(n(I!=null),n(P!=null),P.Cb=_e(I),P.Cb){if(P.Bb=_e(I),_e(I)){for(P.Fb=_e(I),F=0;4>F;++F)P.Zb[F]=_e(I)?ne(I,7):0;for(F=0;4>F;++F)P.Lb[F]=_e(I)?ne(I,6):0}if(P.Bb)for(F=0;3>F;++F)V.jb[F]=_e(I)?le(I,8):255}else P.Bb=0;if(I.Ka)return qi(u,3,"cannot parse segment header");if((P=u.ed).zd=_e(I),P.Tb=le(I,6),P.wb=le(I,3),P.Pc=_e(I),P.Pc&&_e(I)){for(V=0;4>V;++V)_e(I)&&(P.vd[V]=ne(I,6));for(V=0;4>V;++V)_e(I)&&(P.od[V]=ne(I,6))}if(u.L=P.Tb==0?0:P.zd?1:2,I.Ka)return qi(u,3,"cannot parse filter header");var re=M;if(M=F=b,b=F+re,P=re,u.Xb=(1<<le(u.m,2))-1,re<3*(V=u.Xb))y=7;else{for(F+=3*V,P-=3*V,re=0;re<V;++re){var ve=y[M+0]|y[M+1]<<8|y[M+2]<<16;ve>P&&(ve=P),oe(u.Jc[+re],y,F,ve),F+=ve,P-=ve,M+=3}oe(u.Jc[+V],y,F,P),y=F<b?0:5}if(y!=0)return qi(u,y,"cannot parse partitions");for(y=le(F=u.m,7),M=_e(F)?ne(F,4):0,b=_e(F)?ne(F,4):0,P=_e(F)?ne(F,4):0,V=_e(F)?ne(F,4):0,F=_e(F)?ne(F,4):0,re=u.Qa,ve=0;4>ve;++ve){if(re.Cb){var B=re.Zb[ve];re.Fb||(B+=y)}else{if(0<ve){u.pb[ve]=u.pb[0];continue}B=y}var se=u.pb[ve];se.Sc[0]=Z1[Ci(B+M,127)],se.Sc[1]=K1[Ci(B+0,127)],se.Eb[0]=2*Z1[Ci(B+b,127)],se.Eb[1]=101581*K1[Ci(B+P,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Z1[Ci(B+V,117)],se.Qc[1]=K1[Ci(B+F,127)],se.lc=B+F}if(!T.Rb)return qi(u,4,"Not a key frame.");for(_e(I),T=u.Pa,y=0;4>y;++y){for(M=0;8>M;++M)for(b=0;3>b;++b)for(P=0;11>P;++P)V=Ie(I,ZP[y][M][b][P])?le(I,8):GP[y][M][b][P],T.Wc[y][M].Yb[b][P]=V;for(M=0;17>M;++M)T.Xc[y][M]=T.Wc[y][KP[M]]}return u.kc=_e(I),u.kc&&(u.Bd=le(I,8)),u.cb=1}function da(u,d,y,b,M,I,T){var P=d[M].Yb[y];for(y=0;16>M;++M){if(!Ie(u,P[y+0]))return M;for(;!Ie(u,P[y+1]);)if(P=d[++M].Yb[0],y=0,M==16)return 16;var F=d[M+1].Yb;if(Ie(u,P[y+2])){var V=u,re=0;if(Ie(V,(B=P)[(ve=y)+3]))if(Ie(V,B[ve+6])){for(P=0,ve=2*(re=Ie(V,B[ve+8]))+(B=Ie(V,B[ve+9+re])),re=0,B=$P[ve];B[P];++P)re+=re+Ie(V,B[P]);re+=3+(8<<ve)}else Ie(V,B[ve+7])?(re=7+2*Ie(V,165),re+=Ie(V,145)):re=5+Ie(V,159);else re=Ie(V,B[ve+4])?3+Ie(V,B[ve+5]):2;P=F[2]}else re=1,P=F[1];F=T+WP[M],0>(V=u).b&&Ce(V);var ve,B=V.b,se=(ve=V.Ca>>1)-(V.I>>B)>>31;--V.b,V.Ca+=se,V.Ca|=1,V.I-=(ve+1&se)<<B,I[F]=((re^se)-se)*b[(0<M)+0]}return 16}function ic(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,r(u.zc,0,0,u.zc.length),u.ja=0}function ls(u,d,y,b,M){M=u[d+y+32*b]+(M>>3),u[d+y+32*b]=-256&M?0>M?0:255:M}function rc(u,d,y,b,M,I){ls(u,d,0,y,b+M),ls(u,d,1,y,b+I),ls(u,d,2,y,b-I),ls(u,d,3,y,b-M)}function Ni(u){return(20091*u>>16)+u}function mf(u,d,y,b){var M,I=0,T=o(16);for(M=0;4>M;++M){var P=u[d+0]+u[d+8],F=u[d+0]-u[d+8],V=(35468*u[d+4]>>16)-Ni(u[d+12]),re=Ni(u[d+4])+(35468*u[d+12]>>16);T[I+0]=P+re,T[I+1]=F+V,T[I+2]=F-V,T[I+3]=P-re,I+=4,d++}for(M=I=0;4>M;++M)P=(u=T[I+0]+4)+T[I+8],F=u-T[I+8],V=(35468*T[I+4]>>16)-Ni(T[I+12]),ls(y,b,0,0,P+(re=Ni(T[I+4])+(35468*T[I+12]>>16))),ls(y,b,1,0,F+V),ls(y,b,2,0,F-V),ls(y,b,3,0,P-re),I++,b+=32}function T1(u,d,y,b){var M=u[d+0]+4,I=35468*u[d+4]>>16,T=Ni(u[d+4]),P=35468*u[d+1]>>16;rc(y,b,0,M+T,u=Ni(u[d+1]),P),rc(y,b,1,M+I,u,P),rc(y,b,2,M-I,u,P),rc(y,b,3,M-T,u,P)}function N1(u,d,y,b,M){mf(u,d,y,b),M&&mf(u,d+16,y,b+4)}function k1(u,d,y,b){wc(u,d+0,y,b,1),wc(u,d+32,y,b+128,1)}function Fs(u,d,y,b){var M;for(u=u[d+0]+4,M=0;4>M;++M)for(d=0;4>d;++d)ls(y,b,d,M,u)}function Kp(u,d,y,b){u[d+0]&&Tn(u,d+0,y,b),u[d+16]&&Tn(u,d+16,y,b+4),u[d+32]&&Tn(u,d+32,y,b+128),u[d+48]&&Tn(u,d+48,y,b+128+4)}function Qp(u,d,y,b){var M,I=o(16);for(M=0;4>M;++M){var T=u[d+0+M]+u[d+12+M],P=u[d+4+M]+u[d+8+M],F=u[d+4+M]-u[d+8+M],V=u[d+0+M]-u[d+12+M];I[0+M]=T+P,I[8+M]=T-P,I[4+M]=V+F,I[12+M]=V-F}for(M=0;4>M;++M)T=(u=I[0+4*M]+3)+I[3+4*M],P=I[1+4*M]+I[2+4*M],F=I[1+4*M]-I[2+4*M],V=u-I[3+4*M],y[b+0]=T+P>>3,y[b+16]=V+F>>3,y[b+32]=T-P>>3,y[b+48]=V-F>>3,b+=64}function Qa(u,d,y){var b,M=d-32,I=uo,T=255-u[M-1];for(b=0;b<y;++b){var P,F=I,V=T+u[d-1];for(P=0;P<y;++P)u[d+P]=F[V+u[M+P]];d+=32}}function gf(u,d){Qa(u,d,4)}function P1(u,d){Qa(u,d,8)}function O1(u,d){Qa(u,d,16)}function F1(u,d){var y;for(y=0;16>y;++y)i(u,d+32*y,u,d-32,16)}function vf(u,d){var y;for(y=16;0<y;--y)r(u,d,u[d-1],16),d+=32}function oc(u,d,y){var b;for(b=0;16>b;++b)r(d,y+32*b,u,16)}function Xa(u,d){var y,b=16;for(y=0;16>y;++y)b+=u[d-1+32*y]+u[d+y-32];oc(b>>5,u,d)}function R1(u,d){var y,b=8;for(y=0;16>y;++y)b+=u[d-1+32*y];oc(b>>4,u,d)}function sc(u,d){var y,b=8;for(y=0;16>y;++y)b+=u[d+y-32];oc(b>>4,u,d)}function yf(u,d){oc(128,u,d)}function Tt(u,d,y){return u+2*d+y+2>>2}function L1(u,d){var y,b=d-32;for(b=new Uint8Array([Tt(u[b-1],u[b+0],u[b+1]),Tt(u[b+0],u[b+1],u[b+2]),Tt(u[b+1],u[b+2],u[b+3]),Tt(u[b+2],u[b+3],u[b+4])]),y=0;4>y;++y)i(u,d+32*y,b,0,b.length)}function j1(u,d){var y=u[d-1],b=u[d-1+32],M=u[d-1+64],I=u[d-1+96];Ve(u,d+0,16843009*Tt(u[d-1-32],y,b)),Ve(u,d+32,16843009*Tt(y,b,M)),Ve(u,d+64,16843009*Tt(b,M,I)),Ve(u,d+96,16843009*Tt(M,I,I))}function V1(u,d){var y,b=4;for(y=0;4>y;++y)b+=u[d+y-32]+u[d-1+32*y];for(b>>=3,y=0;4>y;++y)r(u,d+32*y,b,4)}function B1(u,d){var y=u[d-1+0],b=u[d-1+32],M=u[d-1+64],I=u[d-1-32],T=u[d+0-32],P=u[d+1-32],F=u[d+2-32],V=u[d+3-32];u[d+0+96]=Tt(b,M,u[d-1+96]),u[d+1+96]=u[d+0+64]=Tt(y,b,M),u[d+2+96]=u[d+1+64]=u[d+0+32]=Tt(I,y,b),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=Tt(T,I,y),u[d+3+64]=u[d+2+32]=u[d+1+0]=Tt(P,T,I),u[d+3+32]=u[d+2+0]=Tt(F,P,T),u[d+3+0]=Tt(V,F,P)}function fa(u,d){var y=u[d+1-32],b=u[d+2-32],M=u[d+3-32],I=u[d+4-32],T=u[d+5-32],P=u[d+6-32],F=u[d+7-32];u[d+0+0]=Tt(u[d+0-32],y,b),u[d+1+0]=u[d+0+32]=Tt(y,b,M),u[d+2+0]=u[d+1+32]=u[d+0+64]=Tt(b,M,I),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=Tt(M,I,T),u[d+3+32]=u[d+2+64]=u[d+1+96]=Tt(I,T,P),u[d+3+64]=u[d+2+96]=Tt(T,P,F),u[d+3+96]=Tt(P,F,F)}function ha(u,d){var y=u[d-1+0],b=u[d-1+32],M=u[d-1+64],I=u[d-1-32],T=u[d+0-32],P=u[d+1-32],F=u[d+2-32],V=u[d+3-32];u[d+0+0]=u[d+1+64]=I+T+1>>1,u[d+1+0]=u[d+2+64]=T+P+1>>1,u[d+2+0]=u[d+3+64]=P+F+1>>1,u[d+3+0]=F+V+1>>1,u[d+0+96]=Tt(M,b,y),u[d+0+64]=Tt(b,y,I),u[d+0+32]=u[d+1+96]=Tt(y,I,T),u[d+1+32]=u[d+2+96]=Tt(I,T,P),u[d+2+32]=u[d+3+96]=Tt(T,P,F),u[d+3+32]=Tt(P,F,V)}function U1(u,d){var y=u[d+0-32],b=u[d+1-32],M=u[d+2-32],I=u[d+3-32],T=u[d+4-32],P=u[d+5-32],F=u[d+6-32],V=u[d+7-32];u[d+0+0]=y+b+1>>1,u[d+1+0]=u[d+0+64]=b+M+1>>1,u[d+2+0]=u[d+1+64]=M+I+1>>1,u[d+3+0]=u[d+2+64]=I+T+1>>1,u[d+0+32]=Tt(y,b,M),u[d+1+32]=u[d+0+96]=Tt(b,M,I),u[d+2+32]=u[d+1+96]=Tt(M,I,T),u[d+3+32]=u[d+2+96]=Tt(I,T,P),u[d+3+64]=Tt(T,P,F),u[d+3+96]=Tt(P,F,V)}function H1(u,d){var y=u[d-1+0],b=u[d-1+32],M=u[d-1+64],I=u[d-1+96];u[d+0+0]=y+b+1>>1,u[d+2+0]=u[d+0+32]=b+M+1>>1,u[d+2+32]=u[d+0+64]=M+I+1>>1,u[d+1+0]=Tt(y,b,M),u[d+3+0]=u[d+1+32]=Tt(b,M,I),u[d+3+32]=u[d+1+64]=Tt(M,I,I),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=I}function Cu(u,d){var y=u[d-1+0],b=u[d-1+32],M=u[d-1+64],I=u[d-1+96],T=u[d-1-32],P=u[d+0-32],F=u[d+1-32],V=u[d+2-32];u[d+0+0]=u[d+2+32]=y+T+1>>1,u[d+0+32]=u[d+2+64]=b+y+1>>1,u[d+0+64]=u[d+2+96]=M+b+1>>1,u[d+0+96]=I+M+1>>1,u[d+3+0]=Tt(P,F,V),u[d+2+0]=Tt(T,P,F),u[d+1+0]=u[d+3+32]=Tt(y,T,P),u[d+1+32]=u[d+3+64]=Tt(b,y,T),u[d+1+64]=u[d+3+96]=Tt(M,b,y),u[d+1+96]=Tt(I,M,b)}function _f(u,d){var y;for(y=0;8>y;++y)i(u,d+32*y,u,d-32,8)}function ac(u,d){var y;for(y=0;8>y;++y)r(u,d,u[d-1],8),d+=32}function Su(u,d,y){var b;for(b=0;8>b;++b)r(d,y+32*b,u,8)}function xu(u,d){var y,b=8;for(y=0;8>y;++y)b+=u[d+y-32]+u[d-1+32*y];Su(b>>4,u,d)}function q1(u,d){var y,b=4;for(y=0;8>y;++y)b+=u[d+y-32];Su(b>>3,u,d)}function bf(u,d){var y,b=4;for(y=0;8>y;++y)b+=u[d-1+32*y];Su(b>>3,u,d)}function wf(u,d){Su(128,u,d)}function lc(u,d,y){var b=u[d-y],M=u[d+0],I=3*(M-b)+z1[1020+u[d-2*y]-u[d+y]],T=am[112+(I+4>>3)];u[d-y]=uo[255+b+am[112+(I+3>>3)]],u[d+0]=uo[255+M-T]}function cc(u,d,y,b){var M=u[d+0],I=u[d+y];return Uo[255+u[d-2*y]-u[d-y]]>b||Uo[255+I-M]>b}function Cf(u,d,y,b){return 4*Uo[255+u[d-y]-u[d+0]]+Uo[255+u[d-2*y]-u[d+y]]<=b}function Eu(u,d,y,b,M){var I=u[d-3*y],T=u[d-2*y],P=u[d-y],F=u[d+0],V=u[d+y],re=u[d+2*y],ve=u[d+3*y];return 4*Uo[255+P-F]+Uo[255+T-V]>b?0:Uo[255+u[d-4*y]-I]<=M&&Uo[255+I-T]<=M&&Uo[255+T-P]<=M&&Uo[255+ve-re]<=M&&Uo[255+re-V]<=M&&Uo[255+V-F]<=M}function Sf(u,d,y,b){var M=2*b+1;for(b=0;16>b;++b)Cf(u,d+b,y,M)&&lc(u,d+b,y)}function uc(u,d,y,b){var M=2*b+1;for(b=0;16>b;++b)Cf(u,d+b*y,1,M)&&lc(u,d+b*y,1)}function Xp(u,d,y,b){var M;for(M=3;0<M;--M)Sf(u,d+=4*y,y,b)}function Jp(u,d,y,b){var M;for(M=3;0<M;--M)uc(u,d+=4,y,b)}function pa(u,d,y,b,M,I,T,P){for(I=2*I+1;0<M--;){if(Eu(u,d,y,I,T))if(cc(u,d,y,P))lc(u,d,y);else{var F=u,V=d,re=y,ve=F[V-2*re],B=F[V-re],se=F[V+0],fe=F[V+re],Ee=F[V+2*re],me=27*(Ae=z1[1020+3*(se-B)+z1[1020+ve-fe]])+63>>7,Me=18*Ae+63>>7,Ae=9*Ae+63>>7;F[V-3*re]=uo[255+F[V-3*re]+Ae],F[V-2*re]=uo[255+ve+Me],F[V-re]=uo[255+B+me],F[V+0]=uo[255+se-me],F[V+re]=uo[255+fe-Me],F[V+2*re]=uo[255+Ee-Ae]}d+=b}}function ma(u,d,y,b,M,I,T,P){for(I=2*I+1;0<M--;){if(Eu(u,d,y,I,T))if(cc(u,d,y,P))lc(u,d,y);else{var F=u,V=d,re=y,ve=F[V-re],B=F[V+0],se=F[V+re],fe=am[112+(4+(Ee=3*(B-ve))>>3)],Ee=am[112+(Ee+3>>3)],me=fe+1>>1;F[V-2*re]=uo[255+F[V-2*re]+me],F[V-re]=uo[255+ve+Ee],F[V+0]=uo[255+B-fe],F[V+re]=uo[255+se-me]}d+=b}}function em(u,d,y,b,M,I){pa(u,d,y,1,16,b,M,I)}function tm(u,d,y,b,M,I){pa(u,d,1,y,16,b,M,I)}function dc(u,d,y,b,M,I){var T;for(T=3;0<T;--T)ma(u,d+=4*y,y,1,16,b,M,I)}function nm(u,d,y,b,M,I){var T;for(T=3;0<T;--T)ma(u,d+=4,1,y,16,b,M,I)}function m(u,d,y,b,M,I,T,P){pa(u,d,M,1,8,I,T,P),pa(y,b,M,1,8,I,T,P)}function E(u,d,y,b,M,I,T,P){pa(u,d,1,M,8,I,T,P),pa(y,b,1,M,8,I,T,P)}function U(u,d,y,b,M,I,T,P){ma(u,d+4*M,M,1,8,I,T,P),ma(y,b+4*M,M,1,8,I,T,P)}function ee(u,d,y,b,M,I,T,P){ma(u,d+4,1,M,8,I,T,P),ma(y,b+4,1,M,8,I,T,P)}function ue(){this.ba=new Wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new An,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function De(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new zt,this.vb=new zt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new X}function ut(){this.xb=this.a=0,this.l=new wu,this.ca=new Wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=s(4,Fe),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(u,d,y,b,M,I,T){for(u=u==null?0:u[d+0],d=0;d<T;++d)M[I+d]=u+y[b+d]&255,u=M[I+d]}function xn(u,d,y,b,M,I,T){var P;if(u==null)Nt(null,null,y,b,M,I,T);else for(P=0;P<T;++P)M[I+P]=u[d+P]+y[b+P]&255}function vi(u,d,y,b,M,I,T){if(u==null)Nt(null,null,y,b,M,I,T);else{var P,F=u[d+0],V=F,re=F;for(P=0;P<T;++P)V=re+(F=u[d+P])-V,re=y[b+P]+(-256&V?0>V?0:255:V)&255,V=F,M[I+P]=re}}function zi(u,d,y,b){var M=d.width,I=d.o;if(n(u!=null&&d!=null),0>y||0>=b||y+b>I)return null;if(!u.Cc){if(u.ga==null){var T;if(u.ga=new It,(T=u.ga==null)||(T=d.width*d.o,n(u.Gb.length==0),u.Gb=o(T),u.Uc=0,u.Gb==null?T=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,T=1),T=!T),!T){T=u.ga;var P=u.Fa,F=u.P,V=u.qc,re=u.mb,ve=u.nb,B=F+1,se=V-1,fe=T.l;if(n(P!=null&&re!=null&&d!=null),ll[0]=null,ll[1]=Nt,ll[2]=xn,ll[3]=vi,T.ca=re,T.tb=ve,T.c=d.width,T.i=d.height,n(0<T.c&&0<T.i),1>=V)d=0;else if(T.$a=3&P[F+0],T.Z=P[F+0]>>2&3,T.Lc=P[F+0]>>4&3,F=P[F+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||F)d=0;else if(fe.put=St,fe.ac=ks,fe.bc=ca,fe.ma=T,fe.width=d.width,fe.height=d.height,fe.Da=d.Da,fe.v=d.v,fe.va=d.va,fe.j=d.j,fe.o=d.o,T.$a)e:{n(T.$a==1),d=tc();t:for(;;){if(d==null){d=0;break e}if(n(T!=null),T.mc=d,d.c=T.c,d.i=T.i,d.l=T.l,d.l.ma=T,d.l.width=T.c,d.l.height=T.i,d.a=0,pe(d.m,P,B,se),!Os(T.c,T.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&os(d.s)?(T.ic=1,P=d.c*d.i,d.Ta=null,d.Ua=0,d.V=o(P),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(T.ic=0,d=nc(d,T.c)),!d))break t;d=1;break e}T.mc=null,d=0}else d=se>=T.c*T.i;T=!d}if(T)return null;u.ga.Lc!=1?u.Ga=0:b=I-y}n(u.ga!=null),n(y+b<=I);e:{if(d=(P=u.ga).c,I=P.l.o,P.$a==0){if(B=u.rc,se=u.Vc,fe=u.Fa,F=u.P+1+y*d,V=u.mb,re=u.nb+y*d,n(F<=u.P+u.qc),P.Z!=0)for(n(ll[P.Z]!=null),T=0;T<b;++T)ll[P.Z](B,se,fe,F,V,re,d),B=V,se=re,re+=d,F+=d;else for(T=0;T<b;++T)i(V,re,fe,F,d),B=V,se=re,re+=d,F+=d;u.rc=B,u.Vc=se}else{if(n(P.mc!=null),d=y+b,n((T=P.mc)!=null),n(d<=T.i),T.C>=d)d=1;else if(P.ic||jo(),P.ic){P=T.V,B=T.Ba,se=T.c;var Ee=T.i,me=(fe=1,F=T.$/se,V=T.$%se,re=T.m,ve=T.s,T.$),Me=se*Ee,Ae=se*d,Ue=ve.wc,Oe=me<Ae?pr(ve,V,F):null;n(me<=Me),n(d<=Ee),n(os(ve));t:for(;;){for(;!re.h&&me<Ae;){if(V&Ue||(Oe=pr(ve,V,F)),n(Oe!=null),de(re),256>(Ee=wi(Oe.G[0],Oe.H[0],re)))P[B+me]=Ee,++me,++V>=se&&(V=0,++F<=d&&!(F%16)&&ss(T,F));else{if(!(280>Ee)){fe=0;break t}Ee=Oo(Ee-256,re);var ft,tt=wi(Oe.G[4],Oe.H[4],re);if(de(re),!(me>=(tt=Fo(se,tt=Oo(tt,re)))&&Me-me>=Ee)){fe=0;break t}for(ft=0;ft<Ee;++ft)P[B+me+ft]=P[B+me+ft-tt];for(me+=Ee,V+=Ee;V>=se;)V-=se,++F<=d&&!(F%16)&&ss(T,F);me<Ae&&V&Ue&&(Oe=pr(ve,V,F))}n(re.h==ie(re))}ss(T,F>d?d:F);break t}!fe||re.h&&me<Me?(fe=0,T.a=re.h?5:3):T.$=me,d=fe}else d=as(T,T.V,T.Ba,T.c,T.i,d,yu);if(!d){b=0;break e}}y+b>=I&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*M}function ei(u,d,y,b,M,I){for(;0<M--;){var T,P=u,F=d+(y?1:0),V=u,re=d+(y?0:3);for(T=0;T<b;++T){var ve=V[re+4*T];ve!=255&&(ve*=32897,P[F+4*T+0]=P[F+4*T+0]*ve>>23,P[F+4*T+1]=P[F+4*T+1]*ve>>23,P[F+4*T+2]=P[F+4*T+2]*ve>>23)}d+=I}}function Qi(u,d,y,b,M){for(;0<b--;){var I;for(I=0;I<y;++I){var T=u[d+2*I+0],P=15&(V=u[d+2*I+1]),F=4369*P,V=(240&V|V>>4)*F>>16;u[d+2*I+0]=(240&T|T>>4)*F>>16&240|(15&T|T<<4)*F>>16>>4&15,u[d+2*I+1]=240&V|P}d+=M}}function $i(u,d,y,b,M,I,T,P){var F,V,re=255;for(V=0;V<M;++V){for(F=0;F<b;++F){var ve=u[d+F];I[T+4*F]=ve,re&=ve}d+=y,T+=P}return re!=255}function mr(u,d,y,b,M){var I;for(I=0;I<M;++I)y[b+I]=u[d+I]>>8}function jo(){Of=ei,YS=Qi,ZS=$i,KS=mr}function Yr(u,d,y){$[u]=function(b,M,I,T,P,F,V,re,ve,B,se,fe,Ee,me,Me,Ae,Ue){var Oe,ft=Ue-1>>1,tt=P[F+0]|V[re+0]<<16,Kt=ve[B+0]|se[fe+0]<<16;n(b!=null);var at=3*tt+Kt+131074>>2;for(d(b[M+0],255&at,at>>16,Ee,me),I!=null&&(at=3*Kt+tt+131074>>2,d(I[T+0],255&at,at>>16,Me,Ae)),Oe=1;Oe<=ft;++Oe){var dn=P[F+Oe]|V[re+Oe]<<16,Ji=ve[B+Oe]|se[fe+Oe]<<16,Qt=tt+dn+Kt+Ji+524296,lt=Qt+2*(dn+Kt)>>3;at=lt+tt>>1,tt=(Qt=Qt+2*(tt+Ji)>>3)+dn>>1,d(b[M+2*Oe-1],255&at,at>>16,Ee,me+(2*Oe-1)*y),d(b[M+2*Oe-0],255&tt,tt>>16,Ee,me+(2*Oe-0)*y),I!=null&&(at=Qt+Kt>>1,tt=lt+Ji>>1,d(I[T+2*Oe-1],255&at,at>>16,Me,Ae+(2*Oe-1)*y),d(I[T+2*Oe+0],255&tt,tt>>16,Me,Ae+(2*Oe+0)*y)),tt=dn,Kt=Ji}1&Ue||(at=3*tt+Kt+131074>>2,d(b[M+Ue-1],255&at,at>>16,Ee,me+(Ue-1)*y),I!=null&&(at=3*Kt+tt+131074>>2,d(I[T+Ue-1],255&at,at>>16,Me,Ae+(Ue-1)*y)))}}function im(){Ho[lm]=XP,Ho[cm]=ax,Ho[nx]=JP,Ho[um]=lx,Ho[dm]=cx,Ho[$1]=ux,Ho[ix]=e4,Ho[W1]=ax,Ho[G1]=lx,Ho[fm]=cx,Ho[Y1]=ux}function Mu(u){return u&~t4?0>u?0:255:u>>dx}function fc(u,d){return Mu((19077*u>>8)+(26149*d>>8)-14234)}function Ja(u,d,y){return Mu((19077*u>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function hc(u,d){return Mu((19077*u>>8)+(33050*d>>8)-17685)}function pc(u,d,y,b,M){b[M+0]=fc(u,y),b[M+1]=Ja(u,d,y),b[M+2]=hc(u,d)}function mc(u,d,y,b,M){b[M+0]=hc(u,d),b[M+1]=Ja(u,d,y),b[M+2]=fc(u,y)}function Sr(u,d,y,b,M){var I=Ja(u,d,y);d=I<<3&224|hc(u,d)>>3,b[M+0]=248&fc(u,y)|I>>5,b[M+1]=d}function gc(u,d,y,b,M){var I=240&hc(u,d)|15;b[M+0]=240&fc(u,y)|Ja(u,d,y)>>4,b[M+1]=I}function vc(u,d,y,b,M){b[M+0]=255,pc(u,d,y,b,M+1)}function xf(u,d,y,b,M){mc(u,d,y,b,M),b[M+3]=255}function Ef(u,d,y,b,M){pc(u,d,y,b,M),b[M+3]=255}function Ci(u,d){return 0>u?0:u>d?d:u}function ga(u,d,y){$[u]=function(b,M,I,T,P,F,V,re,ve){for(var B=re+(-2&ve)*y;re!=B;)d(b[M+0],I[T+0],P[F+0],V,re),d(b[M+1],I[T+0],P[F+0],V,re+y),M+=2,++T,++F,re+=2*y;1&ve&&d(b[M+0],I[T+0],P[F+0],V,re)}}function Du(u,d,y){return y==0?u==0?d==0?6:5:d==0?4:0:y}function rm(u,d,y,b,M){switch(u>>>30){case 3:wc(d,y,b,M,0);break;case 2:Bo(d,y,b,M);break;case 1:Tn(d,y,b,M)}}function Vo(u,d){var y,b,M=d.M,I=d.Nb,T=u.oc,P=u.pc+40,F=u.oc,V=u.pc+584,re=u.oc,ve=u.pc+600;for(y=0;16>y;++y)T[P+32*y-1]=129;for(y=0;8>y;++y)F[V+32*y-1]=129,re[ve+32*y-1]=129;for(0<M?T[P-1-32]=F[V-1-32]=re[ve-1-32]=129:(r(T,P-32-1,127,21),r(F,V-32-1,127,9),r(re,ve-32-1,127,9)),b=0;b<u.za;++b){var B=d.ya[d.aa+b];if(0<b){for(y=-1;16>y;++y)i(T,P+32*y-4,T,P+32*y+12,4);for(y=-1;8>y;++y)i(F,V+32*y-4,F,V+32*y+4,4),i(re,ve+32*y-4,re,ve+32*y+4,4)}var se=u.Gd,fe=u.Hd+b,Ee=B.ad,me=B.Hc;if(0<M&&(i(T,P-32,se[fe].y,0,16),i(F,V-32,se[fe].f,0,8),i(re,ve-32,se[fe].ea,0,8)),B.Za){var Me=T,Ae=P-32+16;for(0<M&&(b>=u.za-1?r(Me,Ae,se[fe].y[15],4):i(Me,Ae,se[fe+1].y,0,4)),y=0;4>y;y++)Me[Ae+128+y]=Me[Ae+256+y]=Me[Ae+384+y]=Me[Ae+0+y];for(y=0;16>y;++y,me<<=2)Me=T,Ae=P+hx[y],cs[B.Ob[y]](Me,Ae),rm(me,Ee,16*+y,Me,Ae)}else if(Me=Du(b,M,B.Ob[0]),al[Me](T,P),me!=0)for(y=0;16>y;++y,me<<=2)rm(me,Ee,16*+y,T,P+hx[y]);for(y=B.Gc,Me=Du(b,M,B.Dd),_a[Me](F,V),_a[Me](re,ve),me=Ee,Me=F,Ae=V,255&(B=0|y)&&(170&B?js(me,256,Me,Ae):Gn(me,256,Me,Ae)),B=re,me=ve,255&(y>>=8)&&(170&y?js(Ee,320,B,me):Gn(Ee,320,B,me)),M<u.Ub-1&&(i(se[fe].y,0,T,P+480,16),i(se[fe].f,0,F,V+224,8),i(se[fe].ea,0,re,ve+224,8)),y=8*I*u.B,se=u.sa,fe=u.ta+16*b+16*I*u.R,Ee=u.qa,B=u.ra+8*b+y,me=u.Ha,Me=u.Ia+8*b+y,y=0;16>y;++y)i(se,fe+y*u.R,T,P+32*y,16);for(y=0;8>y;++y)i(Ee,B+y*u.B,F,V+32*y,8),i(me,Me+y*u.B,re,ve+32*y,8)}}function yc(u,d,y,b,M,I,T,P,F){var V=[0],re=[0],ve=0,B=F!=null?F.kd:0,se=F??new De;if(u==null||12>y)return 7;se.data=u,se.w=d,se.ha=y,d=[d],y=[y],se.gb=[se.gb];e:{var fe=d,Ee=y,me=se.gb;if(n(u!=null),n(Ee!=null),n(me!=null),me[0]=0,12<=Ee[0]&&!e(u,fe[0],"RIFF")){if(e(u,fe[0]+8,"WEBP")){me=3;break e}var Me=xe(u,fe[0]+4);if(12>Me||4294967286<Me){me=3;break e}if(B&&Me>Ee[0]-8){me=7;break e}me[0]=Me,fe[0]+=12,Ee[0]-=12}me=0}if(me!=0)return me;for(Me=0<se.gb[0],y=y[0];;){e:{var Ae=u;Ee=d,me=y;var Ue=V,Oe=re,ft=fe=[0];if((at=ve=[ve])[0]=0,8>me[0])me=7;else{if(!e(Ae,Ee[0],"VP8X")){if(xe(Ae,Ee[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var tt=xe(Ae,Ee[0]+8),Kt=1+Xe(Ae,Ee[0]+12);if(2147483648<=Kt*(Ae=1+Xe(Ae,Ee[0]+15))){me=3;break e}ft!=null&&(ft[0]=tt),Ue!=null&&(Ue[0]=Kt),Oe!=null&&(Oe[0]=Ae),Ee[0]+=18,me[0]-=18,at[0]=1}me=0}}if(ve=ve[0],fe=fe[0],me!=0)return me;if(Ee=!!(2&fe),!Me&&ve)return 3;if(I!=null&&(I[0]=!!(16&fe)),T!=null&&(T[0]=Ee),P!=null&&(P[0]=0),T=V[0],fe=re[0],ve&&Ee&&F==null){me=0;break}if(4>y){me=7;break}if(Me&&ve||!Me&&!ve&&!e(u,d[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{tt=u,me=d,Me=y;var at=se.gb;Ue=se.na,Oe=se.P,ft=se.Sa,Kt=22,n(tt!=null),n(Me!=null),Ae=me[0];var dn=Me[0];for(n(Ue!=null),n(ft!=null),Ue[0]=null,Oe[0]=null,ft[0]=0;;){if(me[0]=Ae,Me[0]=dn,8>dn){me=7;break e}var Ji=xe(tt,Ae+4);if(4294967286<Ji){me=3;break e}var Qt=8+Ji+1&-2;if(Kt+=Qt,0<at&&Kt>at){me=3;break e}if(!e(tt,Ae,"VP8 ")||!e(tt,Ae,"VP8L")){me=0;break e}if(dn[0]<Qt){me=7;break e}e(tt,Ae,"ALPH")||(Ue[0]=tt,Oe[0]=Ae+8,ft[0]=Ji),Ae+=Qt,dn-=Qt}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],me!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(at=u,me=d,Me=y,Ue=se.gb[0],Oe=se.Ja,ft=se.xa,tt=me[0],Ae=!e(at,tt,"VP8 "),Kt=!e(at,tt,"VP8L"),n(at!=null),n(Me!=null),n(Oe!=null),n(ft!=null),8>Me[0])me=7;else{if(Ae||Kt){if(at=xe(at,tt+4),12<=Ue&&at>Ue-12){me=3;break e}if(B&&at>Me[0]-8){me=7;break e}Oe[0]=at,me[0]+=8,Me[0]-=8,ft[0]=Kt}else ft[0]=5<=Me[0]&&at[tt+0]==47&&!(at[tt+4]>>5),Oe[0]=Me[0];me=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],d=d[0],me!=0)break;if(4294967286<se.Ja)return 3;if(P==null||Ee||(P[0]=se.xa?2:1),T=[T],fe=[fe],se.xa){if(5>y){me=7;break}P=T,B=fe,Ee=I,u==null||5>y?u=0:5<=y&&u[d+0]==47&&!(u[d+4]>>5)?(Me=[0],at=[0],Ue=[0],pe(Oe=new q,u,d,y),ua(Oe,Me,at,Ue)?(P!=null&&(P[0]=Me[0]),B!=null&&(B[0]=at[0]),Ee!=null&&(Ee[0]=Ue[0]),u=1):u=0):u=0}else{if(10>y){me=7;break}P=fe,u==null||10>y||!Yp(u,d+3,y-3)?u=0:(B=u[d+0]|u[d+1]<<8|u[d+2]<<16,Ee=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&B||3<(B>>1&7)||!(B>>4&1)||B>>5>=se.Ja||!Ee||!u?u=0:(T&&(T[0]=Ee),P&&(P[0]=u),u=1))}if(!u||(T=T[0],fe=fe[0],ve&&(V[0]!=T||re[0]!=fe)))return 3;F!=null&&(F[0]=se,F.offset=d-F.w,n(4294967286>d-F.w),n(F.offset==F.ha-y));break}return me==0||me==7&&ve&&F==null?(I!=null&&(I[0]|=se.na!=null&&0<se.na.length),b!=null&&(b[0]=T),M!=null&&(M[0]=fe),0):me}function Mf(u,d,y){var b=d.width,M=d.height,I=0,T=0,P=b,F=M;if(d.Da=u!=null&&0<u.Da,d.Da&&(P=u.cd,F=u.bd,I=u.v,T=u.j,11>y||(I&=-2,T&=-2),0>I||0>T||0>=P||0>=F||I+P>b||T+F>M))return 0;if(d.v=I,d.j=T,d.va=I+P,d.o=T+F,d.U=P,d.T=F,d.da=u!=null&&0<u.da,d.da){if(!bt(P,F,y=[u.ib],I=[u.hb]))return 0;d.ib=y[0],d.hb=I[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*M/4,d.Kb=0),1}function Df(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function el(u,d,y,b){if(b==null||0>=u||0>=d)return 2;if(y!=null){if(y.Da){var M=y.cd,I=y.bd,T=-2&y.v,P=-2&y.j;if(0>T||0>P||0>=M||0>=I||T+M>u||P+I>d)return 2;u=M,d=I}if(y.da){if(!bt(u,d,M=[y.ib],I=[y.hb]))return 2;u=M[0],d=I[0]}}b.width=u,b.height=d;e:{var F=b.width,V=b.height;if(u=b.S,0>=F||0>=V||!(u>=lm&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){T=I=M=d=0;var re=(P=F*px[u])*V;if(11>u||(I=(V+1)/2*(d=(F+1)/2),u==12&&(T=(M=F)*V)),(V=o(re+2*I+T))==null){u=1;break e}b.sd=V,11>u?((F=b.f.RGBA).eb=V,F.fb=0,F.A=P,F.size=re):((F=b.f.kb).y=V,F.O=0,F.fa=P,F.Fd=re,F.f=V,F.N=0+re,F.Ab=d,F.Cd=I,F.ea=V,F.W=0+re+I,F.Db=d,F.Ed=I,u==12&&(F.F=V,F.J=0+re+2*I),F.Tc=T,F.lb=M)}if(d=1,M=b.S,I=b.width,T=b.height,M>=lm&&13>M)if(11>M)u=b.f.RGBA,d&=(P=Math.abs(u.A))*(T-1)+I<=u.size,d&=P>=I*px[M],d&=u.eb!=null;else{u=b.f.kb,P=(I+1)/2,re=(T+1)/2,F=Math.abs(u.fa),V=Math.abs(u.Ab);var ve=Math.abs(u.Db),B=Math.abs(u.lb),se=B*(T-1)+I;d&=F*(T-1)+I<=u.Fd,d&=V*(re-1)+P<=u.Cd,d=(d&=ve*(re-1)+P<=u.Ed)&F>=I&V>=P&ve>=P,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,M==12&&(d&=B>=I,d&=se<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||y!=null&&y.fd&&(u=Df(b)),u}var _c=64,lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],co=24,tl=32,va=8,nl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(u){return u},$.Predictor2=function(u,d,y){return d[y+0]},$.Predictor3=function(u,d,y){return d[y+1]},$.Predictor4=function(u,d,y){return d[y-1]},$.Predictor5=function(u,d,y){return _t(_t(u,d[y+1]),d[y+0])},$.Predictor6=function(u,d,y){return _t(u,d[y-1])},$.Predictor7=function(u,d,y){return _t(u,d[y+0])},$.Predictor8=function(u,d,y){return _t(d[y-1],d[y+0])},$.Predictor9=function(u,d,y){return _t(d[y+0],d[y+1])},$.Predictor10=function(u,d,y){return _t(_t(u,d[y-1]),_t(d[y+0],d[y+1]))},$.Predictor11=function(u,d,y){var b=d[y+0];return 0>=Vt(b>>24&255,u>>24&255,(d=d[y-1])>>24&255)+Vt(b>>16&255,u>>16&255,d>>16&255)+Vt(b>>8&255,u>>8&255,d>>8&255)+Vt(255&b,255&u,255&d)?b:u},$.Predictor12=function(u,d,y){var b=d[y+0];return(Cn((u>>24&255)+(b>>24&255)-((d=d[y-1])>>24&255))<<24|Cn((u>>16&255)+(b>>16&255)-(d>>16&255))<<16|Cn((u>>8&255)+(b>>8&255)-(d>>8&255))<<8|Cn((255&u)+(255&b)-(255&d)))>>>0},$.Predictor13=function(u,d,y){var b=d[y-1];return(jt((u=_t(u,d[y+0]))>>24&255,b>>24&255)<<24|jt(u>>16&255,b>>16&255)<<16|jt(u>>8&255,b>>8&255)<<8|jt(255&u,255&b))>>>0};var If=$.PredictorAdd0;$.PredictorAdd1=Vn,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Iu=$.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var ki,om=$.ColorIndexInverseTransform,Rs=$.MapARGB,Ls=$.VP8LColorIndexInverseTransformAlpha,Af=$.MapAlpha,Tf=$.VP8LPredictorsAdd=[];Tf.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var Nf,kf,il,rl,ol,bc,sl,wc,Bo,js,Tn,Gn,Pi,Xi,ya,Pf,Au,sm,HS,qS,zS,$S,WS,GS,Of,YS,ZS,KS,QS=o(511),XS=o(2041),JS=o(225),ex=o(767),tx=0,z1=XS,am=JS,uo=ex,Uo=QS,lm=0,cm=1,nx=2,um=3,dm=4,$1=5,ix=6,W1=7,G1=8,fm=9,Y1=10,jP=[2,3,7],VP=[3,3,11],rx=[280,256,256,256,40],BP=[0,1,1,1,0],UP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],HP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zP=8,Z1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],K1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ff=null,$P=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ox=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],YP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ZP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],KP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],al=[],cs=[],_a=[],QP=1,sx=2,ll=[],Ho=[];Yr("UpsampleRgbLinePair",pc,3),Yr("UpsampleBgrLinePair",mc,3),Yr("UpsampleRgbaLinePair",Ef,4),Yr("UpsampleBgraLinePair",xf,4),Yr("UpsampleArgbLinePair",vc,4),Yr("UpsampleRgba4444LinePair",gc,2),Yr("UpsampleRgb565LinePair",Sr,2);var XP=$.UpsampleRgbLinePair,JP=$.UpsampleBgrLinePair,ax=$.UpsampleRgbaLinePair,lx=$.UpsampleBgraLinePair,cx=$.UpsampleArgbLinePair,ux=$.UpsampleRgba4444LinePair,e4=$.UpsampleRgb565LinePair,hm=16,pm=1<<hm-1,Rf=-227,Q1=482,dx=6,t4=(256<<dx)-1,fx=0,n4=o(256),i4=o(256),r4=o(256),o4=o(256),s4=o(Q1-Rf),a4=o(Q1-Rf);ga("YuvToRgbRow",pc,3),ga("YuvToBgrRow",mc,3),ga("YuvToRgbaRow",Ef,4),ga("YuvToBgraRow",xf,4),ga("YuvToArgbRow",vc,4),ga("YuvToRgba4444Row",gc,2),ga("YuvToRgb565Row",Sr,2);var hx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mm=[0,2,8],l4=[8,7,6,4,4,2,2,2,1,1,1,1],c4=1;this.WebPDecodeRGBA=function(u,d,y,b,M){var I=cm,T=new ue,P=new Wn;T.ba=P,P.S=I,P.width=[P.width],P.height=[P.height];var F=P.width,V=P.height,re=new At;if(re==null||u==null)var ve=2;else n(re!=null),ve=yc(u,d,y,re.width,re.height,re.Pd,re.Qd,re.format,null);if(ve!=0?F=0:(F!=null&&(F[0]=re.width[0]),V!=null&&(V[0]=re.height[0]),F=1),F){P.width=P.width[0],P.height=P.height[0],b!=null&&(b[0]=P.width),M!=null&&(M[0]=P.height);e:{if(b=new wu,(M=new De).data=u,M.w=d,M.ha=y,M.kd=1,d=[0],n(M!=null),((u=yc(M.data,M.w,M.ha,null,null,null,d,null,M))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(n(T!=null),b.data=M.data,b.w=M.w+M.offset,b.ha=M.ha-M.offset,b.put=St,b.ac=ks,b.bc=ca,b.ma=T,M.xa){if((u=tc())==null){T=1;break e}if(function(B,se){var fe=[0],Ee=[0],me=[0];t:for(;;){if(B==null)return 0;if(se==null)return B.a=2,0;if(B.l=se,B.a=0,pe(B.m,se.data,se.w,se.ha),!ua(B.m,fe,Ee,me)){B.a=3;break t}if(B.xb=sx,se.width=fe[0],se.height=Ee[0],!Os(fe[0],Ee[0],1,B,null))break t;return 1}return n(B.a!=0),0}(u,b)){if(b=(d=el(b.width,b.height,T.Oa,T.ba))==0){t:{b=u;n:for(;;){if(b==null){b=0;break t}if(n(b.s.yc!=null),n(b.s.Ya!=null),n(0<b.s.Wb),n((y=b.l)!=null),n((M=y.ma)!=null),b.xb!=0){if(b.ca=M.ba,b.tb=M.tb,n(b.ca!=null),!Mf(M.Oa,y,um)){b.a=2;break n}if(!nc(b,y.width)||y.da)break n;if((y.da||Ut(b.ca.S))&&jo(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&jo()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!Y(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!as(b,b.V,b.Ba,b.c,b.i,y.o,Ka))break n;M.Dc=b.Ma,b=1;break t}n(b.a!=0),b=0}b=!b}b&&(d=u.a)}else d=u.a}else{if((u=new A1)==null){T=1;break e}if(u.Fa=M.na,u.P=M.P,u.qc=M.Sa,Zp(u,b)){if((d=el(b.width,b.height,T.Oa,T.ba))==0){if(u.Aa=0,y=T.Oa,n((M=u)!=null),y!=null){if(0<(F=0>(F=y.Md)?0:100<F?255:255*F/100)){for(V=re=0;4>V;++V)12>(ve=M.pb[V]).lc&&(ve.ia=F*l4[0>ve.lc?0:ve.lc]>>3),re|=ve.ia;re&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=y.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(B,se){if(B==null)return 0;if(se==null)return qi(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!Zp(B,se))return 0;if(n(B.cb),se.ac==null||se.ac(se)){se.ob&&(B.L=0);var fe=mm[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=se.v-fe>>4,B.zb=se.j-fe>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=se.o+15+fe>>4,B.Hb=se.va+15+fe>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var Ee=B.ed;for(fe=0;4>fe;++fe){var me;if(B.Qa.Cb){var Me=B.Qa.Lb[fe];B.Qa.Fb||(Me+=Ee.Tb)}else Me=Ee.Tb;for(me=0;1>=me;++me){var Ae=B.gd[fe][me],Ue=Me;if(Ee.Pc&&(Ue+=Ee.vd[0],me&&(Ue+=Ee.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var Oe=Ue;0<Ee.wb&&(Oe=4<Ee.wb?Oe>>2:Oe>>1)>9-Ee.wb&&(Oe=9-Ee.wb),1>Oe&&(Oe=1),Ae.dd=Oe,Ae.tc=2*Ue+Oe,Ae.ld=40<=Ue?2:15<=Ue?1:0}else Ae.tc=0;Ae.La=me}}}fe=0}else qi(B,6,"Frame setup failed"),fe=B.a;if(fe=fe==0){if(fe){B.$c=0,0<B.Aa||(B.Ic=c4);t:{fe=B.Ic,Ee=4*(Oe=B.za);var ft=32*Oe,tt=Oe+1,Kt=0<B.L?Oe*(0<B.Aa?2:1):0,at=(B.Aa==2?2:1)*Oe;if((Ae=Ee+832+(me=3*(16*fe+mm[B.L])/2*ft)+(Me=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=Ae)fe=0;else{if(Ae>B.Vb){if(B.Vb=0,B.Ec=o(Ae),B.Fc=0,B.Ec==null){fe=qi(B,1,"no memory during frame initialization.");break t}B.Vb=Ae}Ae=B.Ec,Ue=B.Fc,B.Ac=Ae,B.Bc=Ue,Ue+=Ee,B.Gd=s(ft,Wp),B.Hd=0,B.rb=s(tt+1,hf),B.sb=1,B.wa=Kt?s(Kt,Lo):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=Oe),n(!0),B.oc=Ae,B.pc=Ue,Ue+=832,B.ya=s(at,pf),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=Oe),B.R=16*Oe,B.B=8*Oe,Oe=(ft=mm[B.L])*B.R,ft=ft/2*B.B,B.sa=Ae,B.ta=Ue+Oe,B.qa=B.sa,B.ra=B.ta+16*fe*B.R+ft,B.Ha=B.qa,B.Ia=B.ra+8*fe*B.B+ft,B.$c=0,Ue+=me,B.mb=Me?Ae:null,B.nb=Me?Ue:null,n(Ue+Me<=B.Fc+B.Vb),ic(B),r(B.Ac,B.Bc,0,Ee),fe=1}}if(fe){if(se.ka=0,se.y=B.sa,se.O=B.ta,se.f=B.qa,se.N=B.ra,se.ea=B.Ha,se.Vd=B.Ia,se.fa=B.R,se.Rc=B.B,se.F=null,se.J=0,!tx){for(fe=-255;255>=fe;++fe)QS[255+fe]=0>fe?-fe:fe;for(fe=-1020;1020>=fe;++fe)XS[1020+fe]=-128>fe?-128:127<fe?127:fe;for(fe=-112;112>=fe;++fe)JS[112+fe]=-16>fe?-16:15<fe?15:fe;for(fe=-255;510>=fe;++fe)ex[255+fe]=0>fe?0:255<fe?255:fe;tx=1}sl=Qp,wc=N1,js=k1,Tn=Fs,Gn=Kp,Bo=T1,Pi=em,Xi=tm,ya=m,Pf=E,Au=dc,sm=nm,HS=U,qS=ee,zS=Sf,$S=uc,WS=Xp,GS=Jp,cs[0]=V1,cs[1]=gf,cs[2]=L1,cs[3]=j1,cs[4]=B1,cs[5]=ha,cs[6]=fa,cs[7]=U1,cs[8]=Cu,cs[9]=H1,al[0]=Xa,al[1]=O1,al[2]=F1,al[3]=vf,al[4]=R1,al[5]=sc,al[6]=yf,_a[0]=xu,_a[1]=P1,_a[2]=_f,_a[3]=ac,_a[4]=bf,_a[5]=q1,_a[6]=wf,fe=1}else fe=0}fe&&(fe=function(dn,Ji){for(dn.M=0;dn.M<dn.Va;++dn.M){var Qt,lt=dn.Jc[dn.M&dn.Xb],We=dn.m,Oi=dn;for(Qt=0;Qt<Oi.za;++Qt){var Ht=We,gn=Oi,li=gn.Ac,gr=gn.Bc+4*Qt,Rr=gn.zc,Si=gn.ya[gn.aa+Qt];if(gn.Qa.Bb?Si.$b=Ie(Ht,gn.Pa.jb[0])?2+Ie(Ht,gn.Pa.jb[2]):Ie(Ht,gn.Pa.jb[1]):Si.$b=0,gn.kc&&(Si.Ad=Ie(Ht,gn.Bd)),Si.Za=!Ie(Ht,145)+0,Si.Za){var xr=Si.Ob,Lr=0;for(gn=0;4>gn;++gn){var er,yn=Rr[0+gn];for(er=0;4>er;++er){yn=YP[li[gr+er]][yn];for(var On=ox[Ie(Ht,yn[0])];0<On;)On=ox[2*On+Ie(Ht,yn[On])];yn=-On,li[gr+er]=yn}i(xr,Lr,li,gr,4),Lr+=4,Rr[0+gn]=yn}}else yn=Ie(Ht,156)?Ie(Ht,128)?1:3:Ie(Ht,163)?2:0,Si.Ob[0]=yn,r(li,gr,yn,4),r(Rr,0,yn,4);Si.Dd=Ie(Ht,142)?Ie(Ht,114)?Ie(Ht,183)?1:3:2:0}if(Oi.m.Ka)return qi(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(Oi=lt,Ht=(We=dn).rb[We.sb-1],li=We.rb[We.sb+We.ja],Qt=We.ya[We.aa+We.ja],gr=We.kc?Qt.Ad:0)Ht.la=li.la=0,Qt.Za||(Ht.Na=li.Na=0),Qt.Hc=0,Qt.Gc=0,Qt.ia=0;else{var xi,Fn;if(Ht=li,li=Oi,gr=We.Pa.Xc,Rr=We.ya[We.aa+We.ja],Si=We.pb[Rr.$b],gn=Rr.ad,xr=0,Lr=We.rb[We.sb-1],yn=er=0,r(gn,xr,0,384),Rr.Za)var vr=0,us=gr[3];else{On=o(16);var Fi=Ht.Na+Lr.Na;if(Fi=Ff(li,gr[1],Fi,Si.Eb,0,On,0),Ht.Na=Lr.Na=(0<Fi)+0,1<Fi)sl(On,0,gn,xr);else{var Zr=On[0]+3>>3;for(On=0;256>On;On+=16)gn[xr+On]=Zr}vr=1,us=gr[0]}var Yn=15&Ht.la,tr=15&Lr.la;for(On=0;4>On;++On){var fo=1&tr;for(Zr=Fn=0;4>Zr;++Zr)Yn=Yn>>1|(fo=(Fi=Ff(li,us,Fi=fo+(1&Yn),Si.Sc,vr,gn,xr))>vr)<<7,Fn=Fn<<2|(3<Fi?3:1<Fi?2:gn[xr+0]!=0),xr+=16;Yn>>=4,tr=tr>>1|fo<<7,er=(er<<8|Fn)>>>0}for(us=Yn,vr=tr>>4,xi=0;4>xi;xi+=2){for(Fn=0,Yn=Ht.la>>4+xi,tr=Lr.la>>4+xi,On=0;2>On;++On){for(fo=1&tr,Zr=0;2>Zr;++Zr)Fi=fo+(1&Yn),Yn=Yn>>1|(fo=0<(Fi=Ff(li,gr[2],Fi,Si.Qc,0,gn,xr)))<<3,Fn=Fn<<2|(3<Fi?3:1<Fi?2:gn[xr+0]!=0),xr+=16;Yn>>=2,tr=tr>>1|fo<<5}yn|=Fn<<4*xi,us|=Yn<<4<<xi,vr|=(240&tr)<<xi}Ht.la=us,Lr.la=vr,Rr.Hc=er,Rr.Gc=yn,Rr.ia=43690&yn?0:Si.ia,gr=!(er|yn)}if(0<We.L&&(We.wa[We.Y+We.ja]=We.gd[Qt.$b][Qt.Za],We.wa[We.Y+We.ja].La|=!gr),Oi.Ka)return qi(dn,7,"Premature end-of-file encountered.")}if(ic(dn),We=Ji,Oi=1,Qt=(lt=dn).D,Ht=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Qt.M=lt.M,Qt.uc=Ht,Vo(lt,Qt),Oi=1,Qt=(Fn=lt.D).Nb,Ht=(yn=mm[lt.L])*lt.R,li=yn/2*lt.B,On=16*Qt*lt.R,Zr=8*Qt*lt.B,gr=lt.sa,Rr=lt.ta-Ht+On,Si=lt.qa,gn=lt.ra-li+Zr,xr=lt.Ha,Lr=lt.Ia-li+Zr,tr=(Yn=Fn.M)==0,er=Yn>=lt.Va-1,lt.Aa==2&&Vo(lt,Fn),Fn.uc)for(fo=(Fi=lt).D.M,n(Fi.D.uc),Fn=Fi.yb;Fn<Fi.Hb;++Fn){vr=Fn,us=fo;var jr=(ho=(yr=Fi).D).Nb;xi=yr.R;var ho=ho.wa[ho.Y+vr],po=yr.sa,Kr=yr.ta+16*jr*xi+16*vr,mo=ho.dd,ti=ho.tc;if(ti!=0)if(n(3<=ti),yr.L==1)0<vr&&$S(po,Kr,xi,ti+4),ho.La&&GS(po,Kr,xi,ti),0<us&&zS(po,Kr,xi,ti+4),ho.La&&WS(po,Kr,xi,ti);else{var go=yr.B,ds=yr.qa,Cc=yr.ra+8*jr*go+8*vr,ba=yr.Ha,yr=yr.Ia+8*jr*go+8*vr;jr=ho.ld,0<vr&&(Xi(po,Kr,xi,ti+4,mo,jr),Pf(ds,Cc,ba,yr,go,ti+4,mo,jr)),ho.La&&(sm(po,Kr,xi,ti,mo,jr),qS(ds,Cc,ba,yr,go,ti,mo,jr)),0<us&&(Pi(po,Kr,xi,ti+4,mo,jr),ya(ds,Cc,ba,yr,go,ti+4,mo,jr)),ho.La&&(Au(po,Kr,xi,ti,mo,jr),HS(ds,Cc,ba,yr,go,ti,mo,jr))}}if(lt.ia&&alert("todo:DitherRow"),We.put!=null){if(Fn=16*Yn,Yn=16*(Yn+1),tr?(We.y=lt.sa,We.O=lt.ta+On,We.f=lt.qa,We.N=lt.ra+Zr,We.ea=lt.Ha,We.W=lt.Ia+Zr):(Fn-=yn,We.y=gr,We.O=Rr,We.f=Si,We.N=gn,We.ea=xr,We.W=Lr),er||(Yn-=yn),Yn>We.o&&(Yn=We.o),We.F=null,We.J=null,lt.Fa!=null&&0<lt.Fa.length&&Fn<Yn&&(We.J=zi(lt,We,Fn,Yn-Fn),We.F=lt.mb,We.F==null&&We.F.length==0)){Oi=qi(lt,3,"Could not decode alpha data.");break t}Fn<We.j&&(yn=We.j-Fn,Fn=We.j,n(!(1&yn)),We.O+=lt.R*yn,We.N+=lt.B*(yn>>1),We.W+=lt.B*(yn>>1),We.F!=null&&(We.J+=We.width*yn)),Fn<Yn&&(We.O+=We.v,We.N+=We.v>>1,We.W+=We.v>>1,We.F!=null&&(We.J+=We.v),We.ka=Fn-We.j,We.U=We.va-We.v,We.T=Yn-Fn,Oi=We.put(We))}Qt+1!=lt.Ic||er||(i(lt.sa,lt.ta-Ht,gr,Rr+16*lt.R,Ht),i(lt.qa,lt.ra-li,Si,gn+8*lt.B,li),i(lt.Ha,lt.Ia-li,xr,Lr+8*lt.B,li))}if(!Oi)return qi(dn,6,"Output aborted.")}return 1}(B,se)),se.bc!=null&&se.bc(se),fe&=1}return fe?(B.cb=0,fe):0})(u,b)||(d=u.a)}}else d=u.a}d==0&&T.Oa!=null&&T.Oa.fd&&(d=Df(T.ba))}T=d}I=T!=0?null:11>I?P.f.RGBA.eb:P.f.kb.y}else I=null;return I};var px=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c($,ae){for(var N="",R=0;R<4;R++)N+=String.fromCharCode($[ae++]);return N}function f($,ae){return $[ae+0]|$[ae+1]<<8}function v($,ae){return($[ae+0]|$[ae+1]<<8|$[ae+2]<<16)>>>0}function w($,ae){return($[ae+0]|$[ae+1]<<8|$[ae+2]<<16|$[ae+3]<<24)>>>0}new l;var h=[0],S=[0],x=[],k=new l,D=t,Z=function($,ae){var N={},R=0,X=!1,J=0,be=0;if(N.frames=[],!function(A,q){for(var z=0;z<4;z++)if(A[q+z]!="RIFF".charCodeAt(z))return!0;return!1}($,ae)){for(w($,ae+=4),ae+=8;ae<$.length;){var oe=c($,ae),le=w($,ae+=4);ae+=4;var ne=le+(1&le);switch(oe){case"VP8 ":case"VP8L":N.frames[R]===void 0&&(N.frames[R]={}),(Te=N.frames[R]).src_off=X?be:ae-8,Te.src_size=J+le+8,R++,X&&(X=!1,J=0,be=0);break;case"VP8X":(Te=N.header={}).feature_flags=$[ae];var pe=ae+4;Te.canvas_width=1+v($,pe),pe+=3,Te.canvas_height=1+v($,pe),pe+=3;break;case"ALPH":X=!0,J=ne+8,be=ae-8;break;case"ANIM":(Te=N.header).bgcolor=w($,ae),pe=ae+4,Te.loop_count=f($,pe),pe+=2;break;case"ANMF":var Pe,Te;(Te=N.frames[R]={}).offset_x=2*v($,ae),ae+=3,Te.offset_y=2*v($,ae),ae+=3,Te.width=1+v($,ae),ae+=3,Te.height=1+v($,ae),ae+=3,Te.duration=v($,ae),ae+=3,Pe=$[ae++],Te.dispose=1&Pe,Te.blend=Pe>>1&1}oe!="ANMF"&&(ae+=ne)}return N}}(D,0);Z.response=D,Z.rgbaoutput=!0,Z.dataurl=!1;var G=Z.header?Z.header:null,H=Z.frames?Z.frames:null;if(G){G.loop_counter=G.loop_count,h=[G.canvas_height],S=[G.canvas_width];for(var he=0;he<H.length&&H[he].blend!=0;he++);}var we=H[0],ge=k.WebPDecodeRGBA(D,we.src_off,we.src_size,S,h);we.rgba=ge,we.imgwidth=S[0],we.imgheight=h[0];for(var te=0;te<S[0]*h[0]*4;te++)x[te]=ge[te];return this.width=S,this.height=h,this.data=x,this}(function(t){var n,e,i,r,o,s,a,l,c,f=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new s,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new s,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),n=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var v=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=A;Object.defineProperty(this,"pdf",{get:function(){return q}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(xe){z=!!xe}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(xe){ie=!!xe}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(xe){isNaN(xe)||(ce=xe)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(xe){isNaN(xe)||(de=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var Y;typeof xe=="number"?Y=[xe,xe,xe,xe]:((Y=new Array(4))[0]=xe[0],Y[1]=xe.length>=2?xe[1]:Y[0],Y[2]=xe.length>=3?xe[2]:Y[0],Y[3]=xe.length>=4?xe[3]:Y[1]),c.margin=Y}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(xe){Ce=xe}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(xe){_e=xe}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(xe){Ie=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof f&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(xe){Ve=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var Y;Y=w(xe),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var Y=w(xe);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Ze=null,Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(xe){Ze=null,Xe=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var Y;if(this.ctx.font=xe,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var an=Y[1];Y[2];var zt=Y[3],bt=Y[4];Y[5];var He=Y[6],mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(mt==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:mt==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var Ye=function(Et){var vt,Jn,Sn=[],dt=Et.trim();if(dt==="")return IS;if(dt in ck)return[ck[dt]];for(;dt!=="";){switch(Jn=null,vt=(dt=dk(dt)).charAt(0)){case'"':case"'":Jn=qW(dt.substring(1),vt);break;default:Jn=zW(dt)}if(Jn===null||(Sn.push(Jn[0]),(dt=dk(Jn[1]))!==""&&dt.charAt(0)!==","))return IS;dt=dt.replace(/^,/,"")}return Sn}(He);if(this.fontFaces){var $t=function(Et,vt){if(Ze===null){var Jn=function(Sn){var dt=[];return Object.keys(Sn).forEach(function(Bt){Sn[Bt].forEach(function($n){var Ct=null;switch($n){case"bold":Ct={family:Bt,weight:"bold"};break;case"italic":Ct={family:Bt,style:"italic"};break;case"bolditalic":Ct={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:Bt}}Ct!==null&&(Ct.ref={name:Bt,style:$n},dt.push(Ct))})}),dt}(Et.getFontList());Ze=function(Sn){for(var dt={},Bt=0;Bt<Sn.length;++Bt){var $n=DS(Sn[Bt]),Ct=$n.family,un=$n.stretch,Ut=$n.style,Ti=$n.weight;dt[Ct]=dt[Ct]||{},dt[Ct][un]=dt[Ct][un]||{},dt[Ct][un][Ut]=dt[Ct][un][Ut]||{},dt[Ct][un][Ut][Ti]=$n}return dt}(Jn.concat(vt))}return Ze}(this.pdf,this.fontFaces),_t=Ye.map(function(Et){return{family:Et,stretch:"normal",weight:zt,style:an}}),Cn=function(Et,vt,Jn){for(var Sn=(Jn=Jn||{}).defaultFontFamily||"times",dt=Object.assign({},HW,Jn.genericFontFamilies||{}),Bt=null,$n=null,Ct=0;Ct<vt.length;++Ct)if(dt[(Bt=DS(vt[Ct])).family]&&(Bt.family=dt[Bt.family]),Et.hasOwnProperty(Bt.family)){$n=Et[Bt.family];break}if(!($n=$n||Et[Sn]))throw new Error("Could not find a font-family for the rule '"+uk(Bt)+"' and default family '"+Sn+"'.");if($n=function(un,Ut){if(Ut[un])return Ut[un];var Ti=OS[un],Ki=Ti<=OS.normal?-1:1,Wn=lk(Ut,Ok,Ti,Ki);if(!Wn)throw new Error("Could not find a matching font-stretch value for "+un);return Wn}(Bt.stretch,$n),$n=function(un,Ut){if(Ut[un])return Ut[un];for(var Ti=Pk[un],Ki=0;Ki<Ti.length;++Ki)if(Ut[Ti[Ki]])return Ut[Ti[Ki]];throw new Error("Could not find a matching font-style for "+un)}(Bt.style,$n),!($n=function(un,Ut){if(Ut[un])return Ut[un];if(un===400&&Ut[500])return Ut[500];if(un===500&&Ut[400])return Ut[400];var Ti=UW[un],Ki=lk(Ut,Fk,Ti,un<400?-1:1);if(!Ki)throw new Error("Could not find a matching font-weight for value "+un);return Ki}(Bt.weight,$n)))throw new Error("Failed to resolve a font for the rule '"+uk(Bt)+"'.");return $n}($t,_t);this.pdf.setFont(Cn.ref.name,Cn.ref.style)}else{var jt="";(zt==="bold"||parseInt(zt,10)>=700||an==="bold")&&(jt="bold"),an==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var Vt="",Vn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Wt=0;Wt<Ye.length;Wt++){if(this.pdf.internal.getFont(Ye[Wt],jt,{noFallback:!0,disableWarning:!0})!==void 0){Vt=Ye[Wt];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(Ye[Wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=Ye[Wt],jt="bold";else if(this.pdf.internal.getFont(Ye[Wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=Ye[Wt],jt="normal";break}}if(Vt===""){for(var gt=0;gt<Ye.length;gt++)if(Vn[Ye[gt]]){Vt=Vn[Ye[gt]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};v.prototype.setLineDash=function(A){this.lineDash=A},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){H.call(this,"fill",!1)},v.prototype.stroke=function(){H.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(A,q){if(isNaN(A)||isNaN(q))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(A,q));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(A,q)},v.prototype.closePath=function(){var A=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Bn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){A=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(A.x,A.y)},v.prototype.lineTo=function(A,q){if(isNaN(A)||isNaN(q))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(A,q));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},v.prototype.quadraticCurveTo=function(A,q,z,ie){if(isNaN(z)||isNaN(ie)||isNaN(A)||isNaN(q))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(z,ie)),de=this.ctx.transform.applyToPoint(new s(A,q));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},v.prototype.bezierCurveTo=function(A,q,z,ie,ce,de){if(isNaN(ce)||isNaN(de)||isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new s(ce,de)),_e=this.ctx.transform.applyToPoint(new s(A,q)),Ie=this.ctx.transform.applyToPoint(new s(z,ie));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Ie.x,y2:Ie.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new s(Ce.x,Ce.y)},v.prototype.arc=function(A,q,z,ie,ce,de){if(isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie)||isNaN(ce))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new s(A,q));A=Ce.x,q=Ce.y;var _e=this.ctx.transform.applyToPoint(new s(0,z)),Ie=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(_e.x-Ie.x,2)+Math.pow(_e.y-Ie.y,2))}Math.abs(ce-ie)>=2*Math.PI&&(ie=0,ce=2*Math.PI),this.path.push({type:"arc",x:A,y:q,radius:z,startAngle:ie,endAngle:ce,counterclockwise:de})},v.prototype.arcTo=function(A,q,z,ie,ce){throw new Error("arcTo not implemented.")},v.prototype.rect=function(A,q,z,ie){if(isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,q),this.lineTo(A+z,q),this.lineTo(A+z,q+ie),this.lineTo(A,q+ie),this.lineTo(A,q),this.lineTo(A+z,q),this.lineTo(A,q)},v.prototype.fillRect=function(A,q,z,ie){if(isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,q,z,ie),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},v.prototype.strokeRect=function(A,q,z,ie){if(isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(A,q,z,ie),this.stroke())},v.prototype.clearRect=function(A,q,z,ie){if(isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,q,z,ie))},v.prototype.save=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},v.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(q),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(A){var q,z,ie,ce;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))q=0,z=0,ie=0,ce=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(de!==null)q=parseInt(de[1]),z=parseInt(de[2]),ie=parseInt(de[3]),ce=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)q=parseInt(de[1]),z=parseInt(de[2]),ie=parseInt(de[3]),ce=parseFloat(de[4]);else{if(ce=1,typeof A=="string"&&A.charAt(0)!=="#"){var Ce=new Mk(A);A=Ce.ok?Ce.toHex():"#000000"}A.length===4?(q=A.substring(1,2),q+=q,z=A.substring(2,3),z+=z,ie=A.substring(3,4),ie+=ie):(q=A.substring(1,3),z=A.substring(3,5),ie=A.substring(5,7)),q=parseInt(q,16),z=parseInt(z,16),ie=parseInt(ie,16)}}return{r:q,g:z,b:ie,a:ce,style:A}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(A,q,z,ie){if(isNaN(q)||isNaN(z)||typeof A!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!h.call(this)){var ce=ne(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;R.call(this,{text:A,x:q,y:z,scale:de,angle:ce,align:this.textAlign,maxWidth:ie})}},v.prototype.strokeText=function(A,q,z,ie){if(isNaN(q)||isNaN(z)||typeof A!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ie=isNaN(ie)?void 0:ie;var ce=ne(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;R.call(this,{text:A,x:q,y:z,scale:de,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ie})}},v.prototype.measureText=function(A){if(typeof A!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,z=this.pdf.internal.scaleFactor,ie=q.internal.getFontSize(),ce=q.getStringUnitWidth(A)*ie/q.internal.scaleFactor;return new function(de){var Ce=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:ce*=Math.round(96*z/72*1e4)/1e4})},v.prototype.scale=function(A,q){if(isNaN(A)||isNaN(q))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(A,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},v.prototype.rotate=function(A){if(isNaN(A))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.translate=function(A,q){if(isNaN(A)||isNaN(q))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,A,q);this.ctx.transform=this.ctx.transform.multiply(z)},v.prototype.transform=function(A,q,z,ie,ce,de){if(isNaN(A)||isNaN(q)||isNaN(z)||isNaN(ie)||isNaN(ce)||isNaN(de))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new l(A,q,z,ie,ce,de);this.ctx.transform=this.ctx.transform.multiply(Ce)},v.prototype.setTransform=function(A,q,z,ie,ce,de){A=isNaN(A)?1:A,q=isNaN(q)?0:q,z=isNaN(z)?0:z,ie=isNaN(ie)?1:ie,ce=isNaN(ce)?0:ce,de=isNaN(de)?0:de,this.ctx.transform=new l(A,q,z,ie,ce,de)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(A,q,z,ie,ce,de,Ce,_e,Ie){var Ve=this.pdf.getImageProperties(A),Ze=1,Xe=1,xe=1,Y=1;ie!==void 0&&_e!==void 0&&(xe=_e/ie,Y=Ie/ce,Ze=Ve.width/ie*_e/ie,Xe=Ve.height/ce*Ie/ce),de===void 0&&(de=q,Ce=z,q=0,z=0),ie!==void 0&&_e===void 0&&(_e=ie,Ie=ce),ie===void 0&&_e===void 0&&(_e=Ve.width,Ie=Ve.height);for(var an,zt=this.ctx.transform.decompose(),bt=ne(zt.rotate.shx),He=new l,mt=(He=(He=(He=He.multiply(zt.translate)).multiply(zt.skew)).multiply(zt.scale)).applyToRectangle(new a(de-q*xe,Ce-z*Y,ie*Ze,ce*Xe)),Ye=k.call(this,mt),$t=[],_t=0;_t<Ye.length;_t+=1)$t.indexOf(Ye[_t])===-1&&$t.push(Ye[_t]);if(G($t),this.autoPaging)for(var Cn=$t[0],jt=$t[$t.length-1],Vt=Cn;Vt<jt+1;Vt++){this.pdf.setPage(Vt);var Vn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Wt=Vt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Vt===1?0:gt+(Vt-2)*Et;if(this.ctx.clip_path.length!==0){var Jn=this.path;an=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(an,this.posX+this.margin[3],-vt+Wt+this.ctx.prevPageLastElemOffset),he.call(this,"fill",!0),this.path=Jn}var Sn=JSON.parse(JSON.stringify(mt));Sn=Z([Sn],this.posX+this.margin[3],-vt+Wt+this.ctx.prevPageLastElemOffset)[0];var dt=(Vt>Cn||Vt<jt)&&x.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vn,Et,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Sn.x,Sn.y,Sn.w,Sn.h,null,null,bt),dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,bt)};var k=function(A,q,z){var ie=[];q=q||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":ie.push(Math.floor((A.y+ce)/z)+1);break;case"arc":ie.push(Math.floor((A.y+ce-A.radius)/z)+1),ie.push(Math.floor((A.y+ce+A.radius)/z)+1);break;case"qct":var de=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);ie.push(Math.floor((de.y+ce)/z)+1),ie.push(Math.floor((de.y+de.h+ce)/z)+1);break;case"bct":var Ce=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);ie.push(Math.floor((Ce.y+ce)/z)+1),ie.push(Math.floor((Ce.y+Ce.h+ce)/z)+1);break;case"rect":ie.push(Math.floor((A.y+ce)/z)+1),ie.push(Math.floor((A.y+A.h+ce)/z)+1)}for(var _e=0;_e<ie.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ie[_e];)D.call(this);return ie},D=function(){var A=this.fillStyle,q=this.strokeStyle,z=this.font,ie=this.lineCap,ce=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=q,this.font=z,this.lineCap=ie,this.lineWidth=ce,this.lineJoin=de},Z=function(A,q,z){for(var ie=0;ie<A.length;ie++)switch(A[ie].type){case"bct":A[ie].x2+=q,A[ie].y2+=z;case"qct":A[ie].x1+=q,A[ie].y1+=z;default:A[ie].x+=q,A[ie].y+=z}return A},G=function(A){return A.sort(function(q,z){return q-z})},H=function(A,q){for(var z,ie,ce=this.fillStyle,de=this.strokeStyle,Ce=this.lineCap,_e=this.lineWidth,Ie=Math.abs(_e*this.ctx.transform.scaleX),Ve=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),xe=[],Y=0;Y<Xe.length;Y++)if(Xe[Y].x!==void 0)for(var an=k.call(this,Xe[Y]),zt=0;zt<an.length;zt+=1)xe.indexOf(an[zt])===-1&&xe.push(an[zt]);for(var bt=0;bt<xe.length;bt++)for(;this.pdf.internal.getNumberOfPages()<xe[bt];)D.call(this);if(G(xe),this.autoPaging)for(var He=xe[0],mt=xe[xe.length-1],Ye=He;Ye<mt+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ce,this.strokeStyle=de,this.lineCap=Ce,this.lineWidth=Ie,this.lineJoin=Ve;var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=Ye===1?this.posY+this.margin[0]:this.margin[0],Cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=Ye===1?0:Cn+(Ye-2)*jt;if(this.ctx.clip_path.length!==0){var Vn=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(z,this.posX+this.margin[3],-Vt+_t+this.ctx.prevPageLastElemOffset),he.call(this,A,!0),this.path=Vn}if(ie=JSON.parse(JSON.stringify(Ze)),this.path=Z(ie,this.posX+this.margin[3],-Vt+_t+this.ctx.prevPageLastElemOffset),q===!1||Ye===0){var Wt=(Ye>He||Ye<mt)&&x.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,jt,null).clip().discardPath()),he.call(this,A,q),Wt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Ie,he.call(this,A,q),this.lineWidth=_e;this.path=Ze},he=function(A,q){if((A!=="stroke"||q||!S.call(this))&&(A==="stroke"||q||!h.call(this))){for(var z,ie,ce=[],de=this.path,Ce=0;Ce<de.length;Ce++){var _e=de[Ce];switch(_e.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:_e,deltas:[],abs:[]});break;case"lt":var Ie=ce.length;if(de[Ce-1]&&!isNaN(de[Ce-1].x)&&(z=[_e.x-de[Ce-1].x,_e.y-de[Ce-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ce[Ie-1].close!==!0&&ce[Ie-1].begin!==!0){ce[Ie-1].deltas.push(z),ce[Ie-1].abs.push(_e);break}}break;case"bct":z=[_e.x1-de[Ce-1].x,_e.y1-de[Ce-1].y,_e.x2-de[Ce-1].x,_e.y2-de[Ce-1].y,_e.x-de[Ce-1].x,_e.y-de[Ce-1].y],ce[ce.length-1].deltas.push(z);break;case"qct":var Ve=de[Ce-1].x+2/3*(_e.x1-de[Ce-1].x),Ze=de[Ce-1].y+2/3*(_e.y1-de[Ce-1].y),Xe=_e.x+2/3*(_e.x1-_e.x),xe=_e.y+2/3*(_e.y1-_e.y),Y=_e.x,an=_e.y;z=[Ve-de[Ce-1].x,Ze-de[Ce-1].y,Xe-de[Ce-1].x,xe-de[Ce-1].y,Y-de[Ce-1].x,an-de[Ce-1].y],ce[ce.length-1].deltas.push(z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(_e)}}ie=q?null:A==="stroke"?"stroke":"fill";for(var zt=!1,bt=0;bt<ce.length;bt++)if(ce[bt].arc)for(var He=ce[bt].abs,mt=0;mt<He.length;mt++){var Ye=He[mt];Ye.type==="arc"?te.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,q,!zt):X.call(this,Ye.x,Ye.y),zt=!0}else if(ce[bt].close===!0)this.pdf.internal.out("h"),zt=!1;else if(ce[bt].begin!==!0){var $t=ce[bt].start.x,_t=ce[bt].start.y;J.call(this,ce[bt].deltas,$t,_t),zt=!0}ie&&$.call(this,ie),q&&ae.call(this)}},we=function(A){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-z;case"top":return A+q-z;case"hanging":return A+q-2*z;case"middle":return A+q/2-z;default:return A}},ge=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(q,z){this.colorStops.push([q,z])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var te=function(A,q,z,ie,ce,de,Ce,_e,Ie){for(var Ve=oe.call(this,z,ie,ce,de),Ze=0;Ze<Ve.length;Ze++){var Xe=Ve[Ze];Ze===0&&(Ie?N.call(this,Xe.x1+A,Xe.y1+q):X.call(this,Xe.x1+A,Xe.y1+q)),be.call(this,A,q,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}_e?ae.call(this):$.call(this,Ce)},$=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(A,q){this.pdf.internal.out(e(A)+" "+i(q)+" m")},R=function(A){var q;switch(A.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var z=this.pdf.getTextDimensions(A.text),ie=we.call(this,A.y),ce=ge.call(this,ie)-z.h,de=this.ctx.transform.applyToPoint(new s(A.x,ie)),Ce=this.ctx.transform.decompose(),_e=new l;_e=(_e=(_e=_e.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Ie,Ve,Ze,Xe=this.ctx.transform.applyToRectangle(new a(A.x,ie,z.w,z.h)),xe=_e.applyToRectangle(new a(A.x,ce,z.w,z.h)),Y=k.call(this,xe),an=[],zt=0;zt<Y.length;zt+=1)an.indexOf(Y[zt])===-1&&an.push(Y[zt]);if(G(an),this.autoPaging)for(var bt=an[0],He=an[an.length-1],mt=bt;mt<He+1;mt++){this.pdf.setPage(mt);var Ye=mt===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Cn=_t-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],Vt=jt-this.margin[3],Vn=mt===1?0:$t+(mt-2)*Cn;if(this.ctx.clip_path.length!==0){var Wt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(Ie,this.posX+this.margin[3],-1*Vn+Ye),he.call(this,"fill",!0),this.path=Wt}var gt=Z([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Vn+Ye+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*A.scale),Ze=this.lineWidth,this.lineWidth=Ze*A.scale);var Et=this.autoPaging!=="text";if(Et||gt.y+gt.h<=_t){if(Et||gt.y>=Ye&&gt.x<=jt){var vt=Et?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||jt-gt.x)[0],Jn=Z([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-Vn+Ye+this.ctx.prevPageLastElemOffset)[0],Sn=Et&&(mt>bt||mt<He)&&x.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,Cn,null).clip().discardPath()),this.pdf.text(vt,Jn.x,Jn.y,{angle:A.angle,align:q,renderingMode:A.renderingMode}),Sn&&this.pdf.restoreGraphicsState()}}else gt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-gt.y);A.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Ze)}else A.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*A.scale),Ze=this.lineWidth,this.lineWidth=Ze*A.scale),this.pdf.text(A.text,de.x+this.posX,de.y+this.posY,{angle:A.angle,align:q,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Ze)},X=function(A,q,z,ie){z=z||0,ie=ie||0,this.pdf.internal.out(e(A+z)+" "+i(q+ie)+" l")},J=function(A,q,z){return this.pdf.lines(A,q,z,null,null)},be=function(A,q,z,ie,ce,de,Ce,_e){this.pdf.internal.out([n(r(z+A)),n(o(ie+q)),n(r(ce+A)),n(o(de+q)),n(r(Ce+A)),n(o(_e+q)),"c"].join(" "))},oe=function(A,q,z,ie){for(var ce=2*Math.PI,de=Math.PI/2;q>z;)q-=ce;var Ce=Math.abs(z-q);Ce<ce&&ie&&(Ce=ce-Ce);for(var _e=[],Ie=ie?-1:1,Ve=q;Ce>1e-5;){var Ze=Ve+Ie*Math.min(Ce,de);_e.push(le.call(this,A,Ve,Ze)),Ce-=Math.abs(Ze-Ve),Ve=Ze}return _e},le=function(A,q,z){var ie=(z-q)/2,ce=A*Math.cos(ie),de=A*Math.sin(ie),Ce=ce,_e=-de,Ie=Ce*Ce+_e*_e,Ve=Ie+Ce*ce+_e*de,Ze=4/3*(Math.sqrt(2*Ie*Ve)-Ve)/(Ce*de-_e*ce),Xe=Ce-Ze*_e,xe=_e+Ze*Ce,Y=Xe,an=-xe,zt=ie+q,bt=Math.cos(zt),He=Math.sin(zt);return{x1:A*Math.cos(q),y1:A*Math.sin(q),x2:Xe*bt-xe*He,y2:Xe*He+xe*bt,x3:Y*bt-an*He,y3:Y*He+an*bt,x4:A*Math.cos(z),y4:A*Math.sin(z)}},ne=function(A){return 180*A/Math.PI},pe=function(A,q,z,ie,ce,de){var Ce=A+.5*(z-A),_e=q+.5*(ie-q),Ie=ce+.5*(z-ce),Ve=de+.5*(ie-de),Ze=Math.min(A,ce,Ce,Ie),Xe=Math.max(A,ce,Ce,Ie),xe=Math.min(q,de,_e,Ve),Y=Math.max(q,de,_e,Ve);return new a(Ze,xe,Xe-Ze,Y-xe)},Pe=function(A,q,z,ie,ce,de,Ce,_e){var Ie,Ve,Ze,Xe,xe,Y,an,zt,bt,He,mt,Ye,$t,_t,Cn=z-A,jt=ie-q,Vt=ce-z,Vn=de-ie,Wt=Ce-ce,gt=_e-de;for(Ve=0;Ve<41;Ve++)bt=(an=(Ze=A+(Ie=Ve/40)*Cn)+Ie*((xe=z+Ie*Vt)-Ze))+Ie*(xe+Ie*(ce+Ie*Wt-xe)-an),He=(zt=(Xe=q+Ie*jt)+Ie*((Y=ie+Ie*Vn)-Xe))+Ie*(Y+Ie*(de+Ie*gt-Y)-zt),Ve==0?(mt=bt,Ye=He,$t=bt,_t=He):(mt=Math.min(mt,bt),Ye=Math.min(Ye,He),$t=Math.max($t,bt),_t=Math.max(_t,He));return new a(Math.round(mt),Math.round(Ye),Math.round($t-mt),Math.round(_t-Ye))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,q,z=(A=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:q}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(ot.API),function(t){var n=function(s){var a,l,c,f,v,w,h,S,x,k;for(/[^\x00-\xFF]/.test(s),l=[],c=0,f=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(v=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(w=(v=((v=((v=((v=(v-(k=v%85))/85)-(x=v%85))/85)-(S=v%85))/85)-(h=v%85))/85)%85,l.push(w+33,h+33,S+33,x+33,k+33)):l.push(122);return function(D,Z){for(var G=Z;G>0;G--)D.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var a,l,c,f,v,w=String,h="length",S=255,x="charCodeAt",k="slice",D="replace";for(s[k](-2),s=s[k](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),c=[],f=0,v=(s+=a="uuuuu"[k](s[h]%5||5))[h];v>f;f+=5)l=52200625*(s[x](f)-33)+614125*(s[x](f+1)-33)+7225*(s[x](f+2)-33)+85*(s[x](f+3)-33)+(s[x](f+4)-33),c.push(S&l>>24,S&l>>16,S&l>>8,S&l);return function(Z,G){for(var H=G;H>0;H--)Z.pop()}(c,a[h]),w.fromCharCode.apply(w,c)},i=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=qv(a)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,a){var l=0,c=s||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(n,e,i){return function(r,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,f){var v=new XMLHttpRequest,w=0,h=function(S){var x=S.length,k=[],D=String.fromCharCode;for(w=0;w<x;w+=1)k.push(D(255&S.charCodeAt(w)));return k.join("")};if(v.open("GET",l,!c),v.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(v.onload=function(){v.status===200?f(h(this.responseText)):f(void 0)}),v.send(null),c&&v.status===200)return h(v.responseText)}(r,o,s)}catch{}return a}(n,e,i)},t.loadImageFile=t.loadFile}(ot.API),function(t){function n(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):import("./chunk-G5RWJARE.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):import("./chunk-N7MKHTN2.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var i=function(a){var l=Bn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(a,l){var c=document.createElement(a);for(var f in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[f]=l.style[f];return c},o=function a(l,c){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),v=l.firstChild;v;v=v.nextSibling)c!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||f.appendChild(a(v,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),c);return(f=f.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(e).then(function(c){return this.set({src:r("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(n).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(n).then(function(l){var c=this.opt.jsPDF,f=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var h=0;h<f.length;++h){var S=f[h],x=S.src.find(function(k){return k.format==="truetype"});x&&c.addFont(x.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,c.context2d.save(!0),l(this.prop.container,w)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(i(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(i(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(a=a||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,f){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(f,v){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(w){return c.updateProgress(null,f),w}).then(f,v).then(function(w){return c.updateProgress(1),w})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var f=this;a&&(a=a.bind(f)),l&&(l=l.bind(f));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),w=c.call(v,a,l);return s.convert(w,f.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(a,l,c){if(Bn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,c=f.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var v,w=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+l}var S,x=0,k=0;if(h.hasOwnProperty(w))x=h[w][1]/v,k=h[w][0]/v;else try{x=c[1],k=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",k>x&&(S=k,k=x,x=S);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>k&&(S=k,k=x,x=S)}return{width:k,height:x,unit:l,k:v,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(DS):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(ot.API),ot.API.addJS=function(t){return hk=t,this.internal.events.subscribe("postPutResources",function(){h1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(h1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){h1!==void 0&&fk!==void 0&&this.internal.out("/Names <</JavaScript "+h1+" 0 R>>")}),this},function(t){var n;t.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],a=i.exec(s);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(o=0;o<c;o++){var v=e.internal.newObject();f.push(v);var w=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<f.length;o++)e.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");e.internal.write(" ] >>","endobj"),n=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+n+" 0 R"))}]),t.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,o){var s={title:r,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(ot.API),function(t){var n=[192,193,194,195,196,197,198,199];t.processJPEG=function(e,i,r,o,s,a){var l,c=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=function(v){for(var w,h=256*v.charCodeAt(4)+v.charCodeAt(5),S=v.length,x={width:0,height:0,numcomponents:1},k=4;k<S;k+=2){if(k+=h,n.indexOf(v.charCodeAt(k+1))!==-1){w=256*v.charCodeAt(k+5)+v.charCodeAt(k+6),x={width:256*v.charCodeAt(k+7)+v.charCodeAt(k+8),height:w,numcomponents:v.charCodeAt(k+9)};break}h=256*v.charCodeAt(k+2)+v.charCodeAt(k+3)}return x}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return f}}(ot.API),ot.API.processPNG=function(t,n,e,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,o=tk(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,f=o.depth;r=c&&l===1?function(te){for(var $=te.width,ae=te.height,N=te.data,R=te.palette,X=te.depth,J=!1,be=[],oe=[],le=void 0,ne=!1,pe=0,Pe=0;Pe<R.length;Pe++){var Te=VC(R[Pe],4),A=Te[0],q=Te[1],z=Te[2],ie=Te[3];be.push(A,q,z),ie!=null&&(ie===0?(pe++,oe.length<1&&oe.push(Pe)):ie<255&&(ne=!0))}if(ne||pe>1){J=!0,oe=void 0;var ce=$*ae;le=new Uint8Array(ce);for(var de=new DataView(N.buffer),Ce=0;Ce<ce;Ce++){var _e=AS(de,Ce,X),Ie=VC(R[_e],4)[3];le[Ce]=Ie}}else pe===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:N,alphaBytes:le,needSMask:J,palette:be,mask:oe}}(o):l===2||l===4?function(te){for(var $=te.data,ae=te.width,N=te.height,R=te.channels,X=te.depth,J=R===2?"DeviceGray":"DeviceRGB",be=R-1,oe=ae*N,le=be,ne=oe*le,pe=1*oe,Pe=Math.ceil(ne*X/8),Te=Math.ceil(pe*X/8),A=new Uint8Array(Pe),q=new Uint8Array(Te),z=new DataView($.buffer),ie=new DataView(A.buffer),ce=new DataView(q.buffer),de=!1,Ce=0;Ce<oe;Ce++){for(var _e=Ce*R,Ie=0;Ie<le;Ie++)Ck(ie,AS(z,_e+Ie,X),Ce*le+Ie,X);var Ve=AS(z,_e+le,X);Ve<(1<<X)-1&&(de=!0),Ck(ce,Ve,1*Ce,X)}return{colorSpace:J,colorsPerPixel:be,sMaskBitsPerComponent:de?X:void 0,colorBytes:A,alphaBytes:q,needSMask:de}}(o):function(te){var $=te.data,ae=te.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ae,colorsPerPixel:ae==="DeviceGray"?1:3,colorBytes:$ instanceof Uint16Array?function(N){for(var R=N.length,X=new Uint8Array(2*R),J=new DataView(X.buffer,X.byteOffset,X.byteLength),be=0;be<R;be++)J.setUint16(2*be,N[be],!1);return X}($):$,needSMask:!1}}(o);var v,w,h,S=r,x=S.colorSpace,k=S.colorsPerPixel,D=S.sMaskBitsPerComponent,Z=S.colorBytes,G=S.alphaBytes,H=S.needSMask,he=S.palette,we=S.mask,ge=null;return i!==ot.API.image_compression.NONE&&typeof qv=="function"?(ge=function(te){var $;switch(te){case ot.API.image_compression.FAST:$=11;break;case ot.API.image_compression.MEDIUM:$=13;break;case ot.API.image_compression.SLOW:$=14;break;default:$=12}return $}(i),v=this.decode.FLATE_DECODE,w="/Predictor ".concat(ge," /Colors ").concat(k," /BitsPerComponent ").concat(f," /Columns ").concat(s),t=vk(Z,Math.ceil(s*k*f/8),k,f,i),H&&(h=vk(G,Math.ceil(s*D/8),1,D,i))):(v=void 0,w=void 0,t=Z,H&&(h=G)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:e,data:t,index:n,filter:v,decodeParameters:w,transparency:we,palette:he,sMask:h,predictor:ge,width:s,height:a,bitsPerComponent:f,sMaskBitsPerComponent:D,colorSpace:x}}},function(t){t.processGIF89A=function(n,e,i,r){var o=new YW(n),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},f=new TS(100).encode(c,100);return t.processJPEG.call(this,f,e,i,r)},t.processGIF87A=t.processGIF89A}(ot.API),As.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var n=0;n<t;n++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:r,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},As.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[t]()}catch(e){Xn.log("bit decode error:"+e)}},As.prototype.bit1=function(){var t,n=Math.ceil(this.width/8),e=n%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}e!==0&&(this.pos+=4-e)}},As.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),n=t%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},As.prototype.bit8=function(){for(var t=this.width%4,n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},As.prototype.bit15=function(){for(var t=this.width%3,n=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&n)/n*255|0,a=(o>>5&n)/n*255|0,l=(o>>10&n)/n*255|0,c=o>>15?255:0,f=i*this.width*4+4*r;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=s,this.data[f+3]=c}this.pos+=t}},As.prototype.bit16=function(){for(var t=this.width%3,n=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&n)/n*255|0,l=(s>>5&e)/e*255|0,c=(s>>11)/n*255|0,f=r*this.width*4+4*o;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},As.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*e;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},As.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var n=this.bottom_up?t:this.height-1-t,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=s}},As.prototype.getData=function(){return this.data},function(t){t.processBMP=function(n,e,i,r){var o=new As(n,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new TS(100).encode(l,100);return t.processJPEG.call(this,c,e,i,r)}}(ot.API),xk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(n,e,i,r){var o=new xk(n),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new TS(100).encode(l,100);return t.processJPEG.call(this,c,e,i,r)}}(ot.API),ot.API.processRGBA=function(t,n,e){for(var i=t.data,r=i.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var f=i[c],v=i[c+1],w=i[c+2],h=i[c+3];o[a++]=f,o[a++]=v,o[a++]=w,s[l++]=h}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:S,index:n,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jd=ot.API,p1=Jd.getCharWidthsArray=function(t,n){var e,i,r=(n=n||{}).font||this.internal.getFont(),o=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),a=n.widths?n.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=n.kerning?n.kerning:r.metadata.Unicode.kerning,f=c.fof?c.fof:1,v=n.doKerning!==!1,w=0,h=t.length,S=0,x=a[0]||l,k=[];for(e=0;e<h;e++)i=t.charCodeAt(e),typeof r.metadata.widthOfString=="function"?k.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(w=v&&Bn(c[i])==="object"&&!isNaN(parseInt(c[i][S],10))?c[i][S]/f:0,k.push((a[i]||x)/l+w)),S=i;return k},pk=Jd.getStringUnitWidth=function(t,n){var e=(n=n||{}).fontSize||this.internal.getFontSize(),i=n.font||this.internal.getFont(),r=n.charSpace||this.internal.getCharSpace();return Jd.processArabic&&(t=Jd.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,e,r)/e:p1.apply(this,arguments).reduce(function(o,s){return o+s},0)},mk=function(t,n,e,i){for(var r=[],o=0,s=t.length,a=0;o!==s&&a+n[o]<e;)a+=n[o],o++;r.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+n[o]>i&&(r.push(t.slice(l,o)),a=0,l=o),a+=n[o],o++;return l!==o&&r.push(t.slice(l,o)),r},gk=function(t,n,e){e||(e={});var i,r,o,s,a,l,c,f=[],v=[f],w=e.textIndent||0,h=0,S=0,x=t.split(" "),k=p1.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?x[0].length+2:e.lineIndent||0){var D=Array(l).join(" "),Z=[];x.map(function(H){(H=H.split(/\s*\n/)).length>1?Z=Z.concat(H.map(function(he,we){return(we&&he.length?`
`:"")+he})):Z.push(H[0])}),x=Z,l=pk.apply(this,[D,e])}for(o=0,s=x.length;o<s;o++){var G=0;if(i=x[o],l&&i[0]==`
`&&(i=i.substr(1),G=1),w+h+(S=(r=p1.apply(this,[i,e])).reduce(function(H,he){return H+he},0))>n||G){if(S>n){for(a=mk.apply(this,[i,r,n-(w+h),n]),f.push(a.shift()),f=[a.pop()];a.length;)v.push([a.shift()]);S=r.slice(i.length-(f[0]?f[0].length:0)).reduce(function(H,he){return H+he},0)}else f=[i];v.push(f),w=S+l,h=k}else f.push(i),w+=h+S,h=k}return c=l?function(H,he){return(he?D:"")+H.join(" ")}:function(H){return H.join(" ")},v.map(c)},Jd.splitTextToSize=function(t,n,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var v=this.internal.getFont(f.fontName,f.fontStyle),w="Unicode";return v.metadata[w]?{widths:v.metadata[w].widths||{0:1},kerning:v.metadata[w].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(gk.apply(this,[i[a],s,o]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var n="0123456789abcdef",e="klmnopqrstuvwxyz",i={},r={},o=0;o<16;o++)i[e[o]]=n[o],r[n[o]]=e[o];var s=function(w){return"0x"+parseInt(w,10).toString(16)},a=t.__fontmetrics__.compress=function(w){var h,S,x,k,D=["{"];for(var Z in w){if(h=w[Z],isNaN(parseInt(Z,10))?S="'"+Z+"'":(Z=parseInt(Z,10),S=(S=s(Z).slice(2)).slice(0,-1)+r[S.slice(-1)]),typeof h=="number")h<0?(x=s(h).slice(3),k="-"):(x=s(h).slice(2),k=""),x=k+x.slice(0,-1)+r[x.slice(-1)];else{if(Bn(h)!=="object")throw new Error("Don't know what to do with value type "+Bn(h)+".");x=a(h)}D.push(S+x)}return D.push("}"),D.join("")},l=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,S,x,k,D={},Z=1,G=D,H=[],he="",we="",ge=w.length-1,te=1;te<ge;te+=1)(k=w[te])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(k):k=="{"?(H.push([G,x]),G={},x=void 0):k=="}"?((S=H.pop())[0][S[1]]=G,x=void 0,G=S[0]):k=="-"?Z=-1:x===void 0?i.hasOwnProperty(k)?(he+=i[k],x=parseInt(he,16)*Z,Z=1,he=""):he+=k:i.hasOwnProperty(k)?(we+=i[k],G[x]=parseInt(we,16)*Z,Z=1,x=void 0,we=""):we+=k;return D},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},v={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var h=w.font,S=v.Unicode[h.postScriptName];S&&(h.metadata.Unicode={},h.metadata.Unicode.widths=S.widths,h.metadata.Unicode.kerning=S.kerning);var x=f.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}(ot.API),function(t){var n=function(e){for(var i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r};t.API.events.push(["addFont",function(e){var i=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?n(a):n(m1(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])}(ot),ot.API.addSvgAsImage=function(t,n,e,i,r,o,s,a){if(isNaN(n)||isNaN(e))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Dt.canvg?Promise.resolve(Dt.canvg):import("./chunk-C3J4ONFW.js")).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(c,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(f)}).then(function(){v.addImage(l.toDataURL("image/jpeg",1),n,e,i,r,s,a)})},ot.API.putTotalPages=function(t){var n,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(t,"g"),e=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(n,e);return this},ot.API.viewerPreferences=function(t,n){var e;t=t||{},n=n||!1;var i,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,f=0,v=0;function w(S,x){var k,D=!1;for(k=0;k<S.length;k+=1)S[k]===x&&(D=!0);return D}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,t==="reset"||n===!0){var h=a.length;for(v=0;v<h;v+=1)e[a[v]].value=e[a[v]].defaultValue,e[a[v]].explicitSet=!1}if(Bn(t)==="object"){for(r in t)if(o=t[r],w(a,r)&&o!==void 0){if(e[r].type==="boolean"&&typeof o=="boolean")e[r].value=o;else if(e[r].type==="name"&&w(e[r].valueSet,o))e[r].value=o;else if(e[r].type==="integer"&&Number.isInteger(o))e[r].value=o;else if(e[r].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(f=0;f<o[c].length;f+=1)typeof o[c][f]!="number"&&(i=!1);i===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,x=[];for(S in e)e[S].explicitSet===!0&&(e[S].type==="name"?x.push("/"+S+" /"+e[S].value):x.push("/"+S+" "+e[S].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(t){var n=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",n)),this}}(ot.API),function(t){var n=t.API,e=n.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],v=0,w=o.length;v<w;++v){if(a=s.metadata.characterToGlyph(o.charCodeAt(v)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(v),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(c[4-a.length],a)}return f.join("")},i=function(o){var s,a,l,c,f,v,w;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],v=0,w=(a=Object.keys(o).sort(function(h,S){return h-S})).length;v<w;v++)s=a[v],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,f=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var v=a.metadata.Unicode.widths,w=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",S=0;S<w.length;S++)h+=String.fromCharCode(w[S]);var x=c();f({data:h,addLength1:!0,objectId:x}),l("endobj");var k=c();f({data:i(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var D=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+tf(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var Z=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+tf(a.fontName)),l("/FontDescriptor "+D+" 0 R"),l("/W "+t.API.PDFObject.convert(v)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+tf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+Z+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),n.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,f=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var v=a.metadata.rawData,w="",h=0;h<v.length;h++)w+=String.fromCharCode(v[h]);var S=c();f({data:w,addLength1:!0,objectId:S}),l("endobj");var x=c();f({data:i(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var k=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+tf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var D=0;D<a.metadata.hmtx.widths.length;D++)a.metadata.hmtx.widths[D]=parseInt(a.metadata.hmtx.widths[D]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+tf(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var r=function(o){var s,a=o.text||"",l=o.x,c=o.y,f=o.options||{},v=o.mutex||{},w=v.pdfEscape,h=v.activeFontKey,S=v.fonts,x=h,k="",D=0,Z="",G=S[x].encoding;if(S[x].encoding!=="Identity-H")return{text:a,x:l,y:c,options:f,mutex:v};for(Z=a,x=h,Array.isArray(a)&&(Z=a[0]),D=0;D<Z.length;D+=1)S[x].metadata.hasOwnProperty("cmap")&&(s=S[x].metadata.cmap.unicode.codeMap[Z[D].charCodeAt(0)]),s||Z[D].charCodeAt(0)<256&&S[x].metadata.hasOwnProperty("Unicode")?k+=Z[D]:k+="";var H="";return parseInt(x.slice(1))<14||G==="WinAnsiEncoding"?H=w(k,x).split("").map(function(he){return he.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(H=e(k,S[x])),v.isHex=!0,{text:H,x:l,y:c,options:f,mutex:v}};n.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([r(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(r(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=r(Object.assign({},l,{text:s})).text}])}(ot),function(t){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(e){return n.call(this),this.internal.vFS[e]!==void 0},t.addFileToVFS=function(e,i){return n.call(this),this.internal.vFS[e]=i,this},t.getFileFromVFS=function(e){return n.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,o,s,a,l,c,f,v=n,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],D=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,G=0;this.__bidiEngine__={};var H=function(N){var R=N.charCodeAt(),X=R>>8,J=x[X];return J!==void 0?v[256*J+(255&R)]:X===252||X===253?"AL":D.test(X)?"L":X===8?"R":"N"},he=function(N){for(var R,X=0;X<N.length;X++){if((R=H(N.charAt(X)))==="L")return!1;if(R==="R")return!0}return!1},we=function(N,R,X,J){var be,oe,le,ne,pe=R[J];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(pe="AN");break;case"AL":Z=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":J<1||J+1>=R.length||(be=X[J-1])!=="EN"&&be!=="AN"||(oe=R[J+1])!=="EN"&&oe!=="AN"?pe="N":Z&&(oe="AN"),pe=oe===be?oe:"N";break;case"ES":pe=(be=J>0?X[J-1]:"B")==="EN"&&J+1<R.length&&R[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&X[J-1]==="EN"){pe="EN";break}if(Z){pe="N";break}for(le=J+1,ne=R.length;le<ne&&R[le]==="ET";)le++;pe=le<ne&&R[le]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(ne=R.length,le=J+1;le<ne&&R[le]==="NSM";)le++;if(le<ne){var Pe=N[J],Te=Pe>=1425&&Pe<=2303||Pe===64286;if(be=R[le],Te&&(be==="R"||be==="AL")){pe="R";break}}}pe=J<1||(be=R[J-1])==="B"?"N":X[J-1];break;case"B":Z=!1,r=!0,pe=G;break;case"S":o=!0,pe="N"}return pe},ge=function(N,R,X){var J=N.split("");return X&&te(J,X,{hiLevel:G}),J.reverse(),R&&R.reverse(),J.join("")},te=function(N,R,X){var J,be,oe,le,ne,pe=-1,Pe=N.length,Te=0,A=[],q=G?h:w,z=[];for(Z=!1,r=!1,o=!1,be=0;be<Pe;be++)z[be]=H(N[be]);for(oe=0;oe<Pe;oe++){if(ne=Te,A[oe]=we(N,z,A,oe),J=240&(Te=q[ne][S[A[oe]]]),Te&=15,R[oe]=le=q[Te][5],J>0)if(J===16){for(be=pe;be<oe;be++)R[be]=1;pe=-1}else pe=-1;if(q[Te][6])pe===-1&&(pe=oe);else if(pe>-1){for(be=pe;be<oe;be++)R[be]=le;pe=-1}z[oe]==="B"&&(R[oe]=0),X.hiLevel|=le}o&&function(ie,ce,de){for(var Ce=0;Ce<de;Ce++)if(ie[Ce]==="S"){ce[Ce]=G;for(var _e=Ce-1;_e>=0&&ie[_e]==="WS";_e--)ce[_e]=G}}(z,R,Pe)},$=function(N,R,X,J,be){if(!(be.hiLevel<N)){if(N===1&&G===1&&!r)return R.reverse(),void(X&&X.reverse());for(var oe,le,ne,pe,Pe=R.length,Te=0;Te<Pe;){if(J[Te]>=N){for(ne=Te+1;ne<Pe&&J[ne]>=N;)ne++;for(pe=Te,le=ne-1;pe<le;pe++,le--)oe=R[pe],R[pe]=R[le],R[le]=oe,X&&(oe=X[pe],X[pe]=X[le],X[le]=oe);Te=ne}Te++}}},ae=function(N,R,X){var J=N.split(""),be={hiLevel:G};return X||(X=[]),te(J,X,be),function(oe,le,ne){if(ne.hiLevel!==0&&f)for(var pe,Pe=0;Pe<oe.length;Pe++)le[Pe]===1&&(pe=k.indexOf(oe[Pe]))>=0&&(oe[Pe]=k[pe+1])}(J,X,be),$(2,J,R,X,be),$(1,J,R,X,be),J.join("")};return this.__bidiEngine__.doBidiReorder=function(N,R,X){if(function(be,oe){if(oe)for(var le=0;le<be.length;le++)oe[le]=le;a===void 0&&(a=he(be)),c===void 0&&(c=he(be))}(N,R),s||!l||c)if(s&&l&&a^c)G=a?1:0,N=ge(N,R,X);else if(!s&&l&&c)G=a?1:0,N=ae(N,R,X),N=ge(N,R);else if(!s||a||l||c){if(s&&!l&&a^c)N=ge(N,R),a?(G=0,N=ae(N,R,X)):(G=1,N=ae(N,R,X),N=ge(N,R));else if(s&&a&&!l&&c)G=1,N=ae(N,R,X),N=ge(N,R);else if(!s&&!l&&a^c){var J=f;a?(G=1,N=ae(N,R,X),G=0,f=!1,N=ae(N,R,X),f=J):(G=0,N=ae(N,R,X),N=ge(N,R),G=1,f=!1,N=ae(N,R,X),f=J,N=ge(N,R))}}else G=0,N=ae(N,R,X);else G=a?1:0,N=ae(N,R,X);return N},this.__bidiEngine__.setOptions=function(N){N&&(s=N.isInputVisual,l=N.isOutputVisual,a=N.isInputRtl,c=N.isOutputRtl,f=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(s=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?s.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):s.push([e.doBidiReorder(r[a])]);i.text=s}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(n){var e;if(this.rawData=n,e=this.contents=new Xl(n),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new cG(this),this.registerTTF()}return t.open=function(n){return new t(n)},t.prototype.parse=function(){return this.directory=new ZW(this.contents),this.head=new QW(this),this.name=new nG(this),this.cmap=new Lk(this),this.toUnicode={},this.hhea=new XW(this),this.maxp=new iG(this),this.hmtx=new rG(this),this.post=new eG(this),this.os2=new JW(this),this.loca=new lG(this),this.glyf=new oG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var n,e,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)n=l[s],c.push(Math.round(n*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(n){var e;return((e=this.cmap.unicode)!=null?e.codeMap[n]:void 0)||0},t.prototype.widthOfGlyph=function(n){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*e},t.prototype.widthOfString=function(n,e,i){var r,o,s,a;for(s=0,o=0,a=(n=""+n).length;0<=a?o<a:o>a;o=0<=a?++o:--o)r=n.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(n,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*n},t}();var Ns,Xl=function(){function t(n){this.data=n??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(n){return this.data[this.pos++]=n},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},t.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},t.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},t.prototype.readString=function(n){var e,i;for(i=[],e=0;0<=n?e<n:e>n;e=0<=n?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(n){var e,i,r;for(r=[],e=0,i=n.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(n.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(n){return this.writeInt16(n)},t.prototype.readLongLong=function(){var n,e,i,r,o,s,a,l;return n=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*n+281474976710656*e+1099511627776*i+4294967296*r+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(n){var e,i;return e=Math.floor(n/4294967296),i=4294967295&n,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(n){return this.writeInt32(n)},t.prototype.read=function(n){var e,i;for(e=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(n){var e,i,r,o;for(o=[],i=0,r=n.length;i<r;i++)e=n[i],o.push(this.writeByte(e));return o},t}(),ZW=function(){var t;function n(e){var i,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return n.prototype.encode=function(e){var i,r,o,s,a,l,c,f,v,w,h,S,x;for(x in h=Object.keys(e).length,l=Math.log(2),v=16*Math.floor(Math.log(h)/l),s=Math.floor(v/l),f=16*h-v,(r=new Xl).writeInt(this.scalarType),r.writeShort(h),r.writeShort(v),r.writeShort(s),r.writeShort(f),o=16*h,c=r.pos+o,a=null,S=[],e)for(w=e[x],r.writeString(x),r.writeInt(t(w)),r.writeInt(c),r.writeInt(w.length),S=S.concat(w),x==="head"&&(a=c),c+=w.length;c%4;)S.push(0),c++;return r.write(S),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(e){var i,r,o,s;for(e=jk.call(e);e.length%4;)e.push(0);for(o=new Xl(e),r=0,i=0,s=e.length;i<s;i=i+=4)r+=o.readUInt32();return 4294967295&r},n}(),KW={}.hasOwnProperty,aa=function(t,n){for(var e in n)KW.call(n,e)&&(t[e]=n[e]);function i(){this.constructor=t}return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Ns=function(){function t(n){var e;this.file=n,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var QW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var e;return(e=new Xl).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(n),e.writeShort(this.glyphDataFormat),e.data},t}(),Ek=function(){function t(n,e){var i,r,o,s,a,l,c,f,v,w,h,S,x,k,D,Z,G;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=e+n.readInt(),v=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=n.readByte();break;case 4:for(h=n.readUInt16(),w=h/2,n.pos+=6,o=function(){var H,he;for(he=[],l=H=0;0<=w?H<w:H>w;l=0<=w?++H:--H)he.push(n.readUInt16());return he}(),n.pos+=2,x=function(){var H,he;for(he=[],l=H=0;0<=w?H<w:H>w;l=0<=w?++H:--H)he.push(n.readUInt16());return he}(),c=function(){var H,he;for(he=[],l=H=0;0<=w?H<w:H>w;l=0<=w?++H:--H)he.push(n.readUInt16());return he}(),f=function(){var H,he;for(he=[],l=H=0;0<=w?H<w:H>w;l=0<=w?++H:--H)he.push(n.readUInt16());return he}(),r=(this.length-n.pos+this.offset)/2,a=function(){var H,he;for(he=[],l=H=0;0<=r?H<r:H>r;l=0<=r?++H:--H)he.push(n.readUInt16());return he}(),l=D=0,G=o.length;D<G;l=++D)for(k=o[l],i=Z=S=x[l];S<=k?Z<=k:Z>=k;i=S<=k?++Z:--Z)f[l]===0?s=i+c[l]:(s=a[f[l]/2+(i-S)-(w-l)]||0)!==0&&(s+=c[l]),this.codeMap[i]=65535&s}n.pos=v}return t.encode=function(n,e){var i,r,o,s,a,l,c,f,v,w,h,S,x,k,D,Z,G,H,he,we,ge,te,$,ae,N,R,X,J,be,oe,le,ne,pe,Pe,Te,A,q,z,ie,ce,de,Ce,_e,Ie,Ve,Ze;switch(J=new Xl,s=Object.keys(n).sort(function(Xe,xe){return Xe-xe}),e){case"macroman":for(x=0,k=function(){var Xe=[];for(S=0;S<256;++S)Xe.push(0);return Xe}(),Z={0:0},o={},be=0,pe=s.length;be<pe;be++)Z[_e=n[r=s[be]]]==null&&(Z[_e]=++x),o[r]={old:n[r],new:Z[n[r]]},k[r]=Z[n[r]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(k),{charMap:o,subtable:J.data,maxGlyphID:x+1};case"unicode":for(R=[],v=[],G=0,Z={},i={},D=c=null,oe=0,Pe=s.length;oe<Pe;oe++)Z[he=n[r=s[oe]]]==null&&(Z[he]=++G),i[r]={old:he,new:Z[he]},a=Z[he]-r,D!=null&&a===c||(D&&v.push(D),R.push(r),c=a),D=r;for(D&&v.push(D),v.push(65535),R.push(65535),ae=2*($=R.length),te=2*Math.pow(Math.log($)/Math.LN2,2),w=Math.log(te/2)/Math.LN2,ge=2*$-te,l=[],we=[],h=[],S=le=0,Te=R.length;le<Te;S=++le){if(N=R[S],f=v[S],N===65535){l.push(0),we.push(0);break}if(N-(X=i[N].new)>=32768)for(l.push(0),we.push(2*(h.length+$-S)),r=ne=N;N<=f?ne<=f:ne>=f;r=N<=f?++ne:--ne)h.push(i[r].new);else l.push(X-N),we.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*$+2*h.length),J.writeUInt16(0),J.writeUInt16(ae),J.writeUInt16(te),J.writeUInt16(w),J.writeUInt16(ge),de=0,A=v.length;de<A;de++)r=v[de],J.writeUInt16(r);for(J.writeUInt16(0),Ce=0,q=R.length;Ce<q;Ce++)r=R[Ce],J.writeUInt16(r);for(Ie=0,z=l.length;Ie<z;Ie++)a=l[Ie],J.writeUInt16(a);for(Ve=0,ie=we.length;Ve<ie;Ve++)H=we[Ve],J.writeUInt16(H);for(Ze=0,ce=h.length;Ze<ce;Ze++)x=h[Ze],J.writeUInt16(x);return{charMap:i,subtable:J.data,maxGlyphID:G+1}}},t}(),Lk=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="cmap",t.prototype.parse=function(n){var e,i,r;for(n.pos=this.offset,this.version=n.readUInt16(),r=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)e=new Ek(n,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},t.encode=function(n,e){var i,r;return e==null&&(e="macroman"),i=Ek.encode(n,e),(r=new Xl).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),XW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),JW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(n.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),eG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="post",t.prototype.parse=function(n){var e,i,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)e=n.readByte(),r.push(this.names.push(n.readString(e)));return r;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(n.readUInt32());return l}.call(this)}},t}(),tG=function(t,n){this.raw=t,this.length=t.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},nG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="name",t.prototype.parse=function(n){var e,i,r,o,s,a,l,c,f,v,w;for(n.pos=this.offset,n.readShort(),e=n.readShort(),a=n.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+a+n.readShort()});for(l={},o=f=0,v=i.length;f<v;o=++f)r=i[o],n.pos=r.offset,c=n.readString(r.length),s=new tG(c,r),l[w=r.nameID]==null&&(l[w]=[]),l[r.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),iG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),rG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="hmtx",t.prototype.parse=function(n){var e,i,r,o,s,a,l;for(n.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],e=c=0;0<=r?c<r:c>r;e=0<=r?++c:--c)f.push(n.readInt16());return f}(),this.widths=function(){var c,f,v,w;for(w=[],c=0,f=(v=this.metrics).length;c<f;c++)o=v[c],w.push(o.advance);return w}.call(this),i=this.widths[this.widths.length-1],l=[],e=s=0;0<=r?s<r:s>r;e=0<=r?++s:--s)l.push(this.widths.push(i));return l},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),jk=[].slice,oG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var e,i,r,o,s,a,l,c,f,v;return n in this.cache?this.cache[n]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(n),(r=o.lengthOf(n))===0?this.cache[n]=null:(e.pos=this.offset+i,s=(a=new Xl(e.read(r))).readShort(),c=a.readShort(),v=a.readShort(),l=a.readShort(),f=a.readShort(),this.cache[n]=s===-1?new aG(a,c,v,l,f):new sG(a,s,c,v,l,f),this.cache[n]))},t.prototype.encode=function(n,e,i){var r,o,s,a,l;for(s=[],o=[],a=0,l=e.length;a<l;a++)r=n[e[a]],o.push(s.length),r&&(s=s.concat(r.encode(i)));return o.push(s.length),{table:s,offsets:o}},t}(),sG=function(){function t(n,e,i,r,o,s){this.raw=n,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),aG=function(){function t(n,e,i,r,o){var s,a;for(this.raw=n,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var n,e,i;for(e=new Xl(jk.call(this.raw.data)),n=0,i=this.glyphIDs.length;n<i;++n)e.pos=this.glyphOffsets[n];return e.data},t}(),lG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aa(t,Ns),t.prototype.tag="loca",t.prototype.parse=function(n){var e,i;return n.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=2)o.push(2*n.readUInt16());return o}.call(this):function(){var r,o;for(o=[],i=0,r=this.length;i<r;i+=4)o.push(n.readUInt32());return o}.call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,e){for(var i=new Uint32Array(this.offsets.length),r=0,o=0,s=0;s<i.length;++s)if(i[s]=r,o<e.length&&e[o]==s){++o,i[s]=r;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(r+=l)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},t}(),cG=function(){function t(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var n,e,i,r,o;for(e in r=this.font.cmap.tables[0].codeMap,n={},o=this.subset)i=o[e],n[e]=r[i];return n},t.prototype.glyphsFor=function(n){var e,i,r,o,s,a,l;for(r={},s=0,a=n.length;s<a;s++)r[o=n[s]]=this.font.glyf.glyphFor(o);for(o in e=[],r)(i=r[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in l=this.glyphsFor(e))i=l[o],r[o]=i;return r},t.prototype.encode=function(n,e){var i,r,o,s,a,l,c,f,v,w,h,S,x,k,D;for(r in i=Lk.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),h={0:0},D=i.charMap)h[(l=D[r]).old]=l.new;for(S in w=i.maxGlyphID,s)S in h||(h[S]=w++);return f=function(Z){var G,H;for(G in H={},Z)H[Z[G]]=G;return H}(h),v=Object.keys(f).sort(function(Z,G){return Z-G}),x=function(){var Z,G,H;for(H=[],Z=0,G=v.length;Z<G;Z++)a=v[Z],H.push(f[a]);return H}(),o=this.font.glyf.encode(s,x,h),c=this.font.loca.encode(o.offsets,x),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ot.API.PDFObject=function(){var t;function n(){}return t=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},n.convert=function(e){var i,r,o,s;if(Array.isArray(e))return"["+function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)i=e[a],c.push(n.convert(i));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+t(e.getUTCFullYear(),4)+t(e.getUTCMonth(),2)+t(e.getUTCDate(),2)+t(e.getUTCHours(),2)+t(e.getUTCMinutes(),2)+t(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in o=["<<"],e)s=e[r],o.push("/"+r+" "+n.convert(s));return o.push(">>"),o.join(`
`)}return""+e},n}();var S1=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl+"scheduler/"}getClassSchedule(e){return this.http.get(`${this.baseUrl}class/${e}`)}getAssessmentSchedule(e){return this.http.get(`${this.baseUrl}assessment/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var uG=()=>[],Bk=t=>({"background-color":t});function dG(t,n){t&1&&(g(0,"div",8),_(1," Nothing scheduled. "),p())}function fG(t,n){if(t&1&&(g(0,"th",17),_(1),p()),t&2){let e=n.$implicit;C(),ke(e)}}function hG(t,n){t&1&&(Hn(0),g(1,"th"),_(2,"Code"),p(),g(3,"th"),_(4,"Venue"),p(),qn())}function pG(t,n){if(t&1&&(g(0,"td",22)(1,"strong"),_(2),p()()),t&2){let e=L(2).$implicit,i=L(2);Xt("rowspan",i.getMaxEntriesForBlock(e)),C(2),ke(i.formatTime(e.startTime))}}function mG(t,n){if(t&1&&(g(0,"td",22)(1,"strong"),_(2),p()()),t&2){let e=L(2).$implicit,i=L(2);Xt("rowspan",i.getMaxEntriesForBlock(e)),C(2),ke(i.formatTime(e.endTime))}}function gG(t,n){if(t&1&&(Hn(0),g(1,"td",24),_(2),p(),g(3,"td",24),_(4),p(),qn()),t&2){let e=L().$implicit,i=L().index,r=L().$implicit,o=L(2);C(),O("ngStyle",bi(4,Bk,o.getColorForModule(o.getModulesByBlock(r,e)[i].moduleCode))),C(),nt(" ",o.getModulesByBlock(r,e)[i].moduleCode," "),C(),O("ngStyle",bi(6,Bk,o.getColorForModule(o.getModulesByBlock(r,e)[i].moduleCode))),C(),nt(" ",o.getModulesByBlock(r,e)[i].venue||"-"," ")}}function vG(t,n){t&1&&(Hn(0),g(1,"td"),_(2,"-"),p(),g(3,"td"),_(4,"-"),p(),qn())}function yG(t,n){if(t&1&&(Hn(0),ye(1,gG,5,8,"ng-container",23)(2,vG,5,0,"ng-container",23),qn()),t&2){let e=n.$implicit,i=L().index,r=L().$implicit,o=L(2);C(),O("ngIf",o.getModulesByBlock(r,e).length>i),C(),O("ngIf",o.getModulesByBlock(r,e).length<=i)}}function _G(t,n){if(t&1&&(Hn(0),g(1,"tr",20),ye(2,pG,3,2,"td",21)(3,mG,3,2,"td",21)(4,yG,3,2,"ng-container",19),p(),qn()),t&2){let e=n.index,i=L(3);C(2),O("ngIf",e===0),C(),O("ngIf",e===0),C(),O("ngForOf",i.weekdays)}}function bG(t,n){if(t&1&&(Hn(0),ye(1,_G,5,3,"ng-container",19),qn()),t&2){let e=n.$implicit,i=L(2);C(),O("ngForOf",cr(1,uG).constructor(i.getMaxEntriesForBlock(e)))}}function wG(t,n){if(t&1&&(g(0,"div",9)(1,"div",10),ze(2,"img",11),p(),g(3,"div",12)(4,"div",13),_(5,"Class Schedule"),p(),g(6,"div",14),_(7),p()(),g(8,"table",15)(9,"thead",16)(10,"tr")(11,"th",17),_(12,"Time"),p(),ye(13,fG,2,1,"th",18),p(),g(14,"tr")(15,"th"),_(16,"Start"),p(),g(17,"th"),_(18,"End"),p(),ye(19,hG,5,0,"ng-container",19),p()(),g(20,"tbody"),ye(21,bG,2,2,"ng-container",19),p()()()),t&2){let e=L();C(7),ke(e.userFullName),C(6),O("ngForOf",e.weekdays),C(6),O("ngForOf",e.weekdays),C(2),O("ngForOf",e.timeBlocks)}}var Hk=(()=>{class t{constructor(e,i){this.schedulerService=e,this.accountService=i,this.schedules=[],this.semester=1,this.weekdays=["Monday","Tuesday","Wednesday","Thursday","Friday"],this.timeBlocks=[],this.blockMap={}}ngOnInit(){this.loadSchedule()}get user(){return this.accountService.currentUser()}get userFullName(){let e=this.user||{},i=(...s)=>s.map(a=>(a??"").toString().trim()).find(a=>a.length>0)||"",r=i(e.name),o=i(e.surname);return r&&o?`${r} ${o}`:r||o||i(e.displayName,e.username,e.userName)}loadSchedule(){this.schedulerService.getClassSchedule(this.semester).subscribe({next:e=>{this.schedules=e,this.generateTimeBlocks(),this.buildBlockMap()},error:e=>console.error(e)})}onSemesterChange(){this.loadSchedule()}generateTimeBlocks(){let e=new Set,i=[];for(let r of this.schedules){if(!r.startTime||!r.endTime)continue;let o=`${r.startTime}-${r.endTime}`;e.has(o)||(e.add(o),i.push({startTime:r.startTime,endTime:r.endTime}))}this.timeBlocks=i.sort((r,o)=>r.startTime.localeCompare(o.startTime))}buildBlockMap(){this.blockMap={};for(let e of this.timeBlocks)for(let i of this.weekdays){let r=`${e.startTime}-${e.endTime}-${i}`,o=[];for(let s of this.schedules)s.weekDay?.toLowerCase()!==i.toLowerCase()||!(s.startTime===e.startTime&&s.endTime===e.endTime)||o.some(l=>l.moduleCode===s.moduleCode)||o.push({moduleCode:s.moduleCode,venue:s.venue});this.blockMap[r]=o}}getModulesByBlock(e,i){return this.blockMap[`${e.startTime}-${e.endTime}-${i}`]||[]}getMaxEntriesForBlock(e){return Math.max(...this.weekdays.map(i=>this.getModulesByBlock(e,i).length),1)}getColorForModule(e){let i=["#e3f2fd","#e8f5e9","#fff3e0","#fce4ec","#ede7f6","#f3e5f5","#f9fbe7","#e0f7fa","#ffe0b2","#c8e6c9","#d1c4e9","#b2ebf2"],r=e.toUpperCase().split("").reduce((o,s)=>o+s.charCodeAt(0),0);return i[r%i.length]}downloadScheduleAsPdf(){return Rn(this,null,function*(){let e=document.getElementById("pdfContent");if(!e)return;let i=e.getBoundingClientRect(),o=Array.from(e.querySelectorAll("table tbody tr")).map(H=>{let he=H.getBoundingClientRect().top-i.top;return Math.max(0,Math.floor(he))});o.unshift(0);let s=2,a=yield(0,Uk.default)(e,{scale:s,useCORS:!0,backgroundColor:"#ffffff",logging:!1,windowWidth:e.scrollWidth,windowHeight:e.scrollHeight,scrollY:-window.scrollY}),l=o.map(H=>Math.round(H*s)),c=new ot({orientation:"landscape",unit:"px",format:"a4"}),f=c.internal.pageSize.getWidth(),v=c.internal.pageSize.getHeight(),w=24,h=24,S=f-2*w,x=v-2*h,k=S/a.width,D=Math.floor(x/k),Z=0,G=a.height;for(;Z<G;){let H=Z+D,he=G;for(let N=0;N<l.length;N++)if(l[N]>H){he=Math.max(Z+1,l[N-1]??H);break}he===G&&H<G&&(he=H);let we=Math.min(he-Z,G-Z),ge=document.createElement("canvas");ge.width=a.width,ge.height=we,ge.getContext("2d").drawImage(a,0,Z,a.width,we,0,0,a.width,we);let $=ge.toDataURL("image/png"),ae=we*k;c.addImage($,"PNG",w,h,S,ae),Z+=we,Z<G&&c.addPage("a4","landscape")}c.save("Class_Schedule.pdf")})}formatTime(e){if(!e)return"-";let[i,r]=e.split(":");return`${i}:${r}`}static{this.\u0275fac=function(i){return new(i||t)(W(S1),W(ln))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-class-schedule"]],standalone:!0,features:[$e],decls:14,vars:6,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3","no-print"],["for","semester",1,"filter-label"],["id","semester",1,"form-select","d-inline-block","w-auto","ms-2","filter-select",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"btn","btn-success",3,"click","disabled"],["class","alert alert-info text-center py-4",4,"ngIf"],["id","pdfContent","class","mt-3 p-4 bg-white",4,"ngIf"],[1,"alert","alert-info","text-center","py-4"],["id","pdfContent",1,"mt-3","p-4","bg-white"],[1,"logo-row","keep-with-next"],["src","assets/ufslogo.jpg","alt","UFS Logo",1,"pdf-logo-top"],[1,"table-topbar","keep-with-next"],[1,"topbar-title"],[1,"topbar-user"],[1,"table","table-bordered","text-center","align-middle"],[1,"table-light"],["colspan","2"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"avoid-break"],["class","time-col",4,"ngIf"],[1,"time-col"],[4,"ngIf"],[3,"ngStyle"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"label",2),_(4,"Semester:"),p(),g(5,"select",3),Qe("ngModelChange",function(s){return Je(r.semester,s)||(r.semester=s),s}),j("change",function(){return r.onSemesterChange()}),g(6,"option",4),_(7,"Semester 1"),p(),g(8,"option",4),_(9,"Semester 2"),p()()(),g(10,"button",5),j("click",function(){return r.downloadScheduleAsPdf()}),_(11," Download (PDF) "),p()(),ye(12,dG,2,0,"div",6)(13,wG,22,4,"div",7),p()),i&2&&(C(5),Ke("ngModel",r.semester),C(),O("value",1),C(2),O("value",2),C(2),O("disabled",r.timeBlocks.length===0),C(2),O("ngIf",r.timeBlocks.length===0),C(),O("ngIf",r.timeBlocks.length>0))},dependencies:[ct,on,Mt,tI,vn,Di,Ii,pi,Zt,bn],styles:['.logo-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:16px}.pdf-logo-top[_ngcontent-%COMP%]{max-width:clamp(220px,28vw,400px);width:100%;height:auto;display:block}.keep-with-next[_ngcontent-%COMP%]{page-break-after:avoid;break-after:avoid}.table-topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:6px}.topbar-title[_ngcontent-%COMP%], .topbar-user[_ngcontent-%COMP%]{color:#000!important;font-size:24px;font-weight:600;white-space:nowrap}.topbar-user[_ngcontent-%COMP%]{color:#000!important;text-align:right}.no-print[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{color:#000!important;font-weight:600!important}.no-print[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{color:#000!important;font-weight:400!important}#pdfContent[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;overflow:visible;--time-col-bg: #f1f3f5;--time-col-color: #000}#pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-collapse:collapse}#pdfContent[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #pdfContent[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-word}#pdfContent[_ngcontent-%COMP%]   td.time-col[_ngcontent-%COMP%]{position:relative;background-color:var(--time-col-bg)!important;color:var(--time-col-color)!important}#pdfContent[_ngcontent-%COMP%]   td.time-col[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:1px;background:var(--time-col-bg);z-index:1;pointer-events:none}#pdfContent[_ngcontent-%COMP%]   td.time-col[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:2}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;border:1px solid #000;padding:12px;font-size:15px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}@media print{thead[_ngcontent-%COMP%]{display:table-header-group}tfoot[_ngcontent-%COMP%]{display:table-footer-group}table[_ngcontent-%COMP%]{break-inside:auto;page-break-inside:auto}.btn[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}#pdfContent[_ngcontent-%COMP%]{page-break-inside:avoid}}']})}}return t})();function CG(t,n){if(t&1&&(g(0,"small",23),_(1),p()),t&2){let e=L();C(),nt("(",e.weekLabel,")")}}function SG(t,n){if(t&1&&(g(0,"option",24),_(1),p()),t&2){let e=n.$implicit;O("value",e),C(),ke(e)}}function xG(t,n){if(t&1&&(g(0,"option",24),_(1),p()),t&2){let e=n.$implicit;O("value",e),C(),ke(e)}}function EG(t,n){if(t&1&&(g(0,"div",25),_(1," You are about to book: "),g(2,"strong"),_(3),p(),_(4,", "),g(5,"strong"),_(6),p(),_(7," \u2022 "),g(8,"strong"),_(9),p()()),t&2){let e=L();C(3),ke(e.selectedDay),C(3),ke(e.resolvedDateHuman),C(3),ke(e.selectedTime)}}function MG(t,n){if(t&1&&(g(0,"div",26),_(1),p()),t&2){let e=L();C(),ke(e.overlapMessage)}}function DG(t,n){if(t&1&&(g(0,"div",27),_(1),p()),t&2){let e=L();C(),ke(e.serverError)}}var qk=(()=>{class t{constructor(){this.weekdays=[],this.availableTimeSlots=[],this.existingBookings=[],this.serverError=null,this.confirmBooking=new ht,this.cancel=new ht,this.selectedDay="",this.selectedTime="",this.description="",this.overlapMessage=null}dayToOffset(e){return{monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[(e||"").trim().toLowerCase()]??0}asDate(e){return e instanceof Date?new Date(e):new Date(e)}get resolvedDateIso(){if(!this.selectedDay)return null;let e=this.asDate(this.weekStart),i=new Date(e);i.setDate(i.getDate()+this.dayToOffset(this.selectedDay)),i.setHours(0,0,0,0);let r=i.getFullYear(),o=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${r}-${o}-${s}`}get resolvedDateHuman(){if(!this.resolvedDateIso)return null;let e=new Date(this.resolvedDateIso),i=e.toLocaleString("default",{weekday:"short"}),r=e.toLocaleString("default",{month:"short"});return`${i} ${e.getDate()} ${r} ${e.getFullYear()}`}toMinutes(e){if(!e)return null;let i=e.slice(0,5),[r,o]=i.split(":").map(s=>+s);return Number.isNaN(r)||Number.isNaN(o)?null:r*60+o}overlaps(e,i,r,o){return Math.max(e,r)<Math.min(i,o)}recomputeOverlapMessage(){if(this.overlapMessage=null,!this.selectedDay||!this.selectedTime||!this.resolvedDateIso)return;let[e,i]=this.selectedTime.split(" - "),r=this.toMinutes(e)??0,o=this.toMinutes(i)??0;this.existingBookings.find(a=>{if(!a.bookingDate||!(a.bookingDate.slice(0,10)===this.resolvedDateIso))return!1;let c=this.toMinutes(a.startTime||null),f=this.toMinutes(a.endTime||null);return c==null||f==null?!1:this.overlaps(r,o,c,f)})&&(this.overlapMessage=`This time overlaps an existing booking on ${this.resolvedDateHuman}. Please adjust your time.`)}onDayChange(){this.serverError=null,this.recomputeOverlapMessage()}onTimeChange(){this.serverError=null,this.recomputeOverlapMessage()}submit(){this.recomputeOverlapMessage(),!this.overlapMessage&&this.selectedDay&&this.selectedTime&&this.confirmBooking.emit({day:this.selectedDay,time:this.selectedTime,description:this.description.trim()})}close(){this.cancel.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-book-lab-slot-modal"]],inputs:{weekdays:"weekdays",availableTimeSlots:"availableTimeSlots",weekStart:"weekStart",existingBookings:"existingBookings",weekLabel:"weekLabel",serverError:"serverError"},outputs:{confirmBooking:"confirmBooking",cancel:"cancel"},standalone:!0,features:[$e],decls:32,vars:10,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["class","text-muted ms-2",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","daySelect",1,"form-label"],["id","daySelect","name","day",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","timeSelect",1,"form-label"],["id","timeSelect","name","time",1,"form-select",3,"ngModelChange","ngModel"],["class","alert alert-info py-2 mb-3",4,"ngIf"],["class","alert alert-danger py-2 mb-3",4,"ngIf"],["class","alert alert-danger py-2 mb-0",4,"ngIf"],[1,"mb-0","mt-3"],["for","description",1,"form-label"],["id","description","rows","2","name","description","placeholder","Why are you booking this slot?",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"text-muted","ms-2"],[3,"value"],[1,"alert","alert-info","py-2","mb-3"],[1,"alert","alert-danger","py-2","mb-3"],[1,"alert","alert-danger","py-2","mb-0"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),_(5," Book Lab Slot "),ye(6,CG,2,1,"small",5),p(),g(7,"button",6),j("click",function(){return r.close()}),p()(),g(8,"div",7)(9,"form")(10,"div",8)(11,"label",9),_(12,"Select Day"),p(),g(13,"select",10),Qe("ngModelChange",function(s){return Je(r.selectedDay,s)||(r.selectedDay=s),s}),j("ngModelChange",function(){return r.onDayChange()}),ye(14,SG,2,2,"option",11),p()(),g(15,"div",8)(16,"label",12),_(17,"Select Time"),p(),g(18,"select",13),Qe("ngModelChange",function(s){return Je(r.selectedTime,s)||(r.selectedTime=s),s}),j("ngModelChange",function(){return r.onTimeChange()}),ye(19,xG,2,2,"option",11),p()(),ye(20,EG,10,3,"div",14)(21,MG,2,1,"div",15)(22,DG,2,1,"div",16),g(23,"div",17)(24,"label",18),_(25,"Description (optional)"),p(),g(26,"textarea",19),Qe("ngModelChange",function(s){return Je(r.description,s)||(r.description=s),s}),p()()()(),g(27,"div",20)(28,"button",21),j("click",function(){return r.close()}),_(29,"Cancel"),p(),g(30,"button",22),j("click",function(){return r.submit()}),_(31," Confirm Booking "),p()()()()()),i&2&&(C(6),O("ngIf",r.weekLabel),C(7),Ke("ngModel",r.selectedDay),C(),O("ngForOf",r.weekdays),C(4),Ke("ngModel",r.selectedTime),C(),O("ngForOf",r.availableTimeSlots),C(),O("ngIf",r.selectedDay&&r.selectedTime&&r.resolvedDateHuman),C(),O("ngIf",r.overlapMessage),C(),O("ngIf",r.serverError),C(4),Ke("ngModel",r.description),C(4),O("disabled",!r.selectedDay||!r.selectedTime||!!r.overlapMessage))},dependencies:[ct,on,Mt,vn,Mi,Di,Ii,wn,pi,Zt,Ei,bn,zr],styles:[".modal[_ngcontent-%COMP%]{background:#00000080;overflow-y:auto}.modal-dialog[_ngcontent-%COMP%]{margin-top:10vh;max-width:500px}.modal-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out;border-radius:8px;box-shadow:0 8px 20px #0000004d}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.alert[_ngcontent-%COMP%]{margin-bottom:.75rem}"]})}}return t})();var zk=(()=>{class t{constructor(){this.confirmUnbooking=new ht,this.cancel=new ht}submit(){this.confirmUnbooking.emit()}close(){this.cancel.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-unbook-lab-slot-modal"]],inputs:{booking:"booking"},outputs:{confirmUnbooking:"confirmUnbooking",cancel:"cancel"},standalone:!0,features:[$e],decls:27,vars:4,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show","d-block",2,"background","rgba(0,0,0,0.5)"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"border","rounded","p-3","bg-light","text-start"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),_(5,"Unbook Lab Slot"),p(),g(6,"button",5),j("click",function(){return r.close()}),p()(),g(7,"div",6)(8,"p"),_(9," Are you sure you want to cancel the following booking? "),p(),g(10,"div",7)(11,"strong"),_(12,"Day:"),p(),_(13),ze(14,"br"),g(15,"strong"),_(16,"Date:"),p(),_(17),ze(18,"br"),g(19,"strong"),_(20,"Time:"),p(),_(21),p()(),g(22,"div",8)(23,"button",9),j("click",function(){return r.close()}),_(24,"Cancel"),p(),g(25,"button",10),j("click",function(){return r.submit()}),_(26,"Confirm Unbooking"),p()()()()()),i&2&&(C(13),nt(" ",r.booking.weekDays,""),C(4),nt(" ",r.booking.bookingDate,""),C(4),_n(" ",r.booking.startTime," to ",r.booking.endTime," "))},dependencies:[ct]})}}return t})();var Wk=ay(ly());var $k=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl}getAllBookings(){return this.http.get(`${this.baseUrl}scheduler/lab`)}getMyBookings(){return this.http.get(`${this.baseUrl}scheduler/lab/user`)}createBooking(e){return this.http.post(`${this.baseUrl}scheduler/lab`,e)}createBookingForUser(e,i){return this.http.post(`${this.baseUrl}scheduler/lab/assign/${e}`,i)}deleteBooking(e){return this.http.delete(`${this.baseUrl}scheduler/lab/${e}`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AG(t,n){if(t&1){let e=Re();g(0,"div")(1,"button",22),j("click",function(){K(e);let r=L();return Q(r.openBookingModal())}),_(2,"Book Lab Slot"),p()()}if(t&2){let e=L();C(),O("disabled",e.isPastWeekView())}}function TG(t,n){}function NG(t,n){t&1&&(g(0,"div",23),_(1," Nothing scheduled for this week. "),p())}function kG(t,n){t&1&&ze(0,"col",37)}function PG(t,n){if(t&1&&(g(0,"th"),_(1),p()),t&2){let e=n.$implicit;C(),ke(e)}}function OG(t,n){if(t&1&&(Hn(0),g(1,"button",44),_(2),p(),qn()),t&2){let e=L().ngIf;C(),Xt("aria-disabled",!0),C(),nt(" ",e.description||"Booked"," ")}}function FG(t,n){if(t&1){let e=Re();g(0,"button",45),j("click",function(){K(e);let r=L().ngIf,o=L(4);return Q(o.triggerUnbookModal(r))}),_(1),p()}if(t&2){let e=L().ngIf,i=L(4);So("cursor",i.isPastWeekView()?"not-allowed":"pointer"),O("disabled",i.isPastWeekView()),C(),nt(" ",e.description||"Booked"," ")}}function RG(t,n){if(t&1&&(g(0,"div",46),_(1),p()),t&2){let e=L().ngIf;C(),_n(" Booked by: ",e.firstName," ",e.lastName," ")}}function LG(t,n){if(t&1&&(Hn(0),ye(1,OG,3,2,"ng-container",11)(2,FG,2,4,"ng-template",null,2,El)(4,RG,2,2,"div",43),qn()),t&2){let e=n.ngIf,i=xl(3),r=L(4);C(),O("ngIf",r.isStudent())("ngIfElse",i),C(3),O("ngIf",e.firstName||e.lastName)}}function jG(t,n){t&1&&(g(0,"span",47),_(1,"-"),p())}function VG(t,n){if(t&1&&(g(0,"td",41)(1,"div",42),ye(2,LG,5,3,"ng-container",11)(3,jG,2,0,"ng-template",null,1,El),p()()),t&2){let e=n.$implicit,i=xl(4),r=L().$implicit,o=L(2);C(2),O("ngIf",o.getBookingObject(e,r))("ngIfElse",i)}}function BG(t,n){if(t&1&&(g(0,"tr",38)(1,"td",39)(2,"strong"),_(3),p()(),ye(4,VG,5,2,"td",40),p()),t&2){let e=n.$implicit,i=L(2);C(3),ke(e),C(),O("ngForOf",i.weekdays)}}function UG(t,n){if(t&1&&(g(0,"div",24)(1,"div",25),ze(2,"img",26),p(),g(3,"div",27)(4,"div",28),_(5),p(),g(6,"div",29),_(7),p()(),g(8,"table",30)(9,"colgroup"),ze(10,"col",31),ye(11,kG,1,0,"col",32),p(),g(12,"thead",33)(13,"tr")(14,"th",34),_(15,"Time"),p(),ye(16,PG,2,1,"th",35),p()(),g(17,"tbody"),ye(18,BG,5,2,"tr",36),p()()()),t&2){let e=L();C(5),nt(" Lab Schedule: ",e.getWeekRangeLabelShort().replace("Week:","Week").split(" ").slice(0,-1).join(" ")," "),C(2),ke(e.userFullName),C(4),O("ngForOf",e.weekdays),C(5),O("ngForOf",e.weekdays),C(2),O("ngForOf",e.timeSlots)}}function HG(t,n){if(t&1){let e=Re();g(0,"app-book-lab-slot-modal",48),j("confirmBooking",function(r){K(e);let o=L();return Q(o.handleBookingConfirmed(r))})("cancel",function(){K(e);let r=L();return Q(r.closeBookingModal())}),p()}if(t&2){let e=L();O("weekdays",e.weekdays)("availableTimeSlots",e.timeSlots)("weekStart",e.currentWeekStart)("existingBookings",e.bookings)("weekLabel",e.getWeekRangeLabelShort())("serverError",e.modalServerError)}}function qG(t,n){if(t&1){let e=Re();g(0,"app-unbook-lab-slot-modal",49),j("confirmUnbooking",function(){K(e);let r=L();return Q(r.handleBookingUnconfirmed())})("cancel",function(){K(e);let r=L();return Q(r.closeUnbookModal())}),p()}if(t&2){let e=L();O("booking",e.selectedBookingToDelete)}}var Gk=(()=>{class t{constructor(e,i){this.labbookingService=e,this.accountService=i,this.bookings=[],this.timeSlots=[],this.weekdays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.currentWeekStart=this.startOfWeekSunday(new Date),this.selectedSemester=this.defaultSemesterForDate(new Date),this.showBookingModal=!1,this.showUnbookingModal=!1,this.selectedBookingToDelete=null,this.modalServerError=null}ngOnInit(){this.generateTimeSlots(),this.loadBookings(),this.currentWeekStart=this.clampWeekToSemester(this.currentWeekStart,this.selectedSemester,this.currentWeekStart.getFullYear())}get user(){return this.accountService.currentUser()}get roles(){return this.accountService.roles()}isStudent(){return this.roles.includes("Student")}get userFullName(){let e=this.user||{},i=(...s)=>s.map(a=>(a??"").toString().trim()).find(a=>a.length>0)||"",r=i(e.name),o=i(e.surname);if(!r||!o){let s=i(e.userName),a=this.bookings.find(l=>(l.userName??"")===s);a&&(r||(r=i(a.firstName)),o||(o=i(a.lastName)))}return r&&o?`${r} ${o}`:r||o||i(e.displayName,e.username,e.userName)}generateTimeSlots(){let e=[],s=c=>c.toString().padStart(2,"0"),a=c=>`${s(Math.floor(c/60))}:${s(c%60)}`,l=370;for(let c=0;c<16;c++){let f=l+60;e.push(`${a(l)} - ${a(f)}`),l+=60}this.timeSlots=e}startOfWeekSunday(e){let i=new Date(e);return i.setHours(0,0,0,0),i.setDate(i.getDate()-i.getDay()),i}weekStartOfDate(e){return this.startOfWeekSunday(e)}addDays(e,i){let r=new Date(e);return r.setDate(r.getDate()+i),r}defaultSemesterForDate(e){return e.getMonth()<=5?1:2}semesterBounds(e,i){let r=new Date(i,e===1?0:6,1),o=new Date(i,e===1?5:11,e===1?30:31);return r.setHours(0,0,0,0),o.setHours(23,59,59,999),{start:r,end:o}}clampWeekToSemester(e,i,r){let{start:o,end:s}=this.semesterBounds(i,r),a=this.startOfWeekSunday(e);a<this.startOfWeekSunday(o)&&(a=this.startOfWeekSunday(o));let l=this.startOfWeekSunday(this.addDays(s,-6));return a>l&&(a=l),a}firstBookedWeekStart(e,i){let{start:r,end:o}=this.semesterBounds(e,i),s=(this.bookings||[]).map(a=>this.normalizeApiDateString(a.bookingDate)).filter(a=>!!a).map(a=>new Date(a)).filter(a=>a>=r&&a<=o).map(a=>this.weekStartOfDate(a)).sort((a,l)=>+a-+l);return s.length?s[0]:null}snapToNearestBookedWeekInSemester(){if(this.hasBookingsThisWeek())return;let i=new Date().getFullYear(),r=this.firstBookedWeekStart(this.selectedSemester,i);if(r)this.currentWeekStart=this.clampWeekToSemester(r,this.selectedSemester,i);else{let{start:o}=this.semesterBounds(this.selectedSemester,i);this.currentWeekStart=this.clampWeekToSemester(o,this.selectedSemester,i)}}onSemesterChange(){let e=new Date,i=e.getFullYear(),o=this.firstBookedWeekStart(this.selectedSemester,i)??(()=>{let{start:s,end:a}=this.semesterBounds(this.selectedSemester,i);return e>=s&&e<=a?e:s})();this.currentWeekStart=this.clampWeekToSemester(this.startOfWeekSunday(o),this.selectedSemester,i),this.snapToNearestBookedWeekInSemester()}canGoPrevWeek(){let{start:e}=this.semesterBounds(this.selectedSemester,this.currentWeekStart.getFullYear());return this.currentWeekStart>this.startOfWeekSunday(e)}canGoNextWeek(){let{end:e}=this.semesterBounds(this.selectedSemester,this.currentWeekStart.getFullYear()),i=this.startOfWeekSunday(this.addDays(e,-6));return this.currentWeekStart<i}prevWeek(){this.canGoPrevWeek()&&(this.currentWeekStart=this.clampWeekToSemester(this.addDays(this.currentWeekStart,-7),this.selectedSemester,this.currentWeekStart.getFullYear()))}nextWeek(){this.canGoNextWeek()&&(this.currentWeekStart=this.clampWeekToSemester(this.addDays(this.currentWeekStart,7),this.selectedSemester,this.currentWeekStart.getFullYear()))}isPastWeekView(){let e=this.startOfWeekSunday(new Date);return this.currentWeekStart<e}fmtDate(e){let i=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0");return`${i}-${r}-${o}`}getWeekRangeLabelShort(){let e=new Date(this.currentWeekStart),i=this.addDays(e,1),r=this.addDays(e,6),o=i.getDate(),s=i.toLocaleString("default",{month:"short"}),a=r.getDate(),l=r.toLocaleString("default",{month:"short"}),c=r.getFullYear();return i.getMonth()===r.getMonth()&&i.getFullYear()===r.getFullYear()?`Week: ${o}\u2013${a} ${l} ${c}`:`Week: ${o} ${s} \u2013 ${a} ${l} ${c}`}normalizeApiDateString(e){if(!e)return null;let i=new Date(e);return isNaN(i.getTime())?null:this.fmtDate(i)}toMinutes(e){if(!e)return null;let[i,r]=e.slice(0,5).split(":").map(o=>+o);return Number.isNaN(i)||Number.isNaN(r)?null:i*60+r}overlaps(e,i,r,o){return e==null||i==null?!1:Math.max(e,r)<Math.min(i,o)}sameDay(e,i){let r=(e??"").trim().toLowerCase(),o=(i??"").trim().toLowerCase();return r===o||r.startsWith(o)||o.startsWith(r)}getBookingDateForDay(e){let i={monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6},r=(e||"").toLowerCase().trim(),o=i[r]??0,s=new Date(this.currentWeekStart);return s.setDate(this.currentWeekStart.getDate()+o),s}getBookingObject(e,i){let r=this.getBookingDateForDay(e),o=this.fmtDate(r),[s,a]=i.split(" - "),l=this.toMinutes(s),c=this.toMinutes(a);return this.bookings.find(f=>{if(!(()=>{let{start:x,end:k}=this.semesterBounds(this.selectedSemester,r.getFullYear()),D=new Date(this.normalizeApiDateString(f.bookingDate)??"");return D>=x&&D<=k})())return!1;let w=this.normalizeApiDateString(f.bookingDate);if(!w||w!==o||!this.sameDay(f.weekDays,e))return!1;let h=this.toMinutes(f.startTime),S=this.toMinutes(f.endTime);return this.overlaps(h,S,l,c)})||null}hasBookingsThisWeek(){let e=new Date(this.currentWeekStart),i=this.addDays(e,7);return this.bookings.some(r=>{let o=this.normalizeApiDateString(r.bookingDate);if(!o)return!1;let s=new Date(o),{start:a,end:l}=this.semesterBounds(this.selectedSemester,s.getFullYear());return s>=a&&s<=l&&s>=e&&s<i})}loadBookings(){this.labbookingService.getAllBookings().subscribe({next:e=>{this.bookings=e||[],this.snapToNearestBookedWeekInSemester()},error:e=>{console.error("Failed to load lab bookings",e),this.bookings=[]}})}canBook(){return this.roles.includes("Lecturer")||this.roles.includes("Coordinator")||this.roles.includes("Admin")}canUnbook(e){return this.isPastWeekView()?!1:this.roles.includes("Admin")||e.userName===this.user?.userName}openBookingModal(){this.isPastWeekView()||(this.modalServerError=null,this.showBookingModal=!0)}closeBookingModal(){this.showBookingModal=!1}triggerUnbookModal(e){this.canUnbook(e)&&(this.selectedBookingToDelete=e,this.showUnbookingModal=!0)}closeUnbookModal(){this.selectedBookingToDelete=null,this.showUnbookingModal=!1}handleBookingConfirmed(e){let[i,r]=e.time.split(" - "),o=this.getBookingDateForDay(e.day),s={weekDays:e.day,startTime:`${i.slice(0,5)}:00`,endTime:`${r.slice(0,5)}:00`,bookingDate:this.fmtDate(o),description:(e.description??"").slice(0,25)};this.modalServerError=null,this.labbookingService.createBooking(s).subscribe({next:()=>{this.loadBookings(),this.showBookingModal=!1},error:a=>{let l=a?.error,c=l?.message??(typeof l=="string"?l:"Booking failed. Please adjust your times and try again.");this.modalServerError=c}})}handleBookingUnconfirmed(){this.selectedBookingToDelete?.id&&this.labbookingService.deleteBooking(this.selectedBookingToDelete.id).subscribe({next:()=>{this.loadBookings(),this.closeUnbookModal()},error:e=>{console.error("Unbooking failed:",e),this.closeUnbookModal()}})}downloadScheduleAsPdf(){return Rn(this,null,function*(){let e=document.getElementById("labScheduleTable");if(!e)return;let i=e.getBoundingClientRect(),o=Array.from(e.querySelectorAll("table tbody tr")).map(H=>Math.max(0,Math.floor(H.getBoundingClientRect().top-i.top)));o.unshift(0);let s=2,a=yield(0,Wk.default)(e,{scale:s,useCORS:!0,backgroundColor:"#ffffff",logging:!1,windowWidth:e.scrollWidth,windowHeight:e.scrollHeight,scrollY:-window.scrollY}),l=o.map(H=>Math.round(H*s)),c=new ot({orientation:"landscape",unit:"px",format:"a4"}),f=c.internal.pageSize.getWidth(),v=c.internal.pageSize.getHeight(),w=24,h=24,S=f-2*w,x=v-2*h,k=S/a.width,D=Math.floor(x/k),Z=0,G=a.height;for(;Z<G;){let H=Z+D,he=G;for(let N=0;N<l.length;N++)if(l[N]>H){he=Math.max(Z+1,l[N-1]??H);break}he===G&&H<G&&(he=H);let we=Math.min(he-Z,G-Z),ge=document.createElement("canvas");ge.width=a.width,ge.height=we,ge.getContext("2d").drawImage(a,0,Z,a.width,we,0,0,a.width,we);let $=ge.toDataURL("image/png"),ae=we*k;c.addImage($,"PNG",w,h,S,ae),Z+=we,Z<G&&c.addPage("a4","landscape")}c.save("Lab_Schedule.pdf")})}static{this.\u0275fac=function(i){return new(i||t)(W($k),W(ln))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-lab-schedule"]],standalone:!0,features:[$e],decls:33,vars:12,consts:[["readonlyMsg",""],["emptyCell",""],["staffButton",""],[1,"container","mt-4"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2","mb-3","weekbar"],[1,"d-flex","align-items-center","gap-2"],[1,"me-2","sem-label"],[1,"form-select","form-select-sm","sem-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[1,"ms-auto"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[4,"ngIf","ngIfElse"],[1,"btn","btn-success",3,"click","disabled"],["class","alert alert-info text-center py-4",4,"ngIf"],["data-html2canvas-ignore","true",1,"logo-nav"],["aria-label","Previous week",1,"btn","nav-btn",3,"click","disabled"],["aria-hidden","true",1,"nav-circle"],[1,"nav-text"],["aria-label","Next week",1,"btn","nav-btn",3,"click","disabled"],["id","labScheduleTable","class","table-responsive mt-3 p-4 bg-white",4,"ngIf"],[3,"weekdays","availableTimeSlots","weekStart","existingBookings","weekLabel","serverError","confirmBooking","cancel",4,"ngIf"],[3,"booking","confirmUnbooking","cancel",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[1,"alert","alert-info","text-center","py-4"],["id","labScheduleTable",1,"table-responsive","mt-3","p-4","bg-white"],[1,"logo-row"],["src","assets/ufslogo.jpg","alt","UFS Logo",1,"pdf-logo-top"],[1,"table-topbar"],[1,"topbar-title"],[1,"topbar-user"],[1,"table","table-bordered","text-center","align-middle","schedule-table",2,"table-layout","auto","width","100%"],[1,"col-time"],["class","col-day",4,"ngFor","ngForOf"],[1,"table-light"],[1,"time-head","no-wrap"],[4,"ngFor","ngForOf"],["class","schedule-row",4,"ngFor","ngForOf"],[1,"col-day"],[1,"schedule-row"],[1,"time-cell","no-wrap"],["class","slot-cell",4,"ngFor","ngForOf"],[1,"slot-cell"],[1,"cell-content"],["class","small text-muted mt-1 booked-by-1line",4,"ngIf"],["tabindex","-1",1,"btn","btn-dark","btn-sm","w-100","non-interactive","cell-btn"],[1,"btn","btn-outline-dark","btn-sm","w-100","cell-btn",3,"click","disabled"],[1,"small","text-muted","mt-1","booked-by-1line"],[1,"text-muted"],[3,"confirmBooking","cancel","weekdays","availableTimeSlots","weekStart","existingBookings","weekLabel","serverError"],[3,"confirmUnbooking","cancel","booking"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",3)(1,"div",4)(2,"div",5)(3,"label",6),_(4,"Semester:"),p(),g(5,"select",7),Qe("ngModelChange",function(a){return K(o),Je(r.selectedSemester,a)||(r.selectedSemester=a),Q(a)}),j("change",function(){return K(o),Q(r.onSemesterChange())}),g(6,"option",8),_(7,"Semester 1"),p(),g(8,"option",8),_(9,"Semester 2"),p()()(),ze(10,"div",9),p(),g(11,"div",10),ye(12,AG,3,1,"div",11)(13,TG,0,0,"ng-template",null,0,El),g(15,"div",9)(16,"button",12),j("click",function(){return K(o),Q(r.downloadScheduleAsPdf())}),_(17," Download PDF "),p()()(),ye(18,NG,2,0,"div",13),g(19,"div",14)(20,"button",15),j("click",function(){return K(o),Q(r.prevWeek())}),g(21,"span",16),_(22,"<"),p(),g(23,"span",17),_(24,"Prev"),p()(),g(25,"button",18),j("click",function(){return K(o),Q(r.nextWeek())}),g(26,"span",17),_(27,"Next"),p(),g(28,"span",16),_(29,">"),p()()(),ye(30,UG,19,5,"div",19)(31,HG,1,6,"app-book-lab-slot-modal",20)(32,qG,1,1,"app-unbook-lab-slot-modal",21),p()}if(i&2){let o=xl(14);C(5),Ke("ngModel",r.selectedSemester),C(),O("ngValue",1),C(2),O("ngValue",2),C(4),O("ngIf",r.canBook())("ngIfElse",o),C(4),O("disabled",!r.hasBookingsThisWeek()),C(2),O("ngIf",!r.hasBookingsThisWeek()),C(2),O("disabled",!r.canGoPrevWeek()),C(5),O("disabled",!r.canGoNextWeek()),C(5),O("ngIf",r.hasBookingsThisWeek()),C(),O("ngIf",r.showBookingModal),C(),O("ngIf",r.showUnbookingModal&&r.selectedBookingToDelete)}},dependencies:[ct,on,Mt,vn,Di,Ii,pi,Zt,bn,qk,zk],styles:[".btn-outline-primary[_ngcontent-%COMP%]{border-radius:20px;font-weight:500;text-transform:none}.non-interactive[_ngcontent-%COMP%]{pointer-events:none;cursor:default!important}.non-interactive.cell-btn.btn-dark[_ngcontent-%COMP%], .non-interactive.cell-btn.btn-dark[_ngcontent-%COMP%]:focus, .non-interactive.cell-btn.btn-dark[_ngcontent-%COMP%]:active{background-color:#b3d4ff!important;border-color:#b3d4ff!important;color:#000!important;box-shadow:0 0 0 2px #1366f126!important}#labScheduleTable[_ngcontent-%COMP%]   .cell-btn.non-interactive[_ngcontent-%COMP%], #labScheduleTable[_ngcontent-%COMP%]   .cell-btn.non-interactive[_ngcontent-%COMP%]:focus, #labScheduleTable[_ngcontent-%COMP%]   .cell-btn.non-interactive[_ngcontent-%COMP%]:active{background-color:#b3d4ff!important;border-color:#b3d4ff!important;color:#000!important;box-shadow:0 0 0 2px #1366f126!important}[_ngcontent-%COMP%]:root{--booked-by-color: #000}#labScheduleTable[_ngcontent-%COMP%]   .booked-by-1line[_ngcontent-%COMP%]{color:var(--booked-by-color)!important}.cell-btn[_ngcontent-%COMP%]:not(.non-interactive):hover, .cell-btn[_ngcontent-%COMP%]:not(.non-interactive):focus{background-color:#f2f2f2!important;color:#000!important;border-color:#adb5bd!important}.logo-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.nav-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:transparent;border:0;padding:0}.nav-circle[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#0d6efd;color:#fff;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 12px #0d6efd40;font-size:16px;line-height:1}.nav-text[_ngcontent-%COMP%]{color:#000;font-weight:600}.nav-btn[disabled][_ngcontent-%COMP%]   .nav-circle[_ngcontent-%COMP%]{background:#93c5fd;box-shadow:none;opacity:.7}.nav-btn[disabled][_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{color:#6c757d}.logo-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.pdf-logo-top[_ngcontent-%COMP%]{max-width:clamp(220px,28vw,400px);width:100%;height:auto;display:block}.table-topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:6px}.topbar-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;white-space:nowrap;color:#000!important}.topbar-user[_ngcontent-%COMP%]{font-size:24px;font-weight:600;white-space:nowrap;text-align:right;color:#000!important}.weekbar[_ngcontent-%COMP%]   .sem-select[_ngcontent-%COMP%]{width:auto!important;max-width:max-content!important;min-width:0!important;display:inline-block!important;color:#000!important;font-weight:400!important}.weekbar[_ngcontent-%COMP%]   .sem-label[_ngcontent-%COMP%]{color:#000!important;font-weight:600!important}#labScheduleTable[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;overflow:visible!important}#labScheduleTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], #labScheduleTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #labScheduleTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #labScheduleTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #labScheduleTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff!important}#labScheduleTable[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{background:transparent!important}#labScheduleTable[_ngcontent-%COMP%]   .cell-btn[_ngcontent-%COMP%]:not(.non-interactive):hover, #labScheduleTable[_ngcontent-%COMP%]   .cell-btn[_ngcontent-%COMP%]:not(.non-interactive):focus{background-color:#b3d4ff!important;color:#000!important;border-color:#b3d4ff!important;box-shadow:0 0 0 2px #1366f126}#labScheduleTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff!important;color:#fff!important}#labScheduleTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:collapse}.col-time[_ngcontent-%COMP%]{width:140px}.time-head[_ngcontent-%COMP%], .time-cell[_ngcontent-%COMP%], .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.time-head[_ngcontent-%COMP%], .time-cell[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;border:1px solid #000;padding:12px;font-size:16px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}#labScheduleTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .time-cell[_ngcontent-%COMP%]{font-weight:700;background-color:#f1f5f2!important}.booked-by[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-size:.85rem;color:#6c757d;margin-top:4px}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%], .schedule-row[_ngcontent-%COMP%], .schedule-row[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}@media print{thead[_ngcontent-%COMP%]{display:table-header-group}tfoot[_ngcontent-%COMP%]{display:table-footer-group}table[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]{break-inside:auto;page-break-inside:auto}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}.btn[_ngcontent-%COMP%]{display:none!important}}"]})}}return t})();var Yk=(()=>{class t{constructor(){this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-scheduler"]],standalone:!0,features:[$e],decls:30,vars:2,consts:[[1,"scheduler-container"],[1,"mb-0"],[1,"mobile-menu"],[1,"btn","btn-primary","menu-toggle",3,"click"],[1,"menu-panel"],["routerLink","lab",3,"click"],["routerLink","class",3,"click"],["routerLink","assessment",3,"click"],[1,"card-container"],["routerLink","lab","routerLinkActive","active",1,"card"],["routerLink","class","routerLinkActive","active",1,"card"],["routerLink","assessment","routerLinkActive","active",1,"card","assessment-card"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h2",1),_(2,"Scheduler"),p(),g(3,"div",2)(4,"button",3),j("click",function(){return r.toggleMenu()}),_(5," \u2630 Menu "),p(),g(6,"div",4)(7,"a",5),j("click",function(){return r.closeMenu()}),_(8,"View Lab Schedule"),p(),g(9,"a",6),j("click",function(){return r.closeMenu()}),_(10,"View Class Schedule"),p(),g(11,"a",7),j("click",function(){return r.closeMenu()}),_(12,"View Assessment Schedule"),p()()(),g(13,"div",8)(14,"a",9)(15,"h3"),_(16,"View Lab Schedule"),p(),g(17,"p"),_(18,"View Lab Bookings"),p()(),g(19,"a",10)(20,"h3"),_(21,"View Class Schedule"),p(),g(22,"p"),_(23,"View Timetable and Class Slots"),p()(),g(24,"a",11)(25,"h3"),_(26,"View Assessment Schedule"),p(),g(27,"p"),_(28,"All Upcoming Assessments"),p()()(),ze(29,"router-outlet"),p()),i&2&&(C(6),Ge("open",r.menuOpen))},dependencies:[ct,tv,$h,kl,ev],styles:['.scheduler-container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .scheduler-container[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important;display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.scheduler-container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.scheduler-container[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{margin-top:.75rem}.scheduler-container[_ngcontent-%COMP%]{padding:0}.card-container[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.card[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:20px;border-radius:8px;text-decoration:none;color:#000;flex:1 1 200px;transition:background-color .3s ease,border-color .3s ease,box-shadow .3s ease;border:1px solid #ccc;min-width:220px}.card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.card.disabled[_ngcontent-%COMP%]{background-color:#ddd;color:#888;pointer-events:none;border:1px dashed #aaa}.assessment-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{white-space:normal;word-break:break-word}.card.active[_ngcontent-%COMP%]{background-color:#e7f1ff;border-color:#b3d4ff;box-shadow:0 0 0 2px #1366f126}.mobile-menu[_ngcontent-%COMP%]{display:none;margin-bottom:12px}.menu-toggle[_ngcontent-%COMP%]{width:120px}.menu-panel[_ngcontent-%COMP%]{display:none;border:1px solid #ddd;border-radius:8px;padding:8px;background:#fff;margin-top:8px}.menu-panel.open[_ngcontent-%COMP%]{display:block}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px 12px;text-decoration:none;border-radius:6px;color:#0d6efd}.menu-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#f2f6ff}@media (max-width: 576px){.mobile-menu[_ngcontent-%COMP%]{display:block}.card-container[_ngcontent-%COMP%]{display:none}}']})}}return t})();function zG(t,n){if(t&1&&(g(0,"li"),_(1),p()),t&2){let e=n.$implicit;C(),ke(e)}}function $G(t,n){if(t&1&&(g(0,"div",1)(1,"ul",2),md(2,zG,2,1,"li",null,l0),p()()),t&2){let e=L();C(2),gd(e.validationErrors)}}var Zk=(()=>{class t{constructor(){this.baseUrl=sn.apiUrl,this.http=Se(pn),this.validationErrors=[]}get400Error(){this.http.get(this.baseUrl+"buggy/bad-request").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get401Error(){this.http.get(this.baseUrl+"buggy/auth").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get404Error(){this.http.get(this.baseUrl+"buggy/not-found").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get500Error(){this.http.get(this.baseUrl+"buggy/server-error").subscribe({next:e=>console.log(e),error:e=>console.log(e)})}get400ValidationError(){this.http.post(this.baseUrl+"account/register",{}).subscribe({next:e=>console.log(e),error:e=>{console.log(e),this.validationErrors=e}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-test-errors"]],standalone:!0,features:[$e],decls:12,vars:1,consts:[[1,"btn","btn-outline-primary","me-3",3,"click"],[1,"row","mt-5"],[1,"text-danger"]],template:function(i,r){i&1&&(g(0,"div")(1,"button",0),j("click",function(){return r.get400Error()}),_(2,"Test 400 error"),p(),g(3,"button",0),j("click",function(){return r.get401Error()}),_(4,"Test 401 error"),p(),g(5,"button",0),j("click",function(){return r.get404Error()}),_(6,"Test 404 error"),p(),g(7,"button",0),j("click",function(){return r.get500Error()}),_(8,"Test 500 error"),p(),g(9,"button",0),j("click",function(){return r.get400ValidationError()}),_(10," Test 400 Validation error "),p(),ye(11,$G,4,0,"div",1),p()),i&2&&(C(11),pd(11,r.validationErrors.length>0?11:-1))}})}}return t})();var Kk=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-not-found"]],standalone:!0,features:[$e],decls:5,vars:0,consts:[[1,"container"],["routerLink","/",1,"btn","btn-info","btn-lg"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h1"),_(2,"Not found"),p(),g(3,"button",1),_(4,"Return to home page"),p()())},dependencies:[kl]})}}return t})();function WG(t,n){if(t&1&&(g(0,"h5",0),_(1),p(),g(2,"p",1),_(3,"Note: If you are seeing this error then angular is not to blame!"),p(),g(4,"p"),_(5,"What to do next?"),p(),g(6,"ol")(7,"li"),_(8,"Open chrome dev tools and check the failing network request in the network tab"),p(),g(9,"li"),_(10,"Examine the URL of the failing request"),p(),g(11,"li"),_(12,"Reproduce the error in postman - if you can reproduce the error then angular is not to blame"),p()(),g(13,"p",1),_(14,"Following is the stack trace - check the first 2 lines this tells you exactly which line of code caused the problem!"),p(),g(15,"code",2),_(16),p()),t&2){let e=L();C(),nt("Error: ",e.error.message,""),C(15),nt(" ",e.error.details," ")}}var Qk=(()=>{class t{constructor(e){this.router=e;let i=this.router.getCurrentNavigation();this.error=i?.extras?.state?.error}static{this.\u0275fac=function(i){return new(i||t)(W(zn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-server-error"]],standalone:!0,features:[$e],decls:3,vars:1,consts:[[1,"text-danger"],[1,"font-weight-bold"],[1,"mt-5",2,"background-color","whitesmoke"]],template:function(i,r){i&1&&(g(0,"h4"),_(1,"Internal Server Error"),p(),ye(2,WG,17,2)),i&2&&(C(2),pd(2,r.error?2:-1))}})}}return t})();var GG=["*"],YG=t=>["nav-item",t];function ZG(t,n){if(t&1){let e=Re();g(0,"span",7),j("click",function(r){K(e);let o=L().$implicit,s=L();return r.preventDefault(),Q(s.removeTab(o))}),_(1," \u274C"),p()}}function KG(t,n){if(t&1){let e=Re();g(0,"li",3),j("keydown",function(r){let o=K(e).index,s=L();return Q(s.keyNavActions(r,o))}),g(1,"a",4),j("click",function(){let r=K(e).$implicit;return Q(r.active=!0)}),g(2,"span",5),_(3),p(),ye(4,ZG,2,0,"span",6),p()()}if(t&2){let e=n.$implicit;Ge("active",e.active)("disabled",e.disabled),O("ngClass",bi(15,YG,e.customClass||"")),C(),Ge("active",e.active)("disabled",e.disabled),Xt("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),C(),O("ngTransclude",e.headingRef),C(),ke(e.heading),C(),O("ngIf",e.removable)}}var QG=(()=>{class t{set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}constructor(e){this.viewRef=e}static{this.\u0275fac=function(i){return new(i||t)(W(Nr))}}static{this.\u0275dir=Ft({type:t,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}}return t})(),XG=(()=>{class t{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RS=(()=>{class t{get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}constructor(e,i,r){this.renderer=i,this.elementRef=r,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=this.tabs.length===1&&!e.active}removeTab(e,i={reselect:!0,emit:!0}){let r=this.tabs.indexOf(e);if(!(r===-1||this.isDestroyed)){if(i.reselect&&e.active&&this.hasAvailableTabs(r)){let o=this.getClosestTabIndex(r);this.tabs[o].active=!0}i.emit&&e.removed.emit(e),this.tabs.splice(r,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,i){if(!this.isKeysAllowed)return;let r=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(e.keyCode===13||e.key==="Enter"||e.keyCode===32||e.key==="Space"){e.preventDefault(),r[i%r.length].click();return}if(e.keyCode===39||e.key==="RightArrow"){let o,s=1;do o=r[(i+s)%r.length],s++;while(o.classList.contains("disabled"));o.focus();return}if(e.keyCode===37||e.key==="LeftArrow"){let o,s=1,a=i;do a-s<0?(a=r.length-1,o=r[a],s=0):o=r[a-s],s++;while(o.classList.contains("disabled"));o.focus();return}if(e.keyCode===36||e.key==="Home"){e.preventDefault();let o,s=0;do o=r[s%r.length],s++;while(o.classList.contains("disabled"));o.focus();return}if(e.keyCode===35||e.key==="End"){e.preventDefault();let o,s=1,a=i;do a-s<0?(a=r.length-1,o=r[a],s=0):o=r[a-s],s++;while(o.classList.contains("disabled"));o.focus();return}if((e.keyCode===46||e.key==="Delete")&&this.tabs[i].removable){if(this.removeTab(this.tabs[i]),r[i+1]){r[(i+1)%r.length].focus();return}r[r.length-1]&&r[0].focus()}}getClosestTabIndex(e){let i=this.tabs.length;if(!i)return-1;for(let r=1;r<=i;r+=1){let o=e-r,s=e+r;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[s]&&!this.tabs[s].disabled)return s}return-1}hasAvailableTabs(e){let i=this.tabs.length;if(!i)return!1;for(let r=0;r<i;r+=1)if(!this.tabs[r].disabled&&r!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static{this.\u0275fac=function(i){return new(i||t)(W(XG),W(di),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["tabset"]],hostVars:2,hostBindings:function(i,r){i&2&&Ge("tab-container",r.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:GG,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(i,r){i&1&&(Cl(),g(0,"ul",0),j("click",function(s){return s.preventDefault()}),ye(1,KG,5,17,"li",1),p(),g(2,"div",2),Sl(3),p()),i&2&&(O("ngClass",r.classMap),Xt("aria-label",r.ariaLabel),C(),O("ngForOf",r.tabs))},dependencies:[ur,on,Mt,QG],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}}return t})(),Xk=(()=>{class t{get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.removeClass(this.elementRef.nativeElement,i)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(i=>{this.renderer.addClass(this.elementRef.nativeElement,i)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e){this._active&&!e&&(this.deselect.emit(this),this._active=e);return}this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(i=>{i!==this&&(i.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(e,i,r){this.elementRef=i,this.renderer=r,this.disabled=!1,this.removable=!1,this.selectTab=new ht,this.deselect=new ht,this.removed=new ht,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static{this.\u0275fac=function(i){return new(i||t)(W(RS),W(pt),W(di))}}static{this.\u0275dir=Ft({type:t,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(i,r){i&2&&(Xt("id",r.id)("role",r.role)("aria-labelledby",r.ariaLabelledby),Ge("active",r.active)("tab-pane",r.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}}return t})();var Jk=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[ct]})}}return t})();var rs=(()=>{class t{constructor(e){this.http=e,this.baseUrl=sn.apiUrl+"modules/"}getAllModules(){return this.http.get(this.baseUrl)}getModulesBySemester(e){return this.http.get(`${this.baseUrl}semester/${e}`)}getModuleById(e){return this.http.get(`${this.baseUrl}${e}`)}addModule(e){return this.http.post(this.baseUrl,e)}updateModule(e,i){return this.http.put(`${this.baseUrl}${e}`,i)}deleteModule(e){return this.http.delete(`${this.baseUrl}${e}`)}getAssignedModules(){return this.http.get(`${this.baseUrl}assigned`)}static{this.\u0275fac=function(i){return new(i||t)(Le(pn))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eY=["usernameInput"],Lp=t=>({"is-invalid":t});function tY(t,n){t&1&&(g(0,"div",24),_(1,"Checking availability\u2026"),p())}function nY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.usernameError)}}function iY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.firstNameError)}}function rY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.lastNameError)}}function oY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),nt(" ",e.emailError," ")}}function sY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.passwordError)}}function aY(t,n){if(t&1&&(g(0,"option",26),_(1),p()),t&2){let e=n.$implicit;O("value",e),C(),ke(e)}}function lY(t,n){t&1&&(g(0,"small",31),_(1,"(Year)"),p())}function cY(t,n){if(t&1){let e=Re();g(0,"div",27)(1,"input",28),j("change",function(r){let o=K(e).$implicit,s=L();return Q(s.toggleModule(o,1,r))}),p(),g(2,"label",29),_(3),ye(4,lY,2,0,"small",30),p()()}if(t&2){let e=n.$implicit,i=L();C(),O("checked",i.selectedSemester1.includes(e.id)),C(2),_n(" ",e.moduleCode," - ",e.moduleName," "),C(),O("ngIf",e.isYearModule)}}function uY(t,n){t&1&&(g(0,"small",31),_(1,"(Year)"),p())}function dY(t,n){if(t&1){let e=Re();g(0,"div",27)(1,"input",28),j("change",function(r){let o=K(e).$implicit,s=L();return Q(s.toggleModule(o,2,r))}),p(),g(2,"label",29),_(3),ye(4,uY,2,0,"small",30),p()()}if(t&2){let e=n.$implicit,i=L();C(),O("checked",i.selectedSemester2.includes(e.id)),C(2),_n(" ",e.moduleCode," - ",e.moduleName," "),C(),O("ngIf",e.isYearModule)}}var eP=(()=>{class t{constructor(e,i,r,o,s,a){this.adminService=e,this.moduleService=i,this.toastr=r,this.modalRef=o,this.bsModalService=s,this.elRef=a,this.userName="",this.firstName="",this.lastName="",this.email="",this.password="",this.role="Student",this.showPassword=!1,this.semester1Modules=[],this.semester2Modules=[],this.selectedSemester1=[],this.selectedSemester2=[],this.yearModuleIds=new Set,this.roles=["Student","Lecturer","Coordinator","Admin"],this.formDirty=!1,this.modalEl=null,this.usernameStatus="idle",this.usernameError="",this.firstNameError="",this.lastNameError="",this.emailError="",this.pwMinLen=!1,this.pwUpper=!1,this.pwLower=!1,this.pwDigit=!1,this.pwSymbol=!1,this.passwordError=""}sortByCode(e,i){return(e.moduleCode||"").localeCompare(i.moduleCode||"",void 0,{numeric:!0,sensitivity:"base"})}ngOnInit(){this.userName="",this.firstName="",this.lastName="",this.email="",this.password="",this.moduleService.getAllModules().subscribe({next:e=>{this.semester1Modules=e.filter(i=>i.semester===1||i.isYearModule).sort(this.sortByCode.bind(this)),this.semester2Modules=e.filter(i=>i.semester===2||i.isYearModule).sort(this.sortByCode.bind(this)),this.yearModuleIds=new Set(e.filter(i=>!!i.isYearModule).map(i=>i.id))}}),this.originalHide=this.modalRef.hide.bind(this.modalRef),this.modalRef.hide=()=>this.attemptClose()}ngAfterViewInit(){setTimeout(()=>this.usernameInput?.nativeElement.focus(),0);let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}markDirty(){this.formDirty=!0}togglePasswordVisibility(){this.showPassword=!this.showPassword}onRoleChange(e){this.role=e,this.markDirty(),this.onUsernameChange(this.userName)}onUsernameChange(e){if(this.markDirty(),this.userName=(e??"").trim(),this.usernameError="",this.usernameStatus="idle",!this.userName){this.usernameStatus="invalid",this.usernameError="Username is required.";return}if(!(this.role==="Admin")&&!/^\d{10}$/.test(this.userName)){this.usernameStatus="invalid",this.usernameError="Username must be exactly 10 digits.";return}this.usernameDebounce&&clearTimeout(this.usernameDebounce),this.usernameStatus="checking",this.usernameDebounce=setTimeout(()=>{this.adminService.checkUsernameExists(this.userName).subscribe({next:r=>{r?.exists?(this.usernameStatus="duplicate",this.usernameError="A user with Username already exists."):(this.usernameStatus="unique",this.usernameError="")},error:r=>{this.usernameStatus="invalid",this.usernameError="Could not verify username. Check your connection."}})},350)}nameValidPattern(e){return/^[A-Za-z][A-Za-z\s'-]*$/.test(e.trim())}onFirstNameChange(e){this.markDirty(),this.firstName=e,this.firstName.trim()?this.nameValidPattern(this.firstName)?this.firstNameError="":this.firstNameError="First name must contain letters only.":this.firstNameError="First name is required."}onLastNameChange(e){this.markDirty(),this.lastName=e,this.lastName.trim()?this.nameValidPattern(this.lastName)?this.lastNameError="":this.lastNameError="Last name must contain letters only.":this.lastNameError="Last name is required."}emailDomainValid(e){let i=e.trim().toLowerCase();return i.endsWith("@ufs4life.ac.za")||i.endsWith("@gmail.com")}onEmailChange(e){this.markDirty(),this.email=e;let i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email.trim());this.email.trim()?!i||!this.emailDomainValid(this.email)?this.emailError="Use a valid email ending with @ufs4life.ac.za or @gmail.com.":this.emailError="":this.emailError="Email is required."}onPasswordChange(e){this.markDirty(),this.password=e||"",this.pwMinLen=this.password.length>=8,this.pwUpper=/[A-Z]/.test(this.password),this.pwLower=/[a-z]/.test(this.password),this.pwDigit=/\d/.test(this.password),this.pwSymbol=/[^A-Za-z0-9]/.test(this.password),this.password?this.pwMinLen&&this.pwUpper&&this.pwLower&&this.pwDigit&&this.pwSymbol?this.passwordError="":this.passwordError="Password does not meet all requirements.":this.passwordError="Password is required."}get formValid(){let e=this.usernameStatus==="unique",i=!this.firstNameError&&!!this.firstName.trim(),r=!this.lastNameError&&!!this.lastName.trim(),o=!this.emailError&&!!this.email.trim(),s=!this.passwordError&&!!this.password&&this.pwMinLen&&this.pwUpper&&this.pwLower&&this.pwDigit&&this.pwSymbol;return e&&i&&r&&o&&s}toggleModule(e,i,r){let o=!!r.target.checked,s=e.id,a=!!e.isYearModule||this.yearModuleIds.has(s),l=i===1?this.selectedSemester1:this.selectedSemester2,c=i===1?this.selectedSemester2:this.selectedSemester1,f=(w,h)=>{w.includes(h)||w.push(h)},v=(w,h)=>{let S=w.indexOf(h);S>-1&&w.splice(S,1)};o?(f(l,s),a&&f(c,s)):(v(l,s),a&&v(c,s)),this.formDirty=!0}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.formDirty&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(!this.formValid){this.usernameStatus==="duplicate"?this.toastr.error("A user with this Username already exists."):this.toastr.error("Please fix the highlighted fields before submitting.");return}let e={userName:this.userName.trim(),firstName:this.firstName.trim(),lastName:this.lastName.trim(),email:this.email.trim().toLowerCase(),password:this.password,role:this.role,semester1ModuleIds:this.selectedSemester1,semester2ModuleIds:this.selectedSemester2};this.adminService.registerUser(e).subscribe({next:i=>{this.toastr.success(i?.message||"User registered successfully."),this.formDirty=!1,this.originalHide()},error:i=>{let r=i?.status,o=i?.error?.message;r===409?this.toastr.error("A user with this Username already exists."):r===400?this.toastr.error(o||"Invalid field data. Please review the inputs."):r>=500?this.toastr.error("Server error. Please try again."):this.toastr.error(o||"Could not register user. Please try again.")}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(W(Vl),W(rs),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-add-user-modal"]],viewQuery:function(i,r){if(i&1&&fi(eY,5),i&2){let o;oi(o=si())&&(r.usernameInput=o.first)}},standalone:!0,features:[$e],decls:75,vars:38,consts:[["usernameInput",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off",3,"submit"],[1,"mb-3"],["type","text","name","userName","required","","autocomplete","off","autocapitalize","none","spellcheck","false",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["class","form-text",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["type","text","name","firstName","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["type","text","name","lastName","required","",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["type","email","name","email","required","","autocomplete","off",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"input-group"],["name","newPassword","autocomplete","new-password","autocapitalize","none","spellcheck","false",1,"form-control",3,"ngModelChange","type","ngClass","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],[1,"mt-2","mb-0","small",2,"list-style","none","padding-left","0"],["name","role",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"form-text"],[1,"invalid-feedback"],[3,"value"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"form-check-label"],["class","text-muted",4,"ngIf"],[1,"text-muted"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"h4",2),_(2,"Add New User"),p(),g(3,"button",3),j("click",function(){return K(o),Q(r.cancel())}),p()(),g(4,"div",4)(5,"form",5),j("submit",function(a){return K(o),Q(a.preventDefault())}),g(6,"div",6)(7,"label"),_(8,"Username"),p(),g(9,"input",7,0),Qe("ngModelChange",function(a){return K(o),Je(r.userName,a)||(r.userName=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onUsernameChange(a))}),p(),ye(11,tY,2,0,"div",8)(12,nY,2,1,"div",9),p(),g(13,"div",6)(14,"label"),_(15,"First Name"),p(),g(16,"input",10),Qe("ngModelChange",function(a){return K(o),Je(r.firstName,a)||(r.firstName=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onFirstNameChange(a))}),p(),ye(17,iY,2,1,"div",9),p(),g(18,"div",6)(19,"label"),_(20,"Last Name"),p(),g(21,"input",11),Qe("ngModelChange",function(a){return K(o),Je(r.lastName,a)||(r.lastName=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onLastNameChange(a))}),p(),ye(22,rY,2,1,"div",9),p(),g(23,"div",6)(24,"label"),_(25,"Email"),p(),g(26,"input",12),Qe("ngModelChange",function(a){return K(o),Je(r.email,a)||(r.email=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onEmailChange(a))}),p(),ye(27,oY,2,1,"div",9),p(),g(28,"div",6)(29,"label"),_(30,"Password"),p(),g(31,"div",13)(32,"input",14),Qe("ngModelChange",function(a){return K(o),Je(r.password,a)||(r.password=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onPasswordChange(a))}),p(),g(33,"span",15),j("click",function(){return K(o),Q(r.togglePasswordVisibility())}),ze(34,"i",16),p(),ye(35,sY,2,1,"div",9),p(),g(36,"ul",17)(37,"li")(38,"span"),_(39),p(),_(40," Minimum 8 characters "),p(),g(41,"li")(42,"span"),_(43),p(),_(44," 1 uppercase letter "),p(),g(45,"li")(46,"span"),_(47),p(),_(48," 1 lowercase letter "),p(),g(49,"li")(50,"span"),_(51),p(),_(52," 1 digit "),p(),g(53,"li")(54,"span"),_(55),p(),_(56," 1 symbol (non-alphanumeric) "),p()()(),g(57,"div",6)(58,"label"),_(59,"Role"),p(),g(60,"select",18),Qe("ngModelChange",function(a){return K(o),Je(r.role,a)||(r.role=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onRoleChange(a))}),ye(61,aY,2,2,"option",19),p()(),g(62,"div",6)(63,"label"),_(64,"Semester 1 Modules"),p(),ye(65,cY,5,4,"div",20),p(),g(66,"div",6)(67,"label"),_(68,"Semester 2 Modules"),p(),ye(69,dY,5,4,"div",20),p()()(),g(70,"div",21)(71,"button",22),j("click",function(){return K(o),Q(r.cancel())}),_(72,"Cancel"),p(),g(73,"button",23),j("click",function(){return K(o),Q(r.submit())}),_(74,"Submit"),p()()}i&2&&(C(9),O("ngClass",bi(28,Lp,r.usernameError)),Ke("ngModel",r.userName),C(2),O("ngIf",r.usernameStatus==="checking"),C(),O("ngIf",r.usernameError),C(4),O("ngClass",bi(30,Lp,!!r.firstNameError)),Ke("ngModel",r.firstName),C(),O("ngIf",r.firstNameError),C(4),O("ngClass",bi(32,Lp,!!r.lastNameError)),Ke("ngModel",r.lastName),C(),O("ngIf",r.lastNameError),C(4),O("ngClass",bi(34,Lp,!!r.emailError)),Ke("ngModel",r.email),C(),O("ngIf",r.emailError),C(5),O("type",r.showPassword?"text":"password")("ngClass",bi(36,Lp,!!r.passwordError)),Ke("ngModel",r.password),C(2),O("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),C(),O("ngIf",r.passwordError),C(4),ke(r.pwMinLen?"\u2713":"\u2717"),C(4),ke(r.pwUpper?"\u2713":"\u2717"),C(4),ke(r.pwLower?"\u2713":"\u2717"),C(4),ke(r.pwDigit?"\u2713":"\u2717"),C(4),ke(r.pwSymbol?"\u2713":"\u2717"),C(5),Ke("ngModel",r.role),C(),O("ngForOf",r.roles),C(4),O("ngForOf",r.semester1Modules),C(4),O("ngForOf",r.semester2Modules),C(4),O("disabled",!r.formValid))},dependencies:[vn,Mi,Di,Ii,wn,pi,Zt,Ei,eu,bn,zr,ct,ur,on,Mt],styles:[".modal-body[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}"]})}}return t})();function fY(t,n){if(t&1){let e=Re();g(0,"div",9)(1,"input",10),j("change",function(r){let o=K(e).$implicit,s=L();return Q(s.toggleModule(o.id,s.selectedSemester1,r))}),p(),g(2,"label",11),_(3),p()()}if(t&2){let e=n.$implicit,i=L();C(),O("checked",i.selectedSemester1.includes(e.id))("id","sem1-"+e.id),C(),O("for","sem1-"+e.id),C(),_n(" ",e.moduleCode," - ",e.moduleName," ")}}function hY(t,n){if(t&1){let e=Re();g(0,"div",9)(1,"input",10),j("change",function(r){let o=K(e).$implicit,s=L();return Q(s.toggleModule(o.id,s.selectedSemester2,r))}),p(),g(2,"label",11),_(3),p()()}if(t&2){let e=n.$implicit,i=L();C(),O("checked",i.selectedSemester2.includes(e.id))("id","sem2-"+e.id),C(),O("for","sem2-"+e.id),C(),_n(" ",e.moduleCode," - ",e.moduleName," ")}}var tP=(()=>{class t{isYear(e){let i=(e.moduleCode||"").toUpperCase();return e.isYearModule===!0||e.semester===0||this.yearModuleCodes.has(i)}get isAdmin(){let e=this.user||{},i=Array.isArray(e.roles)?e.roles:[];return e.role==="Admin"||i.includes("Admin")}constructor(e,i,r,o,s,a){this.moduleService=e,this.adminService=i,this.toastr=r,this.modalRef=o,this.bsModalService=s,this.elRef=a,this.allModules=[],this.semester1Modules=[],this.semester2Modules=[],this.selectedSemester1=[],this.selectedSemester2=[],this.justSaved=!1,this.locallyDirty=!1,this.modalEl=null,this.yearModuleCodes=new Set(["CSIS6809","BCIS6809"])}sortByCode(e,i){return(e.moduleCode||"").localeCompare(i.moduleCode||"",void 0,{numeric:!0,sensitivity:"base"})}ngOnInit(){let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose(),this.moduleService.getAllModules().subscribe({next:i=>{this.allModules=i,this.rebuildSemesterLists();let r=this.user.modules.map(o=>o.id);this.selectedSemester1=this.semester1Modules.filter(o=>r.includes(o.id)).map(o=>o.id),this.selectedSemester2=this.semester2Modules.filter(o=>r.includes(o.id)).map(o=>o.id),this.locallyDirty=!1},error:()=>this.toastr.error("Failed to load modules")})}rebuildSemesterLists(){this.semester1Modules=this.allModules.filter(e=>e.semester===1||this.isYear(e)).sort(this.sortByCode.bind(this)),this.semester2Modules=this.allModules.filter(e=>e.semester===2||this.isYear(e)).sort(this.sortByCode.bind(this))}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:this.locallyDirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}toggleModule(e,i,r){if(r.target.checked)i.includes(e)||i.push(e);else{let o=i.indexOf(e);o>-1&&i.splice(o,1)}this.locallyDirty=!0}submit(){this.adminService.updateUserModules(this.user.userName,this.selectedSemester1,this.selectedSemester2).subscribe({next:()=>{this.toastr.success("Modules updated successfully"),this.justSaved=!0,this.originalHide()},error:e=>{let i=e.error?.message||"Failed to update modules";this.toastr.error(i)}})}cancel(){this.attemptClose()}trackById(e,i){return i.id}static{this.\u0275fac=function(i){return new(i||t)(W(rs),W(Vl),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-edit-modules-modal"]],inputs:{user:"user",bsModalRef:"bsModalRef"},standalone:!0,features:[$e],decls:21,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-muted","d-block","mb-2"],["class","form-check mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",3,"for"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h5",1),_(2),p(),g(3,"button",2),j("click",function(){return r.attemptClose()}),p()(),g(4,"div",3)(5,"h6"),_(6,"Semester 1 Modules"),p(),g(7,"small",4),_(8,"Year modules appear in both semester lists."),p(),ye(9,fY,4,5,"div",5),ze(10,"hr"),g(11,"h6"),_(12,"Semester 2 Modules"),p(),g(13,"small",4),_(14,"Year modules appear in both semester lists."),p(),ye(15,hY,4,5,"div",5),p(),g(16,"div",6)(17,"button",7),j("click",function(){return r.attemptClose()}),_(18,"Cancel"),p(),g(19,"button",8),j("click",function(){return r.submit()}),_(20,"Save Changes"),p()()),i&2&&(C(2),_n("Edit Modules for ",r.user.name," ",r.user.surname,""),C(7),O("ngForOf",r.semester1Modules)("ngForTrackBy",r.trackById),C(6),O("ngForOf",r.semester2Modules)("ngForTrackBy",r.trackById))},dependencies:[ct,on,vn],styles:[".modal-body[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}"]})}}return t})();var pY=["userForm"],x1=t=>({"is-invalid":t});function mY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.firstNameError)}}function gY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.lastNameError)}}function vY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),nt(" ",e.emailError," ")}}function yY(t,n){if(t&1&&(g(0,"div",25),_(1),p()),t&2){let e=L();C(),ke(e.passwordError)}}function _Y(t,n){if(t&1&&(g(0,"ul",26)(1,"li")(2,"span"),_(3),p(),_(4," Minimum 8 characters"),p(),g(5,"li")(6,"span"),_(7),p(),_(8," 1 uppercase letter"),p(),g(9,"li")(10,"span"),_(11),p(),_(12," 1 lowercase letter"),p(),g(13,"li")(14,"span"),_(15),p(),_(16," 1 digit"),p(),g(17,"li")(18,"span"),_(19),p(),_(20," 1 symbol (non-alphanumeric)"),p()()),t&2){let e=L();C(3),ke(e.pwMinLen?"\u2713":"\u2717"),C(4),ke(e.pwUpper?"\u2713":"\u2717"),C(4),ke(e.pwLower?"\u2713":"\u2717"),C(4),ke(e.pwDigit?"\u2713":"\u2717"),C(4),ke(e.pwSymbol?"\u2713":"\u2717")}}function bY(t,n){if(t&1){let e=Re();g(0,"div")(1,"div",27)(2,"input",28),j("change",function(r){let o=K(e).$implicit,s=L();return Q(s.toggleRole(o,r))}),p(),g(3,"label",29),_(4),p()()()}if(t&2){let e=n.$implicit,i=L();C(2),O("checked",i.selectedRoles.includes(e))("id","role-"+e),C(),O("for","role-"+e),C(),ke(e)}}var nP=(()=>{class t{constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.roles=["Admin","Student","Lecturer","Coordinator"],this.selectedRoles=[],this.firstName="",this.lastName="",this.email="",this.updatePassword="",this.showPassword=!1,this.firstNameError="",this.lastNameError="",this.emailError="",this.passwordError="",this.pwMinLen=!1,this.pwUpper=!1,this.pwLower=!1,this.pwDigit=!1,this.pwSymbol=!1,this.baseUrl=sn.apiUrl,this.justSaved=!1,this.modalEl=null}ngOnInit(){this.firstName=this.user.name,this.lastName=this.user.surname,this.email=this.user.email,this.selectedRoles=[...this.user.roles],this.onFirstNameChange(this.firstName),this.onLastNameChange(this.lastName),this.onEmailChange(this.email),this.onPasswordChange(this.updatePassword);let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:!!this.userForm?.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}toggleRole(e,i){i.target.checked?this.selectedRoles.includes(e)||this.selectedRoles.push(e):this.selectedRoles=this.selectedRoles.filter(r=>r!==e)}togglePasswordVisibility(){this.showPassword=!this.showPassword}nameValidPattern(e){return/^[A-Za-z][A-Za-z\s'-]*$/.test((e??"").trim())}onFirstNameChange(e){this.firstName=e??"",this.firstName.trim()?this.nameValidPattern(this.firstName)?this.firstNameError="":this.firstNameError="First name must contain letters only.":this.firstNameError="First name is required."}onLastNameChange(e){this.lastName=e??"",this.lastName.trim()?this.nameValidPattern(this.lastName)?this.lastNameError="":this.lastNameError="Last name must contain letters only.":this.lastNameError="Last name is required."}emailDomainValid(e){let i=(e??"").trim().toLowerCase();return i.endsWith("@ufs4life.ac.za")||i.endsWith("@gmail.com")}onEmailChange(e){this.email=e??"";let i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email.trim());this.email.trim()?!i||!this.emailDomainValid(this.email)?this.emailError="Use a valid email ending with @ufs4life.ac.za or @gmail.com.":this.emailError="":this.emailError="Email is required."}onPasswordChange(e){if(this.updatePassword=e??"",!this.updatePassword){this.pwMinLen=this.pwUpper=this.pwLower=this.pwDigit=this.pwSymbol=!1,this.passwordError="";return}this.pwMinLen=this.updatePassword.length>=8,this.pwUpper=/[A-Z]/.test(this.updatePassword),this.pwLower=/[a-z]/.test(this.updatePassword),this.pwDigit=/\d/.test(this.updatePassword),this.pwSymbol=/[^A-Za-z0-9]/.test(this.updatePassword),this.pwMinLen&&this.pwUpper&&this.pwLower&&this.pwDigit&&this.pwSymbol?this.passwordError="":this.passwordError="Password does not meet all requirements."}get formValid(){let e=!this.firstNameError&&!!this.firstName.trim(),i=!this.lastNameError&&!!this.lastName.trim(),r=!this.emailError&&!!this.email.trim(),o=!this.updatePassword||!this.passwordError&&this.pwMinLen&&this.pwUpper&&this.pwLower&&this.pwDigit&&this.pwSymbol;return e&&i&&r&&o}submit(){if(!this.formValid){this.toastr.error("Please fix the highlighted fields before saving.");return}let e={firstName:this.firstName.trim(),lastName:this.lastName.trim(),email:this.email.trim().toLowerCase(),updatePassword:this.updatePassword||null,roles:this.selectedRoles};this.http.put(`${this.baseUrl}admin/update-user/${this.user.userName}`,e).subscribe({next:()=>{this.toastr.success("User updated successfully"),this.justSaved=!0,this.originalHide()},error:i=>{console.error("Update failed:",i);let r=i?.status,o=i?.error?.message;r===400?this.toastr.error(o||"Invalid field data. Please review the inputs."):r>=500?this.toastr.error("Server error. Please try again."):this.toastr.error(o||"Failed to update user")}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-edit-user-modal"]],viewQuery:function(i,r){if(i&1&&fi(pY,5),i&2){let o;oi(o=si())&&(r.userForm=o.first)}},inputs:{user:"user",bsModalRef:"bsModalRef"},standalone:!0,features:[$e],decls:39,vars:27,consts:[["userForm","ngForm"],[3,"submit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["class","invalid-feedback",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email",1,"form-control",3,"ngModelChange","ngClass","ngModel"],["for","password",1,"form-label"],[1,"input-group"],["id","password","name","updatePassword","placeholder","Leave blank to keep current password",1,"form-control",3,"ngModelChange","type","ngClass","ngModel"],[1,"input-group-text",2,"cursor","pointer",3,"click"],[1,"fas",3,"ngClass"],["class","mt-2 mb-0 small","style","list-style:none; padding-left:0;",4,"ngIf"],[1,"form-label"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"invalid-feedback"],[1,"mt-2","mb-0","small",2,"list-style","none","padding-left","0"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",3,"for"]],template:function(i,r){if(i&1){let o=Re();g(0,"form",1,0),j("submit",function(a){return K(o),Q(a.preventDefault())}),g(2,"div",2)(3,"h5",3),_(4),p(),g(5,"button",4),j("click",function(){return K(o),Q(r.attemptClose())}),p()(),g(6,"div",5)(7,"div",6)(8,"label",7),_(9,"First Name"),p(),g(10,"input",8),Qe("ngModelChange",function(a){return K(o),Je(r.firstName,a)||(r.firstName=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onFirstNameChange(a))}),p(),ye(11,mY,2,1,"div",9),p(),g(12,"div",6)(13,"label",10),_(14,"Last Name"),p(),g(15,"input",11),Qe("ngModelChange",function(a){return K(o),Je(r.lastName,a)||(r.lastName=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onLastNameChange(a))}),p(),ye(16,gY,2,1,"div",9),p(),g(17,"div",6)(18,"label",12),_(19,"Email"),p(),g(20,"input",13),Qe("ngModelChange",function(a){return K(o),Je(r.email,a)||(r.email=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onEmailChange(a))}),p(),ye(21,vY,2,1,"div",9),p(),g(22,"div",6)(23,"label",14),_(24,"Update Password"),p(),g(25,"div",15)(26,"input",16),Qe("ngModelChange",function(a){return K(o),Je(r.updatePassword,a)||(r.updatePassword=a),Q(a)}),j("ngModelChange",function(a){return K(o),Q(r.onPasswordChange(a))}),p(),g(27,"span",17),j("click",function(){return K(o),Q(r.togglePasswordVisibility())}),ze(28,"i",18),p(),ye(29,yY,2,1,"div",9),p(),ye(30,_Y,21,5,"ul",19),p(),g(31,"label",20),_(32,"Roles"),p(),ye(33,bY,5,4,"div",21),p(),g(34,"div",22)(35,"button",23),j("click",function(){return K(o),Q(r.attemptClose())}),_(36,"Cancel"),p(),g(37,"button",24),j("click",function(){return K(o),Q(r.submit())}),_(38,"Save"),p()()()}i&2&&(C(4),_n("Edit User: ",r.user.name," ",r.user.surname,""),C(6),O("ngClass",bi(19,x1,!!r.firstNameError)),Ke("ngModel",r.firstName),C(),O("ngIf",r.firstNameError),C(4),O("ngClass",bi(21,x1,!!r.lastNameError)),Ke("ngModel",r.lastName),C(),O("ngIf",r.lastNameError),C(4),O("ngClass",bi(23,x1,!!r.emailError)),Ke("ngModel",r.email),C(),O("ngIf",r.emailError),C(5),O("type",r.showPassword?"text":"password")("ngClass",bi(25,x1,!!r.passwordError)),Ke("ngModel",r.updatePassword),C(2),O("ngClass",r.showPassword?"fa-eye-slash":"fa-eye"),C(),O("ngIf",r.passwordError),C(),O("ngIf",r.updatePassword),C(3),O("ngForOf",r.roles),C(4),O("disabled",!r.formValid))},dependencies:[ct,ur,on,Mt,vn,Mi,wn,Zt,Ei,bn,zr],styles:[".modal-body[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto}.password-toggle-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:1rem;transform:translateY(-50%);cursor:pointer;color:#6c757d;z-index:2}"]})}}return t})();var iP=(()=>{class t{constructor(e,i,r){this.http=e,this.toastr=i,this.modalRef=r,this.baseUrl=sn.apiUrl}confirmDelete(){this.http.delete(`${this.baseUrl}admin/delete-user/${this.user.userName}`).subscribe({next:e=>{this.toastr.success(e?.message||"User deleted"),this.modalRef.hide()},error:e=>{let i=e.error?.message||"Failed to delete user";this.toastr.error(i),this.modalRef.hide()}})}cancel(){this.modalRef.hide()}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(Rt),W(Pn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-delete-user-modal"]],inputs:{user:"user",bsModalRef:"bsModalRef"},standalone:!0,features:[$e],decls:15,vars:2,consts:[[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h5",1),_(2,"Confirm Deletion"),p(),g(3,"button",2),j("click",function(){return r.cancel()}),p()(),g(4,"div",3)(5,"p"),_(6," Are you sure you want to delete "),g(7,"strong"),_(8),p(),_(9," and all their associated roles and module assignments? "),p()(),g(10,"div",4)(11,"button",5),j("click",function(){return r.cancel()}),_(12,"Cancel"),p(),g(13,"button",6),j("click",function(){return r.confirmDelete()}),_(14,"Delete"),p()()),i&2&&(C(8),_n("",r.user.name," ",r.user.surname,""))},styles:[".modal-body[_ngcontent-%COMP%]{font-size:1rem}"]})}}return t})();function wY(t,n){if(t&1){let e=Re();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),p(),g(7,"td"),_(8),p(),g(9,"td"),_(10),p(),g(11,"td")(12,"button",13),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openEditUserModal(r))}),_(13,"Edit User"),p()(),g(14,"td")(15,"button",13),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openEditModulesModal(r))}),_(16,"Edit Modules"),p()(),g(17,"td")(18,"button",14),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openDeleteUserModal(r))}),_(19,"Delete"),p()()()}if(t&2){let e=n.$implicit;C(2),ke(e.userName),C(2),ke(e.name),C(2),ke(e.surname),C(2),ke(e.email),C(2),ke(e.roles.join(", "))}}var rP=(()=>{class t{constructor(e,i){this.adminService=e,this.modalService=i,this.users=[],this.filteredUsers=[],this.searchTerm="",this.sortKey="surname"}ngOnInit(){this.loadUsers()}compareStrings(e,i){return(e||"").localeCompare(i||"",void 0,{sensitivity:"base"})}applySort(e){let i=this.sortKey;return[...e].sort((r,o)=>{let s=this.compareStrings(r[i],o[i]);if(s!==0)return s;let a=this.compareStrings(r.surname,o.surname);if(a!==0)return a;let l=this.compareStrings(r.name,o.name);return l!==0?l:this.compareStrings(r.userName,o.userName)})}applyDefaultUserSort(e){return[...e].sort((i,r)=>{let o=this.compareStrings(i.surname,r.surname);if(o!==0)return o;let s=this.compareStrings(i.name,r.name);return s!==0?s:this.compareStrings(i.userName,r.userName)})}loadUsers(){this.adminService.getAllUsers().subscribe({next:e=>{let i=this.applyDefaultUserSort(e);this.users=this.applySort(i),this.filteredUsers=[...this.users]}})}filterUsers(){let e=(this.searchTerm||"").toLowerCase(),i=this.users.filter(r=>r.userName.toLowerCase().includes(e)||r.name.toLowerCase().includes(e)||r.surname.toLowerCase().includes(e)||r.roles.some(o=>o.toLowerCase().includes(e)));this.filteredUsers=this.applySort(i)}cycleSort(){this.sortKey=this.sortKey==="surname"?"userName":this.sortKey==="userName"?"name":"surname",this.users=this.applySort(this.users),this.filteredUsers=this.applySort(this.filteredUsers)}get sortLabel(){return this.sortKey==="userName"?"Username":this.sortKey==="name"?"First name":"Surname"}trackByUserName(e,i){return i.userName}openAddUserModal(){this.modalRef=this.modalService.show(eP,{class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers())}openEditModulesModal(e){let i=this.users.find(r=>r.userName===e.userName);i&&(this.modalRef=this.modalService.show(tP,{initialState:{user:i},class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers()))}openEditUserModal(e){this.modalRef=this.modalService.show(nP,{initialState:{user:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers())}openDeleteUserModal(e){this.modalRef=this.modalService.show(iP,{initialState:{user:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadUsers())}static{this.\u0275fac=function(i){return new(i||t)(W(Vl),W(cn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-user-management"]],standalone:!0,features:[$e],decls:34,vars:4,consts:[[1,"row"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"section-title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-end","align-items-center","mb-3","gap-2"],["aria-label","Sort users",1,"sort-btn",3,"click"],["aria-hidden","true",1,"sort-icon"],[1,"bar","bar1"],[1,"bar","bar2"],[1,"bar","bar3"],["type","text","placeholder","Search by username, name, or role...",1,"form-control","w-25","search-input",3,"ngModelChange","input","ngModel"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),_(3,"User Management"),p(),g(4,"button",3),j("click",function(){return r.openAddUserModal()}),_(5,"Add User"),p()(),g(6,"div",4)(7,"button",5),j("click",function(){return r.cycleSort()}),g(8,"span",6),ze(9,"span",7)(10,"span",8)(11,"span",9),p()(),g(12,"input",10),Qe("ngModelChange",function(s){return Je(r.searchTerm,s)||(r.searchTerm=s),s}),j("input",function(){return r.filterUsers()}),p()(),g(13,"table",11)(14,"thead")(15,"tr")(16,"th"),_(17,"Username"),p(),g(18,"th"),_(19,"Name"),p(),g(20,"th"),_(21,"Surname"),p(),g(22,"th"),_(23,"Email"),p(),g(24,"th"),_(25,"Roles"),p(),g(26,"th"),_(27,"Edit User"),p(),g(28,"th"),_(29,"Edit Modules"),p(),g(30,"th"),_(31,"Delete User"),p()()(),g(32,"tbody"),ye(33,wY,20,5,"tr",12),p()()()),i&2&&(C(7),Xt("title","Sort by "+r.sortLabel+" (click to change)"),C(5),Ke("ngModel",r.searchTerm),C(21),O("ngForOf",r.filteredUsers)("ngForTrackBy",r.trackByUserName))},dependencies:[ct,on,vn,wn,Zt,bn],styles:[".search-input[_ngcontent-%COMP%]{border:2px solid #000;border-radius:4px;padding:6px 12px;font-weight:500}.section-title[_ngcontent-%COMP%]{color:#000!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000!important;font-size:1.05rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000!important;font-size:1rem}.sort-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:35px;height:35px;border:2px solid #000;background:#fff;border-radius:6px;padding:0;cursor:pointer}.sort-icon[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:flex-start;gap:4px}.sort-icon[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{display:block;height:4px;background:#5f5f5f;border-radius:3px}.sort-icon[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{width:22px}.sort-icon[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{width:16px}.sort-icon[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{width:10px}"]})}}return t})();var E1=(()=>{class t{constructor(){this.appHasRole=[],this.accountService=Se(ln),this.viewContainerRef=Se(Nr),this.templateRef=Se(no),lw(()=>{let e=this.accountService.roles(),i=Array.isArray(e)?e.some(r=>this.appHasRole.includes(r)):this.appHasRole.includes(e);this.viewContainerRef.clear(),i&&this.viewContainerRef.createEmbeddedView(this.templateRef)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Ft({type:t,selectors:[["","appHasRole",""]],inputs:{appHasRole:"appHasRole"},standalone:!0})}}return t})();var oP="400ms cubic-bezier(0.4,0.0,0.2,1)",CY=[or({height:0,visibility:"hidden"}),Es(oP,or({height:"*",visibility:"visible"}))],SY=[or({height:"*",visibility:"visible"}),Es(oP,or({height:0,visibility:"hidden"}))],cf=(()=>{class t{set display(e){if(this._display=e,e==="none"){this.hide();return}this.isAnimated?this.toggle():this.show()}set collapse(e){this.collapseNewValue=e,(!this._player||this._isAnimationDone)&&(this.isExpanded=e,this.toggle())}get collapse(){return this.isExpanded}constructor(e,i,r){this._el=e,this._renderer=i,this.collapsed=new ht,this.collapses=new ht,this.expanded=new ht,this.expands=new ht,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=r.build(SY),this._factoryExpandAnimation=r.build(CY)}ngAfterViewChecked(){this._stylesLoaded=!0,!(!this._player||!this._isAnimationDone)&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{if(this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated){this.show();return}this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none")})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{if(this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated){this.hide();return}this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow")})}animationRun(e,i){if(!e||!this._stylesLoaded)return o=>o();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");let r=i===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=r.create(this._el.nativeElement),this._player.play(),o=>this._player?.onDone(o)}static{this.\u0275fac=function(i){return new(i||t)(W(pt),W(di),W(kd))}}static{this.\u0275dir=Ft({type:t,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(i,r){i&2&&(Xt("aria-hidden",r.isCollapsed),Ge("collapse",r.isCollapse)("in",r.isExpanded)("show",r.isExpanded)("collapsing",r.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]})}}return t})(),uf=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({})}}return t})();var xY=["moduleCodeInput"],EY=["detailsForm"],MY=()=>["1","2","year"];function DY(t,n){if(t&1){let e=Re();g(0,"div",39)(1,"div",40)(2,"label"),_(3,"Start Time"),p(),g(4,"input",41),Qe("ngModelChange",function(r){K(e);let o=L().$implicit,s=L().$implicit;return Je(s.days[o].startTime,r)||(s.days[o].startTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(3);return Q(r.markDirty())}),p(),g(5,"div",11),_(6,"Start time is required."),p()(),g(7,"div",40)(8,"label"),_(9,"End Time"),p(),g(10,"input",42),Qe("ngModelChange",function(r){K(e);let o=L().$implicit,s=L().$implicit;return Je(s.days[o].endTime,r)||(s.days[o].endTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(3);return Q(r.markDirty())}),p(),g(11,"div",11),_(12,"End time is required."),p()()()}if(t&2){let e=L().$implicit,i=L(),r=i.$implicit,o=i.index;C(4),Ge("is-invalid",!(r.days[e].startTime||"").trim()),Ke("ngModel",r.days[e].startTime),O("name","start-"+o+"-"+e),C(6),Ge("is-invalid",!(r.days[e].endTime||"").trim()),Ke("ngModel",r.days[e].endTime),O("name","end-"+o+"-"+e)}}function IY(t,n){if(t&1){let e=Re();g(0,"div",34)(1,"div",35)(2,"input",36),j("change",function(){let r=K(e).$implicit,o=L().index,s=L();return Q(s.toggleDay(o,r))}),p(),g(3,"label",37),_(4),p()(),ye(5,DY,13,8,"div",38),p()}if(t&2){let e=n.$implicit,i=L(),r=i.$implicit,o=i.index;C(2),O("checked",r.days[e].checked)("id","day-"+o+"-"+e),C(),O("for","day-"+o+"-"+e),C(),ke(e),C(),O("ngIf",r.days[e].checked)}}function AY(t,n){if(t&1){let e=Re();g(0,"div",26)(1,"button",27),j("click",function(){let r=K(e).index,o=L();return Q(o.toggleVenue(r))}),g(2,"strong"),_(3),p()(),g(4,"div",28)(5,"div",18)(6,"div",29)(7,"label",30),_(8,"\u{1F4D8} Venue"),p(),g(9,"input",31),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.venue,r)||(o.venue=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(10,"div",11),_(11,"Venue is required."),p()(),g(12,"button",32),j("click",function(){let r=K(e).index,o=L();return Q(o.removeVenue(r))}),_(13,"Remove"),p()(),g(14,"div",3)(15,"strong"),_(16,"Days & Times"),p()(),ye(17,IY,6,5,"div",33),p()()}if(t&2){let e=n.$implicit,i=n.index,r=L();C(),Xt("aria-expanded",r.venueOpen[i]),C(2),_n("\u{1F4D8} Venue ",i+1,": ",(e.venue||"").trim()||"Untitled",""),C(),O("collapse",!r.venueOpen[i]),C(5),Ge("is-invalid",(e.venue||"").trim().length===0),Ke("ngModel",e.venue),O("name","venue-"+i),C(8),O("ngForOf",r.weekDays)}}function TY(t,n){t&1&&ze(0,"hr",54)}function NY(t,n){if(t&1){let e=Re();g(0,"div")(1,"div",3)(2,"label"),_(3,"Venue"),p(),g(4,"input",46),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.venue,r)||(o.venue=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p(),g(5,"div",11),_(6,"Venue is required for timed assessments."),p()(),g(7,"div",39)(8,"div",40)(9,"label"),_(10,"Start Time"),p(),g(11,"input",55),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.startTime,r)||(o.startTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p(),g(12,"div",11),_(13,"Start/End time is required for timed assessments. "),p()(),g(14,"div",40)(15,"label"),_(16,"End Time"),p(),g(17,"input",55),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.endTime,r)||(o.endTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p()()()()}if(t&2){let e=L(),i=e.$implicit,r=e.index;C(4),Ge("is-invalid",!(i.venue||"").trim()),Ke("ngModel",i.venue),O("name","venue"+r),C(7),Ge("is-invalid",!(i.startTime||"").trim()),Ke("ngModel",i.startTime),O("name","startTime"+r),C(6),Ge("is-invalid",!(i.endTime||"").trim()),Ke("ngModel",i.endTime),O("name","endTime"+r)}}function kY(t,n){if(t&1){let e=Re();g(0,"div",3)(1,"label"),_(2,"Submission Deadline"),p(),g(3,"input",55),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.dueTime,r)||(o.dueTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p(),g(4,"div",11),_(5,"Start/End time is required for timed assessments."),p()()}if(t&2){let e=L(),i=e.$implicit,r=e.index;C(3),Ge("is-invalid",!(i.dueTime||"").trim()),Ke("ngModel",i.dueTime),O("name","dueTime"+r)}}function PY(t,n){if(t&1){let e=Re();Hn(0),ye(1,TY,1,0,"hr",43),g(2,"div",44)(3,"button",27),j("click",function(){let r=K(e).index,o=L();return Q(o.toggleAssessment(r))}),g(4,"strong"),_(5),p()(),g(6,"div",45)(7,"div",3)(8,"label"),_(9,"Title"),p(),g(10,"input",46),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.title,r)||(o.title=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(11,"div",11),_(12,"Title is required."),p()(),g(13,"div",3)(14,"label"),_(15,"Description"),p(),g(16,"textarea",47),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.description,r)||(o.description=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(17,"div",11),_(18,"Description is required."),p()(),g(19,"div",3)(20,"label"),_(21,"Date"),p(),g(22,"input",48),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.date,r)||(o.date=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(23,"div",11),_(24),p()(),g(25,"div",3)(26,"label")(27,"input",49),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.isTimed,r)||(o.isTimed=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),_(28," Timed Assessment "),p()(),ye(29,NY,18,12,"div",50)(30,kY,6,4,"div",51),g(31,"div",52)(32,"button",53),j("click",function(){let r=K(e).index,o=L();return Q(o.removeAssessment(r))}),_(33,"Remove"),p()()()(),qn()}if(t&2){let e=n.$implicit,i=n.index,r=L();C(),O("ngIf",i>0),C(2),Xt("aria-expanded",r.assessmentOpen[i]),C(2),_n("\u{1F4D8} Assessment ",i+1,": ",e.title||"Untitled",""),C(),O("collapse",!r.assessmentOpen[i]),C(4),Ge("is-invalid",!(e.title||"").trim()),Ke("ngModel",e.title),O("name","title"+i),C(6),Ge("is-invalid",!(e.description||"").trim()),Ke("ngModel",e.description),O("name","description"+i),C(6),Ge("is-invalid",!(e.date||"").trim()||!!r.dateViolation(e)),Ke("ngModel",e.date),O("name","date"+i),Xt("min",r.dateMin)("max",r.dateMax),C(2),nt(" ",r.dateViolation(e)||"Date is required."," "),C(3),Ke("ngModel",e.isTimed),O("name","isTimed"+i),C(2),O("ngIf",e.isTimed),C(),O("ngIf",!e.isTimed)}}var sP=(()=>{class t{constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.baseUrl=sn.apiUrl,this.activeTab="details",this.moduleCode="",this.moduleName="",this.semesterChoice="1",this.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday"],this.venues=[],this.assessments=[],this.venueOpen=[],this.assessmentOpen=[],this.formDirty=!1,this.modalEl=null,this.originalHide=this.modalRef.hide.bind(this.modalRef),this.modalRef.hide=()=>this.attemptClose()}setTab(e){this.activeTab=e}get isDetailsValid(){let e=(this.moduleCode||"").trim(),i=(this.moduleName||"").trim(),r=this.semesterChoice;return e.length>0&&i.length>0&&["1","2","year"].includes(r)}get areVenuesValid(){if(this.venues.length===0)return!0;for(let e of this.venues){if(!(e.venue||"").trim())return!1;for(let r of this.weekDays){let o=e.days[r];if(o?.checked&&(!(o.startTime||"").trim()||!(o.endTime||"").trim()))return!1}}return!0}isYearModule(){return this.semesterChoice==="year"}isMonthAllowed(e){return this.isYearModule()?!0:this.semesterChoice==="1"?e>=1&&e<=6:this.semesterChoice==="2"?e>=7&&e<=12:!0}isDateAllowedForSemester(e){if(!e)return!1;let i=new Date(e+"T00:00:00");if(isNaN(i.getTime()))return!1;let r=i.getMonth()+1;return this.isMonthAllowed(r)}get dateMin(){let e=new Date().getFullYear();return this.isYearModule()?`${e}-01-01`:this.semesterChoice==="1"?`${e}-01-01`:`${e}-07-01`}get dateMax(){let e=new Date().getFullYear();return this.isYearModule()?`${e}-12-31`:this.semesterChoice==="1"?`${e}-06-30`:`${e}-12-31`}dateViolation(e){return e.date?.trim()?this.isDateAllowedForSemester(e.date)?null:this.semesterChoice==="1"?"For Semester 1, pick a date between Jan 1 and Jun 30.":"For Semester 2, pick a date between Jul 1 and Dec 31.":null}get areAssessmentsValid(){for(let e of this.assessments){if(!e)continue;let i=(e.title||"").trim().length>0,r=(e.description||"").trim().length>0,o=(e.date||"").trim().length>0&&this.isDateAllowedForSemester(e.date);if(!(i&&r&&o))return!1;if(e.isTimed){if(!(e.venue||"").trim()||!(e.startTime||"").trim()||!(e.endTime||"").trim())return!1}else if(!(e.dueTime||"").trim())return!1}return!0}get isFormValid(){return this.isDetailsValid&&this.areVenuesValid&&this.areAssessmentsValid}ngAfterViewInit(){setTimeout(()=>this.moduleCodeInput?.nativeElement.focus(),0);let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.formDirty&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}markDirty(){this.formDirty=!0}formatTimeString(e){if(!e)return null;let i=e.trim();return i?i.length===5?i+":00":i:null}makeEmptyDays(){let e={};return this.weekDays.forEach(i=>e[i]={checked:!1,startTime:"",endTime:""}),e}addVenue(){this.venues.push({venue:"",days:this.makeEmptyDays()}),this.venueOpen.push(!0),this.markDirty()}removeVenue(e){this.venues.splice(e,1),this.venueOpen.splice(e,1),this.markDirty()}toggleVenue(e){this.venueOpen[e]=!this.venueOpen[e]}toggleAssessment(e){this.assessmentOpen[e]=!this.assessmentOpen[e]}toggleDay(e,i){let r=this.venues[e].days[i];r.checked=!r.checked,r.checked||(r.startTime="",r.endTime=""),this.markDirty()}addAssessment(){this.assessments.push({title:"",description:"",date:"",isTimed:!0,startTime:"",endTime:"",venue:""}),this.assessmentOpen.push(!0),this.markDirty()}removeAssessment(e){this.assessments.splice(e,1),this.assessmentOpen.splice(e,1),this.markDirty()}buildClassSessionsFromVenues(){let e=[];for(let i of this.venues){let r=(i.venue||"").trim();if(r)for(let o of this.weekDays){let s=i.days[o];if(!s?.checked)continue;let a=this.formatTimeString(s.startTime),l=this.formatTimeString(s.endTime);!a||!l||e.push({venue:r,weekDay:o,startTime:a,endTime:l})}}return e}buildAssessmentsPayload(){return this.assessments.map(e=>({title:e.title.trim(),description:e.description.trim(),date:e.date,isTimed:e.isTimed,startTime:e.isTimed?this.formatTimeString(e.startTime):null,endTime:e.isTimed?this.formatTimeString(e.endTime):null,dueTime:e.isTimed?null:this.formatTimeString(e.dueTime),venue:e.isTimed?(e.venue||"").trim():null}))}submit(){if(!this.isDetailsValid||!this.areVenuesValid||!this.areAssessmentsValid){if(this.assessments.find(o=>o?.date&&!this.isDateAllowedForSemester(o.date))){this.toastr.error(this.semesterChoice==="1"?"Semester 1 assessments must be dated between Jan 1 and Jun 30.":this.isYearModule()?"Please fix the highlighted fields.":"Semester 2 assessments must be dated between Jul 1 and Dec 31."),this.activeTab="assessments";return}this.toastr.error("Please fix the highlighted fields."),this.isDetailsValid?this.areVenuesValid?this.activeTab="assessments":this.activeTab="contact":this.activeTab="details";return}let e=this.semesterChoice==="year",i={moduleCode:this.moduleCode.trim(),moduleName:this.moduleName.trim(),semester:e?0:Number(this.semesterChoice),isYearModule:e,classSessions:this.buildClassSessionsFromVenues(),assessments:this.buildAssessmentsPayload()};this.http.post(this.baseUrl+"modules",i).subscribe({next:()=>{this.toastr.success("Module created successfully."),this.formDirty=!1,this.originalHide()},error:r=>{this.toastr.error(r?.error??"Failed to add module"),console.error(r)}})}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){if(!this.formDirty){this.originalHide();return}this.openConfirm().then(e=>{e&&this.originalHide()})}cancel(){this.attemptClose()}beforeUnloadHandler(e){this.formDirty&&(e.preventDefault(),e.returnValue="")}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-add-module-modal"]],viewQuery:function(i,r){if(i&1&&(fi(xY,5),fi(EY,5)),i&2){let o;oi(o=si())&&(r.moduleCodeInput=o.first),oi(o=si())&&(r.detailsForm=o.first)}},hostBindings:function(i,r){i&1&&j("beforeunload",function(s){return r.beforeUnloadHandler(s)},!1,gh)},standalone:!0,features:[$e],decls:61,vars:22,consts:[["moduleCodeInput",""],[1,"p-3","position-relative"],["type","button","aria-label","Close",1,"btn-close","position-absolute","top-0","end-0","m-2",3,"click"],[1,"mb-2"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"border","border-top-0","rounded-bottom","p-3"],[3,"hidden"],[1,"mb-3"],["type","text","name","moduleCode",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],["type","text","name","moduleName",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-1"],["name","semesterChoice",1,"form-control",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","year"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","border rounded mb-3 venue-card",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"border","rounded","mb-3","venue-card"],["type","button",1,"btn","btn-light","w-100","text-start","p-3",3,"click"],[1,"p-2",3,"collapse"],[1,"flex-grow-1","me-2"],[1,"form-label"],[1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-outline-danger","btn-sm","mt-4",3,"click"],["class","border rounded p-2 mb-2",4,"ngFor","ngForOf"],[1,"border","rounded","p-2","mb-2"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label","fw-bold",3,"for"],["class","row",4,"ngIf"],[1,"row"],[1,"col"],["type","time","min","06:00","max","21:00",1,"form-control",3,"ngModelChange","ngModel","name"],["type","time","min","06:00","max","22:00",1,"form-control",3,"ngModelChange","ngModel","name"],["class","assessment-divider",4,"ngIf"],[1,"border","rounded","mb-3","assessment-card"],[1,"p-3",3,"collapse"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","name"],["type","date",1,"form-control",3,"ngModelChange","ngModel","name"],["type","checkbox",3,"ngModelChange","ngModel","name"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"text-end","mt-3"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"assessment-divider"],["type","time",1,"form-control",3,"ngModelChange","ngModel","name"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"button",2),j("click",function(){return K(o),Q(r.cancel())}),p(),g(2,"h4",3),_(3,"Add New Module"),p(),g(4,"ul",4)(5,"li",5)(6,"a",6),j("click",function(){return K(o),Q(r.setTab("details"))}),_(7,"Details"),p()(),g(8,"li",5)(9,"a",6),j("click",function(){return K(o),Q(r.setTab("contact"))}),_(10,"Class Sessions"),p()(),g(11,"li",5)(12,"a",6),j("click",function(){return K(o),Q(r.setTab("assessments"))}),_(13,"Assessments"),p()()(),g(14,"div",7)(15,"div",8)(16,"div",9)(17,"label"),_(18,"Module Code"),p(),g(19,"input",10,0),Qe("ngModelChange",function(a){return K(o),Je(r.moduleCode,a)||(r.moduleCode=a),Q(a)}),j("ngModelChange",function(){return K(o),Q(r.markDirty())}),p(),g(21,"div",11),_(22,"Module Code is required."),p()(),g(23,"div",9)(24,"label"),_(25,"Module Name"),p(),g(26,"input",12),Qe("ngModelChange",function(a){return K(o),Je(r.moduleName,a)||(r.moduleName=a),Q(a)}),j("ngModelChange",function(){return K(o),Q(r.markDirty())}),p(),g(27,"div",11),_(28,"Module Name is required."),p()(),g(29,"div",13)(30,"label"),_(31,"Semester"),p(),g(32,"select",14),Qe("ngModelChange",function(a){return K(o),Je(r.semesterChoice,a)||(r.semesterChoice=a),Q(a)}),j("ngModelChange",function(){return K(o),Q(r.markDirty())}),g(33,"option",15),_(34,"Semester 1"),p(),g(35,"option",16),_(36,"Semester 2"),p(),g(37,"option",17),_(38,"Year Module"),p()(),g(39,"div",11),_(40,"Please select a valid Semester."),p()()(),g(41,"div",8)(42,"div",18)(43,"h6",19),_(44,"Class Venues"),p(),g(45,"button",20),j("click",function(){return K(o),Q(r.addVenue())}),_(46,"+ Add Venue"),p()(),ye(47,AY,18,9,"div",21),p(),g(48,"div",8)(49,"div",18)(50,"h6",19),_(51,"Assessments"),p(),g(52,"button",20),j("click",function(){return K(o),Q(r.addAssessment())}),_(53,"+ Add Assessment"),p()(),ye(54,PY,34,24,"ng-container",22),p()(),ze(55,"hr"),g(56,"div",23)(57,"button",24),j("click",function(){return K(o),Q(r.cancel())}),_(58,"Cancel"),p(),g(59,"button",25),j("click",function(){return K(o),Q(r.submit())}),_(60,"Add Module"),p()()()}i&2&&(C(6),Ge("active",r.activeTab==="details"),C(3),Ge("active",r.activeTab==="contact"),C(3),Ge("active",r.activeTab==="assessments"),C(3),O("hidden",r.activeTab!=="details"),C(4),Ge("is-invalid",(r.moduleCode||"").trim().length===0),Ke("ngModel",r.moduleCode),C(7),Ge("is-invalid",(r.moduleName||"").trim().length===0),Ke("ngModel",r.moduleName),C(6),Ge("is-invalid",!cr(21,MY).includes(r.semesterChoice)),Ke("ngModel",r.semesterChoice),C(9),O("hidden",r.activeTab!=="contact"),C(6),O("ngForOf",r.venues),C(),O("hidden",r.activeTab!=="assessments"),C(6),O("ngForOf",r.assessments),C(5),O("disabled",!r.isFormValid))},dependencies:[ct,on,Mt,vn,Di,Ii,wn,lp,pi,Zt,bn,uf,cf],styles:["[_nghost-%COMP%]{display:block}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{cursor:pointer}h6[_ngcontent-%COMP%]{margin-top:.75rem;font-weight:600;color:#343a40}.assessment-divider[_ngcontent-%COMP%]{border:0;border-top:2px solid #6c757d;margin:.75rem 0 1rem}.assessment-card[_ngcontent-%COMP%]{border:2px solid #dee2e6!important}.venue-card[_ngcontent-%COMP%]{border:3px solid #dee2e6!important;border-radius:.375rem}.text-end[_ngcontent-%COMP%]{padding-bottom:.25rem}"]})}}return t})();var aP=(()=>{class t{constructor(e,i,r){this.http=e,this.toastr=i,this.modalRef=r,this.baseUrl=sn.apiUrl}confirmDelete(){this.http.delete(`${this.baseUrl}modules/${this.module.id}`).subscribe({next:e=>{this.toastr.success(e.message||"Module deleted successfully"),this.modalRef.hide()},error:e=>{this.toastr.error("Failed to delete module"),console.error(e),this.modalRef.hide()}})}cancel(){this.modalRef.hide()}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(Rt),W(Pn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-delete-module-modal"]],inputs:{module:"module",bsModalRef:"bsModalRef"},standalone:!0,features:[$e],decls:18,vars:2,consts:[[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"h5",1),_(2,"Confirm Module Deletion"),p(),g(3,"button",2),j("click",function(){return r.cancel()}),p()(),g(4,"div",3)(5,"p"),_(6," Are you sure you want to delete the module:"),ze(7,"br"),g(8,"strong"),_(9),ze(10,"br"),_(11),p(),_(12,"? "),p()(),g(13,"div",4)(14,"button",5),j("click",function(){return r.cancel()}),_(15,"Cancel"),p(),g(16,"button",6),j("click",function(){return r.confirmDelete()}),_(17,"Delete"),p()()),i&2&&(C(9),nt(" Module Code: ",r.module.moduleCode,""),C(2),nt(" Module Name: ",r.module.moduleName," "))},styles:[".modal-body[_ngcontent-%COMP%]{font-size:1rem}"]})}}return t})();var OY=["detailsForm"];function FY(t,n){if(t&1){let e=Re();g(0,"div",33)(1,"div",34)(2,"label"),_(3,"Start Time"),p(),g(4,"input",35),Qe("ngModelChange",function(r){K(e);let o=L().$implicit,s=L().$implicit;return Je(s.days[o].startTime,r)||(s.days[o].startTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(3);return Q(r.markDirty())}),p(),g(5,"div",24),_(6,"Start time is required."),p()(),g(7,"div",34)(8,"label"),_(9,"End Time"),p(),g(10,"input",36),Qe("ngModelChange",function(r){K(e);let o=L().$implicit,s=L().$implicit;return Je(s.days[o].endTime,r)||(s.days[o].endTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(3);return Q(r.markDirty())}),p(),g(11,"div",24),_(12,"End time is required."),p()()()}if(t&2){let e=L().$implicit,i=L(),r=i.$implicit,o=i.index;C(4),Ge("is-invalid",!(r.days[e].startTime||"").trim()),Ke("ngModel",r.days[e].startTime),O("name","start-"+o+"-"+e),C(6),Ge("is-invalid",!(r.days[e].endTime||"").trim()),Ke("ngModel",r.days[e].endTime),O("name","end-"+o+"-"+e)}}function RY(t,n){if(t&1){let e=Re();g(0,"div",28)(1,"div",29)(2,"input",30),j("change",function(){let r=K(e).$implicit,o=L().index,s=L();return Q(s.toggleDay(o,r))}),p(),g(3,"label",31),_(4),p()(),ye(5,FY,13,8,"div",32),p()}if(t&2){let e=n.$implicit,i=L(),r=i.$implicit,o=i.index;C(2),O("checked",r.days[e].checked)("id","day-"+o+"-"+e),C(),O("for","day-"+o+"-"+e),C(),ke(e),C(),O("ngIf",r.days[e].checked)}}function LY(t,n){if(t&1){let e=Re();g(0,"div",18)(1,"button",19),j("click",function(){let r=K(e).index,o=L();return Q(o.toggleVenue(r))}),g(2,"strong"),_(3),p()(),g(4,"div",20)(5,"div",10)(6,"div",21)(7,"label",22),_(8,"\u{1F4D8} Venue"),p(),g(9,"input",23),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.venue,r)||(o.venue=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(10,"div",24),_(11,"Venue is required."),p()(),g(12,"button",25),j("click",function(){let r=K(e).index,o=L();return Q(o.removeVenue(r))}),_(13,"Remove"),p()(),g(14,"div",26)(15,"strong"),_(16,"Days & Times"),p()(),ye(17,RY,6,5,"div",27),p()()}if(t&2){let e=n.$implicit,i=n.index,r=L();C(),Xt("aria-expanded",r.venueOpen[i]),C(2),_n("\u{1F4D8} Venue ",i+1,": ",(e.venue||"").trim()||"Untitled",""),C(),O("collapse",!r.venueOpen[i]),C(5),Ge("is-invalid",(e.venue||"").trim().length===0),Ke("ngModel",e.venue),O("name","venue-"+i),C(8),O("ngForOf",r.weekDays)}}function jY(t,n){t&1&&ze(0,"hr",48)}function VY(t,n){if(t&1){let e=Re();g(0,"div")(1,"div",26)(2,"label"),_(3,"Venue"),p(),g(4,"input",40),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.venue,r)||(o.venue=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p(),g(5,"div",24),_(6,"Venue is required for timed assessments."),p()(),g(7,"div",33)(8,"div",34)(9,"label"),_(10,"Start Time"),p(),g(11,"input",49),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.startTime,r)||(o.startTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p(),g(12,"div",24),_(13,"Start/End time is required for timed assessments. "),p()(),g(14,"div",34)(15,"label"),_(16,"End Time"),p(),g(17,"input",49),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.endTime,r)||(o.endTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p()()()()}if(t&2){let e=L(),i=e.$implicit,r=e.index;C(4),Ge("is-invalid",!(i.venue||"").trim()),Ke("ngModel",i.venue),O("name","venue"+r),C(7),Ge("is-invalid",!(i.startTime||"").trim()),Ke("ngModel",i.startTime),O("name","startTime"+r),C(6),Ge("is-invalid",!(i.endTime||"").trim()),Ke("ngModel",i.endTime),O("name","endTime"+r)}}function BY(t,n){if(t&1){let e=Re();g(0,"div",26)(1,"label"),_(2,"Submission Deadline"),p(),g(3,"input",49),Qe("ngModelChange",function(r){K(e);let o=L().$implicit;return Je(o.dueTime,r)||(o.dueTime=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L(2);return Q(r.markDirty())}),p(),g(4,"div",24),_(5,"Start/End time is required for timed assessments."),p()()}if(t&2){let e=L(),i=e.$implicit,r=e.index;C(3),Ge("is-invalid",!(i.dueTime||"").trim()),Ke("ngModel",i.dueTime),O("name","dueTime"+r)}}function UY(t,n){if(t&1){let e=Re();Hn(0),ye(1,jY,1,0,"hr",37),g(2,"div",38)(3,"button",19),j("click",function(){let r=K(e).index,o=L();return Q(o.toggleAssessment(r))}),g(4,"strong"),_(5),p()(),g(6,"div",39)(7,"div",26)(8,"label"),_(9,"Title"),p(),g(10,"input",40),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.title,r)||(o.title=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(11,"div",24),_(12,"Title is required."),p()(),g(13,"div",26)(14,"label"),_(15,"Description"),p(),g(16,"textarea",41),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.description,r)||(o.description=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(17,"div",24),_(18,"Description is required."),p()(),g(19,"div",26)(20,"label"),_(21,"Date"),p(),g(22,"input",42),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.date,r)||(o.date=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),g(23,"div",24),_(24),p()(),g(25,"div",26)(26,"label")(27,"input",43),Qe("ngModelChange",function(r){let o=K(e).$implicit;return Je(o.isTimed,r)||(o.isTimed=r),Q(r)}),j("ngModelChange",function(){K(e);let r=L();return Q(r.markDirty())}),p(),_(28," Timed Assessment "),p()(),ye(29,VY,18,12,"div",44)(30,BY,6,4,"div",45),g(31,"div",46)(32,"button",47),j("click",function(){let r=K(e).index,o=L();return Q(o.removeAssessment(r))}),_(33,"Remove"),p()()()(),qn()}if(t&2){let e=n.$implicit,i=n.index,r=L();C(),O("ngIf",i>0),C(2),Xt("aria-expanded",r.assessmentOpen[i]),C(2),_n("\u{1F4D8} Assessment ",i+1,": ",e.title||"Untitled",""),C(),O("collapse",!r.assessmentOpen[i]),C(4),Ge("is-invalid",!(e.title||"").trim()),Ke("ngModel",e.title),O("name","title"+i),C(6),Ge("is-invalid",!(e.description||"").trim()),Ke("ngModel",e.description),O("name","description"+i),C(6),Ge("is-invalid",!(e.date||"").trim()||!!r.dateViolation(e)),Ke("ngModel",e.date),O("name","date"+i),Xt("min",r.dateMin)("max",r.dateMax),C(2),nt(" ",r.dateViolation(e)||"Date is required."," "),C(3),Ke("ngModel",e.isTimed),O("name","isTimed"+i),C(2),O("ngIf",e.isTimed),C(),O("ngIf",!e.isTimed)}}var M1=(()=>{class t{setTab(e){this.activeTab=e}constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.baseUrl=sn.apiUrl,this.weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday"],this.venues=[],this.assessments=[],this.venueOpen=[],this.assessmentOpen=[],this.activeTab="contact",this.justSaved=!1,this.locallyDirty=!1,this.modalEl=null}ngOnInit(){let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose(),this.http.get(`${this.baseUrl}modules/${this.module.id}`).subscribe({next:i=>{this.module=i;let r=i.classSessions||[],o=new Map,s=()=>{let a={};return this.weekDays.forEach(l=>a[l]={checked:!1,startTime:"",endTime:""}),a};for(let a of r){if(!this.weekDays.includes(a.weekDay))continue;o.has(a.venue)||o.set(a.venue,{venue:a.venue,days:s()});let l=o.get(a.venue);l.days[a.weekDay]&&(l.days[a.weekDay].checked=!0,l.days[a.weekDay].startTime=a.startTime?.length===5?a.startTime+":00":a.startTime||"",l.days[a.weekDay].endTime=a.endTime?.length===5?a.endTime+":00":a.endTime||"")}this.venues=Array.from(o.values()),this.assessments=(i.assessments||[]).map(a=>({title:a.title,description:a.description||"",date:a.date,isTimed:a.isTimed,startTime:a.startTime||"",endTime:a.endTime||"",dueTime:a.dueTime||"",venue:a.venue||""})),this.venueOpen=this.venues.map(()=>!1),this.assessmentOpen=this.assessments.map(()=>!1),this.justSaved=!1,this.locallyDirty=!1,setTimeout(()=>this.detailsForm?.form.markAsPristine())},error:i=>{console.error("\u274C Failed to fetch module data:",i),this.venues=[],this.assessments=[],this.venueOpen=[],this.assessmentOpen=[]}})}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}markDirty(){this.locallyDirty=!0}formatTimeString(e){return e?e.length===5?e+":00":e:null}openAndScroll(e,i){e==="venue"?(this.activeTab="contact",this.venueOpen[i]=!0):(this.activeTab="assessments",this.assessmentOpen[i]=!0),setTimeout(()=>{let r=this.elRef.nativeElement.querySelector(".modal-body"),s=this.elRef.nativeElement.querySelectorAll(e==="venue"?".venue-card":".assessment-card")[i];if(s){s.scrollIntoView({behavior:"smooth",block:"start"});let a=s.querySelector("input, textarea, select");a&&a.focus()}else r&&r.scrollTo({top:r.scrollHeight,behavior:"smooth"})})}addVenue(){let e={};this.weekDays.forEach(i=>e[i]={checked:!1,startTime:"",endTime:""}),this.venues.push({venue:"",days:e}),this.venueOpen.push(!0),this.markDirty(),this.openAndScroll("venue",this.venues.length-1)}removeVenue(e){this.venues.splice(e,1),this.venueOpen.splice(e,1),this.markDirty()}toggleVenue(e){this.venueOpen[e]=!this.venueOpen[e]}toggleDay(e,i){let r=this.venues[e].days[i];r.checked=!r.checked,r.checked||(r.startTime="",r.endTime=""),this.markDirty()}addAssessment(){this.assessments.push({title:"",description:"",date:"",isTimed:!0,startTime:"",endTime:"",venue:""}),this.assessmentOpen.push(!0),this.markDirty(),this.openAndScroll("assessment",this.assessments.length-1)}removeAssessment(e){this.assessments.splice(e,1),this.assessmentOpen.splice(e,1),this.markDirty()}toggleAssessment(e){this.assessmentOpen[e]=!this.assessmentOpen[e]}isYearModule(){return!!this.module?.isYearModule||this.module?.semester===0}isMonthAllowed(e){return this.isYearModule()?!0:this.module?.semester===1?e>=1&&e<=6:this.module?.semester===2?e>=7&&e<=12:!0}isDateAllowedForSemester(e){if(!e)return!1;let i=new Date(e+"T00:00:00");if(isNaN(i.getTime()))return!1;let r=i.getMonth()+1;return this.isMonthAllowed(r)}get dateMin(){let e=new Date().getFullYear();return this.isYearModule()?`${e}-01-01`:this.module?.semester===1?`${e}-01-01`:`${e}-07-01`}get dateMax(){let e=new Date().getFullYear();return this.isYearModule()?`${e}-12-31`:this.module?.semester===1?`${e}-06-30`:`${e}-12-31`}dateViolation(e){return e.date?.trim()?this.isDateAllowedForSemester(e.date)?null:this.module?.semester===1?"For Semester 1, pick a date between Jan 1 and Jun 30.":"For Semester 2, pick a date between Jul 1 and Dec 31.":null}venuesValid(){if(this.venues.length===0)return!0;for(let e of this.venues){if(!(e.venue||"").trim())return!1;for(let r of this.weekDays){let o=e.days[r];if(o?.checked&&(!(o.startTime||"").trim()||!(o.endTime||"").trim()))return!1}}return!0}assessmentsValid(){for(let e of this.assessments){let i=(e.title||"").trim().length>0,r=(e.description||"").trim().length>0,o=(e.date||"").trim().length>0&&this.isDateAllowedForSemester(e.date);if(!(i&&r&&o))return!1;if(e.isTimed){if(!(e.venue||"").trim()||!(e.startTime||"").trim()||!(e.endTime||"").trim())return!1}else if(!(e.dueTime||"").trim())return!1}return!0}hasUnsavedChanges(){return this.justSaved?!1:!!this.detailsForm?.dirty||this.locallyDirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(!this.venuesValid()){this.activeTab="contact",this.toastr.error("Please fix the highlighted fields.");return}if(!this.assessmentsValid()){this.activeTab="assessments",this.assessments.find(s=>s?.date&&!this.isDateAllowedForSemester(s.date))?this.toastr.error(this.isYearModule()?"Please fix the highlighted fields.":this.module?.semester===1?"Semester 1 assessments must be dated between Jan 1 and Jun 30.":"Semester 2 assessments must be dated between Jul 1 and Dec 31."):this.toastr.error("Please fix the highlighted fields.");return}let e=[];for(let o of this.venues){let s=(o.venue||"").trim();if(s)for(let a of this.weekDays){let l=o.days[a];if(!l.checked)continue;let c=this.formatTimeString(l.startTime)||"",f=this.formatTimeString(l.endTime)||"";!c||!f||e.push({venue:s,weekDay:a,startTime:c,endTime:f})}}let i=this.assessments.map(o=>({title:o.title.trim(),description:(o.description||"").trim()||null,date:o.date,isTimed:o.isTimed,startTime:o.isTimed?this.formatTimeString(o.startTime):null,endTime:o.isTimed?this.formatTimeString(o.endTime):null,dueTime:o.isTimed?null:this.formatTimeString(o.dueTime),venue:o.isTimed?(o.venue||"").trim():null})),r={classSessions:e,assessments:i};this.http.put(`${this.baseUrl}modules/${this.module.id}`,r).subscribe({next:()=>{this.toastr.success("Module updated successfully."),this.justSaved=!0,this.originalHide()},error:o=>{this.toastr.error(o?.error??"Failed to update module"),console.error(o)}})}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-edit-details-modal"]],viewQuery:function(i,r){if(i&1&&fi(OY,5),i&2){let o;oi(o=si())&&(r.detailsForm=o.first)}},inputs:{module:"module",bsModalRef:"bsModalRef"},standalone:!0,features:[$e],decls:35,vars:8,consts:[["detailsForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"border","border-top-0","rounded-bottom","p-3"],[3,"hidden"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","border rounded mb-3 venue-card",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"border","rounded","mb-3","venue-card"],["type","button",1,"btn","btn-light","w-100","text-start","p-3",3,"click"],[1,"p-2",3,"collapse"],[1,"flex-grow-1","me-2"],[1,"form-label"],["placeholder","e.g., B108",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"invalid-feedback"],["type","button",1,"btn","btn-outline-danger","btn-sm","mt-4",3,"click"],[1,"mb-2"],["class","border rounded p-2 mb-2",4,"ngFor","ngForOf"],[1,"border","rounded","p-2","mb-2"],[1,"form-check","mb-2"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label","fw-bold",3,"for"],["class","row",4,"ngIf"],[1,"row"],[1,"col"],["type","time","min","06:00","max","21:00",1,"form-control",3,"ngModelChange","ngModel","name"],["type","time","min","06:00","max","22:00",1,"form-control",3,"ngModelChange","ngModel","name"],["class","assessment-divider",4,"ngIf"],[1,"border","rounded","mb-3","assessment-card"],[1,"p-3",3,"collapse"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","name"],["type","date",1,"form-control",3,"ngModelChange","ngModel","name"],["type","checkbox",3,"ngModelChange","ngModel","name"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"text-end","mt-3"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"assessment-divider"],["type","time",1,"form-control",3,"ngModelChange","ngModel","name"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"h5",2),_(2,"Edit Scheduling & Venue Details"),p(),g(3,"button",3),j("click",function(){return K(o),Q(r.attemptClose())}),p()(),g(4,"div",4)(5,"form",null,0)(7,"ul",5)(8,"li",6)(9,"a",7),j("click",function(){return K(o),Q(r.setTab("contact"))}),_(10,"Class Sessions"),p()(),g(11,"li",6)(12,"a",7),j("click",function(){return K(o),Q(r.setTab("assessments"))}),_(13,"Assessments"),p()()(),g(14,"div",8)(15,"div",9)(16,"div",10)(17,"h6",11),_(18,"Class Venues"),p(),g(19,"button",12),j("click",function(){return K(o),Q(r.addVenue())}),_(20,"+ Add Venue"),p()(),ye(21,LY,18,9,"div",13),p(),g(22,"div",9),ze(23,"hr"),g(24,"div",10)(25,"h6",11),_(26,"Assessments"),p(),g(27,"button",12),j("click",function(){return K(o),Q(r.addAssessment())}),_(28,"+ Add Assessment"),p()(),ye(29,UY,34,24,"ng-container",14),p()()()(),g(30,"div",15)(31,"button",16),j("click",function(){return K(o),Q(r.attemptClose())}),_(32,"Cancel"),p(),g(33,"button",17),j("click",function(){return K(o),Q(r.submit())}),_(34,"Save Changes"),p()()}i&2&&(C(9),Ge("active",r.activeTab==="contact"),C(3),Ge("active",r.activeTab==="assessments"),C(3),O("hidden",r.activeTab!=="contact"),C(6),O("ngForOf",r.venues),C(),O("hidden",r.activeTab!=="assessments"),C(7),O("ngForOf",r.assessments))},dependencies:[ct,on,Mt,vn,Mi,wn,lp,Zt,Ei,bn,zr,uf,cf],styles:[".modal-body[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.assessment-divider[_ngcontent-%COMP%]{border:0;border-top:2px solid #6c757d;margin:.75rem 0 1rem}.assessment-card[_ngcontent-%COMP%]{border:2px solid #dee2e6!important}.venue-card[_ngcontent-%COMP%]{border:3px solid #dee2e6!important;border-radius:.375rem}"]})}}return t})();var HY=["editForm"],lP=(()=>{class t{constructor(e,i,r,o,s){this.http=e,this.toastr=i,this.modalRef=r,this.bsModalService=o,this.elRef=s,this.baseUrl=sn.apiUrl,this.newCode="",this.newName="",this.semesterChoice="1",this.justSaved=!1,this.modalEl=null}get detailsValid(){return(this.newCode||"").trim().length>0&&(this.newName||"").trim().length>0}ngOnInit(){this.newCode=this.module.moduleCode,this.newName=this.module.moduleName,this.semesterChoice=this.module.isYearModule||this.module.semester===0?"year":this.module.semester===2?"2":"1";let e=this.bsModalRef??this.modalRef;this.originalHide=e.hide.bind(e),e.hide=()=>this.attemptClose()}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}hasUnsavedChanges(){return this.justSaved?!1:!!this.editForm?.dirty}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(!this.detailsValid){this.toastr.error("Please fix the highlighted fields.");return}let e={moduleCode:this.newCode.trim(),moduleName:this.newName.trim()};this.semesterChoice==="year"?(e.isYearModule=!0,e.semester=0):(e.isYearModule=!1,e.semester=Number(this.semesterChoice)),this.http.put(`${this.baseUrl}modules/${this.module.id}`,e).subscribe({next:()=>{this.toastr.success("Module updated successfully"),this.justSaved=!0,this.originalHide()},error:i=>{this.toastr.error("Failed to update module"),console.error(i)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(Rt),W(Pn),W(cn),W(pt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-edit-module-modal"]],viewQuery:function(i,r){if(i&1&&fi(HY,5),i&2){let o;oi(o=si())&&(r.editForm=o.first)}},inputs:{module:"module",bsModalRef:"bsModalRef"},standalone:!0,features:[$e],decls:34,vars:8,consts:[["editForm","ngForm"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text","name","newCode","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],["type","text","name","newName","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","semesterChoice",1,"form-select",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","year"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"]],template:function(i,r){if(i&1){let o=Re();g(0,"form",1,0)(2,"div",2)(3,"h5",3),_(4,"Edit Module"),p(),g(5,"button",4),j("click",function(){return K(o),Q(r.attemptClose())}),p()(),g(6,"div",5)(7,"div",6)(8,"label",7),_(9,"Module Code"),p(),g(10,"input",8),Qe("ngModelChange",function(a){return K(o),Je(r.newCode,a)||(r.newCode=a),Q(a)}),p(),g(11,"div",9),_(12,"Module Code is required."),p()(),g(13,"div",6)(14,"label",7),_(15,"Module Name"),p(),g(16,"input",10),Qe("ngModelChange",function(a){return K(o),Je(r.newName,a)||(r.newName=a),Q(a)}),p(),g(17,"div",9),_(18,"Module Name is required."),p()(),g(19,"div",6)(20,"label",7),_(21,"Semester"),p(),g(22,"select",11),Qe("ngModelChange",function(a){return K(o),Je(r.semesterChoice,a)||(r.semesterChoice=a),Q(a)}),g(23,"option",12),_(24,"Semester 1"),p(),g(25,"option",13),_(26,"Semester 2"),p(),g(27,"option",14),_(28,"Year module"),p()()()(),g(29,"div",15)(30,"button",16),j("click",function(){return K(o),Q(r.attemptClose())}),_(31,"Cancel"),p(),g(32,"button",17),j("click",function(){return K(o),Q(r.submit())}),_(33,"Save"),p()()()}i&2&&(C(10),Ge("is-invalid",!(r.newCode||"").trim()),Ke("ngModel",r.newCode),C(6),Ge("is-invalid",!(r.newName||"").trim()),Ke("ngModel",r.newName),C(6),Ke("ngModel",r.semesterChoice),C(10),O("disabled",!r.detailsValid))},dependencies:[ct,vn,Mi,Di,Ii,wn,pi,Zt,Ei,eu,bn,zr]})}}return t})();function qY(t,n){if(t&1){let e=Re();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),p(),g(7,"td")(8,"button",8),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openEditModuleModal(r))}),_(9,"Edit Module"),p()(),g(10,"td")(11,"button",8),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openEditDetailsModal(r))}),_(12,"Edit Details"),p()(),g(13,"td")(14,"button",9),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openDeleteModuleModal(r))}),_(15,"Delete"),p()()()}if(t&2){let e=n.$implicit;C(2),ke(e.moduleCode),C(2),ke(e.moduleName),C(2),ke(e.semester)}}var cP=(()=>{class t{constructor(e,i){this.moduleService=e,this.modalService=i,this.modules=[],this.filteredModules=[],this.searchTerm=""}ngOnInit(){this.loadModules()}loadModules(){this.moduleService.getAllModules().subscribe({next:e=>{this.modules=e,this.filteredModules=this.applyDefaultSort([...e])}})}filterModules(){let e=(this.searchTerm||"").trim().toLowerCase();if(e===""){this.filteredModules=this.applyDefaultSort([...this.modules]);return}if(e==="0"||e==="1"||e==="2"){let o=Number(e),s=this.modules.filter(a=>Number(a.semester)===o);this.filteredModules=this.applyDefaultSort(s);return}let i=e.includes("year")||e.includes("yr")||e.includes("annual"),r=this.modules.filter(o=>{let s=(o.moduleCode||"").toLowerCase().includes(e),a=(o.moduleName||"").toLowerCase().includes(e),l=i?Number(o.semester)===0||!!o.isYearModule:!1;return s||a||l});this.filteredModules=this.applyDefaultSort(r)}openAddModuleModal(){this.modalRef=this.modalService.show(sP,{class:"modal-lg",ignoreBackdropClick:!0,keyboard:!1}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}openEditModuleModal(e){this.modalRef=this.modalService.show(lP,{initialState:{module:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}openEditDetailsModal(e){this.modalRef=this.modalService.show(M1,{initialState:{module:e},class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}openDeleteModuleModal(e){this.modalRef=this.modalService.show(aP,{initialState:{module:e}}),this.modalRef.onHidden?.subscribe(()=>this.loadModules())}trackById(e,i){return i.id}applyDefaultSort(e){return e.sort((i,r)=>{let o=this.semesterRank(i.semester,i.isYearModule),s=this.semesterRank(r.semester,r.isYearModule);if(o!==s)return o-s;let a=(i.moduleCode||"").toString(),l=(r.moduleCode||"").toString();return a.localeCompare(l,void 0,{numeric:!0,sensitivity:"base"})})}semesterRank(e,i){if(i===!0)return 0;let r=Number(e);if(!isNaN(r)){if(r===0)return 0;if(r===1)return 1;if(r===2)return 2}let o=String(e??"").toLowerCase().trim();return o==="0"||o.includes("year")?0:o==="1"||o.includes("semester 1")||o==="sem 1"||o==="s1"?1:o==="2"||o.includes("semester 2")||o==="sem 2"||o==="s2"?2:99}static{this.\u0275fac=function(i){return new(i||t)(W(rs),W(cn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-module-management"]],standalone:!0,features:[$e],decls:25,vars:3,consts:[[1,"row"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"section-title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-end","mb-3"],["type","text","placeholder","Search by code or name or semester ...",1,"form-control","w-25","search-input",3,"ngModelChange","input","ngModel"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),_(3,"Module Management"),p(),g(4,"button",3),j("click",function(){return r.openAddModuleModal()}),_(5,"Add Module"),p()(),g(6,"div",4)(7,"input",5),Qe("ngModelChange",function(s){return Je(r.searchTerm,s)||(r.searchTerm=s),s}),j("input",function(){return r.filterModules()}),p()(),g(8,"table",6)(9,"thead")(10,"tr")(11,"th"),_(12,"Module Code"),p(),g(13,"th"),_(14,"Module Name"),p(),g(15,"th"),_(16,"Semester"),p(),g(17,"th"),_(18,"Edit Module"),p(),g(19,"th"),_(20,"Edit Details"),p(),g(21,"th"),_(22,"Delete Module"),p()()(),g(23,"tbody"),ye(24,qY,16,3,"tr",7),p()()()),i&2&&(C(7),Ke("ngModel",r.searchTerm),C(17),O("ngForOf",r.filteredModules)("ngForTrackBy",r.trackById))},dependencies:[ct,on,vn,wn,Zt,bn],styles:[".search-input[_ngcontent-%COMP%]{border:2px solid #333;border-radius:4px;padding:6px 12px;font-weight:500}.section-title[_ngcontent-%COMP%]{color:#000!important}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#000!important;font-size:1.05rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000!important;font-size:1rem}"]})}}return t})();var uP=()=>["Admin"];function zY(t,n){t&1&&(Hn(0),g(1,"tab",4)(2,"div",5),ze(3,"app-user-management"),p()(),qn())}function $Y(t,n){t&1&&(Hn(0),g(1,"tab",6)(2,"div",5),ze(3,"app-module-management"),p()(),qn())}var dP=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-admin-panel"]],standalone:!0,features:[$e],decls:6,vars:4,consts:[[1,"mb-0","admin-title"],[1,"tab-panel"],[1,"member-tabset"],[4,"appHasRole"],["heading","User management"],[1,"container"],["heading","Module management"]],template:function(i,r){i&1&&(g(0,"h2",0),_(1,"Admin Panel"),p(),g(2,"div",1)(3,"tabset",2),ye(4,zY,4,0,"ng-container",3)(5,$Y,4,0,"ng-container",3),p()()),i&2&&(C(4),O("appHasRole",cr(2,uP)),C(),O("appHasRole",cr(3,uP)))},dependencies:[Jk,Xk,RS,rP,E1,cP],styles:['.admin-title[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important;margin-bottom:1rem!important}.admin-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}']})}}return t})();var WY=["filterMenu"],GY=(t,n)=>n.id;function YY(t,n){if(t&1){let e=Re();g(0,"ul",12)(1,"li")(2,"button",13),j("click",function(){K(e);let r=L();return Q(r.applyFilter("all"))}),_(3,"All"),p()(),g(4,"li")(5,"button",13),j("click",function(){K(e);let r=L();return Q(r.applyFilter(1))}),_(6,"S1"),p()(),g(7,"li")(8,"button",13),j("click",function(){K(e);let r=L();return Q(r.applyFilter(2))}),_(9,"S2"),p()(),g(10,"li")(11,"button",13),j("click",function(){K(e);let r=L();return Q(r.applyFilter(0))}),_(12,"Year"),p()()()}if(t&2){let e=L();C(2),Ge("active",e.selectedSemesterFilter==="all"),C(3),Ge("active",e.selectedSemesterFilter===1),C(3),Ge("active",e.selectedSemesterFilter===2),C(3),Ge("active",e.selectedSemesterFilter===0)}}function ZY(t,n){if(t&1){let e=Re();g(0,"tr")(1,"td"),_(2),p(),g(3,"td"),_(4),p(),g(5,"td"),_(6),p(),g(7,"td")(8,"button",14),j("click",function(){let r=K(e).$implicit,o=L();return Q(o.openEditDetailsModal(r))}),_(9," Edit Details "),p()()()}if(t&2){let e=n.$implicit;C(2),ke(e.moduleCode),C(2),ke(e.moduleName),C(2),ke(e.semester)}}function KY(t,n){t&1&&(g(0,"tr")(1,"td",15),_(2,"No modules to show."),p()())}var fP=(()=>{class t{constructor(e,i){this.moduleService=e,this.modalService=i,this.modules=[],this.selectedSemesterFilter="all",this.isFilterOpen=!1}ngOnInit(){this.loadAssignedModules()}loadAssignedModules(){this.moduleService.getAssignedModules().subscribe({next:e=>this.modules=e??[],error:e=>console.error("Failed to load assigned modules",e)})}get viewModules(){let e=this.selectedSemesterFilter,i=e==="all"?this.modules:this.modules.filter(o=>o?.semester===e),r=o=>o===0?0:o===1?1:o===2?2:3;return[...i].sort((o,s)=>{let a=r(o?.semester),l=r(s?.semester);if(a!==l)return a-l;let c=(o?.moduleCode??"").toString(),f=(s?.moduleCode??"").toString(),v=c.localeCompare(f,void 0,{sensitivity:"base"});if(v!==0)return v;let w=(o?.moduleName??"").toString(),h=(s?.moduleName??"").toString();return w.localeCompare(h,void 0,{sensitivity:"base"})})}onSemesterChange(e){let i=e.target.value;this.selectedSemesterFilter=i==="all"?"all":Number(i)}toggleFilterMenu(){this.isFilterOpen=!this.isFilterOpen}applyFilter(e){this.selectedSemesterFilter=e,this.isFilterOpen=!1}onEscape(){this.isFilterOpen=!1}onDocumentClick(e){if(!this.isFilterOpen)return;let i=this.filterMenu?.nativeElement;i&&e.target instanceof Node&&!i.contains(e.target)&&(this.isFilterOpen=!1)}openEditDetailsModal(e){this.modalRef=this.modalService.show(M1,{initialState:{module:e},class:"modal-lg"}),this.modalRef.onHidden?.subscribe(()=>this.loadAssignedModules())}static{this.\u0275fac=function(i){return new(i||t)(W(rs),W(cn))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-lecturer-panel"]],viewQuery:function(i,r){if(i&1&&fi(WY,5),i&2){let o;oi(o=si())&&(r.filterMenu=o.first)}},hostBindings:function(i,r){i&1&&j("keydown.escape",function(){return r.onEscape()},!1,vh)("click",function(s){return r.onDocumentClick(s)},!1,vh)},standalone:!0,features:[$e],decls:28,vars:3,consts:[["filterMenu",""],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","mb-4","w-100"],[1,"mb-0","lecturer-title"],[1,"d-flex","align-items-center","gap-2","ms-auto"],[1,"position-relative"],["type","button","aria-haspopup","true","aria-label","Filter modules by semester","title","Filter modules by semester",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","aria-hidden","true"],["d","M3 4h18l-7.5 9v5.5l-3 1.5V13L3 4z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","fill","none"],["class","dropdown-menu dropdown-menu-end show","style","min-width: 220px; right: 0; left: auto;",4,"ngIf"],[1,"table","table-striped","lecturer-table"],[1,"dropdown-menu","dropdown-menu-end","show",2,"min-width","220px","right","0","left","auto"],[1,"dropdown-item",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["colspan","4",1,"text-center","text-muted"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),_(4,"My Assigned Modules"),p(),g(5,"div",5)(6,"div",6,0)(8,"button",7),j("click",function(){return K(o),Q(r.toggleFilterMenu())}),QE(),g(9,"svg",8),ze(10,"path",9),p()(),ye(11,YY,13,8,"ul",10),p()()()(),XE(),g(12,"div",2)(13,"table",11)(14,"thead")(15,"tr")(16,"th"),_(17,"Module Code"),p(),g(18,"th"),_(19,"Module Name"),p(),g(20,"th"),_(21,"Semester"),p(),g(22,"th"),_(23,"Edit Details"),p()()(),g(24,"tbody"),md(25,ZY,10,3,"tr",null,GY,!1,KY,3,0,"tr"),p()()()()}i&2&&(C(8),Xt("aria-expanded",r.isFilterOpen),C(3),O("ngIf",r.isFilterOpen),C(14),gd(r.viewModules))},dependencies:[ct,Mt],styles:['.lecturer-title[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.lecturer-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.lecturer-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .lecturer-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:1rem;color:#000!important}']})}}return t})();var QY=()=>[];function XY(t,n){if(t&1&&(Hn(0),_(1),ro(2,"uppercase"),qn()),t&2){let e=L();C(),nt(" for ",e.moduleCode?c0(2,1,e.moduleCode):e.moduleName," ")}}function JY(t,n){if(t&1){let e=Re();g(0,"button",13),j("click",function(){K(e);let r=L();return Q(r.openUploadModal())}),_(1," Upload Document "),p()}}function eZ(t,n){if(t&1){let e=Re();g(0,"ul",28)(1,"li")(2,"button",29),j("click",function(){K(e);let r=L(2).$implicit,o=L();return Q(o.confirmDelete(r.id))}),_(3,"Delete"),p()()()}}function tZ(t,n){t&1&&(g(0,"div",24)(1,"button",25),ze(2,"i",26),p(),ye(3,eZ,4,0,"ul",27),p())}function nZ(t,n){if(t&1&&(g(0,"div",14),ye(1,tZ,4,0,"div",15),g(2,"div",16)(3,"div",17)(4,"small"),_(5),p(),g(6,"span",18),_(7,"|"),p(),g(8,"small"),_(9),ro(10,"date"),ro(11,"date"),p()(),g(12,"div",19),ze(13,"img",20),g(14,"div",21),_(15),p(),g(16,"a",22),ze(17,"i",23),p()()()()),t&2){let e=n.$implicit,i=L();C(),O("ngIf",i.canDelete(e)),C(4),nt("Uploaded by: ",e.uploadedBy,""),C(4),_n(" ",Cs(10,8,e.uploadedAt,"mediumDate"),", ",Cs(11,11,e.uploadedAt,"h:mm a")," "),C(4),O("src",i.getIconPath(e),Zo),C(),O("title",e.title),C(),ke(e.title),C(),O("href",e.filePath,Zo)}}function iZ(t,n){t&1&&(g(0,"div",30),_(1," No documents found. "),p())}function rZ(t,n){if(t&1){let e=Re();g(0,"li",33)(1,"a",34),j("click",function(){let r=K(e).index,o=L(2);return Q(o.pageChanged({page:r+1}))}),_(2),p()()}if(t&2){let e=n.index,i=L(2);Ge("active",i.pagination.currentPage===e+1),C(2),ke(e+1)}}function oZ(t,n){if(t&1){let e=Re();g(0,"nav",31)(1,"ul",32)(2,"li",33)(3,"a",34),j("click",function(){K(e);let r=L();return Q(r.pageChanged({page:r.pagination.currentPage-1}))}),_(4,"Previous"),p()(),ye(5,rZ,3,3,"li",35),g(6,"li",33)(7,"a",34),j("click",function(){K(e);let r=L();return Q(r.pageChanged({page:r.pagination.currentPage+1}))}),_(8,"Next"),p()()()()}if(t&2){let e=L();C(2),Ge("disabled",e.pagination.currentPage===1),C(3),O("ngForOf",cr(5,QY).constructor(e.pagination.totalPages)),C(),Ge("disabled",e.pagination.currentPage===e.pagination.totalPages)}}var hP=(()=>{class t{constructor(e,i,r,o,s,a){this.route=e,this.documentService=i,this.modalService=r,this.accountService=o,this.router=s,this.moduleService=a,this.moduleCode="",this.moduleName="",this.documents=[],this.roles=[],this.currentUserName="",this.pagination={currentPage:1,itemsPerPage:5,totalItems:0,totalPages:0}}ngOnInit(){this.roles=this.accountService.roles(),this.currentUserName=this.accountService.currentUser()?.userName??"",this.moduleId=+this.route.snapshot.paramMap.get("id");let e=history&&history.state?history.state:{};e?.moduleCode&&(this.moduleCode=e.moduleCode),e?.moduleName&&(this.moduleName=e.moduleName);let i=this.route.snapshot.queryParamMap;this.moduleCode=i.get("code")??this.moduleCode,this.moduleName=i.get("name")??this.moduleName,this.route.queryParamMap.subscribe(r=>{let o=r.get("code"),s=r.get("name");o&&(this.moduleCode=o),s&&(this.moduleName=s)}),this.hasUploadRights()&&this.loadHeaderContext(),this.loadDocuments()}loadHeaderContext(){this.moduleService.getModuleById(this.moduleId).subscribe({next:e=>{this.moduleCode=e?.moduleCode??this.moduleCode,this.moduleName=e?.moduleName??this.moduleName},error:()=>{}})}loadDocuments(){this.documentService.getDocumentsByModulePaged(this.moduleId,this.pagination.currentPage,this.pagination.itemsPerPage).subscribe({next:e=>{let i=e.body||[];this.documents=[...i].sort((o,s)=>new Date(s.uploadedAt).getTime()-new Date(o.uploadedAt).getTime());let r=e.headers.get("Pagination");r&&(this.pagination=JSON.parse(r))},error:e=>console.error("Failed to load documents",e)})}pageChanged(e){this.pagination.currentPage=e.page,this.loadDocuments()}openUploadModal(){this.bsModalRef=this.modalService.show(jv),setTimeout(()=>{this.bsModalRef?.content&&(this.bsModalRef.content.formData={source:"Module",moduleId:this.moduleId},this.bsModalRef.content.onUpload.subscribe(()=>{this.loadDocuments()}))},0)}canDelete(e){return!!e.uploadedByUserName&&e.uploadedByUserName===this.currentUserName}confirmDelete(e){let i={title:"Delete document?",message:"Are you sure you want to delete this document?",confirmText:"Delete",cancelText:"No",onConfirm:()=>this.performDelete(e)};this.modalService.show(qa,{initialState:i,class:"modal-dialog-centered"})}performDelete(e){this.documentService.deleteModuleDocument(e).subscribe({next:()=>{this.documents=this.documents.filter(i=>i.id!==e)},error:i=>console.error("Failed to delete document",i)})}hasUploadRights(){return this.roles.includes("Lecturer")||this.roles.includes("Coordinator")||this.roles.includes("Admin")}goBack(){this.router.navigate(["/modules"])}fileExt(e){let r=(e?.split("?")[0]??"").split("#")[0]??"",o=r.lastIndexOf(".");return o>=0?r.substring(o).toLowerCase():""}getIconPath(e){switch(this.fileExt(e.filePath)){case".pdf":return"assets/pdffile.png";case".doc":case".docx":return"assets/docxfile.png";case".ppt":case".pptx":return"assets/pptfile.png";case".xls":case".xlsx":return"assets/excelfile.png";case".txt":return"assets/txtfile.png";default:return"assets/docxfile.png"}}static{this.\u0275fac=function(i){return new(i||t)(W(Zs),W(Ud),W(cn),W(ln),W(zn),W(rs))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-module-documents"]],standalone:!0,features:[$e],decls:15,vars:5,consts:[[1,"container","mt-4"],[1,"mb-3","d-flex","align-items-center"],["type","button","aria-label","Back to Modules",1,"btn","back-button","d-flex","align-items-center","justify-content-center","me-2",3,"click"],["aria-hidden","true",1,"bi","bi-arrow-left","back-icon"],[1,"fw-semibold","back-crumb",2,"cursor","pointer",3,"click"],[1,"d-flex","justify-content-between","align-items-center","mb-3","module-docs-header"],[1,"mb-0"],[4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"doc-card-grid"],["class","card doc-card shadow-sm",4,"ngFor","ngForOf"],["class","text-center text-muted py-5",4,"ngIf"],["class","d-flex justify-content-center mt-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"card","doc-card","shadow-sm"],["class","kebab","dropdown","",4,"ngIf"],[1,"card-body"],[1,"meta-row","neon-meta","d-flex","justify-content-center","align-items-center","mb-2"],[1,"mx-2"],[1,"top-row","d-flex","align-items-center"],["alt","file type",1,"doc-logo",3,"src"],[1,"doc-title","flex-grow-1",3,"title"],["target","_blank","rel","noopener noreferrer","download","","aria-label","Download document","title","Download",1,"download-icon",3,"href"],[1,"bi","bi-download"],["dropdown","",1,"kebab"],["dropdownToggle","","type","button","title","More actions",1,"btn","btn-sm","btn-outline-secondary","kebab-btn"],[1,"bi","bi-three-dots-vertical"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"text-center","text-muted","py-5"],[1,"d-flex","justify-content-center","mt-3"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"button",2),j("click",function(){return r.goBack()}),ze(3,"i",3),p(),g(4,"span",4),j("click",function(){return r.goBack()}),_(5,"Back to Modules"),p()(),g(6,"div",5)(7,"h2",6),_(8," Module documents "),ye(9,XY,3,3,"ng-container",7),p(),ye(10,JY,2,0,"button",8),p(),g(11,"div",9),ye(12,nZ,18,14,"div",10)(13,iZ,2,0,"div",11),p(),ye(14,oZ,9,6,"nav",12),p()),i&2&&(C(9),O("ngIf",r.moduleCode||r.moduleName),C(),O("ngIf",r.hasUploadRights()),C(2),O("ngForOf",r.documents),C(),O("ngIf",r.documents.length===0),C(),O("ngIf",r.pagination.totalPages>1))},dependencies:[ct,on,Mt,iI,Il,zl,Hl,ql,za],styles:['.doc-card[_ngcontent-%COMP%]{--bs-card-border-radius: 0 !important;border-radius:0!important}.back-button[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;width:40px;height:40px;border:none;border-radius:9999px;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0d6efd40}.back-button[_ngcontent-%COMP%]:hover{background-color:#0b5ed7}.back-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 4px #0d6efd33}.back-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;line-height:1}.back-crumb[_ngcontent-%COMP%]{color:#000!important}.module-docs-header[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;margin:0!important;color:#000!important;font-weight:700!important}.module-docs-header[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}[_nghost-%COMP%]{--doc-logo-size: 100px;--download-icon-size: 2rem;--download-hitpad: 8px;--kebab-offset: 44px;--card-vpad: 1px;--meta-gap: 1px;--date-neon: #5c5c5c;--date-neon-shadow: 0 0 2px rgba(85, 147, 239, .1), 0 0 2px rgba(13, 110, 253, .1)}.doc-card-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.doc-card[_ngcontent-%COMP%]{position:relative}.card-body[_ngcontent-%COMP%]{padding:var(--card-vpad) 16px}.top-row[_ngcontent-%COMP%]{gap:8px;padding-right:calc(var(--kebab-offset) + 6px);margin-top:1px}.doc-logo[_ngcontent-%COMP%]{width:var(--doc-logo-size);height:var(--doc-logo-size);object-fit:contain;flex:0 0 auto}.doc-title[_ngcontent-%COMP%]{font-weight:600;color:#111;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:8px}.download-icon[_ngcontent-%COMP%]{font-size:var(--download-icon-size);line-height:1;display:inline-flex;align-items:center;justify-content:center;padding:var(--download-hitpad);border-radius:8px;text-decoration:none!important}.download-icon[_ngcontent-%COMP%]:hover{background:#0d6efd1a}.meta-row[_ngcontent-%COMP%]{margin-top:var(--meta-gap);margin-bottom:var(--meta-gap)!important}.kebab[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;z-index:1}.kebab-btn[_ngcontent-%COMP%]{padding:2px 6px}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{cursor:pointer}.neon-meta[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .neon-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--date-neon)!important;text-shadow:var(--date-neon-shadow);font-weight:600}']})}}return t})();var pP=(t,n)=>{let e=Se(ln),i=Se(Rt);return e.currentUser()?!0:(i.error("You shall not PASS!"),!1)};var jS=(t,n)=>{let e=Se(ln),i=Se(Rt),r=e.roles();return(Array.isArray(r)?r.includes("Admin"):r==="Admin")?!0:(i.error("You cannot enter this area"),!1)};var mP=()=>{let t=Se(ln),n=Se(Rt),e=t.roles(),r=(t.currentUser()?.modules??[]).length>0,o=e.includes("Lecturer"),s=e.includes("Coordinator")&&r;return o||s?!0:(n.error("Only lecturers or coordinators with modules can access this page"),!1)};var D1=(t,n)=>{let e=Se(ln),i=Se(Rt),r=e.roles(),s=(e.currentUser()?.modules??[]).length>0,a=r.includes("Student"),l=r.includes("Lecturer"),c=r.includes("Coordinator"),f=n.url||"";return f.startsWith("/modules")&&c||f.startsWith("/scheduler")&&c||a||l&&s||c&&s?!0:(i.error("Only students, lecturers or coordinators with modules can access this page"),!1)};function sZ(t,n){if(t&1){let e=Re();g(0,"div",15),j("click",function(){let r=K(e).$implicit,o=L(3);return Q(o.openModule(r))}),g(1,"div",16),_(2),p(),g(3,"div",17),_(4),p()()}if(t&2){let e=n.$implicit;C(2),ke(e.moduleCode),C(2),ke(e.moduleName)}}function aZ(t,n){if(t&1&&(Hn(0),g(1,"div",11),ye(2,sZ,5,2,"div",12),p(),g(3,"div",14)(4,"h5",4),_(5,"Other Modules"),p()(),qn()),t&2){let e=L(2);C(2),O("ngForOf",e.assignedModules)}}function lZ(t,n){if(t&1){let e=Re();g(0,"div",15),j("click",function(){let r=K(e).$implicit,o=L(2);return Q(o.openModule(r))}),g(1,"div",16),_(2),p(),g(3,"div",17),_(4),p()()}if(t&2){let e=n.$implicit;C(2),ke(e.moduleCode),C(2),ke(e.moduleName)}}function cZ(t,n){if(t&1&&(g(0,"div",18),_(1),p()),t&2){let e=L(2);C(),nt(" ",e.isAllModulesMode?"No modules found for this semester.":"No other modules found for this semester."," ")}}function uZ(t,n){if(t&1&&(Hn(0),ye(1,aZ,6,1,"ng-container",10),g(2,"div",11),ye(3,lZ,5,2,"div",12)(4,cZ,2,1,"div",13),p(),qn()),t&2){let e=L();C(),O("ngIf",e.showAssignedSection),C(2),O("ngForOf",e.otherModules),C(),O("ngIf",e.otherModules.length===0)}}function dZ(t,n){if(t&1){let e=Re();g(0,"div",15),j("click",function(){let r=K(e).$implicit,o=L(2);return Q(o.openModule(r))}),g(1,"div",16),_(2),p(),g(3,"div",17),_(4),p()()}if(t&2){let e=n.$implicit;C(2),ke(e.moduleCode),C(2),ke(e.moduleName)}}function fZ(t,n){t&1&&(g(0,"div",18),_(1," No modules found for this semester. "),p())}function hZ(t,n){if(t&1&&(g(0,"div",11),ye(1,dZ,5,2,"div",12)(2,fZ,2,0,"div",13),p()),t&2){let e=L();C(),O("ngForOf",e.modules),C(),O("ngIf",e.modules.length===0)}}var gP=(()=>{class t{constructor(e,i,r){this.http=e,this.router=i,this.accountService=r,this.modules=[],this.assignedModules=[],this.otherModules=[],this.selectedSemester=1,this.roles=[],this.isCoordinator=!1}ngOnInit(){this.roles=this.accountService.roles(),this.isCoordinator=this.roles.includes("Coordinator")&&!this.roles.includes("Admin"),this.loadModules()}loadModules(){this.isCoordinator?this.http.get(`${sn.apiUrl}modules/semester/${this.selectedSemester}/grouped`).subscribe({next:e=>{this.assignedModules=e.assigned||[],this.otherModules=e.other||[]},error:e=>console.error("Failed to load grouped modules",e)}):this.http.get(`${sn.apiUrl}modules/semester/${this.selectedSemester}`).subscribe({next:e=>this.modules=e,error:e=>console.error("Failed to load modules",e)})}onSemesterChange(){this.loadModules()}openModule(e){this.router.navigate(["/modules",e.id],{state:{moduleCode:e.moduleCode,moduleName:e.moduleName},queryParams:{code:e.moduleCode,name:e.moduleName}})}get showAssignedSection(){return this.isCoordinator&&(this.assignedModules?.length??0)>0}get topRowTitle(){return this.isCoordinator&&!this.showAssignedSection?"All Modules":"Assigned Modules"}get isAllModulesMode(){return this.isCoordinator&&!this.showAssignedSection}static{this.\u0275fac=function(i){return new(i||t)(W(pn),W(zn),W(ln))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-modules"]],standalone:!0,features:[$e],decls:17,vars:6,consts:[["defaultList",""],[1,"container","mt-4","modules-page"],[1,"mb-0"],[1,"top-row"],[1,"mb-0","section-title"],[1,"semester-filter"],["for","semester",1,"h5","mb-0","section-title"],["id","semester","name","semester",1,"form-select","w-auto",3,"ngModelChange","change","ngModel"],[3,"value"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","list",1,"modules-grid"],["class","module-card","role","listitem","tabindex","0",3,"click",4,"ngFor","ngForOf"],["class","text-muted grid-empty",4,"ngIf"],[1,"section-heading"],["role","listitem","tabindex","0",1,"module-card",3,"click"],[1,"module-card__code"],[1,"module-card__name"],[1,"text-muted","grid-empty"]],template:function(i,r){if(i&1){let o=Re();g(0,"div",1)(1,"h2",2),_(2,"Modules"),p(),g(3,"div",3)(4,"h5",4),_(5),p(),g(6,"div",5)(7,"label",6),_(8,"Select Semester:"),p(),g(9,"select",7),Qe("ngModelChange",function(a){return K(o),Je(r.selectedSemester,a)||(r.selectedSemester=a),Q(a)}),j("change",function(){return K(o),Q(r.onSemesterChange())}),g(10,"option",8),_(11,"Semester 1"),p(),g(12,"option",8),_(13,"Semester 2"),p()()()(),ye(14,uZ,5,3,"ng-container",9)(15,hZ,3,2,"ng-template",null,0,El),p()}if(i&2){let o=xl(16);C(5),ke(r.topRowTitle),C(4),Ke("ngModel",r.selectedSemester),C(),O("value",1),C(2),O("value",2),C(2),O("ngIf",r.isCoordinator)("ngIfElse",o)}},dependencies:[ct,on,Mt,vn,Di,Ii,pi,Zt,bn],styles:['.modules-page[_ngcontent-%COMP%]{--module-card-size: 200px;--module-card-gap-x: 2rem;--module-card-gap-y: 1rem;--module-code-font-size: 1.35rem;--module-name-font-size: rem;--module-card-border-color: #000;--module-card-shadow: 0 6px 14px rgba(0, 0, 0, .12);--module-card-shadow-hover: 0 10px 20px rgba(0, 0, 0, .16);--module-card-bg: #fff;--module-card-bg-hover: #f3f4f6;--section-to-grid-gap: 3rem;--grid-to-heading-gap: 3rem}.modules-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .modules-page[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{margin-bottom:2rem!important;display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.modules-page[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd}.modules-page[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:var(--section-to-grid-gap)}.modules-page[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#000;font-weight:600;margin:0}.modules-page[_ngcontent-%COMP%]   .semester-filter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:.75rem;margin-bottom:0}.modules-page[_ngcontent-%COMP%]   .semester-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.modules-page[_ngcontent-%COMP%]   .semester-filter[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:1rem;color:#000}.modules-page[_ngcontent-%COMP%]   .modules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,var(--module-card-size));grid-auto-rows:var(--module-card-size);gap:var(--module-card-gap-y) var(--module-card-gap-x);align-items:start;justify-content:center}.modules-page[_ngcontent-%COMP%]   .grid-empty[_ngcontent-%COMP%]{grid-column:1 / -1}@media (max-width: 991.98px){.modules-page[_ngcontent-%COMP%]   .modules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,var(--module-card-size))}}.modules-page[_ngcontent-%COMP%]   .module-card[_ngcontent-%COMP%]{width:var(--module-card-size);height:var(--module-card-size);border:1px solid var(--module-card-border-color);border-radius:0;background:var(--module-card-bg);box-shadow:var(--module-card-shadow);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .12s ease,box-shadow .12s ease,transform .12s ease;padding:.75rem .9rem;display:flex;flex-direction:column;justify-content:flex-start;outline:none}.modules-page[_ngcontent-%COMP%]   .module-card[_ngcontent-%COMP%]:hover, .modules-page[_ngcontent-%COMP%]   .module-card[_ngcontent-%COMP%]:focus-visible{background:var(--module-card-bg-hover);box-shadow:var(--module-card-shadow-hover)}.modules-page[_ngcontent-%COMP%]   .module-card__code[_ngcontent-%COMP%]{text-align:center;color:#000;font-weight:800;font-size:var(--module-code-font-size);line-height:1.15;margin-bottom:1.5rem;word-break:break-word}.modules-page[_ngcontent-%COMP%]   .module-card__name[_ngcontent-%COMP%]{text-align:center;color:#000;font-weight:500;font-size:var(--module-name-font-size);line-height:1.25rem;word-break:break-word;overflow-wrap:anywhere;margin-top:.25rem}.modules-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:var(--grid-to-heading-gap);margin-bottom:var(--section-to-grid-gap)}.modules-page[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#000!important;font-weight:600;margin:0}']})}}return t})();var vP=ay(ly());function pZ(t,n){t&1&&(g(0,"div",8),_(1," Nothing scheduled. "),p())}function mZ(t,n){if(t&1&&(g(0,"tr",22)(1,"td"),_(2),ro(3,"date"),p(),g(4,"td"),_(5),p(),g(6,"td"),_(7),p(),g(8,"td"),_(9),p(),g(10,"td"),_(11),p(),g(12,"td"),_(13),p(),g(14,"td"),_(15),p(),g(16,"td"),_(17),p()()),t&2){let e=n.$implicit,i=L(3);C(2),ke(Cs(3,8,e.date,"dd-MM-yyyy")),C(3),ke(e.moduleCode),C(2),ke(i.formatTime(e.startTime)),C(2),ke(i.formatTime(e.endTime)),C(2),ke(e.venue||"-"),C(2),ke(e.title),C(2),ke(e.description||"-"),C(2),ke(i.formatTime(e.dueTime))}}function gZ(t,n){if(t&1&&(g(0,"div",16)(1,"table",17)(2,"thead",18)(3,"tr")(4,"th",19),_(5),p()(),g(6,"tr",20)(7,"th"),_(8,"Date"),p(),g(9,"th"),_(10,"Module Code"),p(),g(11,"th"),_(12,"Start Time"),p(),g(13,"th"),_(14,"End Time"),p(),g(15,"th"),_(16,"Venue"),p(),g(17,"th"),_(18,"Title"),p(),g(19,"th"),_(20,"Description"),p(),g(21,"th"),_(22,"Submission Deadline"),p()()(),g(23,"tbody"),ye(24,mZ,18,11,"tr",21),p()()()),t&2){let e=n.$implicit,i=L(2);C(5),ke(e),C(19),O("ngForOf",i.groupedAssessments[e])}}function vZ(t,n){if(t&1&&(g(0,"div",9)(1,"div",10),ze(2,"img",11),p(),g(3,"div",12)(4,"div",13),_(5,"Assessment Schedule"),p(),g(6,"div",14),_(7),p()(),g(8,"div"),ye(9,gZ,25,2,"div",15),p()()),t&2){let e=L();C(7),ke(e.userFullName),C(2),O("ngForOf",e.groupedMonths)}}var yP=(()=>{class t{constructor(e,i){this.schedulerService=e,this.accountService=i,this.assessments=[],this.groupedAssessments={},this.groupedMonths=[],this.semester=1}ngOnInit(){this.loadSchedule()}get user(){return this.accountService.currentUser()}get userFullName(){let e=this.user||{},i=(...s)=>s.map(a=>(a??"").toString().trim()).find(a=>a.length>0)||"",r=i(e.name),o=i(e.surname);return r&&o?`${r} ${o}`:r||o||i(e.displayName,e.username,e.userName)}onSemesterChange(){this.loadSchedule()}formatTime(e){if(!e)return"-";let[i,r]=e.split(":");return`${i}:${r}`}loadSchedule(){this.schedulerService.getAssessmentSchedule(this.semester).subscribe({next:e=>{this.assessments=e;let i={};for(let r of e){if(!r||!r.date)continue;let o=new Date(r.date).toLocaleString("default",{month:"long",year:"numeric"});i[o]||(i[o]=[]),i[o].push(r)}for(let r in i)i[r]=i[r].sort((o,s)=>{let a=new Date(o.date),l=new Date(s.date);if(a.getTime()!==l.getTime())return a.getTime()-l.getTime();let c=o.startTime||o.dueTime||"00:00",f=s.startTime||s.dueTime||"00:00";return c.localeCompare(f)});this.groupedAssessments=i,this.groupedMonths=Object.keys(i)},error:e=>console.log(e)})}renderNodeMultipageToPdf(e,i,r){return Rn(this,null,function*(){let o=i.getBoundingClientRect(),s=Array.from(i.querySelectorAll("table thead tr, table tbody tr")),a=new Set,l=Array.from(i.querySelectorAll("table"));for(let N of l){let R=N.querySelector("tbody tr");if(R){let X=Math.max(0,Math.floor(R.getBoundingClientRect().top-o.top));a.add(X)}}let c=s.map(N=>Math.max(0,Math.floor(N.getBoundingClientRect().top-o.top)));c.push(0),c=Array.from(new Set(c)).sort((N,R)=>N-R);let f=2,v=yield(0,vP.default)(i,{scale:f,useCORS:!0,backgroundColor:"#ffffff",logging:!1,windowWidth:i.scrollWidth,windowHeight:i.scrollHeight,scrollY:-window.scrollY}),w=c.map(N=>Math.round(N*f)).sort((N,R)=>N-R),h=new Set(Array.from(a).map(N=>Math.round(N*f))),S=e.internal.pageSize.getWidth(),x=e.internal.pageSize.getHeight(),k=24,D=24,Z=S-2*k,G=x-2*D,H=Z/v.width,he=Math.floor(G/H),we=Math.round(24*f),ge=Math.max(1,Math.round(2*f)),te=v.height;w[w.length-1]!==te&&w.push(te);let $=0,ae=0;for(;ae<te;){let N=ae+he,R=0;for(;R<w.length&&w[R]<=N;)R++;let X=R>0?w[R-1]:N;for(;h.has(X);){let Pe=Math.max(0,w.lastIndexOf(X)-1),Te=w[Pe]??0;if(Te===X)break;X=Te}X-ae<we&&R>1&&(X=w[R-2]),X<=ae&&N<te&&(X=Math.min(N,te)),X>te&&(X=te);let J=Math.min(X-ae,te-ae);if(J<=0)break;let be=ae>0?Math.max(0,ae-ge):ae;ae>0&&(J+=Math.min(ge,be));let oe=document.createElement("canvas");oe.width=v.width,oe.height=J,oe.getContext("2d").drawImage(v,0,be,v.width,J,0,0,v.width,J);let ne=oe.toDataURL("image/png"),pe=J*H;e.addImage(ne,"PNG",k,D,Z,pe),$++,ae+=X-ae,ae<te&&(e.addPage("a4","landscape"),$=0)}if($===0){let N=e.getNumberOfPages();N>1&&e.deletePage(N)}})}downloadScheduleAsPdf(){return Rn(this,null,function*(){let e=document.getElementById("pdfContent");if(!e)return;let i=e.querySelector(".logo-row"),r=e.querySelector(".table-topbar"),o=Array.from(e.querySelectorAll(".month-section"));if(o.length===0)return;let s=new ot({orientation:"landscape",unit:"px",format:"a4"}),a=(...l)=>{let c=document.createElement("div");c.style.position="fixed",c.style.left="-10000px",c.style.top="0",c.style.background="#fff",c.style.width=e.clientWidth+"px",c.style.padding="20px",c.style.borderRadius="10px",c.id="pdf-temp-wrapper";for(let f of l)c.appendChild(f.cloneNode(!0));return document.body.appendChild(c),c};{let l=a(...i?[i]:[],...r?[r]:[],o[0]);yield this.renderNodeMultipageToPdf(s,l,!0),document.body.removeChild(l)}for(let l=1;l<o.length;l++){s.addPage("a4","landscape");let c=a(o[l]);yield this.renderNodeMultipageToPdf(s,c,!1),document.body.removeChild(c)}s.save("Assessment_Schedule.pdf")})}static{this.\u0275fac=function(i){return new(i||t)(W(S1),W(ln))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-assessment-schedule"]],standalone:!0,features:[$e],decls:14,vars:6,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["for","semester",1,"filter-label"],["id","semester",1,"form-select","d-inline-block","w-auto","ms-2","filter-select",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"btn","btn-success","d-inline-flex","align-items-center","justify-content-center",3,"click","disabled"],["class","alert alert-info text-center py-4",4,"ngIf"],["id","pdfContent","class","mt-4 p-4 bg-white",4,"ngIf"],[1,"alert","alert-info","text-center","py-4"],["id","pdfContent",1,"mt-4","p-4","bg-white"],[1,"logo-row","keep-with-next"],["src","assets/ufslogo.jpg","alt","UFS Logo",1,"pdf-logo-top"],[1,"table-topbar","keep-with-next"],[1,"topbar-title"],[1,"topbar-user"],["class","month-section",4,"ngFor","ngForOf"],[1,"month-section"],[1,"table","table-bordered","text-center","align-middle","mb-5"],[1,"table-dark"],["colspan","8",1,"text-center","fs-5"],[1,"table-light"],["class","avoid-break",4,"ngFor","ngForOf"],[1,"avoid-break"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"label",2),_(4,"Semester:"),p(),g(5,"select",3),Qe("ngModelChange",function(s){return Je(r.semester,s)||(r.semester=s),s}),j("change",function(){return r.onSemesterChange()}),g(6,"option",4),_(7,"Semester 1"),p(),g(8,"option",4),_(9,"Semester 2"),p()()(),g(10,"button",5),j("click",function(){return r.downloadScheduleAsPdf()}),_(11," Download (PDF) "),p()(),ye(12,pZ,2,0,"div",6)(13,vZ,10,2,"div",7),p()),i&2&&(C(5),Ke("ngModel",r.semester),C(),O("value",1),C(2),O("value",2),C(2),O("disabled",r.groupedMonths.length===0),C(2),O("ngIf",r.groupedMonths.length===0),C(),O("ngIf",r.groupedMonths.length>0))},dependencies:[ct,on,Mt,Il,vn,Di,Ii,pi,Zt,bn],styles:[".logo-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:16px}.pdf-logo-top[_ngcontent-%COMP%]{max-width:clamp(220px,28vw,400px);width:100%;height:auto;display:block}.keep-with-next[_ngcontent-%COMP%]{page-break-after:avoid;break-after:avoid}.table-topbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:6px}.topbar-title[_ngcontent-%COMP%], .topbar-user[_ngcontent-%COMP%]{color:#000!important;font-size:24px;font-weight:600;white-space:nowrap}.topbar-user[_ngcontent-%COMP%]{color:#000!important;text-align:right}.filter-label[_ngcontent-%COMP%]{color:#000!important;font-weight:600!important}.filter-select[_ngcontent-%COMP%]{color:#000!important;font-weight:400!important}#pdfContent[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;overflow:visible!important}#pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:auto}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle;text-align:center;border:1px solid #000;padding:10px;font-size:15px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700}.month-section[_ngcontent-%COMP%]{margin-bottom:24px}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%], .avoid-break[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid}#pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), #pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), #pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), #pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), #pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5), #pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8){white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6), #pdfContent[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7){white-space:normal;word-break:break-word;hyphens:auto;text-align:left;text-justify:inter-word}@media print{thead[_ngcontent-%COMP%]{display:table-header-group}tfoot[_ngcontent-%COMP%]{display:table-footer-group}table[_ngcontent-%COMP%]{break-inside:auto;page-break-inside:auto}.btn[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .no-print[_ngcontent-%COMP%]{display:none!important}#pdfContent[_ngcontent-%COMP%]{page-break-inside:avoid}}"]})}}return t})();function yZ(t,n){t&1&&(g(0,"option",21),_(1,"System"),p())}function _Z(t,n){t&1&&(g(0,"div",22),_(1," Title is required (min 3 characters). "),p())}function bZ(t,n){t&1&&(g(0,"div",22),_(1," Message is required (min 5 characters). "),p())}function wZ(t,n){if(t&1&&(g(0,"option",23),_(1),p()),t&2){let e=n.$implicit;O("value",e),C(),nt(" ",e==="ModuleStudents"?"Module Students":e," ")}}function CZ(t,n){if(t&1&&(g(0,"option",23),_(1),p()),t&2){let e=n.$implicit;O("value",e.id),C(),_n(" ",e.moduleCode," \u2014 ",e.moduleName," ")}}function SZ(t,n){t&1&&(g(0,"div",22),_(1," Please select a module for this audience/type. "),p())}function xZ(t,n){if(t&1&&(g(0,"div",5)(1,"label",6),_(2,"Module"),p(),g(3,"select",24)(4,"option",25),_(5,"Select a module"),p(),ye(6,CZ,2,3,"option",14),p(),ye(7,SZ,2,0,"div",11),p()),t&2){let e,i=L();C(4),O("ngValue",null),C(2),O("ngForOf",i.modules),C(),O("ngIf",((e=i.form.get("moduleId"))==null?null:e.touched)&&((e=i.form.get("moduleId"))==null?null:e.invalid))}}var _P=(()=>{class t{get isLecturer(){return this.currentUserRole==="Lecturer"}get isCoordinator(){return this.currentUserRole==="Coordinator"}get isAdmin(){return this.currentUserRole==="Admin"}constructor(e,i,r,o,s,a,l,c){this.bsModalRef=e,this.fb=i,this.notificationService=r,this.toastr=o,this.accountService=s,this.bsModalService=a,this.elRef=l,this.moduleService=c,this.currentUserRole="",this.justSaved=!1,this.modalEl=null,this.audiences=["All","Students","Staff","ModuleStudents"],this.modules=[]}ngOnInit(){this.currentUserRole=this.accountService.getUserRole(),this.initForm(),this.isLecturer?this.moduleService.getAssignedModules().subscribe({next:e=>this.modules=e||[],error:e=>console.error("Failed to load assigned modules",e)}):(this.isCoordinator||this.isAdmin)&&this.moduleService.getAllModules().subscribe({next:e=>this.modules=e||[],error:e=>console.error("Failed to load modules",e)}),this.originalHide=this.bsModalRef.hide.bind(this.bsModalRef),this.bsModalRef.hide=()=>this.attemptClose(),this.justSaved=!1,this.form.get("audience")?.valueChanges.subscribe(()=>this.applyModuleRequirement()),this.isLecturer&&(this.form.get("audience")?.setValue("ModuleStudents",{emitEvent:!0}),this.applyModuleRequirement())}ngAfterViewInit(){let i=this.elRef.nativeElement.closest(".modal-content")?.closest(".modal");this.modalEl=i,i&&(this.backdropCapture=r=>{let o=r.target,s=o.closest(".modal")===i,a=!!o.closest(".modal-dialog");s&&!a&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(l=>{l&&this.originalHide()}))},i.addEventListener("mousedown",this.backdropCapture,!0)),this.escCapture=r=>{(r.key==="Escape"||r.key==="Esc")&&this.hasUnsavedChanges()&&(r.stopPropagation(),r.preventDefault(),this.openConfirm().then(o=>{o&&this.originalHide()}))},document.addEventListener("keydown",this.escCapture,!0)}ngOnDestroy(){this.modalEl&&this.backdropCapture&&this.modalEl.removeEventListener("mousedown",this.backdropCapture,!0),this.escCapture&&document.removeEventListener("keydown",this.escCapture,!0)}initForm(){let e=this.isLecturer?"ModuleStudents":"All";this.form=this.fb.group({type:["General",Qn.required],title:["",[Qn.required,Qn.minLength(3)]],message:["",[Qn.required,Qn.minLength(5)]],audience:[e,Qn.required],moduleId:[null],image:[null]}),this.isLecturer&&this.form.get("audience")?.disable({emitEvent:!1}),this.applyModuleRequirement()}applyModuleRequirement(){let e=(this.form.get("audience")?.value||"").toString(),i=this.form.get("moduleId");this.isLecturer||e==="ModuleStudents"?i?.setValidators([Qn.required]):i?.clearValidators(),i?.updateValueAndValidity({emitEvent:!1})}onFileSelected(e){let i=e.target.files[0];i&&(this.imageFile=i,this.form.markAsDirty())}hasUnsavedChanges(){return this.justSaved?!1:this.form?.dirty||!!this.imageFile}openConfirm(){return new Promise(e=>{this.bsModalService.show(Zi,{class:"modal-dialog-centered",initialState:{onStay:()=>e(!1),onDiscard:()=>e(!0)}})})}attemptClose(){return Rn(this,null,function*(){this.hasUnsavedChanges()&&!(yield this.openConfirm())||this.originalHide()})}submit(){if(this.form.invalid){this.toastr.error("Please complete all required fields");return}let e=new FormData,i=this.isLecturer?"ModuleStudents":this.form.get("audience")?.value||"All";e.append("type",this.form.get("type")?.value),e.append("title",this.form.get("title")?.value),e.append("message",this.form.get("message")?.value),e.append("audience",i);let r=this.form.get("moduleId")?.value;r!=null&&r!==""&&e.append("moduleId",r.toString()),this.imageFile&&e.append("image",this.imageFile),this.notificationService.create(e).subscribe({next:()=>{this.toastr.success("Announcement posted"),localStorage.setItem("newAnnouncement","true"),this.justSaved=!0,this.form.markAsPristine(),this.originalHide()},error:o=>{this.toastr.error("Failed to post announcement"),console.error(o)}})}cancel(){this.attemptClose()}static{this.\u0275fac=function(i){return new(i||t)(W(Pn),W(jl),W(Hd),W(Rt),W(ln),W(cn),W(pt),W(rs))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-create-notification-modal"]],standalone:!0,features:[$e],decls:40,vars:7,consts:[[1,"modal-header"],[1,"modal-title","clean-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["enctype","multipart/form-data","novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","type",1,"form-select"],["value","General"],["value","System",4,"ngIf"],["type","text","formControlName","title","placeholder","Enter title",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","message","rows","4","placeholder","Enter message...",1,"form-control"],["formControlName","audience",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["class","mb-3",4,"ngIf"],["type","file","accept","image/*",1,"form-control",3,"change"],[1,"form-text"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["value","System"],[1,"text-danger"],[3,"value"],["formControlName","moduleId",1,"form-select"],[3,"ngValue"]],template:function(i,r){if(i&1&&(g(0,"div",0)(1,"h5",1),_(2,"Post New Announcement"),p(),g(3,"button",2),j("click",function(){return r.cancel()}),p()(),g(4,"div",3)(5,"form",4),j("ngSubmit",function(){return r.submit()}),g(6,"div",5)(7,"label",6),_(8,"Announcement Type"),p(),g(9,"select",7)(10,"option",8),_(11,"General"),p(),ye(12,yZ,2,0,"option",9),p()(),g(13,"div",5)(14,"label",6),_(15,"Title"),p(),ze(16,"input",10),ye(17,_Z,2,0,"div",11),p(),g(18,"div",5)(19,"label",6),_(20,"Message"),p(),ze(21,"textarea",12),ye(22,bZ,2,0,"div",11),p(),g(23,"div",5)(24,"label",6),_(25,"Target Audience"),p(),g(26,"select",13),ye(27,wZ,2,2,"option",14),p()(),ye(28,xZ,8,3,"div",15),g(29,"div",5)(30,"label",6),_(31,"Attach Image (Optional)"),p(),g(32,"input",16),j("change",function(s){return r.onFileSelected(s)}),p(),g(33,"div",17),_(34," Accepted formats: JPG, PNG, GIF "),p()(),g(35,"div",18)(36,"button",19),_(37,"Post Announcement"),p(),g(38,"button",20),j("click",function(){return r.cancel()}),_(39,"Cancel"),p()()()()),i&2){let o,s,a;C(5),O("formGroup",r.form),C(7),O("ngIf",r.isAdmin),C(5),O("ngIf",((o=r.form.get("title"))==null?null:o.touched)&&((o=r.form.get("title"))==null?null:o.invalid)),C(5),O("ngIf",((s=r.form.get("message"))==null?null:s.touched)&&((s=r.form.get("message"))==null?null:s.invalid)),C(5),O("ngForOf",r.audiences),C(),O("ngIf",r.isLecturer||((a=r.form.get("audience"))==null?null:a.value)==="ModuleStudents"),C(8),O("disabled",r.form.invalid)}},dependencies:[ct,on,Mt,Js,Mi,Di,Ii,wn,pi,Zt,Ei,Va,Ba],styles:['[_nghost-%COMP%]     .modal{--bs-modal-border-radius: 0 !important}[_nghost-%COMP%]     .modal .modal-dialog{border-radius:0!important;margin:2.5rem auto!important}[_nghost-%COMP%]     .modal .modal-dialog .modal-content{border-radius:0!important;background:#fff!important;box-shadow:0 12px 28px #00000038!important}[_nghost-%COMP%]     .modal .rounded, [_nghost-%COMP%]     .modal .rounded-1, [_nghost-%COMP%]     .modal .rounded-2, [_nghost-%COMP%]     .modal .rounded-3, [_nghost-%COMP%]     .modal .rounded-4, [_nghost-%COMP%]     .modal .rounded-5{border-radius:0!important}[_nghost-%COMP%]     .modal .btn-close{--bs-btn-close-color: #000;filter:none!important;opacity:1!important}[_nghost-%COMP%]     .modal .modal-header{border-bottom:none!important;padding:1.75rem 2rem!important;margin-bottom:.5rem}[_nghost-%COMP%]     .modal .modal-body{padding:1.75rem 2rem!important}[_nghost-%COMP%]     .modal .modal-footer{border-top:none!important;padding:1.25rem 2rem!important}.clean-title[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:1.25rem;line-height:1.2;display:inline-block;position:relative;padding-bottom:.25rem;margin:0}.clean-title[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd}.form-label[_ngcontent-%COMP%]{color:#000!important}.form-text[_ngcontent-%COMP%]{color:#6c757d!important}.form-control[_ngcontent-%COMP%]::placeholder, textarea.form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:1}']})}}return t})();var EZ=t=>({clickable:t}),MZ=()=>[];function DZ(t,n){if(t&1){let e=Re();g(0,"button",23),j("click",function(){K(e);let r=L();return Q(r.openPostModal())}),ze(1,"i",24),p()}}function IZ(t,n){if(t&1&&(g(0,"span",40),_(1),p()),t&2){let e=L().$implicit,i=L();C(),nt(" Audience: ",i.formatAudience(e.audience)," ")}}function AZ(t,n){if(t&1){let e=Re();g(0,"button",41),j("click",function(){K(e);let r=L().$implicit,o=L();return Q(o.markAsRead(r))}),_(1," Mark as read "),p()}}function TZ(t,n){if(t&1){let e=Re();g(0,"button",41),j("click",function(){K(e);let r=L().$implicit,o=L();return Q(o.markAsUnread(r))}),_(1," Mark as unread "),p()}}function NZ(t,n){if(t&1){let e=Re();g(0,"ul",46),j("click",function(r){return K(e),Q(r.stopPropagation())}),g(1,"li")(2,"button",47),j("click",function(){K(e);let r=L(2).$implicit,o=L();return Q(o.openDeleteAnnouncement(r))}),_(3," Delete announcement "),p()()()}}function kZ(t,n){if(t&1){let e=Re();g(0,"div",42)(1,"button",43),j("click",function(r){return K(e),Q(r.stopPropagation())}),ze(2,"i",44),p(),ye(3,NZ,4,0,"ul",45),p()}}function PZ(t,n){if(t&1){let e=Re();g(0,"div",48),j("click",function(){K(e);let r=L().$implicit,o=L();return Q(o.openImageModal(r.imagePath))})("keydown.enter",function(){K(e);let r=L().$implicit,o=L();return Q(o.openImageModal(r.imagePath))}),ze(1,"img",49),p()}if(t&2){let e=L().$implicit;C(),O("src",e.imagePath,Zo)}}function OZ(t,n){if(t&1){let e=Re();g(0,"div",25),j("click",function(r){let o=K(e).$implicit,s=L();return Q(s.handleCardClick(r,o))}),g(1,"div",26)(2,"div",27)(3,"span",28),_(4),p(),g(5,"div",29),ye(6,IZ,2,1,"span",30),g(7,"span",31),_(8),p()(),g(9,"div",32),ye(10,AZ,2,0,"button",33)(11,TZ,2,0,"button",33)(12,kZ,4,0,"div",34),p()(),g(13,"h5",35),_(14),p(),g(15,"p",36),_(16),p(),ye(17,PZ,2,1,"div",37),g(18,"div",38)(19,"small",39),_(20),ro(21,"date"),ro(22,"date"),p()()()()}if(t&2){let e=n.$implicit,i=L();O("ngClass",bi(22,EZ,i.isAutoInteractive(e))),Xt("aria-role",i.isAutoInteractive(e)?"button":null)("tabindex",i.isAutoInteractive(e)?"0":null)("title",i.isAutoInteractive(e)?"Click to open":null),C(4),nt(" ",i.formatBadgeLabel(e.type,e.title)," "),C(2),O("ngIf",e.audience),C(),O("ngClass",e.isRead?"bg-success":"bg-secondary"),C(),nt(" ",e.isRead?"Read":"Unread"," "),C(2),O("ngIf",!e.isRead),C(),O("ngIf",e.isRead),C(),O("ngIf",i.canShowDelete(e)),C(2),ke(e.title),C(2),ke(e.message),C(),O("ngIf",e.imagePath),C(3),_n(" ",Cs(21,16,e.createdAt,"longDate")," \u2022 ",Cs(22,19,e.createdAt,"h:mm a")," ")}}function FZ(t,n){if(t&1){let e=Re();g(0,"li",52)(1,"a",53),j("click",function(){let r=K(e).index,o=L(2);return Q(o.pageChanged(r+1))}),_(2),p()()}if(t&2){let e=n.index,i=L(2);Ge("active",i.pageNumber===e+1),C(2),ke(e+1)}}function RZ(t,n){if(t&1){let e=Re();g(0,"nav",50)(1,"ul",51)(2,"li",52)(3,"a",53),j("click",function(){K(e);let r=L();return Q(r.pageChanged(r.pageNumber-1))}),_(4,"Previous"),p()(),ye(5,FZ,3,3,"li",54),g(6,"li",52)(7,"a",53),j("click",function(){K(e);let r=L();return Q(r.pageChanged(r.pageNumber+1))}),_(8,"Next"),p()()()()}if(t&2){let e=L();C(2),Ge("disabled",e.pageNumber===1),C(3),O("ngForOf",cr(5,MZ).constructor(e.clientTotalPages)),C(),Ge("disabled",e.pageNumber===e.clientTotalPages)}}function LZ(t,n){if(t&1){let e=Re();g(0,"div",55),j("click",function(){K(e);let r=L();return Q(r.closeImageModal())}),g(1,"div",56),j("click",function(r){return K(e),Q(r.stopPropagation())}),g(2,"div",57)(3,"div",58)(4,"img",59),j("click",function(){K(e);let r=L();return Q(r.toggleZoom())}),p()(),g(5,"div",60)(6,"button",61),j("click",function(){K(e);let r=L();return Q(r.closeImageModal())}),_(7,"Close"),p()()()()()}if(t&2){let e=L();C(4),Ge("zoomed",e.isZoomed),O("src",e.selectedImageUrl,Zo)("title",e.isZoomed?"Click to fit to screen":"Click to view full size")}}var bP=(()=>{class t{constructor(e,i,r,o,s){this.notificationService=e,this.modalService=i,this.accountService=r,this.router=o,this.toastr=s,this.notifications=[],this.filtered=[],this.visible=[],this.pagination=null,this.pageNumber=1,this.pageSize=10,this.clientTotalPages=1,this.currentUserRole="",this.currentUserName="",this.typeFilter="",this.readFilter="",this.semesterFilter="1",this.selectedImageUrl=null,this.showImageModal=!1,this.isZoomed=!1}ngOnInit(){let e=this.accountService.currentUser();this.currentUserName=e?.userName||"",this.currentUserRole=this.accountService.getUserRole();let i=new Date().getMonth()+1;this.semesterFilter=i>=1&&i<=6?"1":"2",this.loadAllNotifications()}loadAllNotifications(){this.notifications=[];let e=this.pageSize,i=(r,o)=>{this.notificationService.getPaginatedNotifications(r,e,this.typeFilter,this.readFilter).subscribe({next:s=>{let a=s.body??[],l=s.headers.get("Pagination");this.pagination=l?JSON.parse(l):null;let c=o??(this.pagination?.totalPages||1);this.notifications.push(...a),r<c?i(r+1,c):(this.notifications.sort((f,v)=>new Date(v.createdAt).getTime()-new Date(f.createdAt).getTime()),this.pageNumber=1,this.applyFilters())},error:s=>console.error(s)})};i(1)}passesSemester(e){if(!e)return!1;let i=new Date(e);if(isNaN(i.getTime()))return!1;let r=i.getMonth()+1;return this.semesterFilter==="1"?r>=1&&r<=6:this.semesterFilter==="2"?r>=7&&r<=12:!0}applyFilters(){let e=[...this.notifications];this.readFilter==="read"?e=e.filter(o=>!!o.isRead):this.readFilter==="unread"&&(e=e.filter(o=>!o.isRead)),e=e.filter(o=>this.passesSemester(o.createdAt)),this.filtered=e,this.clientTotalPages=Math.max(1,Math.ceil(this.filtered.length/this.pageSize)),this.pageNumber>this.clientTotalPages&&(this.pageNumber=this.clientTotalPages),this.pageNumber<1&&(this.pageNumber=1);let i=(this.pageNumber-1)*this.pageSize,r=i+this.pageSize;this.visible=this.filtered.slice(i,r)}onTypeFilterChanged(){this.pageNumber=1,this.loadAllNotifications()}onReadFilterChanged(){this.pageNumber=1,this.loadAllNotifications()}onSemesterFilterChanged(){this.pageNumber=1,this.applyFilters()}pageChanged(e){e<1||e>this.clientTotalPages||(this.pageNumber=e,this.applyFilters())}openPostModal(){this.bsModalRef=this.modalService.show(_P,{class:"modal-lg"}),this.bsModalRef.onHidden?.subscribe(()=>this.loadAllNotifications())}formatBadgeLabel(e,i){let r=(e||"").toLowerCase(),o=(i||"").toLowerCase(),s=r==="general"&&(o.startsWith("new faq announcement")||o.startsWith("faq updated announcement"));if(r==="faqupdate"||s)return"FAQ UPDATE NOTIFICATION";let a=(e||"").replace(/([a-z])([A-Z])/g,"$1 $2").toUpperCase();return r==="general"||r==="system"?`${a} ANNOUNCEMENT`:`${a} NOTIFICATION`}formatAudience(e){switch((e||"").toLowerCase()){case"all":return"All users";case"students":return"Students";case"staff":return"Staff";case"modulestudents":return"Module students";case"yearmodulestudents":return"Year-module students";default:return e||"All users"}}markAsRead(e){e.isRead||this.notificationService.markAsRead(e.id).subscribe({next:()=>{e.isRead=!0,this.applyFilters()},error:i=>console.error(i)})}markAsUnread(e){e.isRead&&this.notificationService.markAsUnread(e.id).subscribe({next:()=>{e.isRead=!1,this.applyFilters()},error:i=>console.error(i)})}openImageModal(e){this.selectedImageUrl=e,this.isZoomed=!1,this.showImageModal=!0}closeImageModal(){this.selectedImageUrl=null,this.isZoomed=!1,this.showImageModal=!1}toggleZoom(){this.isZoomed=!this.isZoomed}lc(e){return(e||"").toLowerCase()}isLegacyFaqAuto(e){let i=this.lc(e.type),r=this.lc(e.title);return i==="general"&&(r.startsWith("new faq announcement")||r.startsWith("faq updated announcement"))}canNavigate(e,i){if(i==="Admin"){let r=this.lc(e.type),o=r==="scheduleupdate"||r==="schedulerupdate",s=r==="documentupload"||r==="moduleupdate"||e.moduleId!=null;if(o||s)return!1}return!0}isAutoInteractive(e){if(!this.canNavigate(e,this.currentUserRole))return!1;let i=this.lc(e.type);return!!(i==="repositoryupdate"||i==="faqupdate"||this.isLegacyFaqAuto(e)||i==="moduleupdate"&&this.currentUserRole!=="Admin"||i==="documentupload"||i==="scheduleupdate"||i==="schedulerupdate")}handleCardClick(e,i){!this.isAutoInteractive(i)||e.target.closest(".thumb-wrap, .btn, button, a, select, option, .dropdown-menu")||this.navigateFor(i)}extractModuleContext(e){let i=(e.title||"").trim(),r=(e.message||"").trim(),o=`${i} ${r}`,s=o.match(/\[([A-Za-z]{2,}\d{3,})\]/);if(s?.[1])return{code:s[1].toUpperCase()};let a=o.match(/\b[A-Za-z]{2,}\d{3,}\b/);if(a?.[0])return{code:a[0].toUpperCase()};let l=o.match(/\bfor\s+([A-Za-z]{2,}\d{3,})\b/i);return l?.[1]?{code:l[1].toUpperCase()}:{}}navigateFor(e){let i=this.lc(e.type),r=this.lc(e.title),o=this.lc(e.message);if(i==="documentupload"){if(e.moduleId!=null){let s=this.extractModuleContext(e);this.router.navigate(["/modules",e.moduleId],{state:{fromNotification:!0,moduleCode:s.code},queryParams:{from:"notification",view:"documents",code:s.code}})}else this.router.navigate(["/repository"],{state:{view:"documents"},queryParams:{view:"documents"}});return}if(i==="repositoryupdate"){let a=r.includes("link")||r.includes("external repository")||o.includes("link")?"links":"documents";this.router.navigate(["/repository"],{state:{view:a},queryParams:{view:a}});return}if(i==="scheduleupdate"||i==="schedulerupdate"){let s="class";r.includes("lab")?s="lab":r.includes("assessment")||o.includes("assessment")?s="assessment":s="class",this.router.navigate(["/scheduler"],{state:{tab:s},queryParams:{tab:s}});return}if(i==="faqupdate"||this.isLegacyFaqAuto(e)){this.router.navigate(["/faq"]);return}if(i==="moduleupdate"){this.router.navigate(["/modules"]);return}}isManualAnnouncement(e){let i=this.lc(e.type);return(i==="general"||i==="system")&&!this.isLegacyFaqAuto(e)}canShowDelete(e){return this.isManualAnnouncement(e)?(e.createdBy||"").toLowerCase()===this.currentUserName.toLowerCase():!1}openDeleteAnnouncement(e){let i={title:"Delete announcement?",message:"Are you sure you want to delete this announcement?",onConfirm:()=>{this.notificationService.delete(e.id).subscribe({next:()=>{this.notifications=this.notifications.filter(r=>r.id!==e.id),this.filtered=this.filtered.filter(r=>r.id!==e.id),this.toastr.success("Announcement deleted."),this.applyFilters()},error:r=>{r?.status===403||r?.status===401?this.toastr.error("You can only delete announcements you posted."):this.toastr.error("Failed to delete announcement.")}})}};this.modalService.show(qa,{initialState:i,class:"modal-dialog-centered"})}static{this.\u0275fac=function(i){return new(i||t)(W(Hd),W(cn),W(ln),W(zn),W(Rt))}}static{this.\u0275cmp=qe({type:t,selectors:[["app-notifications"]],standalone:!0,features:[$e],decls:38,vars:7,consts:[[1,"row","align-items-start","mb-3"],[1,"col-md-6"],[1,"mb-0"],[1,"col-md-6","text-end"],[1,"filters-bar"],[1,"filter-item"],["for","filterSelect",1,"filter-label","fw-semibold","me-2"],["id","filterSelect",1,"form-select","d-inline-block","w-auto","filter-select",3,"ngModelChange","change","ngModel"],["value",""],["value","announcements"],["value","notifications"],["for","readFilter",1,"filter-label","fw-semibold","me-2"],["id","readFilter",1,"form-select","d-inline-block","w-auto","filter-select",3,"ngModelChange","change","ngModel"],["value","unread"],["value","read"],["for","semFilter",1,"filter-label","fw-semibold","me-2"],["id","semFilter",1,"form-select","d-inline-block","w-auto","filter-select",3,"ngModelChange","change","ngModel"],["value","1"],["value","2"],["class","btn btn-primary add-btn","title","Add","aria-label","Add",3,"click",4,"ngIf"],["class","card mb-3 shadow-sm",3,"ngClass","click",4,"ngFor","ngForOf"],["class","mt-4 d-flex justify-content-center",4,"ngIf"],["class","modal fade show d-block image-viewer-modal","tabindex","-1","aria-modal","true","role","dialog",3,"click",4,"ngIf"],["title","Add","aria-label","Add",1,"btn","btn-primary","add-btn",3,"click"],[1,"bi","bi-plus-lg"],[1,"card","mb-3","shadow-sm",3,"click","ngClass"],[1,"card-body","text-start"],[1,"d-flex","align-items-center","justify-content-between","card-topbar","mb-2"],[1,"text-uppercase","fw-bold","text-primary","small"],[1,"top-center-abs","text-center"],["class","badge bg-light text-dark me-2",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"d-flex","align-items-center","gap-2"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"ngIf"],["class","btn-group","dropdown","",4,"ngIf"],[1,"card-title","lh-sm","mb-2"],[1,"card-text","lh-base","mb-3"],["class","thumb-wrap mt-2","role","button","tabindex","0","title","Click to enlarge",3,"click","keydown.enter",4,"ngIf"],[1,"d-flex","justify-content-end","mt-2"],[1,"text-muted","date-bottom"],[1,"badge","bg-light","text-dark","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["dropdown","",1,"btn-group"],["dropdownToggle","","type","button","title","More actions",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bi","bi-three-dots-vertical"],["class","dropdown-menu dropdown-menu-end",3,"click",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-end",3,"click"],[1,"dropdown-item",3,"click"],["role","button","tabindex","0","title","Click to enlarge",1,"thumb-wrap","mt-2",3,"click","keydown.enter"],["alt","notification image","loading","lazy",1,"thumb-img",3,"src"],[1,"mt-4","d-flex","justify-content-center"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["tabindex","-1","aria-modal","true","role","dialog",1,"modal","fade","show","d-block","image-viewer-modal",3,"click"],["role","document",1,"modal-dialog","modal-fullscreen",3,"click"],[1,"modal-content","bg-transparent","border-0","pop-in"],[1,"modal-body","p-0","d-flex","align-items-center","justify-content-center"],["alt","full size","loading","eager",1,"modal-image","rounded",3,"click","src","title"],[1,"modal-footer","justify-content-center","border-0"],[1,"btn","btn-primary",3,"click"]],template:function(i,r){i&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),_(3,"Notification Board"),p()(),g(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),_(8,"Type:"),p(),g(9,"select",7),Qe("ngModelChange",function(s){return Je(r.typeFilter,s)||(r.typeFilter=s),s}),j("change",function(){return r.onTypeFilterChanged()}),g(10,"option",8),_(11,"All"),p(),g(12,"option",9),_(13,"Announcements"),p(),g(14,"option",10),_(15,"Notifications"),p()()(),g(16,"div",5)(17,"label",11),_(18,"Status:"),p(),g(19,"select",12),Qe("ngModelChange",function(s){return Je(r.readFilter,s)||(r.readFilter=s),s}),j("change",function(){return r.onReadFilterChanged()}),g(20,"option",8),_(21,"All"),p(),g(22,"option",13),_(23,"Unread"),p(),g(24,"option",14),_(25,"Read"),p()()(),g(26,"div",5)(27,"label",15),_(28,"Semester:"),p(),g(29,"select",16),Qe("ngModelChange",function(s){return Je(r.semesterFilter,s)||(r.semesterFilter=s),s}),j("change",function(){return r.onSemesterFilterChanged()}),g(30,"option",17),_(31,"Semester 1"),p(),g(32,"option",18),_(33,"Semester 2"),p()()(),ye(34,DZ,2,0,"button",19),p()()(),ye(35,OZ,23,24,"div",20)(36,RZ,9,6,"nav",21)(37,LZ,8,4,"div",22)),i&2&&(C(9),Ke("ngModel",r.typeFilter),C(10),Ke("ngModel",r.readFilter),C(10),Ke("ngModel",r.semesterFilter),C(5),O("ngIf",r.currentUserRole!=="Student"),C(),O("ngForOf",r.visible),C(),O("ngIf",r.clientTotalPages>1),C(),O("ngIf",r.showImageModal))},dependencies:[ct,ur,on,Mt,Il,vn,Di,Ii,pi,Zt,bn,zl,Hl,ql,za],styles:['[_nghost-%COMP%]{--notif-filters-gap: 12px;--notif-add-gap: 12px;--notif-controls-h: 38px;--notif-controls-w: 50px;--notif-thumb-w: 250px;--notif-thumb-h: 150px;--notif-thumb-radius: 6px;--notif-thumb-shadow: 0 1px 3px rgba(0, 0, 0, .08), 0 6px 16px rgba(0, 0, 0, .1);--notif-thumb-bg: rgba(255, 255, 255, .18);--add-radius: 50%;--add-size: 44px;--plus-size: 18px;--plus-stroke: 1px;--add-bg: #0D6EFD;--add-bg-hover: #1d4ed8;--add-bg-active: #1e40af;--add-fg: #ffffff;--add-shadow-hover: 0 10px 20px rgba(13, 110, 253, .33), 0 4px 12px rgba(0, 0, 0, .16);--date-neon: #80d44f;--date-neon-shadow: 0 0 2px rgba(13, 110, 253, .1), 0 0 2px rgba(13, 110, 253, .1)}.filters-bar[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-wrap:nowrap;gap:var(--notif-filters-gap)}.filter-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.filter-label[_ngcontent-%COMP%]{color:#000!important}.filter-select[_ngcontent-%COMP%]{height:var(--notif-controls-h);line-height:1.25}.add-btn[_ngcontent-%COMP%]{width:var(--add-size);height:var(--add-size);min-width:var(--add-size);min-height:var(--add-size);flex:0 0 var(--add-size);border-radius:50%!important;padding:0;display:inline-flex;align-items:center;justify-content:center;margin-left:var(--notif-add-gap);transition:box-shadow .15s ease}.add-btn[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{font-size:var(--plus-size);line-height:1;-webkit-text-stroke:var(--plus-stroke) currentColor}.add-btn.btn-primary[_ngcontent-%COMP%]{--bs-btn-color: var(--add-fg);--bs-btn-hover-color: var(--add-fg);--bs-btn-active-color: var(--add-fg);--bs-btn-bg: var(--add-bg);--bs-btn-border-color: var(--add-bg);--bs-btn-hover-bg: var(--add-bg-hover);--bs-btn-hover-border-color: var(--add-bg-hover);--bs-btn-active-bg: var(--add-bg-active);--bs-btn-active-border-color: var(--add-bg-active);--bs-btn-disabled-bg: var(--add-bg);--bs-btn-disabled-border-color: var(--add-bg)}.card[_ngcontent-%COMP%]   .card-topbar[_ngcontent-%COMP%]{margin-bottom:.5rem}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:.125rem;margin-bottom:.5rem;line-height:1.25}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin-top:.125rem;margin-bottom:.75rem;line-height:1.55}.card.clickable[_ngcontent-%COMP%]{cursor:pointer}.card.clickable[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 2px #0d6efd26 inset}.thumb-wrap[_ngcontent-%COMP%]{width:var(--notif-thumb-w);height:var(--notif-thumb-h);overflow:hidden;border-radius:var(--notif-thumb-radius);display:inline-block;border:1px solid #ffffff;box-sizing:border-box;background:#fff;box-shadow:var(--notif-thumb-shadow)}.thumb-wrap[_ngcontent-%COMP%]   .thumb-img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;object-fit:fill;object-position:center;border-radius:var(--notif-thumb-radius)}.row.align-items-start.mb-3[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-bottom:.25rem;color:#000!important;font-weight:700!important}.row.align-items-start.mb-3[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%] > h2.mb-0[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2px;background:#0d6efd;border-radius:2px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#f3f3f3!important;color:inherit}.dropdown-item[_ngcontent-%COMP%]{color:#000!important}.date-bottom[_ngcontent-%COMP%]{color:var(--date-neon)!important;text-shadow:var(--date-neon-shadow);font-weight:600}']})}}return t})();var wP=[{path:"",component:xT},{path:"",runGuardsAndResolvers:"always",canActivate:[pP],children:[{path:"notifications",component:bP},{path:"repository",component:sN},{path:"modules",component:gP,canActivate:[D1]},{path:"modules/:id",component:hP,canActivate:[D1]},{path:"faq",component:cN},{path:"scheduler",component:Yk,canActivate:[D1],children:[{path:"class",component:Hk},{path:"lab",component:Gk},{path:"assessment",component:yP},{path:"",redirectTo:"class",pathMatch:"full"}]},{path:"register",component:MT,canActivate:[jS]},{path:"admin",component:dP,canActivate:[jS]},{path:"lecturer",component:fP,canActivate:[mP]}]},{path:"errors",component:Zk},{path:"not-found",component:Kk},{path:"server-error",component:Qk},{path:"**",redirectTo:"",pathMatch:"full"}];var CP=(t,n)=>{let e=Se(zn),i=Se(Rt);return n(t).pipe(ps(r=>{if(r)switch(r.status){case 400:if(r.error.errors){let s=[];for(let a in r.error.errors)r.error.errors[a]&&s.push(r.error.errors[a]);throw s.flat()}else i.error(r.error,r.status);break;case 401:t.url.includes("/account/login")||i.error("Unauthorised",r.status);break;case 404:e.navigateByUrl("/not-found");break;case 409:break;case 500:let o={state:{error:r.error}};e.navigateByUrl("/server-error",o);break;default:i.error("Something unexpected went wrong");break}throw r}))};var SP=(t,n)=>{let e=Se(ln);return e.currentUser()&&(t=t.clone({setHeaders:{Authorization:`Bearer ${e.currentUser()?.token}`}})),n(t)};var jZ=["overlay"],VZ=["*"];function BZ(t,n){t&1&&ze(0,"div")}function UZ(t,n){if(t&1&&(g(0,"div"),ye(1,BZ,1,0,"div",6),p()),t&2){let e=L(2);xo(e.spinner.class),So("color",e.spinner.color),C(),O("ngForOf",e.spinner.divArray)}}function HZ(t,n){if(t&1&&(ze(0,"div",7),ro(1,"safeHtml")),t&2){let e=L(2);O("innerHTML",c0(1,1,e.template),mh)}}function qZ(t,n){if(t&1&&(g(0,"div",2,0),ye(2,UZ,2,5,"div",3)(3,HZ,2,3,"div",4),g(4,"div",5),Sl(5),p()()),t&2){let e=L();So("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),O("@.disabled",e.disableAnimation)("@fadeIn","in"),C(2),O("ngIf",!e.template),C(),O("ngIf",e.template),C(),So("z-index",e.spinner.zIndex)}}var zZ={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},VS={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},BS="primary",vu=class t{constructor(n){Object.assign(this,n)}static create(n){return!n?.template&&!n?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new t(n)}},US=(()=>{class t{constructor(){this.spinnerObservable=new nr(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Ri(i=>i&&i.name===e))}show(e=BS,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new vu(qt(je({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new vu({name:e,show:!0})),r(!0))},10)})}hide(e=BS,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new vu({name:e,show:!1})),r(!0)},i)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xP=new st("NGX_SPINNER_CONFIG"),$Z=(()=>{class t{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(i){return new(i||t)(W(Mh,16))}}static{this.\u0275pipe=ud({name:"safeHtml",type:t,pure:!0,standalone:!0})}}return t})(),EP=(()=>{class t{constructor(e,i,r,o){this.spinnerService=e,this.changeDetector=i,this.elementRef=r,this.globalConfig=o,this.disableAnimation=!1,this.spinner=new vu,this.ngUnsubscribe=new Ln,this.setDefaultOptions=()=>{let{type:s}=this.globalConfig??{};this.spinner=vu.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??s,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=VS.BD_COLOR,this.zIndex=VS.Z_INDEX,this.color=VS.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=BS,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Yf(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement?!0:e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(let i in e)if(i){let r=e[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&r.currentValue!==""&&(this.spinner[i]=r.currentValue,i==="showSpinner"&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),i==="name"&&this.initObservable())}}getClass(e,i){this.spinner.divCount=zZ[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((o,s)=>s);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x";break;default:break}return"la-"+e+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(i){return new(i||t)(W(US),W(Hr),W(pt),W(xP,8))}}static{this.\u0275cmp=qe({type:t,selectors:[["ngx-spinner"]],viewQuery:function(i,r){if(i&1&&fi(jZ,5),i&2){let o;oi(o=si())&&(r.spinnerDOM=o.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[ir,$e],ngContentSelectors:VZ,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,r){i&1&&(Cl(),ye(0,qZ,6,12,"div",1)),i&2&&O("ngIf",r.spinner.show)},dependencies:[$Z,Mt,on],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[nv("fadeIn",[Td("in",or({opacity:1})),Nd(":enter",[or({opacity:0}),Es(300)]),Nd(":leave",Es(200,or({opacity:0})))])]},changeDetection:0})}}return t})(),MP=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:xP,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({imports:[ct]})}}return t})();var DP=(()=>{class t{constructor(){this.busyRequestCount=0,this.spinnerService=Se(US)}busy(){this.busyRequestCount++,this.spinnerService.show(void 0,{type:"line-scale-party",bdColor:"rgba(255,255,255,0)",color:"#333333"})}idle(){this.busyRequestCount--,this.busyRequestCount<=0&&(this.busyRequestCount=0,this.spinnerService.hide())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var IP=(t,n)=>{let e=Se(DP);return e.busy(),n(t).pipe(sn.production?Er:Ny(900),Us(()=>{e.idle()}))};var jp=60,Vp=jp*60,df=Vp*24,AP=df*7,TP=df*30,NP=df*365;var WZ=function(t){let n=Date.now(),e=Math.round(Math.abs(n-t)/1e3),i=t<n?"ago":"from now",[r,o]=e<jp?[Math.round(e),"second"]:e<Vp?[Math.round(e/jp),"minute"]:e<df?[Math.round(e/Vp),"hour"]:e<AP?[Math.round(e/df),"day"]:e<TP?[Math.round(e/AP),"week"]:e<NP?[Math.round(e/TP),"month"]:[Math.round(e/NP),"year"];return{value:r,unit:o,suffix:i}},Bp=class{},kP=(()=>{class t extends Bp{format(e){let{suffix:i,value:r,unit:o}=WZ(e);return this.parse(r,o,i)}parse(e,i,r){return e!==1&&(i+="s"),e+" "+i+" "+r}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();var Up=class{},PP=(()=>{class t extends Up{tick(e){return yt(0).pipe(ky(()=>{let i=Date.now(),r=Math.round(Math.abs(i-e)/1e3),o=r<jp?1e3:r<Vp?1e3*jp:r<df?1e3*Vp:0;return o?Wf(o):My()}),Fy(1))}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Go(t)))(r||t)}})()}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac})}}return t})();var OP=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.clock||{provide:Up,useClass:PP},e.intl||[],e.formatter||{provide:Bp,useClass:kP}]}}static forChild(e={}){return{ngModule:t,providers:[e.clock||{provide:Up,useClass:PP},e.intl||[],e.formatter||{provide:Bp,useClass:kP}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ii({})}}return t})();var FP={providers:[cA(wP),hI(pI([CP,SP,IP])),zA(),ST({positionClass:"toast-bottom-right"}),gb(MP,OP.forRoot(),eN.forRoot())]};var GZ=()=>["Admin"];function YZ(t,n){if(t&1){let e=Re();g(0,"button",6),j("click",function(){K(e);let r=L(2);return Q(r.isCollapsed=!r.isCollapsed)}),ze(1,"span",7),p()}if(t&2){let e=L(2);Xt("aria-expanded",!e.isCollapsed)}}function ZZ(t,n){if(t&1){let e=Re();g(0,"li",13)(1,"a",21),j("click",function(){K(e);let r=L(3);return Q(r.closeNav())}),_(2,"Modules"),p()()}}function KZ(t,n){if(t&1){let e=Re();g(0,"li",13)(1,"a",22),j("click",function(){K(e);let r=L(3);return Q(r.closeNav())}),_(2,"Schedule"),p()()}}function QZ(t,n){if(t&1){let e=Re();g(0,"li",13)(1,"a",23),j("click",function(){K(e);let r=L(3);return Q(r.closeNav())}),_(2,"Admin Panel"),p()()}}function XZ(t,n){if(t&1){let e=Re();g(0,"li",13)(1,"a",24),j("click",function(){K(e);let r=L(3);return Q(r.closeNav())}),_(2,"Lecturer Panel"),p()()}}function JZ(t,n){if(t&1){let e=Re();g(0,"div",25)(1,"a",26),j("click",function(){K(e);let r=L(3);return Q(r.logout())}),_(2,"Logout"),p()()}}function eK(t,n){if(t&1){let e=Re();g(0,"div",8)(1,"ul",9)(2,"li",10),j("click",function(){K(e);let r=L(2);return r.markNotificationsAsSeen(),Q(r.closeNav())}),g(3,"a",11),_(4," Notifications "),p()(),ye(5,ZZ,3,0,"li",12),g(6,"li",13)(7,"a",14),j("click",function(){K(e);let r=L(2);return Q(r.closeNav())}),_(8,"Repository"),p()(),ye(9,KZ,3,0,"li",12),g(10,"li",13)(11,"a",15),j("click",function(){K(e);let r=L(2);return Q(r.closeNav())}),_(12,"FAQ"),p()(),ye(13,QZ,3,0,"li",16)(14,XZ,3,0,"li",12),p(),g(15,"div",17),ze(16,"img",18),g(17,"a",19),_(18),p(),ye(19,JZ,3,0,"div",20),p()()}if(t&2){let e,i=L(2);O("collapse",i.isCollapsed)("isAnimated",!0),C(5),O("ngIf",!i.isAdmin()),C(4),O("ngIf",!i.isAdmin()),C(4),O("appHasRole",cr(7,GZ)),C(),O("ngIf",i.showLecturerPanel),C(4),nt(" Welcome ",(e=i.accountService.currentUser())==null?null:e.name," ")}}function tK(t,n){if(t&1){let e=Re();g(0,"nav",1)(1,"div",2)(2,"a",3),j("click",function(){K(e);let r=L();return Q(r.closeNav())}),_(3," CSI HONORS PORTAL "),p(),ye(4,YZ,2,1,"button",4)(5,eK,20,8,"div",5),p()()}if(t&2){let e=L();C(2),O("ngClass",e.accountService.currentUser()?"brand-left":"brand-center"),C(2),O("ngIf",e.accountService.currentUser()),C(),O("ngIf",e.accountService.currentUser())}}var RP=(()=>{class t{constructor(){this.accountService=Se(ln),this.router=Se(zn),this.hasNewNotification=!1,this.isCollapsed=!0}ngOnInit(){let e=localStorage.getItem("notificationsSeen");this.hasNewNotification=e!=="true"}logout(){this.accountService.logout(),this.router.navigateByUrl("/"),this.isCollapsed=!0}markNotificationsAsSeen(){this.hasNewNotification=!1,localStorage.setItem("notificationsSeen","true"),localStorage.setItem("lastSeenNotification",new Date().toISOString())}closeNav(){this.isCollapsed=!0}get showLecturerPanel(){let e=this.accountService.currentUser(),i=this.accountService.roles(),r=i.includes("Lecturer")||i.includes("Coordinator"),o=(e?.modules??[]).length>0;return r&&o}isAdmin(){return this.accountService.getUserRole()==="Admin"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-nav"]],standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","navbar navbar-expand-md navbar-dark fixed-top bg-primary",4,"ngIf"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-primary"],[1,"container"],["routerLink","/","routerLinkActive","active",1,"navbar-brand",3,"click","ngClass"],["class","navbar-toggler","type","button","aria-controls","mainNav","aria-label","Toggle navigation",3,"click",4,"ngIf"],["id","mainNav","class","collapse navbar-collapse",3,"collapse","isAnimated",4,"ngIf"],["type","button","aria-controls","mainNav","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","mainNav",1,"collapse","navbar-collapse",3,"collapse","isAnimated"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item",3,"click"],["routerLink","/notifications","routerLinkActive","active",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/repository","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/faq","routerLinkActive","active",1,"nav-link",3,"click"],["class","nav-item",4,"appHasRole"],["dropdown","",1,"dropdown","ms-md-auto","mt-2","mt-md-0","d-flex","align-items-center"],["src","./assets/user.png","alt","user icon","width","32","height","32",1,"me-2"],["dropdownToggle","",1,"dropdown-toggle","text-light","text-decoration-none"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],["routerLink","/modules","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/scheduler","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/admin","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","/lecturer","routerLinkActive","active",1,"nav-link",3,"click"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"]],template:function(i,r){i&1&&ye(0,tK,6,3,"nav",0),i&2&&O("ngIf",r.accountService.currentUser())},dependencies:[zl,Hl,ql,za,uf,cf,kl,ev,E1,Mt,ur],styles:[".dropdown-toggle[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{max-height:50px;border:2px solid white;display:inline}.brand-center[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;width:100%}.brand-left[_ngcontent-%COMP%]{text-align:left;font-size:1.2rem;white-space:nowrap;margin-right:1rem;padding-left:0;margin-left:0}@media (max-width: 767.98px){.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%}}.navbar[_ngcontent-%COMP%]{--bs-navbar-padding-y: .85rem}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{font-size:1.06rem;padding-top:.55rem;padding-bottom:.55rem}@media (max-width: 991.98px){.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{font-size:1rem}}"]})}}return t})();var LP=(()=>{class t{constructor(){this.accountService=Se(ln)}ngOnInit(){this.setCurrentUserFromStorage()}setCurrentUserFromStorage(){let e=sessionStorage.getItem("user");if(!e)return;let i=JSON.parse(e);this.accountService.setCurrentUser(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=qe({type:t,selectors:[["app-root"]],standalone:!0,features:[$e],decls:6,vars:0,consts:[["type","line-scale-party"],[1,"container",2,"margin-top","100px"]],template:function(i,r){i&1&&(g(0,"ngx-spinner",0)(1,"h3"),_(2,"Loading..."),p()(),ze(3,"app-nav"),g(4,"div",1),ze(5,"router-outlet"),p())},dependencies:[$h,RP,EP]})}}return t})();wI(LP,FP).catch(t=>console.error(t));
